window.h||(window.h=!0,function(){var Ha;function La(a,b,c,d){a.addEventListener?a.addEventListener(b,c,d):a.attachEvent("on"+b,c)}function vc(a,b,c,d){this.dataType=a;this.name=c;this.elements=b;this.size=b*ra.ol(a);this.Po=1;this.offset=d}function fb(){this.i=[];this.m=this.u=this.j=this.s=0;this.Cj=128;this.v=0}function nb(a,b,c,d,f){this.C=f;this.G=a;this.H=b;this.$=c;this.message="";this.A=a;this.D=b;this.Y=c;this.i="";this.v=this.u=!1;this.h=d;this.P=!1;this.F=this.startTime=0;this.m="rgb(32,255,255)";
this.B="white";this.j=0;this.I=!1;this.ca=this.Z="black";this.S=!1;this.s=1}function wc(a,b,c,d){this.name=a;this.width=b;this.height=c;this.Po=d}function vb(a,b){this.i=b;this.B=a;this.height=this.width=0;this.G=this.u=this.F=this.m=this.j=null;this.A=[];this.s=!0;this.H=this.P=4294967295;this.O=this.S=0;this.Be=!1;this.v=1}function Ya(a,b,c,d,f,e,g,k,l,p,n,q,m,r,u,t,v,B,w){this.id=a;this.pa=w;this.W=null;this.F=-1;this.M=this.da=!1;this.v=b;this.caller=c;this.h=B;this.x=f;this.y=e;this.Y=f;this.B=
e;this.position=d;this.width=g;this.height=k;this.H=g;this.ga=k;this.type=q;this.orientation=m;m===da.Wt&&(this.orientation=g>=k?da.te:da.vertical);this.Qm=this.orientation;this.lower=l;this.u=p;q===da.Im?this.current=[n,n]:this.current=n;this.ra=r;this.Jb=u;this.qa=t;this.aa=v;this.ea=!1;this.la=this.ka=-1;this.i=da.yA;this.A=!0;this.G=this.locked=!1;this.m=[];if(this.type===da.list)for(a=0;a<l.length;a+=1)this.m[a]=!1;this.Z=[];this.fa=0;this.cc=w.cc;this.s=w.Y;if(q===da.list)for(this.I=[],a=0;a<
l.length;a+=1)this.I[a]=this.cc;this.cd=w.cd;this.S=w.P;this.V=w.ea;this.ba=w.pa;this.ia=w.ga;this.na=w.ra;this.D=w.fa;this.O=w.qa;this.P=w.ca;this.$=w.na;this.border=w.border;this.fontSize=parseInt(w.Z.substring(0,w.Z.indexOf("px")),10);this.ma=w.Z.substring(w.Z.indexOf("px")+3);this.ja=null}function Xa(a,b,c,d,f,e){this.X=a;this.h=f;this.B=this.s=1;this.Z=e;this.locked=this.M=!1;this.F=this.A=-1;this.da=this.D=!1;this.ua=this.ta=-1;this.wa=6;this.oa=b;this.v=[];this.u=0;this.cc="";this.Y=0;this.cd=
"";this.P=0;this.ea="";this.pa=0;this.ga="";this.ra=0;this.fa="";this.qa=0;this.ca="";this.border=this.na=0;this.V=da.Wt;this.I=this.H=-1;this.O=this.ma=null;this.aa=c;this.caller=d;this.$=null;this.ja=this.ia=this.sa="auto"}function pb(a){this.m=[];this.s=[];this.i=this.h=0;this.X=a;this.Cv=this.Bv=0}function qb(){this.h={};this.i=0}function Ka(a,b,c,d,f,e){var g=this,k=0;this.Wa=!1;this.ya=1;this.ec=U.ec;this.$a=this.jb=!0;this.fb=this.hb=40;this.D=0;this.ta=this.ua=this.Ea=-1;this.aa=!1;this.caller=
f;this.wa=this.Z=this.Na=this.da=!1;this.pb=4;this.Db=e;this.A=this.la=!1;this.ka=!0;this.Fa=!1;this.O=1;this.Ca=8;this.Ya="rgb(32,255,255)";this.cc="black";this.Ha=.7;this.Va="#000000";this.cd="white";this.Kb=1;this.yb=this.zb=this.Cb=0;this.nb="rgb(0,240,32)";this.Lb=.7;this.Pa="blue";this.Rb=.7;this.ca="grey";this.Nb=1;this.Ia="rgb(32,255,255)";this.border=this.mb=1;this.qb=function(l){return function(){l.pc(l)}}(this);this.Mb=d;this.S=a;this.v=b;this.ia=!1;this.Y=this.V=-1;this.B=!1;this.P=this.G=
this.ba=this.I=this.u=this.s=-1;this.i=this.pa=null;this.va=c;this.j=this.F=!1;this.Dg=performance.now();this.ra=0;this.ab=[];this.eb=[];this.pr=[];for(k=0;5>k;k+=1)this.ab[k]=0,this.eb[k]=0,this.pr[k]=0;this.na=null;this.m=!1;this.notification=new nb(25,100,25,b,this);this.notification.m=this.cd;this.notification.B=this.cd;this.bb=performance.now();this.Ma=this.lb=!1;this.qa=[];this.fa=this.oa=0;this.sa=new qb;La(a,"mousedown",function(l){g.Xb(g,l)},!1);La(a,"mousemove",function(l){g.Yb(g,l)},!1);
La(a,"mouseup",function(l){g.ac(g,l)},!1);La(a,"mouseover",function(l){g.$b(g,l)},!1);La(a,"mouseout",function(l){g.Zb(g,l)},!1);La(a,"touchstart",function(l){g.za(g,l)},!1);La(a,"touchmove",function(l){g.za(g,l)},!1);La(a,"touchend",function(l){g.za(g,l)},!1);La(a,"touchcancel",function(l){g.za(g,l)},!1);this.Ib()}function lc(a,b,c,d,f,e){this.gp=a;this.hp=b;this.width=c;this.height=d;this.kK=f;this.YG=e}function wa(a){this.time=0;this.T=a;this.fa=this.ra=this.na=!1;this.rc="none";this.Ya=22;this.$a=
6;this.za=8;this.U="";this.Rb="0123456789xyz";this.Nb="0123";this.Vb="0123456789";this.Kc=this.Jc="0123456";this.Ec="0123456789";this.Nc="0123";this.ie=1038;this.me=7157;this.je=5454;this.ke=2741;this.he=3775;this.le=4420;this.ne="0123";this.Dc="0123456omp-";this.Qc="01234";this.Gc=["ce","ceaikn","ceaiknjqry","ceaiknjqrytwz"];this.Ud=[[[6,36,160,192,72,10],[132,96,136,66,12,34],[68,40,130]],[[38,164,224,200,74,14],[44,162,196,104,138,70,100,168,194,76,42,134],[140,98]],[[166,228,232,202,78,46],[172,
226,204,106,142,102],[108,170,198]]];this.qb=" ce ceaikn ceaiknjqry ceaiknjqrytwz ceaiknjqry ceaikn ce ".split(" ");this.pb="  omp omp omp  ".split(" ");this.Ld=[0,2,6,10,13,10,6,2,0];this.Rd=[[0],[0,1],[2,0,1,3,4,5],[2,0,1,3,6,4,5,7,8,9],[2,0,1,3,6,4,5,7,8,10,11,9,12],[2,0,1,3,6,4,5,7,8,9],[2,0,1,3,4,5],[0,1],[0]];this.Vd=[[1,2],[5,10,3,40,33,68],[69,42,11,7,98,13,14,70,41,97],[325,170,15,45,99,71,106,102,43,101,105,78,108]];this.aa=new Uint32Array(256);this.Mb=new Uint8Array(8192);this.Lb=new Uint8Array(8192);
this.m=a.h(ra.cb,512,"PatterManager.ruleArray",U.R);this.ba=a.h(ra.cb,512,"PatterManager.ruleArray",U.R);this.ge=new Uint16Array(512);this.Uj=this.ob=!1;this.Ha="l";this.Fa="le";this.Ia="lv";this.lb="li";this.mb="lo";this.kb="lb";this.nb="lr";this.Wa="h";this.Ib="ht";this.rb="v";this.Na=!1;this.Hb=0;this.vb=!1;this.fb=this.eb=0;this.Ma=!1;this.i=this.ab=this.bb=this.h=0;this.j=1;this.Z=2;this.P=3;this.V=4;this.Y=5;this.$=6;this.G=7;this.O=8;this.S=9;this.D=11;this.A=12;this.H=13;this.v=14;this.u=
16;this.I=17;this.da=this.ea=Da.nr;this.ia=0;this.la=1;this.ma=2;this.ua=3;this.va=4;this.ta=5;this.wa=6;this.pa=0;this.qa=1;this.ca=!1;this.ja=[];this.ja[Da.xj]="vonneumann";this.ja[Da.ah]="moore";this.ja[Da.$g]="hexagonal";this.ja[Da.ak]="onedimensional";this.Ba=[];this.Ba[Da.xj]=5;this.Ba[Da.ah]=9;this.Ba[Da.$g]=7;this.Ba[Da.ak]=3;this.ka=[];this.ka[Da.xj]=["none","rotate4","rotate4reflect","reflect_horizontal","permute"];this.ka[Da.ah]="none rotate4 rotate8 rotate4reflect rotate8reflect reflect_horizontal permute".split(" ");
this.ka[Da.$g]="none rotate2 rotate3 rotate6 rotate6reflect permute".split(" ");this.ka[Da.ak]=["none","reflect","permute"];this.Ca=[];this.Ca[Da.xj]=[[[0,1,2,3,4,5],[0,2,3,4,1,5],[0,3,4,1,2,5],[0,4,1,2,3,5]],[[0,1,2,3,4,5],[0,2,3,4,1,5],[0,3,4,1,2,5],[0,4,1,2,3,5],[0,4,3,2,1,5],[0,3,2,1,4,5],[0,2,1,4,3,5],[0,1,4,3,2,5]],[[0,1,2,3,4,5],[0,1,4,3,2,5]]];this.Ca[Da.ah]=[[[0,1,2,3,4,5,6,7,8,9],[0,3,4,5,6,7,8,1,2,9],[0,5,6,7,8,1,2,3,4,9],[0,7,8,1,2,3,4,5,6,9]],[[0,1,2,3,4,5,6,7,8,9],[0,2,3,4,5,6,7,8,1,
9],[0,3,4,5,6,7,8,1,2,9],[0,4,5,6,7,8,1,2,3,9],[0,5,6,7,8,1,2,3,4,9],[0,6,7,8,1,2,3,4,5,9],[0,7,8,1,2,3,4,5,6,9],[0,8,1,2,3,4,5,6,7,9]],[[0,1,2,3,4,5,6,7,8,9],[0,3,4,5,6,7,8,1,2,9],[0,5,6,7,8,1,2,3,4,9],[0,7,8,1,2,3,4,5,6,9],[0,1,8,7,6,5,4,3,2,9],[0,7,6,5,4,3,2,1,8,9],[0,5,4,3,2,1,8,7,6,9],[0,3,2,1,8,7,6,5,4,9]],[[0,1,2,3,4,5,6,7,8,9],[0,2,3,4,5,6,7,8,1,9],[0,3,4,5,6,7,8,1,2,9],[0,4,5,6,7,8,1,2,3,9],[0,5,6,7,8,1,2,3,4,9],[0,6,7,8,1,2,3,4,5,9],[0,7,8,1,2,3,4,5,6,9],[0,8,1,2,3,4,5,6,7,9],[0,8,7,6,5,
4,3,2,1,9],[0,7,6,5,4,3,2,1,8,9],[0,6,5,4,3,2,1,8,7,9],[0,5,4,3,2,1,8,7,6,9],[0,4,3,2,1,8,7,6,5,9],[0,3,2,1,8,7,6,5,4,9],[0,2,1,8,7,6,5,4,3,9],[0,1,8,7,6,5,4,3,2,9]],[[0,1,2,3,4,5,6,7,8,9],[0,1,8,7,6,5,4,3,2,9]]];this.Ca[Da.ak]=[[[0,1,2,3],[0,2,1,3]]];this.Ca[Da.$g]=[[[0,1,2,3,4,5,6,7],[0,4,5,6,1,2,3,7]],[[0,1,2,3,4,5,6,7],[0,3,4,5,6,1,2,7],[0,5,6,1,2,3,4,7]],[[0,1,2,3,4,5,6,7],[0,2,3,4,5,6,1,7],[0,3,4,5,6,1,2,7],[0,4,5,6,1,2,3,7],[0,5,6,1,2,3,4,7],[0,6,1,2,3,4,5,7]],[[0,1,2,3,4,5,6,7],[0,2,3,4,5,
6,1,7],[0,3,4,5,6,1,2,7],[0,4,5,6,1,2,3,7],[0,5,6,1,2,3,4,7],[0,6,1,2,3,4,5,7],[0,6,5,4,3,2,1,7],[0,5,4,3,2,1,6,7],[0,4,3,2,1,6,5,7],[0,3,2,1,6,5,4,7],[0,2,1,6,5,4,3,7],[0,1,6,5,4,3,2,7]]];this.F=!1;this.hb=""}function mb(a,b){this.T=b.T;this.X=b;this.ua="";this.yb=!1;this.hb=this.jb=this.Ya=-1;b=a.lastIndexOf(".");-1!==b&&(a=a.substring(0,b));this.name=a;this.Ta=this.Ca=0;this.da=this.P=this.j=-1;this.Fa=this.Ea=0;this.Mb=this.Kb=!1;this.Lb=!0;this.fb=this.V=this.h=this.Pa="";this.ha=this.Na=this.S=
this.D=this.H=this.ga=this.ka=this.fa=!1;this.va=this.X.pa;this.s=!1;this.Z=this.X.ia;this.qa=-1;this.$=this.la=!1;this.A=-1;this.ya=1;this.oa=this.Vb=this.Ub=this.Wb=this.Xb=this.ea=this.Y=this.aa=this.O=-1;this.SD=this.Da=!1;this.v=-1;this.Ma=this.Ia=this.B=this.G=null;this.nb=this.i=this.m=-1;this.Ba=this.za=1;this.ja="";this.pa=-1;this.ba="";this.Hb=this.Eb=null;this.height=this.width=0;this.ca=this.I=null;this.sa=this.u=this.title="";this.Rb=[];this.vb=[];this.rb=[];this.$a="";this.F=2;this.Wa=
0;this.ra=this.wa=!1;this.zb=this.Db="";this.ma=-1;this.Nb=!1;this.ta=this.ab=this.lb=this.qb=this.mb=-1;this.ia=this.Cb=this.Va=null;this.Ua=this.pb=0;this.Ha=this.bb=this.eb=null;this.kb=[];this.na=null}function Ua(a,b,c,d){this.J=a;this.K=b;this.L=c;this.N=d}function wb(a,b,c){this.u=b;this.j=a.u[b];this.m=a.m[b];this.s=a.s[b];this.O=a.D[b];this.H=a.B[b];this.v=null;c&&(this.v=a.v[b]);this.i=new Ua(0,0,0,0);this.h=new Ua(0,0,0,0);this.F=this.B=this.I=this.counter=this.D=this.A=this.G=0;this.X=
a}function gb(a,b){this.T=a;this.h=[];this.j=[];this.u=[];this.m=[];this.s=[];this.D=[];this.B=[];this.v=[];this.F=0;this.i=-1;this.I=b;this.A=null}function za(a,b,c){this.T=a;this.g=b;this.X=c;this.i=b.fa;this.v=this.m=1;this.ca=2;this.P=a.h(ra.cb,0,"HROT.births",U.R);this.G=a.h(ra.cb,0,"HROT.survivals",U.R);this.$=a.h(ra.cb,0,"HROT.comboList",U.R);this.Z=a.h(ra.cb,0,"HROT.altComboList",U.R);this.ja=a.h(ra.cb,0,"HROT.altBirths",U.R);this.ka=a.h(ra.cb,0,"HROT.altSurvivals",U.R);this.type=c.i;this.Bm=
Array.matrix(ra.cb,1,1,0,a,"HROT.neighbourhood",!1);this.O=a.h(ra.Ip,0,"HROT.neighbourList",U.R);this.h=Array.matrix(ra.be,1,1,0,a,"HROT.counts",U.R);this.H=a.h(ra.lc,0,"HROT.widths",U.R);this.pa=a.h(ra.cb,0,"HROT.colUsed",U.R);this.s=a.h(ra.Mq,0,"HROT.weightedNeighbourhood",U.R);this.D=null;this.S=this.Y=-1;this.ga=6;this.I=this.A=this.u=this.F=0;this.na=!1;this.V="";this.oa=-1;this.B=!1;this.ba=new xb;this.ba.Be(Date.now().toString());this.fa=a.h(ra.nd,0,"HROT.birthChances",!1);this.da=a.h(ra.nd,
0,"HROT.suvivalChances",!1);this.aa=a.h(ra.nd,0,"HROT.immunityChances",!1);this.ea=!1;this.ia=this.ma=this.la=-1}function mc(a,b){this.i=a;this.h=b}function Oa(a,b,c,d,f,e,g,k,l){this.name=a;this.Wk=!1;this.B=10;this.u=this.s=0;this.v=d;this.i=c;this.h=b;this.A=f;this.m=e;this.j=g;this.F=k;this.G=!1;this.D=l;-1===this.m.i.h&&(this.G=!0);128<=(this.v.h+this.v.j+this.v.i)/3?(this.s=F.JH,this.u=F.IH):(this.s=F.Qu,this.u=F.Pu)}function T(a,b,c){this.h=a;this.j=b;this.i=c}function xa(a,b){this.h=a;this.i=
b}function qa(a,b,c,d,f,e,g){this.X=e;this.view=g;this.kj=!1;this.ph=this.sg=this.oh=this.Qf=this.Oe=this.rg=this.Cf=this.Bf=this.Vd=null;this.Xd=!1;this.Hc=document.createElement("canvas");this.Hc.width=1;this.Hc.height=1;this.Rf=this.Hc.getContext("2d",{willReadFrequently:!0});this.Rc=[];this.gk=0;this.Pe=8;this.Kb=0;this.Qc=document.createElement("canvas");this.Qc.width=1;this.Qc.height=1;this.Pf=this.Qc.getContext("2d",{willReadFrequently:!0});this.mi=0;this.fd=[];this.ck=null;this.Gk=0;this.zh=
this.Ah="";this.mf=U.R?1E7:4194304;this.ye=[];this.Xe=-1;this.Dk=!1;this.Bc=this.Na=0;this.Ec=10;this.uj="";this.xh=this.Fg=this.Yf=0;this.Pd=null;this.tc=this.Ta=this.ug=0;this.bb=null;this.vi=this.Og=0;this.df=this.Mf=null;this.Ek=this.Fk=this.Qi=this.li=0;this.Si=!0;this.T=va.T;this.$e=[];this.ab=y.kg;this.vg=!0;this.Xc=!1;this.zl=this.lj=this.nj=this.mj=this.yh=this.xf=this.Yb=this.Nh=this.Sg=this.Rg=this.Ld=null;this.ei=new xb;this.ei.Be(Date.now().toString());this.D=!1;this.Sd=8;this.fi=2;this.$j=
0;this.ge=-1;this.Nc=this.Jc=this.qd=this.pd=null;this.Rd=[];this.yb=this.ed=null;this.kh=this.od=this.Fc=0;this.yf=!1;this.wc=this.$f=this.ej=this.oe=null;this.pc=0;this.Ye=this.Ih=null;this.mg=this.jd=-1;this.Zf=this.Lg=this.Fe=null;this.Ad=!0;this.sd=this.Nb=this.fb=this.Ub=this.vb=!1;this.Ig=0;this.Di=[];this.Ei=[];this.Fi=[];this.Gi=[];this.zi=[];this.Ai=[];this.Bi=[];this.Ci=[];this.Li=[];this.Mi=[];this.Ni=[];this.Oi=[];this.Hi=[];this.Ii=[];this.Ji=[];this.Ki=[];this.Ne=[];this.wf=this.di=
"";this.jc=255;this.rc=null;this.ic=this.T.h(ra.cb,65536,"Life.bitCounts16",!1);this.Bo();this.Uf=this.Of=this.Wc=null;this.za=this.Ma=this.Id=this.Eg=this.Ch=this.Gg=this.Ng=0;this.eb=1;this.$=this.ca=this.S=-1;this.je=this.ie=0;this.nh=this.pg=!1;this.qg=!0;this.bf=F.iB;this.Zb=[];this.$b=[];this.Zb[0]=this.T.h(ra.be,y.Jm,"Life.boundaryX0",!1);this.$b[0]=this.T.h(ra.be,y.Jm,"Life.boundaryY0",!1);this.Ud=0;this.rd=4294967295;this.ng="rgb(255,255,255)";this.Le=4286611584;this.fj="rgb(0,255,0)";this.Vi=
"rgb(255,0,0)";this.ij="rgb(255,128,0)";this.s=this.ja=this.la=!1;this.Td=-1;this.Z=!1;this.lh=this.X.ia;this.ha=!1;this.jh=this.X.pa;this.wd=this.Eh=this.Fa=!1;this.i=-1;this.G=this.v=this.O=!1;this.ih=this.u=0;this.Dc=this.Da=!1;this.Zc=new gb(this.T,this.ic);this.pf=y.qq;this.jb=this.Ya=!1;this.sj=this.zb=this.ya=this.A=null;this.Je=new Ua(0,0,0,0);this.Pi=new Ua(0,0,0,0);this.Wf=new Ua(0,0,0,0);this.mb=null;this.ul=new Ua(0,0,0,0);this.wl=new Ua(0,0,0,0);this.width=d;this.height=f;this.F=this.width>>
4;this.I=this.height>>4;this.Yj=null;this.displayWidth=b;this.displayHeight=c;this.ga=this.na=this.B=0;this.xa=y.xa;this.Me=y.Me;this.ce=y.ce;this.Jh=y.Jh;this.Dg=0;this.Aa=1;this.qb=-1;this.Qd=1;this.Re=30;this.Gb=this.angle=this.counter=this.Ke=this.Xb=0;this.zoom=6;this.ka=this.ma=0;this.nc=.1;this.Ea=0;this.da=1;this.Ib=this.Hb=0;this.Ca=.1;this.fc=Ma.fc;this.pa=[];this.Kd=this.Ff=this.me=this.Wd=this.zf=this.ae=this.xd=this.gd=this.Ze=this.gg=this.We=this.ne=this.Nf=this.Ie=this.he=this.md=null;
this.Mb=-1;this.Hg=this.Kc=this.wj=this.Vg=this.Oc=this.eo=null;this.oa=a;this.Ha=this.Ia=0;this.ta=this.Va=this.va=this.Jd=this.grid=this.H=this.j=null;this.Bd=this.T.h(ra.Xa,(this.width-1>>4)+1,"Life.blankRow16",U.R);this.ba=this.T.h(ra.Xa,this.F>>4,"Life.blankTileRow",U.R);this.ia=this.T.h(ra.cb,this.width,"Life.blankColourRow",U.R);this.vd=this.He=this.$d=this.bd=this.m=this.wa=this.vc=this.Mg=this.Eb=this.Wa=this.Ua=this.le=this.Ba=this.Pa=this.nf=this.P=this.h=null;this.sa=this.T.h(ra.cb,256,
"Life.redChannel",!1);this.ra=this.T.h(ra.cb,256,"Life.greenChannel",!1);this.qa=this.T.h(ra.cb,256,"Life.blueChannel",!1);this.$a=this.T.h(ra.lc,256,"Life.pixelColours",U.R);this.Ui=[0,1,2,3,4,5,7,6,8,9,11,10,13,12,14,15,16,17,18,20,19];this.Dh=this.T.h(ra.cb,this.Ui.length,"Life.nextStateExtended",U.R);this.Dh.set(this.Ui);this.Yd=this.ua=null;this.Yc=0;this.Db=!1;this.Ef=0;this.pb=-1;this.Ae=this.Cb=this.lf=this.ze=this.Bh=this.yg=this.kf=this.Xf=null;this.Te=this.T.h(ra.Xa,2*(this.Me+1)<<8,"Life.colourLookup16",
U.R);this.nk=this.T.h(ra.Xa,2*(this.Me+1)<<9,"Life.colourLookup17",!1);this.qh=this.T.h(ra.cb,2048,"Life.colourReset",!1);this.Lb=F.Qu;this.hd=-1;this.xc=F.Pu;this.ud=-1;this.lb=10;this.yc=!0;this.Dl=10;this.cf=this.Ue=this.Y=this.V=null;this.ea=8192;this.so=[0,0,48];this.oo=[255,255,255];this.mo=[255,255,255];this.uo=[0,255,0];this.xo=[255,0,0];this.Fd=[0,0,48];this.Ed=[255,255,255];this.Dd=[255,255,255];this.Gd=[0,255,0];this.Hd=[255,0,0];this.fa=this.T.h(ra.lc,64,"Life.sharedBuffer",U.R);this.aa=
new za(this.T,this,e);this.coords=this.T.h(ra.nd,1,"Life.coords",!1);this.mc=this.T.h(ra.lc,1,"Life.cellColours",!1);this.Vb=0}function Pa(a,b){for(var c=0,d=0,f=a.length,e,g=!1,k=!1,l=!1,p=0,n=new Uint32Array(f),q=new Uint16Array(f),m=new Uint32Array(f),r=0,u=0;c<f;){e=a.charCodeAt(c);switch(e){case 32:case 13:case 9:case 123:case 125:!k&&g&&(n[p]=d,q[p]=c-d,m[p]=(r<<1)+1&u,p+=1,g=!1);break;case 44:b?!k&&g&&(n[p]=d,q[p]=c-d,m[p]=(r<<1)+1&u,p+=1,g=!1):g||(g=!0,u=0,k=!1,d=c);break;case 10:g&&(n[p]=
d,q[p]=c-d,m[p]=(r<<1)+1&u,p+=1,g=!1);k=!1;b&&(0<p&&"\n"!==a[n[p-1]]&&(n[p]=c,q[p]=1,m[p]=0,p+=1),l=!1);break;case 58:case 61:b?k||(g&&(n[p]=d,q[p]=c-d,m[p]=(r<<1)+1&u,p+=1,g=!1),n[p]=c,q[p]=1,m[p]=0,p+=1):g||(g=!0,u=0,k=!1,d=c);break;case 34:b?k||(l=!l,g||(g=!0,d=c)):g||(g=!0,u=0,d=c);break;case 35:b?l||k||(g&&(n[p]=d,q[p]=c-d,m[p]=(r<<1)+1&u,p+=1,g=!1),k=!0):g||(g=!0,u=0,k=!1,d=c);break;default:k||(g?48<=e&&57>=e?(r=10*r+e-48,1073741824<=r&&(u=0)):u=0:(g=!0,d=c,48<=e&&57>=e?(u=-1,r=e-48):u=0))}c+=
1}g&&(n[p]=d,q[p]=c-d,m[p]=(r<<1)+1&u,p+=1);this.s=n.slice(0,p);this.B=q.slice(0,p);this.F=m.slice(0,p);this.current=0;this.source=a}function jb(a){this.X=a;this.j=this.Xg=this.wo=!1;this.h=Va.Iw;this.i=Va.jq;this.Sb=this.uc=-1;this.Gb=this.angle=this.y=this.x=0;this.depth=this.Aa=this.zoom=1;this.Mc=0;this.dd=F.$c;this.step=1;this.zd=this.Ac=0;this.we="";this.m=this.$r=this.Wk=this.ds=this.pk=this.mk=this.kk=this.fs=this.yD=this.vq=this.gi=this.ti=this.De=this.sf=this.xe=this.Kh=this.Vh=this.re=
this.dh=this.Wg=this.hf=this.Af=this.grid=this.ep=this.ql=this.gh=this.fh=this.eh=this.Se=!1}function xc(a,b,c,d,f,e,g,k,l,p,n,q,m,r,u,t,v,B){this.F=B;this.coords=a;this.u=b;this.zoom=c;this.Bb=d;this.Pb=f;this.s=e;this.alpha=g;this.size=k;this.h=l;this.m=p;this.i=n;this.angle=q;this.v=m;this.D=r;this.j=u;this.A=t;this.B=v;-1E3===this.Pb&&-1E3===this.Bb&&(this.Bb=this.zoom/4,this.Pb=4*this.zoom)}function yc(a,b,c,d,f,e,g,k,l,p,n,q,m,r,u,t,v,B,w,z,E){this.O=E;this.D=a;this.G=b;this.F=c;this.H=d;this.zoom=
f;this.Bb=e;this.Pb=g;this.u=k;this.alpha=l;this.size=p;this.I=n;this.h=q;this.m=m;this.i=r;this.angle=u;this.s=t;this.B=v;this.j=B;this.v=w;this.A=z;-1E3===this.Pb&&-1E3===this.Bb&&(this.Bb=this.zoom/4,this.Pb=4*this.zoom)}function zc(a,b,c,d,f,e,g,k,l,p,n,q,m,r,u,t,v,B,w,z){this.B=w;this.message="";this.h=this.j=this.m=this.F=this.u=-1;this.x=a;this.y=b;this.zoom=c;this.Bb=d;this.Pb=f;this.v=e;this.alpha=g;this.size=k;this.S=l;this.i=p;this.D=n;this.s=q;this.angle=m;this.G=r;this.O=u;this.A=t;this.H=
v;this.I=B;-1E3===this.Pb&&-1E3===this.Bb&&(this.Bb=this.zoom/4,this.Pb=4*this.zoom);this.P=z}function Ca(){this.h=[];this.i=[];this.m=[];this.s=[];this.u=[];this.current=new jb(this);this.ba=new jb(this);this.G=new jb(this);this.I=!1;this.v=0;this.H=this.P=!1}function cb(a,b){var c=this,d=a.getElementsByTagName("div")[0];this.v=!1;this.i=-1;this.s=1;this.j=a;this.view=b;this.C=b.C;this.top=this.left=0;""!==a.style.left&&(this.left=parseInt(a.style.left,10));""!==a.style.top&&(this.top=parseInt(a.style.top,
10));this.h=this.m=!1;this.B=this.A=-1;this.G=0;this.F=!1;La(d,"mousedown",function(f){c.Y(c,f)},!1);La(document,"mousemove",function(f){c.Z(c,f)},!1);La(document,"mouseup",function(f){c.$(c,f)},!1);La(d,"touchstart",function(f){c.D(c,f)},!1);La(d,"touchmove",function(f){c.D(c,f)},!1);La(d,"touchend",function(f){c.D(c,f)},!1);La(window,"resize",function(){c.u(c)},!1)}function xb(){this.key=new Uint8Array(256);this.i=this.h=0}function Tb(a,b){this.Ir=a;this.x=b.h(ra.nd,0,"Stars.x",!1);this.y=b.h(ra.nd,
0,"Stars.y",!1);this.z=b.h(ra.nd,0,"Stars.z",!1);this.h=new T(255,255,255);this.i=new xb;this.i.Be(Date.now().toString());this.sin=b.h(ra.nd,0,"Stars.sin",!1);this.cos=b.h(ra.nd,0,"Stars.cos",!1);this.j=Math.PI/180;this.u=180/Math.PI;this.T=b;this.m=!1}function Ub(a){this.buffer=a;this.i=0;this.m=8*this.buffer.length}function Ac(a,b,c,d,f,e,g){this.name=a;this.pattern=b;this.QJ=c;this.width=d;this.height=f;this.map=g}function ha(a){var b;this.i=!0;this.fz=0;this.Yl="";this.Hf=U.R?F.MK:F.Hf;this.cn=
"";this.Vl=this.Ul=this.Xe=null;this.CA="";this.cf=this.Ae=!1;this.dm=this.bm=this.cm=this.am=this.Qs=this.Os=this.Ps=this.Ns=0;this.A=Ma.fu?F.DG:F.NG;this.D=Ma.fu?F.dJ:F.qG;this.kz=this.io=this.Gl=this.rn=this.Nx=this.Ig=!1;this.qh=this.ph=this.rh=!0;this.Gh=0;this.Rz=this.Pz=!0;this.ec=U.ec;this.Nb=F.Uh;this.Wc=F.Wj;this.uA="";this.fi=this.lv=this.bn=this.lf=this.Ta=-1;this.ff=[];this.Fr=this.mh=this.Mn=this.Ks=this.Xp=this.oo=!1;this.X=new wa(U.T);this.rb=!1;this.Dv=this.en=this.gn=this.dn=this.Xi=
this.hh=this.Fh=this.Nl=this.vi=this.fn=this.Il=this.aj=this.$i=this.Kl=this.Ab=this.Wi=this.Nv="";this.pb=!1;this.kl=this.bl=this.Si=this.hl=this.jl=this.bp=this.$o=this.Xo=this.Qo=this.Qi=this.Gu=this.At=this.Ri=this.Ku=this.Xt=this.yu=this.vu=this.bu=this.Gt=this.Ct=this.cl=this.Jd=null;this.Bc=1;this.lm=this.pm=F.Rr;this.wj=50;this.En=this.Cn=this.om=!1;this.wg=this.bf=this.af=-1;this.Zc=[];this.Sd=[];this.Gy=!1;this.Op=this.Uu=this.gm=this.ev=this.Sj=null;this.$f=18;this.Zf="18px "+F.Fu;this.Oe=
"18px "+F.hs;this.Ef=window.devicePixelRatio?window.devicePixelRatio:1;this.Ff=!0;this.po=this.Xb=this.wd=this.xf=this.le=this.wf=this.yf=this.Bf=this.zf=this.me=!1;this.bb=[];for(b=0;b<=F.tj;b+=1)this.bb[b]=null;this.Dc=this.Ec=this.zb=0;this.rc=F.Lr;this.bd=this.ln=!1;this.ea=null;this.na=!1;this.fa=new Ua(0,0,0,0);this.Rb=new Ua(0,0,0,0);this.G=new xb;this.G.Be(Date.now().toString());this.Hb=50;this.yz=this.wz=0;this.pc=this.P=!1;this.pg=2;this.Eb=[];this.Hh=this.ma=0;this.kh=[];this.Ma=0;this.Jj=
[];this.Hj=0;this.ye=[];this.ye[F.Dq]=[1,0,0,1];this.ye[F.Hy]=[-1,0,0,-1];this.ye[F.Iy]=[-1,0,0,1];this.ye[F.Jy]=[1,0,0,-1];this.ye[F.My]=[0,1,1,0];this.ye[F.Ny]=[0,-1,-1,0];this.ye[F.Ly]=[0,-1,1,0];this.ye[F.Ky]=[0,1,-1,0];this.he=[];this.bk=[];this.Td=[];this.Xc=[];this.Va=F.Ro;this.Ye=0;this.Wl=-1;this.kj=[];this.dz=this.Zy=this.$d=0;this.El=!1;this.Zd=-1;this.yp=!1;this.Ua=this.sg=this.mg=this.rg=this.ng=0;this.m=null;this.Co=0;this.$u=!0;this.Ub=0;this.rf=1;this.Dg=this.cv=this.ae=this.Nh=!1;
this.$b=7;this.ei=!0;this.Gc=this.Fc=0;this.Ee=this.rB=this.qa=this.dj=63;this.Ch=this.bg=this.xl=this.zl=this.Qe=this.yl=this.wl=this.sk=this.ul=this.Dh=this.uk=this.tk=this.ey=!1;this.ja=0;this.Je=null;this.F=this.H=0;this.cp=!1;this.Ad=this.Bd=-999999;this.lh=-1;this.Yj=Date.now().toString();this.$j=this.sm=this.vm=this.Ss=!1;this.Hd=F.Pg;this.ke=!0;this.Ca=!1;this.md=!0;this.eb=F.jB;this.Zb=!1;this.element=a;this.Ha=!1;this.oi=this.Og=this.Qg=this.ni=this.Tn=this.Nn=this.Rn=this.Pn=0;this.Lb=
this.pi=this.mb=this.mi=!1;this.Vc=!0;this.Gd=this.Le=!1;this.Fa=0;this.vk=!1;this.sc=this.ac=0;this.mc=!1;this.U="";this.ba=this.aa=0;this.jt=this.ht=this.Gi=this.Qk=this.Ii=this.Hi=this.Wf=this.tt=this.qt=this.Fg=this.Eg=this.ii=this.Hg=this.Gg=this.Hc=-1;this.hn=this.mo=!1;this.Zm=this.Kc=-1;this.jh=!1;this.Kq=0;this.Jq=!0;this.jn=this.ia=this.Yd=!1;this.Ug=0;this.ud=this.qd=!1;this.Df=F.kB;this.Tc=this.Uc=null;this.bi=F.bi;this.He=null;this.ci=F.ci;this.Fd=[96,96,96];this.Pf=[128,128,128];this.Sf=
[0,255,0];this.Rf=[255,0,0];this.Tf=[255,128,0];this.Ey=null;this.AD="#FFFFFF";this.CD="#536482";this.cu="#C75050";this.du="#FFFFFF";this.xd="";this.Md=!0;this.Jc=this.ob=this.qb=!1;this.Ud=null;this.yd=this.Rm=!1;this.u=1;this.sj=0;this.ab=this.fv=!1;this.s=new Ca;this.Te="";this.Lw=-1;this.ic=this.za=!1;this.O=1;this.py=this.Lh=0;this.Cc=F.rI;this.td=this.bc=this.lb=this.Pa=this.Db=-1;this.vg=this.Ze="";this.sn=this.mj=this.V=this.S=0;this.lj=null;this.ug=this.Wa=this.Y=this.wk="";this.Qf=this.ua=
!1;this.Lc=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];this.Xn=this.Vn=-1;this.Ep=F.SB;this.Dp=F.Oq;this.Fp=F.cD;this.Bn="";this.MF=0;this.qf=[];this.Gq=!1;this.Z=null;this.$m=[];this.Vb=[];this.v=this.da=0;this.jk=!1;this.fj=100;this.Ba=10;this.j=[64,200,290,530,700];this.jc=!1;this.B=[];this.Ho=[];this.No=[];this.uc=-1;this.Kb=!1;this.Sb=-1;this.Bo=this.Fe=this.nc=this.$a=this.Na=this.Tg=this.mn=this.Ia=this.ed=this.pd=this.I=
this.nb=this.wa=!1;this.g=null;this.elapsedTime=0;this.displayWidth=640;this.displayHeight=512;this.We=640;this.Ve=512;this.Al=!1;this.zw=640;this.nj=!0;this.Lg=this.ot=this.sd=this.Ob=this.uj=!1;this.Ag=this.Ng=this.vd=this.ga=this.ag=this.rk=this.Th=this.Pd=this.Ij=null;this.li=[];this.aA=0;this.pa=this.Ya=this.qk=this.lk=this.Zl=this.Yc=this.cg=this.Bk=this.Ql=this.Tl=this.Sl=this.Rl=this.Bj=this.Aj=this.Am=this.Cm=this.Tk=this.Rk=this.jj=this.Jk=this.Mk=this.Mh=this.ge=this.Oh=this.tc=this.Ld=
this.ra=this.hc=this.If=this.Ke=this.Ie=this.fd=this.Qc=this.Rd=this.$e=this.df=this.vb=this.Vf=this.Lj=this.gd=this.Yf=this.vn=this.Ml=this.Kn=this.Qn=this.Mj=this.Ji=this.Nm=this.uo=this.In=this.no=this.ko=this.Pl=this.fm=this.nk=this.Oi=this.rd=this.Pk=this.zn=this.Xl=this.xi=this.Ed=this.Fn=this.Ik=this.Jn=this.Ap=this.Cp=this.Bp=this.qn=this.Ln=this.Fy=this.zo=this.ct=this.et=this.Pi=this.wm=this.tm=this.zx=this.Em=this.Ox=this.Ws=this.tl=this.Rj=this.Ll=this.Us=this.gk=this.Um=this.nh=this.Vi=
this.Ti=this.Ui=this.uh=this.Kd=this.To=this.Yb=this.yt=this.Ne=this.wi=this.pn=this.xp=this.Id=this.xg=this.Wd=this.Fj=this.Gj=this.Ol=this.em=this.Re=this.dg=this.Hq=this.cj=this.Cf=this.Xf=this.Tm=this.Fi=this.yk=this.Vg=this.Nf=this.Of=this.Ek=this.Fk=this.Hm=this.Gk=this.Ue=this.hd=this.Xd=this.jd=this.Mi=this.sh=this.th=this.Li=this.Ni=this.al=this.Yk=this.$k=this.Zk=this.Yn=this.Wm=this.Xm=this.Ao=this.od=this.ft=this.Mg=this.Mf=this.Nc=this.ih=this.xh=this.zh=this.yh=this.wh=this.sp=this.wp=
this.vp=this.rp=this.Zu=this.vh=this.ll=this.Bh=this.rl=this.Ah=this.nl=this.bj=this.ij=this.vc=this.hm=this.$s=this.Di=this.ck=this.jb=this.kb=this.Ea=this.kc=this.fb=this.sa=this.vo=this.Vz=this.Zz=this.Tz=this.Xz=null;this.Ic=this.Eh=-1;this.yj=0;this.la=this.ta=this.ie=null;this.ca=F.$c;this.h=this.C=null;this.Cb=this.va=this.Ei=this.Bi=0;this.jo=this.Qz=1;this.Zn=F.$c;this.Ci=this.ho=1;this.Hp=.1;this.Uf=y.kg;this.Bl=-1;this.Ib=this.ya=this.rz=this.gt=0;this.hk=1;this.ne=this.ka=this.Xs=this.Vs=
this.Zs=!1;this.Wb=F.mB;this.Bt=this.Dt=this.zt=this.Kj=0;this.yo=this.Cd=!1;this.je=this.Jt=0;this.hb=this.wc=!1;this.$l=-1}async function Bc(a,b,c){try{const d=await navigator.clipboard.readText();a.gG(d,b,c)}catch(d){a.cG(b,c)}}async function Cc(){return U.zA}function Vb(a,b,c,d,f){var e,g=b.parentNode,k=null;for(e=0;e<U.Pc.length&&!k;)U.Pc[e][0].tabIndex===b.tabIndex?k=U.Pc[e][1]:e+=1;k||(k=new ha(f),k.yd=d,Ea.$p&&!d&&(k.Cc=c&-8,k.Cc<F.ld&&(k.Cc=F.ld)),b.tabIndex=U.Pc.length+1,"none"===g.style.display&&
(U.jg=new cb(g,k)),k.AE(b),U.Pc[U.Pc.length]=[b,k,U.jg]);U.R&&(k.fz=k.g.T.Cj);d||k.$h(a,!1)}function Dc(){var a=document.getElementsByTagName("meta"),b,c;for(b=0;b<a.length;b+=1){var d=a[b];if(d.name===Ea.tagName&&(Ea.Vu=!1,Ea.$p=!1,d=d.content,(c=d.match(/\S+/g))&&2<=c.length&&7>=c.length))for(Ea.dr=c[0],Ea.So=c[1],d=2;d<c.length;d+=1)switch(c[d]){case Ea.MH:Ea.Vu=!0;break;case Ea.kI:Ea.$p=!0;break;case Ea.DI:Ea.wb=!0;break;case Ea.hH:Ea.fullScreen=!0;break;default:if("/"===c[d][0])Ea.ay=c[d];else if("."===
c[d][0]||"?"===c[d][0])Ea.mD=c[d];else{var f=c[d];!isNaN(parseFloat(f))&&isFinite(Number(f))&&(Ea.Gm=parseFloat(f)|0)}}}}function nc(a){a=a.parentNode;for(var b=!1;!b;)"div"!==a.localName||a.className!==Ea.dr&&a.className!==Ea.er||(b=!0),b||(a=a.parentNode);return a}function Wb(){var a=U.cs(),b=a[1],c=a[2];a[0].parentNode.style.display="none";c.m=!1;b.Ob&&(b.hc.current=b.Od(F.ue,!0,b))}function oc(a){Wb();a.stopPropagation&&a.stopPropagation();a.preventDefault();return!1}function Fb(a){for(a=a.innerHTML;-1!==
a.indexOf("&amp;")||-1!==a.indexOf("&lt;")||-1!==a.indexOf("&gt;")||-1!==a.indexOf("&nbsp;");)a=a.replace(/&lt;/gi,"<").replace(/&gt;/gi,">").replace(/&amp;/gi,"&").replace(/&nbsp;/gi," ");a=a.replace(/<br *\/>/gi,"\n").replace(/<br>/gi,"\n").replace(/&nbsp;/gi," ").replace(/<span class="posthilit">/gi,"").replace(/<\/span>/gi,"").replace(/<font><\/font>/gi,"").trim();a=a.replace(/\n[ \t]+/g,"\n");""===a&&(a="!");return a}function yb(a){var b=nc(a);a=b.getElementsByTagName(Ea.So)[0];if(b=b.getElementsByTagName("canvas")[0])if(b=
U.dH(b.tabIndex))a.innerHTML=a.value,a=Fb(a),b.Ab="",b.g.Ih=null,b.g.T.reset(b.fz),b.ks(b),b.C.notification.clear(!0,!0),b.C.notification.clear(!1,!0),b.$h(a,!1)}function pc(a){var b=28,c=18,d=U.cs()[2];a.Op.style.transform="scale("+a.Bc+","+a.Bc+")";a.Op.style.transformOrigin="top left";a.resize();d.m=!0;d.u(d);1!==a.h.B&&(b=b*a.h.B|0,c=c*a.h.B|0,a.Sj.style.height=b+"px",a.Sj.style.fontSize=c+"px",a.Uu.style.height=b+"px",a.Uu.style.fontSize=c+"px",a.gm.style.height=b+"px",a.gm.style.fontSize=c+
"px",a.ev.style.height=b+"px",a.ev.style.lineHeight=b+"px");a.la.canvas.focus();a.la.canvas.blur();return a.Fr=!1}function Gb(a){var b=nc(a);b=b.getElementsByTagName(Ea.So)[0];a=Fb(b);var c=U.cs(),d;if(c)(d=c[2])&&d.reset(),d=c[1],d.element=b,d.ks(d);else{d=document.createElement("canvas");d.width=F.ld;d.height=F.dl+80;d.style.display="block";d.contentEditable="false";var f=document.createElement("a");f.setAttribute("href","#");f.innerHTML="&nbsp;X&nbsp;";f.style.textDecoration="none";f.style.fontFamily=
"Lucida Grande,Verdana,Helvetica,Arial,sans-serif";f.style.cssFloat="right";f.style.height="28px";f.style.fontSize="18px";f.className="notranslate";var e=document.createElement("a");e.innerHTML="&nbsp;X&nbsp;";e.style.textDecoration="none";e.style.fontFamily="Lucida Grande,Verdana,Helvetica,Arial,sans-serif";e.style.visibility="hidden";e.style.cssFloat="left";e.style.height="28px";e.style.fontSize="18px";var g=document.createElement("div");g.style.textAlign="center";g.style.fontFamily="Arial, Verdana, Helvetica, sans-serif";
g.style.fontSize="18px";g.style.height="28px";var k=document.createTextNode(F.lo);g.style.cursor="default";g.appendChild(k);La(f,"click",oc,!1);La(f,"touchend",oc,!1);var l=document.createElement("div");l.style.display="none";l.style.position="fixed";l.style.border="1px solid rgb(128,128,128)";l.style.zIndex="101";l.style.left="2048px";l.style.top="0px";l.style.textAlign="right";l.style.boxShadow="0px 0px 3px 3px rgba(0,0,0,.3), 12px 12px 8px rgba(0,0,0,.5)";l.style.margin="1px";var p=document.createElement("div");
p.className=Ea.er;p.style.backgroundColor="#FFFFFF";p.style.height="28px";p.style.lineHeight="28px";p.style.margin="0px";p.style.border="0px";p.appendChild(e);p.appendChild(f);p.appendChild(g);l.appendChild(p);l.appendChild(d);document.body.appendChild(l);Vb(a,d,F.ld,!0,b);U.sy=U.Pc.length-1;c=U.cs();d=c[1];d.Ey=k;d.Sj=f;d.Uu=e;d.gm=g;d.ev=p;d.Op=l}b=c[0].parentNode;""!==b.style.display&&(b.style.display="");d.Ab="";d.g.Ih=null;d.displayWidth=F.ld;d.displayHeight=F.dl+80;d.resize();d.C.notification.clear(!0,
!0);d.C.notification.clear(!1,!0);d.Fr=!0;d.$h(a,!0);d.Fr||pc(d);a=d.Lc[F.gB];-1===a?d.gm.style.color=d.CD:d.gm.style.color="#"+("000000"+a.toString(16)).slice(-6);a=d.Lc[F.fB];-1===a?d.gm.style.backgroundColor=d.AD:d.gm.style.backgroundColor="#"+("000000"+a.toString(16)).slice(-6);a=d.Lc[F.QA];-1===a?d.Sj.style.color=d.du:(d.Sj.style.color="#"+("000000"+a.toString(16)).slice(-6),d.cj.cd=d.Sj.style.color);a=d.Lc[F.PA];-1===a?d.Sj.style.backgroundColor=d.cu:(d.Sj.style.backgroundColor="#"+("000000"+
a.toString(16)).slice(-6),d.cj.cc=d.Sj.style.backgroundColor)}function Ec(a,b,c){a=a.getElementsByTagName("a")[0];var d=document.createElement("a"),f=null;d.setAttribute("href","#");d.innerHTML="Show Pattern Error";La(d,"click",function(e){e.stopPropagation&&e.stopPropagation();e.preventDefault();alert(c)},!1);a?(f=document.createTextNode(" / "),a.parentNode.appendChild(f),a.parentNode.appendChild(d)):b.parentNode.appendChild(d)}function qc(a,b){var c=b[0],d=b[1],f=b[2];b=b[3];if(a&&a.I&&!a.wa)if(Ea.wb){var e=
U.Ce,g=U.Ce.length,k=a.name,l=a.h+a.fb,p=a.width,n=a.height,q=a.Db;a=a.ca;var m,r=Array.matrix(ra.cb,a.length,a[0].length,0,U.T,"OverviewMap",!1);for(m=0;m<a.o.length;m+=1)r.o[m]=a.o[m];e[g]=new Ac(k,c,l,p,n,q,r);1===U.Ce.length?(f.style.display="none",b&&(b.contentEditable="false",Vb(c,b,f.offsetWidth,!1,f))):d.style.display="none"}else null!==d&&(d=d.getElementsByTagName("a")[0],b=document.createElement("a"),b.setAttribute("href","#"),b.innerHTML="Show in Viewer",La(b,"click",Fc,!1),d?(e=document.createTextNode(" / "),
d.parentNode.appendChild(e),d.parentNode.appendChild(b)):f.parentNode.appendChild(b)),-1<Ea.Gm&&-1===c.indexOf("@RULE")&&f.clientHeight>Ea.Gm+26&&(f.style.height=Ea.Gm+26+"px")}function rc(a,b){var c=b[0],d=b[1];b=b[2];a&&null!==d&&("#"!==c[0]||-1===c.indexOf("import "))&&Ec(d,b,a.h+" - "+a.ua)}function sc(a,b,c,d,f,e){b=c.create("",a,b,qc,rc,[a,d,f,e],!0,null);!c.ra&&b&&(b.ra?(b.ua=c.U,rc(b,[a,d,f,e])):qc(b,[a,d,f,e]))}function Fc(a){Gb(this);a.stopPropagation&&a.stopPropagation();a.preventDefault();
return!1}function Gc(a){var b=null;b=a.dataTransfer;var c=null,d=null;b&&0<b.files.length&&(b=b.files[0],c=new FileReader,c.onload=function(){var f=c.result,e=document.getElementById("rle");e&&(e.innerHTML=f,(d=document.getElementById("viewbutton"))&&yb(d))},c.readAsText(b));a.preventDefault();a.stopPropagation()}function Hc(){var a=document.getElementsByTagName("div"),b=0,c=null,d=c=null,f=null;f=null;d="";var e=null,g=b=null,k=null,l=null;b=b=null;var p=0,n=0,q=0,m=performance.now(),r=U.qr(F.hy),
u=va.T,t=new wa(u);console.time("page scan");Dc();db.Be();for(b=0;b<a.length;b+=1)(e=a[b],e.className===Ea.dr)?(c=e.getElementsByTagName(Ea.So)[0],f=e.getElementsByTagName("canvas")[0],(d=c.getElementsByTagName(Ea.So)[0])&&(c=d),Ma.gs&&c&&(console.time("read embedded"),d=Fb(c),Ea.wb?sc(d,u,t,e,c,f):f&&f.getContext?(-1<Ea.Gm&&c.clientHeight>Ea.Gm&&(c.style.height=Ea.Gm+"px"),f.contentEditable="false",Vb(d,f,c.offsetWidth,!1,c)):Ea.Vu&&f&&(f.style.display="none"),console.timeEnd("read embedded"),p+=
1)):Ma.gs&&e.className===Ea.er&&e.parentNode.className!==Ea.dr&&(c=e.getElementsByTagName(Ea.So)[0])&&(console.time("read popup"),r&&-1!==c.innerHTML.indexOf(" "+C.sr+" 14")?q+=1:(d=Fb(c),f=null,sc(d,u,t,e,c,null)),console.timeEnd("read popup"),n+=1);c=document.getElementsByTagName("a");for(b=0;b<c.length;b+=1)f=c[b],""!==f.accessKey&&-1!==F.pG.indexOf(f.accessKey)&&(f.accessKey="");if(g=document.getElementById("viewbutton"))if(La(g,"click",function(){yb(g)},!1),b=g.style,b.fontSize="24px",b.width=
"100px",b.height="66px",g.parentElement&&(b=g.parentElement.style,b.verticalAlign="middle",b.padding="8px"),b=document.getElementById("ViewerCanvas"))La(b,"drop",function(v){Gc(v)},!1),La(b,"dragover",function(v){v.preventDefault()},!1);(k=document.getElementById("viewerview"))&&La(k,"click",function(){yb(k)},!1);(l=document.getElementById("viewerpopup"))&&La(l,"click",function(){Gb(l)},!1);if(b=document.getElementById("lvbuild"))b.innerHTML=String(F.js);console.timeEnd("page scan");console.log(p+
" embedded and "+n+" popup ("+q+" unsafe)");Ea.wb&&(U.Fm=!0,Za.au());console.groupEnd();window.location.hash&&(console.log(window.location.hash),(a=document.getElementById(window.location.hash.substring(1)))&&a.scrollIntoView());U.NC=performance.now()-m}var Ma={gs:!1,Lt:!1,Mt:!1,fc:!1,copyWithin:!1,fu:!1,eo:null,Oc:null};window.performance||(window.performance={});window.performance.now||(window.performance.now=function(){return performance.now||performance.iL||performance.jL||performance.mL||performance.webkitNow||
function(){return(new Date).getTime()}}());window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame);window.Uint8Array?Ma.gs=!0:(Ma.gs=!1,window.Uint8Array=Array);window.Uint8ClampedArray||(window.Uint8ClampedArray=window.Uint8Array);window.Uint16Array||(window.Uint16Array=Array);window.Uint32Array||(window.Uint32Array=Array);window.Int32Array||(window.Int32Array=Array);
window.Int16Array||(window.Int16Array=Array);window.Int8Array||(window.Int8Array=Array);window.Uint8ClampedArray||(window.Uint8ClampedArray=Array);window.Float32Array||(window.Float32Array=Array);window.Float64Array||(window.Float64Array=Array);window.Uint32Array.prototype.fill?Ma.Lt=!0:(Ma.Lt=!1,window.Uint32Array.prototype.fill=function(a,b,c){void 0===c&&(c=this.length);for(b=0;b<c;b+=1)this[b]=a});window.Uint16Array.prototype.fill||(window.Uint16Array.prototype.fill=function(a,b,c){void 0===c&&
(c=this.length);for(b=0;b<c;b+=1)this[b]=a});window.Uint8Array.prototype.fill||(window.Uint8Array.prototype.fill=function(a,b,c){void 0===c&&(c=this.length);for(b=0;b<c;b+=1)this[b]=a});window.Uint8ClampedArray.prototype.fill||(window.Uint8ClampedArray.prototype.fill=function(a,b,c){void 0===c&&(c=this.length);for(b=0;b<c;b+=1)this[b]=a});window.Int32Array.prototype.fill||(window.Int32Array.prototype.fill=function(a,b,c){void 0===c&&(c=this.length);for(b=0;b<c;b+=1)this[b]=a});window.Int16Array.prototype.fill||
(window.Int16Array.prototype.fill=function(a,b,c){void 0===c&&(c=this.length);for(b=0;b<c;b+=1)this[b]=a});window.Int8Array.prototype.fill||(window.Int8Array.prototype.fill=function(a,b,c){void 0===c&&(c=this.length);for(b=0;b<c;b+=1)this[b]=a});window.Float32Array.prototype.fill||(window.Float32Array.prototype.fill=function(a,b,c){void 0===c&&(c=this.length);for(b=0;b<c;b+=1)this[b]=a});window.Float64Array.prototype.fill||(window.Float64Array.prototype.fill=function(a,b,c){void 0===c&&(c=this.length);
for(b=0;b<c;b+=1)this[b]=a});window.Int32Array.prototype.slice?Ma.Mt=!0:(Ma.Mt=!1,window.Int32Array.prototype.slice=function(a,b){void 0===b&&(b=this.length);var c=b-a;var d=new Int32Array(c);for(b=0;b<c;b+=1)d[b]=this[a+b];return d});window.Int16Array.prototype.slice||(window.Int16Array.prototype.slice=function(a,b){void 0===b&&(b=this.length);var c=b-a;var d=new Int16Array(c);for(b=0;b<c;b+=1)d[b]=this[a+b];return d});window.Int8Array.prototype.slice||(window.Int8Array.prototype.slice=function(a,
b){void 0===b&&(b=this.length);var c=b-a;var d=new Int8Array(c);for(b=0;b<c;b+=1)d[b]=this[a+b];return d});window.Uint32Array.prototype.slice||(window.Uint32Array.prototype.slice=function(a,b){void 0===b&&(b=this.length);var c=b-a;var d=new Uint32Array(c);for(b=0;b<c;b+=1)d[b]=this[a+b];return d});window.Uint16Array.prototype.slice||(window.Uint16Array.prototype.slice=function(a,b){void 0===b&&(b=this.length);var c=b-a;var d=new Uint16Array(c);for(b=0;b<c;b+=1)d[b]=this[a+b];return d});window.Uint8Array.prototype.slice||
(window.Uint8Array.prototype.slice=function(a,b){void 0===b&&(b=this.length);var c=b-a;var d=new Uint8Array(c);for(b=0;b<c;b+=1)d[b]=this[a+b];return d});window.Uint8ClampedArray.prototype.slice||(window.Uint8ClampedArray.prototype.slice=function(a,b){void 0===b&&(b=this.length);var c=b-a;var d=new Uint8ClampedArray(c);for(b=0;b<c;b+=1)d[b]=this[a+b];return d});window.Float32Array.prototype.slice||(window.Float32Array.prototype.slice=function(a,b){void 0===b&&(b=this.length);var c=b-a;var d=new Float32Array(c);
for(b=0;b<c;b+=1)d[b]=this[a+b];return d});window.Float64Array.prototype.slice||(window.Float64Array.prototype.slice=function(a,b){void 0===b&&(b=this.length);var c=b-a;var d=new Float64Array(c);for(b=0;b<c;b+=1)d[b]=this[a+b];return d});Ma.Oc=new Uint32Array(1);Ma.Oc[0]=4660;Ma.eo=new Uint8Array(Ma.Oc.buffer);Ma.fc=52===Ma.eo[0]?!0:!1;Ma.Oc.copyWithin?Ma.copyWithin=!0:(window.Uint32Array.prototype.copyWithin=function(a,b,c){var d=!1;void 0===c&&(c=this.length);var f=c-b;if(b!==a)if((a>=b&&a<=c||
a+f>=b&&a+f<=c)&&a>b&&(d=!0),d)for(c=f-1;0<=c;--c)this[a+c]=this[b+c];else for(c=0;c<f;c+=1)this[a+c]=this[b+c];return this},Ma.copyWithin=!1);var Xb=navigator.userAgent;-1!==Xb.indexOf("Safari/")&&-1===Xb.indexOf("Chrome/")&&-1===Xb.indexOf("Chromium/")&&(Ma.fu=!0);var ra={cb:8,rt:40,Xa:9,lc:10,Mq:0,Ip:1,be:2,nd:18,zz:19,ol:function(a){return 1<<(a&7)},FD:function(a){var b=(0!==(a&16)?"Float":0!==(a&8)?"Uint":"Int")+8*(1<<(a&7));0!==(a&32)&&(b+="Cl");return b}};fb.prototype.reset=function(a){this.Cj=
a;this.i=[];this.m=this.j=this.u=this.s=0};fb.prototype.I=function(){this.v=va.memory.buffer.byteLength};fb.prototype.G=function(a){var b="";0<=a&&a<this.i.length&&(a=this.i[a],b=ra.FD(a.dataType)+"\t"+a.elements+"\t"+a.name+"\t"+a.Po);return b};fb.prototype.B=function(a,b,c,d){for(var f=0,e=!1,g;f<this.i.length&&!e;)g=this.i[f],c===g.name?(e=!0,this.u+=1,this.m+=g.elements*ra.ol(g.dataType)):f+=1;e?(this.i[f].dataType=a,this.i[f].elements=b,this.i[f].Po+=1,this.i[f].size=b*ra.ol(a),this.i[f].offset=
d):(f=this.i.length,this.i[f]=new vc(a,b,c,d));this.s+=1;this.j+=b*ra.ol(a)};fb.prototype.F=function(a,b,c,d,f){var e=a.buffer;a=d*ra.ol(b)+a.byteOffset;switch(b){case ra.cb:c=new Uint8Array(e,a,c);break;case ra.rt:c=new Uint8Array(e,a,c);break;case ra.Xa:c=new Uint16Array(e,a,c);break;case ra.lc:c=new Uint32Array(e,a,c);break;case ra.Mq:c=new Int8Array(e,a,c);break;case ra.Ip:c=new Int16Array(e,a,c);break;case ra.be:c=new Int32Array(e,a,c);break;case ra.nd:c=new Float32Array(e,a,c);break;case ra.zz:c=
new Float64Array(e,a,c);break;default:c=null,alert("Illegal type specified to allocator.typedView for "+f+": "+b)}return c};fb.prototype.D=function(a,b,c,d,f){var e=null,g=b*ra.ol(a),k=this.Cj>>>0;f&&(this.v=k=(this.v-g&-16)>>>0);try{switch(a){case ra.cb:e=d?new Uint8Array(va.memory.buffer,k,b):new Uint8Array(b);break;case ra.rt:e=d?new Uint8ClampedArray(va.memory.buffer,k,b):new Uint8ClampedArray(b);break;case ra.Xa:e=d?new Uint16Array(va.memory.buffer,k,b):new Uint16Array(b);break;case ra.lc:e=
d?new Uint32Array(va.memory.buffer,k,b):new Uint32Array(b);break;case ra.Mq:e=d?new Int8Array(va.memory.buffer,k,b):new Int8Array(b);break;case ra.Ip:e=d?new Int16Array(va.memory.buffer,k,b):new Int16Array(b);break;case ra.be:e=d?new Int32Array(va.memory.buffer,k,b):new Int32Array(b);break;case ra.nd:e=d?new Float32Array(va.memory.buffer,k,b):new Float32Array(b);break;case ra.zz:e=d?new Float64Array(va.memory.buffer,k,b):new Float64Array(b);break;default:e=null,alert("Illegal type specified to allocator.typedMemory for "+
c+": "+a)}}catch(l){alert(F.lo+" is out of memory\n\nFailed to allocate "+b+" element "+ra.FD(a)+" array for "+c+"\n\n"+l)}null!==e&&d&&!f&&(0!==(g&15)&&(g=(g&4294967280)+16),this.Cj+=g);return e};fb.prototype.h=function(a,b,c,d){var f;if(f=this.D(a,b,c,d,!1))d&&(f.fill(0),c="* "+c),this.B(a,b,c,f.byteOffset);return f};fb.prototype.A=function(a,b,c,d){var f;if(f=this.D(a,b,c,d,!0))d&&(f.fill(0),c="^ "+c),this.B(a,b,c,f.byteOffset);return f};fb.prototype.H=function(){return this.v-this.Cj};fb.prototype.oG=
function(a,b,c,d){var f=null;0<b&&(f=this.D(a,b,c,!1,!1));(f||0===b)&&this.B(a,b*d,c,f.byteOffset);return f};fb.prototype.O=function(a){this.Cj=a};Array.matrix=function(a,b,c,d,f,e,g){var k=0,l=[];l.T=f;l.dataType=a;l.o=null;g=f.h(a,b*c,e,g);if((l.o=g)&&0<c){for(;k<b;)l[k]=f.F(g,a,c,k*c,e),k+=1;0!==d&&g.fill(d)}return l};Array.Jp=function(a,b){b=a.T.oG(a.dataType,a[0].length,b,a.length+1);a[a.length]=b};Array.Gf=function(a,b){b.o.set(a.o)};Array.pe=function(a,b,c){var d,f=b.length,e=[],g=b.T,k=b[0].length/
ra.ol(a);for(d=0;d<f;d+=1)e[d]=g.F(b.o,a,k,d*k,c);e.o=g.F(b.o,a,b.o.length/ra.ol(a),0,"");return e};var db={kd:[],ky:[],Be:function(){var a,b;this.kd=[];this.ky=[];var c=this.kd;var d=this.ky;d.push("1D");c.push(["Wolfram 1D",""]);c.push(["Brownian motion","W54"]);c.push(["Fishing-net","W110"]);c.push(["Heavy triangles","W22"]);c.push(["Linear A","W90"]);c.push(["Linear B","W150"]);c.push(["Pascal's Triangle","W18"]);c.push(["Randomizer 1","W30"]);c.push(["Randomizer 2","W45"]);c.push(["Wolfram 22",
"W22"]);c.push(["Wolfram 30","W30"]);c.push(["Wolfram 110","W110"]);d.push("Margolus");c.push(["Margolus",""]);c.push(["BBM","M0,8,4,3,2,5,9,7,1,6,10,11,12,13,14,15"]);c.push(["BounceGas","M0,8,4,3,2,5,9,14,1,6,10,13,12,11,7,15"]);c.push(["BounceGasII","M0,8,4,12,2,10,9,7,1,6,5,11,3,13,14,15"]);c.push(["Critters","M15,14,13,3,11,5,6,1,7,9,10,2,12,4,8,0"]);c.push(["HPP_Gas","M0,8,4,12,2,10,9,14,1,6,5,13,3,11,7,15"]);c.push(["MargSingRot","M0,2,8,3,1,5,6,7,4,9,10,11,12,13,14,15"]);c.push(["Rotations",
"M0,2,8,12,1,10,9,11,4,6,5,14,3,7,13,15"]);c.push(["RotationsII","M0,2,8,12,1,10,9,13,4,6,5,7,3,14,11,15"]);c.push(["RotationsIII","M0,4,1,10,8,3,9,11,2,6,12,14,5,7,13,15"]);c.push(["RotationsIV","M0,4,1,12,8,10,6,14,2,9,5,13,3,11,7,15"]);c.push(["Sand","M0,4,8,12,4,12,12,13,8,12,12,14,12,13,14,15"]);c.push(["StringThing","M0,1,2,12,4,10,9,7,8,6,5,11,3,13,14,15"]);c.push(["StringThingII","M0,1,2,12,4,10,6,7,8,9,5,11,3,13,14,15"]);c.push(["SwapOnDiag","M0,8,4,12,2,10,6,14,1,9,5,13,3,11,7,15"]);c.push(["Tron",
"M15,1,2,3,4,5,6,7,8,9,10,11,12,13,14,0"]);d.push("PCA");c.push(["PCA",""]);c.push(["Model_1","2PCA4,0,4,8,3,1,10,6,7,2,9,5,11,12,13,14,15"]);c.push(["Model_2","2PCA4,0,4,8,3,1,10,6,11,2,9,5,13,12,14,7,15"]);c.push(["PCA_1","2PCA4,0,4,8,3,1,10,6,7,2,9,5,11,12,13,14,15"]);c.push(["PCA_2","2PCA4,0,2,4,3,8,10,6,7,1,9,5,11,12,13,14,15"]);c.push(["PCA_3","2PCA4,0,8,1,3,2,5,6,7,4,9,10,11,12,13,14,15"]);c.push(["PCA_4","2PCA4,0,2,4,12,8,5,9,7,1,6,10,11,3,13,14,15"]);c.push(["PCA_5","2PCA4,0,4,8,3,1,10,6,11,2,9,5,13,12,14,7,15"]);
c.push(["PCA_6","2PCA4,0,2,4,3,8,10,6,14,1,9,5,7,12,11,13,15"]);c.push(["PCA_7","2PCA4,0,2,4,12,8,5,9,14,1,6,10,7,3,11,13,15"]);c.push(["PCA_8","2PCA4,0,2,4,12,8,10,9,14,1,6,5,7,3,11,13,15"]);c.push(["PCA_9","2PCA4,0,2,4,12,8,10,9,13,1,6,5,14,3,7,11,15"]);c.push(["PCA_10","2PCA4,0,1,2,3,4,5,6,13,8,9,10,14,12,7,11,15"]);c.push(["PCA_11","2PCA4,0,4,8,3,1,10,6,11,2,9,5,11,13,12,14,15"]);c.push(["PCA_12","2PCA4,0,4,2,3,14,6,11,5,8,7,9,13,10,12,1,15"]);d.push("OT vN");c.push(["Outer-Totalistic von Neumann",
""]);c.push(["Fredkin2","B13/S024V"]);c.push(["LifeV","B3/S23V"]);c.push(["Parity","B13/S13V"]);d.push("OT Hex");c.push(["Outer-Totalistic Hex",""]);c.push(["HexParity","B135/S0246H"]);c.push(["Hexagonal Life","B2/S34H"]);c.push(["HighHexLife","B25/S34H"]);c.push(["LifeH","B3/S23H"]);c.push(["Replicator Hex","B135/S135H"]);d.push("OT M");c.push(["Outer-Totalistic Moore",""]);c.push(["","B3/S23"]);c.push(["2x2","B36/S125"]);c.push(["2x2 2","B3678/S1258"]);c.push(["34 Life","B34/S34"]);c.push(["3-4 Life",
"B34/S34"]);c.push(["Amoeba","B357/S1358"]);c.push(["Anneal","B4678/S35678"]);c.push(["AntiLife","B0123478/S01234678"]);c.push(["Assimilation","B345/S4567"]);c.push(["Bacteria","B34/S456"]);c.push(["Blinkers","B345/S2"]);c.push(["Bugs","B3567/S15678"]);c.push(["Castles","B3678/S135678"]);c.push(["Cheerios","B35678/S34567"]);c.push(["Christmas Life","B1/S012345678"]);c.push(["Coagulations","B378/S235678"]);c.push(["Conway","B3/S23"]);c.push(["Conway's Game of Life","B3/S23"]);c.push(["Conway's Life",
"B3/S23"]);c.push(["Coral","B3/S45678"]);c.push(["Corrosion of Conformity","B3/S124"]);c.push(["Dance","B34/S35"]);c.push(["Day & Night","B3678/S34678"]);c.push(["Day and Night","B3678/S34678"]);c.push(["Diamoeba","B35678/S5678"]);c.push(["DotLife","B3/S023"]);c.push(["DrighLife","B367/S23"]);c.push(["DryFlock","B37/S12"]);c.push(["DryLife","B37/S23"]);c.push(["DryLife without Death","B37/S012345678"]);c.push(["EightFlock","B3/S128"]);c.push(["EightLife","B3/S238"]);c.push(["Electrified Maze","B45/S12345"]);
c.push(["Eppstein","B35/S236"]);c.push(["Feux","B1358/S0247"]);c.push(["Flakes","B3/S012345678"]);c.push(["Flock","B3/S12"]);c.push(["Forest of Ls","B168/S236"]);c.push(["Fredkin","B1357/S02468"]);c.push(["Fuzz","B1/S014567"]);c.push(["Gems Minor","B34578/S456"]);c.push(["Gems","B3457/S4568"]);c.push(["Geology","B3578/S24678"]);c.push(["Gnarl","B1/S1"]);c.push(["Grounded Life","B35/S23"]);c.push(["H-Trees","B1/S012345678"]);c.push(["HighFlock","B36/S12"]);c.push(["HighLife","B36/S23"]);c.push(["HighLife without Death",
"B36/S012345678"]);c.push(["Holstein","B35678/S4678"]);c.push(["HoneyFlock","B38/S128"]);c.push(["HoneyLife","B38/S238"]);c.push(["Iceballs","B25678/S5678"]);c.push(["InverseLife","B012345678/S34678"]);c.push(["Invertamaze","B028/S0124"]);c.push(["IronFlock","B36/S128"]);c.push(["IronLife","B36/S238"]);c.push(["Land Rush","B36/S234578"]);c.push(["Life SkyHigh","B368/S236"]);c.push(["Life without Death","B3/S012345678"]);c.push(["Life","B3/S23"]);c.push(["Live Free or Die","B2/S0"]);c.push(["Logarithmic replicator rule",
"B36/S245"]);c.push(["LongLife","B345/S5"]);c.push(["Long Life","B345/S5"]);c.push(["LowDeath without death","B368/S012345678"]);c.push(["LowDeath","B368/S238"]);c.push(["LowFlockDeath","B368/S128"]);c.push(["LowLife","B3/S13"]);c.push(["Majority","B45678/S5678"]);c.push(["Maze","B3/S12345"]);c.push(["Maze with Mice","B37/S12345"]);c.push(["Mazectric","B3/S1234"]);c.push(["Mazectric with Mice","B37/S1234"]);c.push(["Morley","B368/S245"]);c.push(["Move","B368/S245"]);c.push(["Neon Blobs","B08/S4"]);
c.push(["Never happy","B345/S0456"]);c.push(["Oscillators Rule","B45/S1235"]);c.push(["Pedestrian Flock","B38/S12"]);c.push(["Pedestrian Life","B38/S23"]);c.push(["Pedestrian Life without Death","B38/S012345678"]);c.push(["Persian Rug","B234/S"]);c.push(["Plow World","B378/S012345678"]);c.push(["Pseudo Life","B357/S238"]);c.push(["Pulsar Life","B3/S238"]);c.push(["Replicator","B1357/S1357"]);c.push(["Replicator 2","B1357/S02468"]);c.push(["Rings 'n' Slugs","B56/S14568"]);c.push(["Seeds","B2/S"]);
c.push(["Serviettes","B234/S"]);c.push(["Shoots and Roots","B3/S245678"]);c.push(["Slow Blob","B367/S125678"]);c.push(["Snakeskin","B1/S134567"]);c.push(["Solid islands grow amongst static","B12678/S15678"]);c.push(["SnowLife","B3/S1237"]);c.push(["Stains","B3678/S235678"]);c.push(["Star Trek","B3/S0248"]);c.push(["Virus","B36/S235"]);c.push(["Vote","B5678/S45678"]);c.push(["Vote 4/5","B4678/S35678"]);c.push(["Walled Cities","B45678/S2345"]);d.push("OT Tri");c.push(["Outer-Totalistic Triangular",
""]);c.push(["Life 2333","B3/S23L"]);c.push(["Life 2345","B45/S23L"]);c.push(["Life 2346","B456/S23L"]);c.push(["Life 3445","B45/S34L"]);c.push(["Life 3446","B456/S34L"]);c.push(["Life 4546","B456/S45L"]);c.push(["Life 4644","B4/S456L"]);c.push(["Rule 1246","B456/S12L"]);c.push(["Rule 3544","B4/S345L"]);d.push("OT M G");c.push(["Outer-Totalistic Generations Moore",""]);c.push(["9:43 at Knight","237/34578/4"]);c.push(["Banners","2367/3457/5"]);c.push(["BelZhab","23/23/8"]);c.push(["BelZhab Sediment",
"145678/23/8"]);c.push(["Bloomerang","234/34678/24"]);c.push(["Bombers","345/24/25"]);c.push(["Brain 5","/2/5"]);c.push(["Brain 6","6/246/3"]);c.push(["Brian's Brain","/2/3"]);c.push(["Burst","0235678/3468/9"]);c.push(["BurstII","235678/3468/9"]);c.push(["Caterpillars","124567/378/4"]);c.push(["Chenille","05678/24567/6"]);c.push(["Circuit Genesis","2345/1234/8"]);c.push(["Constellations","/23/3"]);c.push(["Cooties","23/2/8"]);c.push(["Diamonds and Spaceships","34578/257/16"]);c.push(["Ebb&Flow","012478/36/18"]);
c.push(["Ebb&Flow II","012468/37/18"]);c.push(["Faders","2/2/25"]);c.push(["Fireballs","346/2/4"]);c.push(["Fireworks","2/13/21"]);c.push(["Flaming Starbows","347/23/8"]);c.push(["Free Star","0345/2/10"]);c.push(["Frogs","12/34/3"]);c.push(["Frozen spirals","356/23/6"]);c.push(["GeneroLife","2356/3567/4"]);c.push(["Glisserati","035678/245678/7"]);c.push(["Glissergy","035678/245678/5"]);c.push(["Lava","12345/45678/8"]);c.push(["Lines","012345/458/3"]);c.push(["LivingOn TheEdge","345/3/6"]);c.push(["Meteor Guns",
"01245678/3/8"]);c.push(["Nova","45678/2478/25"]);c.push(["OrthoGo","3/2/4"]);c.push(["Prairie on fire","345/34/6"]);c.push(["RainZha","2/23/8"]);c.push(["Rake","3467/2678/6"]);c.push(["SediMental","45678/25678/4"]);c.push(["Snake","03467/25/6"]);c.push(["SoftFreeze","13458/38/6"]);c.push(["Spirals","2/234/5"]);c.push(["Star Wars","345/2/4"]);c.push(["Sticks","3456/2/6"]);c.push(["Swirl","23/34/8"]);c.push(["Tadpoles","0125678/345678/64"]);c.push(["ThrillGrill","1234/34/48"]);c.push(["Transers","345/26/5"]);
c.push(["TransersII","0345/26/6"]);c.push(["Transers 2","0345/26/6"]);c.push(["Transers 3","0345/26/7"]);c.push(["Wallplicators","345/25678/7"]);c.push(["Wanderers","345/34678/5"]);c.push(["Worms","3467/25/6"]);c.push(["Xtasy","1456/2356/16"]);d.push("INT Hex");c.push(["Isotropic Non-Totalistic Hex",""]);c.push(["Hex Life","B2o3m56/S2-p4oH"]);c.push(["Hex Inverse Fire","B2-m4-m56/S2m34m56H"]);c.push(["HexLife","B3o/S234-o6H"]);c.push(["22da","B2/S2-mH"]);c.push(["Hexrule b2o","B2o/S2m34H"]);d.push("INT M");
c.push(["Isotropic Non-Totalistic Moore",""]);c.push(["15Life","B34r/S23-q4et"]);c.push(["104life","B34ky5cy/S23-a4ity6c7"]);c.push(["22k","B2-k/S2-k"]);c.push(["2diagonal","B2n3/S23"]);c.push(["2xpand2","B3/S123eik4ce"]);c.push(["3x3","B35cky68/S0245-c6n"]);c.push(["38life","B35y/S2-n35k6ci"]);c.push(["4diagonal","B34c/S23"]);c.push(["4life","B34jy/S23"]);c.push(["4life2","B34j/S23"]);c.push(["57life","B34tyz5cy/S23-a4it5ej"]);c.push(["acnelife","B34/S2eik3"]);c.push(["aLife","B3/S234iw"]);c.push(["Arcane Circuitry",
"B2ci3aikr/S1e2-a3i"]);c.push(["Arrow","B3-jkn4a/S1e2-a3ijnry4n"]);c.push(["Artillery","B3-y7/S2-i3-c4kqt"]);c.push(["Atomic","B2ei3i/S1c2-n3jr4an5i6c"]);c.push(["ATPP","B3-ckq4z/S2-c3-a4iq5k6k"]);c.push(["B - ibis","B2n34cyz6n8/S2-n3-a4cq68"]);c.push(["Banks-I","B3e4ejr5cinqy6-ei78/S012-e3-ajk4-akqw5-ajk6-e78"]);c.push(["Banks-III","B2ce3e4jr5cin6-en7c8/S012-ac3-cn4-eikny5-kr67c8"]);c.push(["Beaecsizae","B34ce/S12-a3"]);c.push(["Ben's rule","B2-ak3einqy4e/S1c2ak3inqy4e"]);c.push(["Best Friends",
"B2ce3aiy/S12aei3r"]);c.push(["Bigship","B2ei3einqy4ny5ajkr/S23ajkr4jnry5inqy"]);c.push(["Bgunlife","B34eny5e/S23-a4iy5e6c"]);c.push(["Billiard","B36-e/S12345"]);c.push(["Blasts","B2e3airy4kt5jr6c8/S02ace3eiknr4-aj5-cei6-a78"]);c.push(["BlinkBlink","B35ky/S234y"]);c.push(["Blocks for Days","B2-ae3-cij4a5aj6e7e8/S01e2ai3ar4ar5air6ae7c8"]);c.push(["blockandglider","B3/S234cw7c"]);c.push(["Blockship","B3-cer4ceqwz5acek6in78/S2-in3-eq4eqwyz5eikn678"]);c.push(["BoatLife","B3-knqy/S2-n3-ey4akwy5aik6kn"]);
c.push(["boatLife","B3ainqy4aeq5ejn8/S2-in3-aek4aciq5ae6-c7c8"]);c.push(["bpuff","B3/S23-cky4k7e8"]);c.push(["Breps","B34cqy5c/S23-y4y"]);c.push(["Breps-2","B3aeijn4n8/S234iqz"]);c.push(["Bricks","B2ak5c/S2cn3inqy4aikqtwz5inqy"]);c.push(["Bubbles","B3ai4-a/S23"]);c.push(["Butterfly","B2i34e6i7c/S2-i36n"]);c.push(["butterflyb7","B2i34e6i7/S2-i36n"]);c.push(["Buzz","B2i35-n/S2-ci36k8"]);c.push(["CapLife","B36c/S23"]);c.push(["CarrierLife","B2e3aceik/S23"]);c.push(["Cataverters","B3-cen/S234eijkrw5cry6ik"]);
c.push(["cb2","B2ae4i/S1e2in"]);c.push(["cetlife","B34cet/S234jkwyz"]);c.push(["Clouds","B2e3aceij/S23-a4"]);c.push(["Cloudsdale","B2kn3-ekqr4i5eq6n8/S23-aeny4cikqr5ek6ace7c"]);c.push(["CommonRepl","B3/S23-ac4eiy6"]);c.push(["Conquerors and Colonizers","B2ace3acei4ace5acei6ace/S"]);c.push(["Conway++","B3/S234c"]);c.push(["Conway+-1","B3/S23-inqy4aikqtwz"]);c.push(["Conway+-2","B3/S2-ak34aikqtwz5inqy"]);c.push(["Conway--","B3/S2-ei3"]);c.push(["crawl","B37e/S2-i34y8"]);c.push(["Creperie","B2ikn3aijn/S23-ckqy"]);
c.push(["CrossLife","B3/S234et"]);c.push(["Crylife","B2n3-cry4kn6i7c/S23-a4i6c"]);c.push(["DenseLife","B3-q4y/S234z"]);c.push(["Diamoeral","B2n3ai4a78/S35678"]);c.push(["Diamonds","B2en3ij4a5e7e8/S1c2cek3-a4aiqw5aky"]);c.push(["DirtyLife","B3-cky5aq6ci7c/S23-ck4n6k7e"]);c.push(["DLife","B3-n/S23"]);c.push(["dolife","B2-ak3acei4ceqz5y/S234ce5ceky78"]);c.push(["dolife2","B2-a3acei4ceqz5y/S234ce5ceky78"]);c.push(["Dominoplex","B2cen3ek4ejkwz5-ein6an7e8/S12an3-eijq4enrty5e6k"]);c.push(["Dry15Life","B34r7/S23-q4et"]);
c.push(["DryGoats","B2in37/S123a"]);c.push(["Dustclouds01","B2ce3-ai/S01"]);c.push(["Dustclouds03","B2ce3-ai/S03"]);c.push(["EasyHighLife","B36-i/S23"]);c.push(["Eatsplosion","B2n3-ekqy4c5e/S2-cn3-eky4aij5e"]);c.push(["Eatsplosion IV","B2n3-q4aqz6n8/S2-in3-q4iz7c8"]);c.push(["EightGoats","B2in3/S123a8"]);c.push(["Einstein","B2ein3cijn4cnrwy5cnq6e/S1c2-ai3acny4anqy5c6ek8"]);c.push(["ElectrumLife","B367c/S2-i34q"]);c.push(["Emitters","B2i3ai4cei5c6c7/S2-ae3acein4-t5-aq6cei7c8"]);c.push(["Extension",
"B2cei3-ijnr4-a6i/S12-cn"]);c.push(["fakePiShipLife","B3-ck4e5k6i/S2-in35i6c8"]);c.push(["FalseB5","B35ce/S234jqtyz6k8"]);c.push(["Farespa","B34ck5/S23aceik4aci"]);c.push(["FattyLife","B3-n4nt5qr6i/S23"]);c.push(["FishLife","B3-ekqr4nt5r6i/S02-c3"]);c.push(["FlashLife","B2kn3-n4e/S23"]);c.push(["Flowflakes","B2-ac3acei4ey6n8/S02-n3-nqy4cekyz5ei6k7e"]);c.push(["Flutter","B2-a3j4-acekn56/S15y"]);c.push(["Flying Life","B3-k5r/S236n7e"]);c.push(["FogLife","B35eq7/S2-i34q"]);c.push(["Forestfire","B3ai4ekq5cy6n/S2-ci3-ace4inr5eqry"]);
c.push(["FrogLife","B36i/S1c23-acek5k6i8"]);c.push(["Fruitflies","B2-an4jn7e8/S12-k4r"]);c.push(["Fuzey","B2-ae3aej4ez/S03ac4aikqryz78"]);c.push(["GemLife","B34c6/S23-q"]);c.push(["Gentle relative","B2cen3ek4jkw5-aein6a7e/S12an3-eijq4enrty5e6k"]);c.push(["GlideLife","B34ek5ak/S2-c34z"]);c.push(["GlideLife2","B34ek5ak/S2-c34iz5y"]);c.push(["GliderGlut","B2k3aijn4ak5y6k/S2ae3ajnr4aiw"]);c.push(["GliderRROLife","B2e3einy4ak5ijq7c/S1c2-ai3-ceky4ejny5ceqr6ak"]);c.push(["glife","B3/S237c"]);c.push(["Glimmering Garden",
"B3-jknr4ity5ijk6i8/S23-a4city6c7c"]);c.push(["GMO snowflakes","B34c6n/S2-n3-ck4cijqtwy5y6n"]);c.push(["Goat Flock","B2in3/S123a"]);c.push(["Goats","B2in3/S123a"]);c.push(["Goldilocks I","B2ek3cei4acjr5c8/S02ack3kn4aen"]);c.push(["gp","B2ei3-a4ce5y6i/S234i7e"]);c.push(["Growflakes","B2-ac3acei4ey6n8/S02-n3-nqy4cekyz5ei6k"]);c.push(["guntlife","B35j6a/S2-i34q"]);c.push(["Half as Interesting","B2ce3i/S23"]);c.push(["hassl8life","B34k5e7c/S23-a4iyz"]);c.push(["hatlife","B35y/S23"]);c.push(["Hats and Shuttles",
"B34iqwy/S23-cq"]);c.push(["hedgehog","B3/S1c2-a35r6i"]);c.push(["HeptaFish","B3-e4i5i/S234e"]);c.push(["High15Life","B34r6/S23-q4et"]);c.push(["HighGoats","B2in36/S123a"]);c.push(["Hive","B3-ry4ckn/S2-in3-cjn4it5aiky6-a7e8"]);c.push(["hlife","B3/S234ce6k"]);c.push(["hlife2","B3/S2-in34nr"]);c.push(["hlife3","B3/S2-in34iw"]);c.push(["HoneyGoats","B2in38/S123a8"]);c.push(["HouseLife","B2i3/S23-r"]);c.push(["Hype","B2-ac3aei4ae6i8/S23-ejq8"]);c.push(["IceNine","B3aeiy4ae5i68/S2-in3-kqr4artz5aeny6-e78"]);
c.push(["ilife","B3/S235i"]);c.push(["Immortalife","B3-cqy4j/S2-n34i"]);c.push(["IneticLife","B2-an3-k/S2ac"]);c.push(["IronGoats","B2in36/S123a8"]);c.push(["Ising","B3e4ejr5cinqy6-ei78/S2ei3aejkr4-cny5-e678"]);c.push(["Just Friends","B2-a/S12"]);c.push(["Kgdm","B3/S2-c3-en4ceitz"]);c.push(["KineticLife","B2-an3/S2ac"]);c.push(["klife","B34n/S23"]);c.push(["Knyght","B2e3/S23-jq"]);c.push(["ktlife","B3/S2-i34nq"]);c.push(["LambdaLife","B3-k/S2-i3-k4cen"]);c.push(["LeapLife","B2n3/S23-q"]);c.push(["Leaplized D&N",
"B2n3678/S3-q4678"]);c.push(["LifeWithoutGliders","B35n/S23"]);c.push(["Linea","B2-a3-i/S23-a"]);c.push(["LispLife","B2n3/S23-q4e8"]);c.push(["LoafLife","B2n3-q/S23"]);c.push(["longlast","B3/S234ce8"]);c.push(["lotsofdots","B2ikn34e/S023-a4ce"]);c.push(["MaritimeLife","B2i34c6cen7c8/S2-i3-q4c5a6e8"]);c.push(["maze2","B3/S234-acew"]);c.push(["Migrating Bookends","B2ein3inry/S12-n3ce"]);c.push(["MilkyLife","B3-c4c5y8/S234qy5y8"]);c.push(["Mooselife","B34kz5e7c/S23-a4ityz5k"]);c.push(["move_rep","B3-r4e5e6-n/S23cr457e"]);
c.push(["Movero VIII","B2-a5k6n7c/S12-i3ij4k5j8"]);c.push(["MoveIt","B368/S23cy45-j6n"]);c.push(["movetub","B34e68/S245"]);c.push(["movev","B35y68/S245"]);c.push(["Movostill","B2i3acijk6i/S23-a4"]);c.push(["Movostill 2","B3acijk/S23-a4"]);c.push(["Movostill 3","B2e3aceij5-ijr/S23-a4"]);c.push(["MuddyLife","B3/S234k"]);c.push(["Nah","B345-a6/S2-a3-a4-a"]);c.push(["nonlife","B3-n/S234iz"]);c.push(["notlife","B3-q7c/S2-i3-q4q"]);c.push(["notlife (Wright)","B2k3-k/S23-a"]);c.push(["Notlife / Ace","B2-a3/S2ce"]);
c.push(["Niemiec's Rule 0","B3/S2ae3aeijr4-cknqy"]);c.push(["olife","B2in3/S2-in3"]);c.push(["Omosso","B2k3acijr4ijqy6i7c/S2aek3ijnqr4it5n"]);c.push(["Orthogonable","B2e3aiknr4q/S1c2-in3aijry4a"]);c.push(["Particles (testitemqlstudop)","B2ce3i/S1c2cek"]);c.push(["Patchworks","B2-an3aiy/S2-in3cijky4-nqrz5k"]);c.push(["Pedestrian Goats","B2in38/S123a"]);c.push(["Pentadecathlife","B34e5y6cn8/S234c5e"]);c.push(["Photics I","B2ae4c678/S01e4aeqrtw5678"]);c.push(["Photics II","B2ae4cw5y6i/S01e2i4q"]);c.push(["Pi replicator life",
"B3-r4z5y/S238"]);c.push(["Pi-plicator","B3-ckq/S2-c34ci"]);c.push(["PiLife","B37e/S23"]);c.push(["Pilife2","B34c/S234y8"]);c.push(["plasma1","B012-in3-cky4ar5cjnr6ae/S05aijnr6n"]);c.push(["plife","B35j/S2-i3"]);c.push(["plife2","B35j6i/S2-i3"]);c.push(["PondLife","B36i/S2-i35i"]);c.push(["PortLife","B34cz5y/S234y8"]);c.push(["pre-x-rule","B2cei3ci4jnr5ikn/S12-ck4einqy5er6aei8"]);c.push(["Prismatika Crystallios","B2ae3r/S1e"]);c.push(["PlasmaLife","B34-air/S234-air"]);c.push(["Puffers","B3-nqr6/S235-nqr"]);
c.push(["PuffLife","B34-i5-a6-a/S2-an34-akrw"]);c.push(["qlife","B3-q/S23"]);c.push(["quadraticlife","B34j/S23"]);c.push(["Quasilinear Collisions","B2-ak3-jnqr/S15678"]);c.push(["Rakelife","B3aij/S2-i3ajnr4arz56-a7e"]);c.push(["Rainflakes","B2-ac3aei4ey5n6n8/S02-n3aceir4ceyz5e6k"]);c.push(["RBeeLife","B34cijkq5k6i8/S2-n3-ik4cjqt5y6cin8"]);c.push(["replife","B34jy6n/S2-i3"]);c.push(["reptlife","B36-k/S2-i34q"]);c.push(["ResistantLife","B34eknqyz/S23"]);c.push(["Ribbons","B3-nqr/S23"]);c.push(["RotoBlocks",
"B34cyz5y8/S234y5y6n8"]);c.push(["RotoDotPuffers","B2ikn3-ejnr/S01c2cei3ay4c"]);c.push(["RotoHooks","B34ckyz/S234cz"]);c.push(["rgun","B34t/S2-i35a7e"]);c.push(["Rule X3VI","B2c3aei4ajnr5acn/S2-ci3-ck4in5jkq6c7c"]);c.push(["RustyLife","B34-ai/S24-air5-a"]);c.push(["Salad","B2i34c/S2-i3"]);c.push(["Sanctuary","B2ei3ci/S1c23"]);c.push(["sansdomino","B2-a/S014"]);c.push(["Savanna","B2e3aeiy4ce5i6c7e/S2-n3-a4artz5aeny6cn"]);c.push(["Scenery","B3-cnry4-acery5i/S23-a4-jknqr5y8"]);c.push(["SharkLife","B34aeiz/S2-ak34ant6cek"]);
c.push(["signalife","B3aeijy5e6i/S2-c3-a4iq5k6ck"]);c.push(["SilverLife","B367/S2-i34q"]);c.push(["SimpleInverseFire","B2-ak4568/S156ak78"]);c.push(["Simple Life","B2k34c/S2-c34z8"]);c.push(["SLHassleLife","B3-y5cr/S234w6n"]);c.push(["SlugWorld","B2e3ai4arw5678/S3-an4ar5i678"]);c.push(["SolarWorld","B2ce3ci4iyz5ce6c/S12ce3ae"]);c.push(["SmokingLife","B2i34cj6a7c8/S2-i3-a4ceit6in"]);c.push(["Smorgasbord","B2e3aijr4q/S1c23-a5"]);c.push(["snotlife","B2k3-kn/S23"]);c.push(["Snowflakes","B2ci3ai4c8/S02ae3eijkq4iz5ar6i7e"]);
c.push(["Snowflakes 2","B2ci3ai4c8/S02ae3eijkq4aiz5ar6i7e"]);c.push(["SparkLife","B36i/S234j"]);c.push(["SparklingLife","B34cqy/S234q"]);c.push(["SparseMethuseLife","B35y/S1e2-ci3-a5i"]);c.push(["StairWorld","B2-a3i4aijk/S2a3-i4"]);c.push(["Stars","B2e3-ceny4einqwz5-cikr6cei/S1c2e3aijky4aceijrz5-cejk6-ak7c8"]);c.push(["Suns","B2ei3aeij4cjt5ky6ei/S1c2ace3jkn4aeijktw5ekry6in7e"]);c.push(["Switches","B2ei3ij4ajnr6ci/S12ce3ajn4qtz5ijnqy6c"]);c.push(["Symmetristic","B2-ak3-jnqr4ceiqtwz5-jnqr6-ak/S2-ak3-jnqr4ceiqtwz5-jnqr6-ak"]);
c.push(["t4life","B34jy/S2-i3"]);c.push(["TableLife","B3/S23-ai4anq6n"]);c.push(["TauLife","B3-nr/S2-i34-aij"]);c.push(["tceclife","B36ce7c/S2-i34q"]);c.push(["tDryFlock","B37/S12-i4q"]);c.push(["tDryLife","B37/S2-i34q"]);c.push(["TearfulLife","B34e5c6n/S23-q"]);c.push(["tEightLife","B3/S2-i34q8"]);c.push(["testlife","B36a/S23"]);c.push(["tflock","B3/S12-i4q"]);c.push(["tHighFlock","B36/S12-i4q"]);c.push(["tHighLife","B36/S2-i34q"]);c.push(["ThisLife","B36i/S23-ce5q"]);c.push(["tlife","B3/S2-i34q"]);
c.push(["tosc","B3/S234wz"]);c.push(["tosc2","B36in/S234cw"]);c.push(["tPedestrianFlock","B38/S12-i4q"]);c.push(["tPedestrianLife","B38/S2-i34q"]);c.push(["tq6","B2i34e/S023-a4ce"]);c.push(["Traffic Flow","B2e3aciy4jnw68/S23678"]);c.push(["Train","B34t6k8/S2-i35a7e"]);c.push(["Trilobites","B3aijn4w5nq/S2ae3aijr4irz5y"]);c.push(["triship","B2a3e/S012-ai3-i45-i678"]);c.push(["Trycogene","B2ce3aijn/S2ak3-aijn4jkqty5cekr6ce8"]);c.push(["Turro","B2-a3c/S12-i"]);c.push(["Two-dots rule 1","B2ei3ci4aerw5acky6i8/S012-an3eiknq4qrty5aeik6ik8"]);
c.push(["Two-dots rule 2","B2-ak3aen4cenrtw5iq6e/S02ac3aenqy4ejqtwy5ak6acn7"]);c.push(["Twinkles","B2in34-a/S1e2ekn34ent"]);c.push(["Virus_v2","B3-nqr6/S235"]);c.push(["Wartlife","B3aijnq6n/S2-cn3-ceky4i"]);c.push(["WetLife","B34r/S23"]);c.push(["Whichlife","B2in3aeijn/S234e"]);c.push(["Wild Seas","B2c3-cekq4ikt5i8/S2-in3-acky4aijry5eiky6i"]);c.push(["wlife","B34w/S23"]);c.push(["Worms 0","B01c2n5a/S3a5i"]);c.push(["Writers","B2-a3-inqr4c6/S23"]);c.push(["WSScentral","B3-n45qr6i/S2eik3"]);c.push(["x-rule-pre",
"B2cei3ci4jnr5ikn/S12aen3c4einqy5er6aei8"]);c.push(["xtdbee","B3-k/S23"]);c.push(["xvaLifeg","B2e3/S23"]);c.push(["Ylife","B2e3ai4ar/S23-a4a"]);c.push(["ylife (BokaBB)","B34y5y/S234y5y"]);c.push(["zigzag","B3/S2-k34q"]);c.push(["ZombieLife","B3-nqy4aqz5cn6n8/S2-i3-a4inqz7c8"]);d.push("INT M G");c.push(["Isotropic Non-Totalistic Generations Moore",""]);c.push(["HTech","234e/2e3/3"]);c.push(["Jellyfish","2ak34-a5-i/2c36k7/4"]);c.push(["KST","1234-i5anq6kn/3r4kr5eiq6ack7e/3"]);c.push(["Simple Brain",
"234e/e3/3"]);c.push(["Sliders","012-e3-ae4acnqyz5acer6acn78/3j4-eikq5c/3"]);c.push(["tGeneC1WC0","2-i34q/2c34w5c/4"]);d.push("NINT vN");c.push(["Non-Isotropic von Neumann",""]);c.push(["1d110","MAPLy0PDw"]);c.push(["AllShips","MAPAAD//w"]);c.push(["HybridViewW110","MAPPzz//A"]);c.push(["Sierpinski","MAPT48PDw"]);d.push("NINT Hex");c.push(["Non-Isotropic hexagonal",""]);c.push(["pentagonhood","MAPBARISEhIgIBISICAgIAAAA"]);d.push("NINT M");c.push(["Non-Isotropic Moore",""]);c.push(["2CellSlug","MAPBTDe/yAA9/8AAP//AAD//yAA/78AAP//AID//wAA//8AAP//AAD/2wAA//8AgP//AAD//4AA//+AAH//AAD//w"]);
c.push(["BLAHTWOCELLGUN","MAPAMB/vwAA//8AAP//AAD//wAA//8AAP//AAD//wAA//8AAP//AAD//wAA//8AAP//AAD//wAA//8AAP//AAD//w"]);c.push(["cloverleafsim","MAPAAD//zAwPz8AAP//MDA/PwAA//8AAP//AAD//wAA//8AAD8/AAD//wAAPz8AAP//wMD//wAA///AwP//AAD//w"]);c.push(["FoxLife","MAPARYXfhZofugWaH7oaIFoxBZofuhogOiAaIFoxIAAgAAWaH7oaIFoxGiA6ICAAIAAaIFoxIAAgACAAIAAAAAAAA"]);c.push(["loopy","MAPACD/JSDI//8AAL+/AAB//wAA/f+AgP//AAB//xCA//8IAP//AAD//wAA//8AAH//AAL//wCA//8AAvv7AAL//w"]);c.push(["MaxPeriod_2x2k2","MAPADC9vyIA/f8AAH//AAD//wCA//+AAP//AID/fwAA//8AAH//AAB//wAA//8AAP//AAD//4AA//8AAP//AAD//w"]);
c.push(["movingdiagonal","MAPAAAAAAAAAAD//wAA//8AAAAAAAAAAAAA//8AAP//AAAAAAAAAAAAAP//AAD//wAAAAAAAAAAAAD//wAA//8AAA"]);c.push(["MovingStrings","MAPARH+/wMT//8BEf7/AxP//wER/v8DE///AREAAAMTAAABEf7/AxP//wER/v8DE///AREAAAMTAAABEQAAAxMAAA"]);c.push(["MuzikThing","MAPACD//wAA3/8AgH//AAD//wCAf/8AAP//AAD//wAA//8AAH//AAD//wAA//8AAP//gAD//wAA//8AAP//AAD//w"]);c.push(["MyEntry","MAPIAD/7wgA/f8AAP//AAD//wAA//8AAP//AAD/fwAA//8AAP//AAD//wAA//8AAP//AAD//4AA//8AAP//AAD//w"]);c.push(["randomnn","MAPA1Az8wMAqgAAUADAAAAAAAAAgMAAAIAAgICAwAAAgAAAAAAAiACqAAAAAAAAAAAAAACAAIgAgACAgIAAAACAAA"]);
c.push(["OLife","MAPABD/vgIB//8AAP//AAD//wAA/78AAN3/AJB/vwAAf/8AAP//AABd/wAA//8AAP//AAD//4IA//8AAP//AIB//w"]);c.push(["Rhufo","MAPARH//wMA//8AAP9/AAD//wAA//8AAP9/AAD//wAA//8AAP//AAB//wAA//8AAP//AAD//wAA//8AAH9/AAB//w"]);c.push(["Rhufo2","MAPARH//wMA//8AAH9/AAD//wAAX/8AAP9/AAB/7wAA//8AAH//AAB//wAA//8AAP//AAB//wAA/f8AAH8/AAB3/w"]);c.push(["rules0","MAPCkA/3wAI939CUM/bABH//4Agft4JAPX+IgH/3QAQ9u8AAP//AID/fwAA//8AAP//BQD9/wAA/98AAP//AAD//w"]);c.push(["rules6","MAPAgl/+0Ug/fVAIv/9AADdPwDi9/uAQft5qIDtlQgA/b8gAP//AAD//wAQv/8AAP7+AhD/+gAA/f8EAv//AID//w"]);
c.push(["SemiFelineLife","MAPARYXfhZofugWaH7oaIDogBZofuhogOiAaIDogIAAgAAWaH7oaICatGiA6ICAAIAAaICatIAAgACAAIAAAAAAAA"]);c.push(["Simple_Weird_Ships","MAPABHs/wMA//8AAP//AAD//wAA/38AAP//AAD//wAA//8AAP//gAD//wAA//8AAP//AAD//wAA//8AAP//AAD//w"]);c.push(["Snowflakes (MCell)","MAPBTBogCKlgABMQ4AUYkgAACWogADgtwAAEpgAABwzAABMOIAAGUgGAO0FAAAVpQAAEkYAAMIzAAClRQCADbeASA"]);c.push(["Socrates","MAPARYXfhZofugWaH7oaIDogBZofuhogOiAaIDogIAAgAAWaH7oaIDogGiA6ICAAIAAaIDogIAAg00IAmSocrateg"]);c.push(["x-rule","MAPBSB64CCTqARFBImEADAGBSCTgICTSIAAADCFCSTAAAANAMEUBCKEBchCE00YAE3IACSFACCIQQDIIF4UIIAGSA"]);
c.push(["water","MAPABAbrwAA//8AQltdAAD+/8Aa/f8AAP//YgD//wAA//8AAP//QAD//wBA//8AAP/fAgD3+wKA//8AIPZ/AAD//w"]);d.push("LtL M");c.push(["Larger than Life Moore",""]);c.push(["Balloons","R2,C2,M1,S7..10,B7..11,NM"]);c.push(["Bosco's Rule","R5,C2,M1,S34..58,B34..45,NM"]);c.push(["Bosco Analogue","R5,C2,M1,S34..53,B31..42,NM"]);c.push(["Bugs R3","R3,C2,M1,S14..23,B14..18,NM"]);c.push(["Bugs R4","R4,C2,M1,S23..39,B23..30,NM"]);c.push(["Bugs R6","R6,C2,M1,S47..81,B47..63,NM"]);c.push(["Bugs R6 variant",
"R6,C2,M1,S47..81,B47..71,NM"]);c.push(["Bugs R7","R7,C2,M1,S63..108,B63..84,NM"]);c.push(["Bugs R9","R9,C2,M1,S101..173,B101..134,NM"]);c.push(["Bugs R10","R10,C2,M1,S124..211,B124..164,NM"]);c.push(["Bugs R10 variant","R10,C2,M1,S124..211,B124..166,NM"]);c.push(["Bugs R12","R12,C2,M1,S175..300,B175..232,NM"]);c.push(["Bugs R13","R13,C2,M1,S205..349,B205..271,NM"]);c.push(["Bugs R14","R14,C2,M1,S236..403,B236..313,NM"]);c.push(["Bugs R15","R15,C2,M1,S269..461,B270..357,NM"]);c.push(["Bugs R100 variant",
"R100,C2,M1,S11303..19361,B11100..14996,NM"]);c.push(["Bugsmovie","R10,C2,M1,S123..212,B123..170,NM"]);c.push(["Globe","R8,C2,M1,S164..224,B74..252,NM"]);c.push(["Majorly","R7,C2,M1,S113..225,B113..224,NM"]);c.push(["Mini Bugs","R2,C2,M1,S7..10,B7..8,NM"]);c.push(["Miniature Bugs","R3,C2,M1,S15..22,B14..25,NM"]);c.push(["Pigs","R2,C2,M1,S10..19,B4..4,NM"]);c.push(["Quadratic Bugs","R6,C2,M1,S47..81,B47..61,NM"]);c.push(["Rasta Bugs","R5,C2,M1,S41..59,B32..50,NM"]);c.push(["Smudge","R2,C2,M1,S7..11,B8..8,NM"]);
c.push(["Stones","R5,C2,M1,S29..58,B38..61,NM"]);c.push(["Soldier Bugs","R7,C2,M1,S65..114,B65..95,NM"]);c.push(["Suicidal Bugs","R5,C2,M1,S37..59,B33..49,NM"]);c.push(["Waffle","R7,C2,M1,S100..200,B75..170,NM"]);c.push(["Waving human intestines","R20,C2,M1,S1..21,B1..5,NM"]);d.push("LtL M G");c.push(["Generations Larger than Life Moore",""]);c.push(["Fire rule","R5,C6,M1,S31..43,B15..25,NM"]);c.push(["Fire whirl","R8,C6,M1,S46..91,B65..100,NM"]);c.push(["ModernArt","R10,C255,M1,S2..3,B3..3,NM"]);
d.push("HROT cross");c.push(["Higher-Range Outer-Totalistic cross",""]);c.push(["Factorio","R3,C2,S2,B3,N+"]);d.push("HROT hash");c.push(["Higher-Range Outer-Totalistic hash",""]);c.push(["Hash","R2,C2,S4-6,B5-6,N#"]);d.push("HROT vN");c.push(["Higher-Range Outer-Totalistic von Neumann",""]);c.push(["Fredkin2 R2","R2,C2,S0,2,4,6,8,10,12,B1,3,5,7,9,11,NN"]);c.push(["Parity R2","R2,C2,S1,3,5,7,9,11,B1,3,5,7,9,11,NN"]);d.push("HROT M");c.push(["Higher-Range Outer-Totalistic Moore",""]);c.push(["Fredkin R2",
"R2,C2,S0,2,4,6,8,10,12,14,16,18,20,22,24,B1,3,5,7,9,11,13,15,17,19,21,23"]);c.push(["Fredkin R3","R3,C2,S0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,B1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47"]);c.push(["Fredkin R4","R4,C2,S0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,B1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79"]);
c.push(["Replicator R2","R2,C2,S1,3,5,7,9,11,13,15,17,19,21,23,B1,3,5,7,9,11,13,15,17,19,21,23"]);c.push(["Replicator R3","R3,C2,S1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,B1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47"]);c.push(["Replicator R4","R4,C2,S1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79,B1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79"]);
d.push("HROT custom");c.push(["Higher-Range Outer-Totalistic custom",""]);c.push(["Marine","R2,C2,S4,6-9,B6-8,N@03ddef"]);d.push("Weighted");c.push(["Weighted",""]);c.push(["Border","R1,C2,S10-16,B1-8,NW010101010901010101"]);c.push(["Bustle","R1,C4,S2,4-5,7,B3,NW212101212"]);c.push(["Career","R1,C2,S2-3,B3,NW121101111"]);c.push(["Cloud54","R1,C2,S2-3,9-10,19,27,B3,10,27,NW010109010009010909"]);c.push(["Cloud75","R1,C2,S2-4,10-11,13,18,21-22,27,29-31,36-40,B3,10,27,NW010109010009010909"]);c.push(["Coexistence",
"R4,C0,S9,14,16-17,21,23-24,30-31,37-38,44-45,51-52,58-59,B3,10,17,21,24,31,38,45,52,59,NW100010001000000000000000000000777000100707001000777000000000000000000000100010001"]);c.push(["CrossPorpoises","R1,C2,S2-3,6-10,12-13,B5,NW141404140"]);c.push(["Cyclish","R1,C7,S2,B1-3,NW010101010"]);c.push(["Cyclones","R1,C5,S2,4-5,B2-5,NW110101011"]);c.push(["Dragon","R1,C2,S1-2,7-8,12,15,18,20,B7,11-13,20,NW515101515"]);c.push(["Emergence","R1,C2,S2-4,10-11,16-17,24-25,B3-4,9,24,NW010801010001080801"]);c.push(["Fire-flies",
"R1,C9,S1,10,B6,11-12,21,NW010501050a05010501"]);c.push(["Fleas","R1,C2,S2-3,6-7,10-11,15,20,B2,11,NW515101515"]);c.push(["Fleas2","R1,C2,S1-2,5,7,10-11,B2,4,8,11,NW515101515"]);c.push(["NoFleas2","R1,C2,S2-3,5-7,10-11,B2,4,8,11,NW515101515"]);c.push(["FroggyHex","R1,C2,S1,6,8,B5-6,NW410104041H"]);c.push(["Frost M","R1,C25,S,B1,NW111101111"]);c.push(["Frost N","R1,C25,S,B1,NW010101010"]);c.push(["Gnats","R1,C2,S0-2,11,19,B11,19,NW090109010001090109"]);c.push(["Hextenders","R1,C10,S1,3-5,B2-3,NW110101011H"]);
c.push(["HGlass","R1,C2,S1-3,11,21,25,29-31,B1-3,11,21,25,29-31,NW000200080110000400"]);c.push(["Hogs","R1,C2,S2-4,6,B5-6,NW023302230H"]);c.push(["Jitters","R1,C2,S4,14,B1,4,9,NW995505599"]);c.push(["Lemmings","R1,C2,S3-6,B4,NW121202131"]);c.push(["Linguini","R1,C2,S2-4,9-11,19-20,B11,18,NW090109010001090109"]);c.push(["Madness","R1,C2,S8,10,12,14,B5,8,13,NW232303232"]);c.push(["MazeMakers","R1,C2,S2-3,6-10,12-13,B5,NW441404141"]);c.push(["MidgeDN","R1,C9,S0,2-3,B4-6,NW222101212"]);c.push(["Midges",
"R1,C4,S3,5-6,B4-6,NW121232121"]);c.push(["MikesAnts","R1,C2,S4-5,B2,5-6,NW011100111"]);c.push(["Mosquito","R1,C2,S3-4,8-9,B2-3,9,NW995505599"]);c.push(["Mosquito2","R1,C2,S3-4,8-9,B3,6,9,18,NW995505599"]);c.push(["Navaho1","R1,C12,S8-9,11,B2,5,NW414575414"]);c.push(["Nocturne","R1,C4,S1,6,B2-4,NW110101011H"]);c.push(["Pictures","R1,C2,S1-3,B2-4,NW010101010"]);c.push(["PicturesH","R1,C9,S1-3,B2-4,NW010101010"]);c.push(["Pinwheels","R1,C7,S2,B2-3,NW110101011"]);c.push(["PipeFleas","R1,C3,S3-4,7,11-15,17-18,20,22-23,B6,10,NW515101515"]);
c.push(["PreHogs","R1,C2,S3-4,6,B5-6,NW230302023"]);c.push(["PuttPutt","R1,C2,S1-4,9,18,27,36,40,B2,4,11,18-19,36,40,NW090109010001090109"]);c.push(["SEmigration","R1,C2,S2-3,6-7,10-12,B7,11-12,16,NW515100505"]);c.push(["Simple","R1,C2,S1,5,B2,10,NW515101515"]);c.push(["Simple Inverse","R1,C2,S1,4-5,8-9,12-13,16-24,B2,9-10,13-14,17-18,21-22,24,NW515101515"]);c.push(["Simple Inverse Fire","R1,C2,S1,5,9,13,17-19,21,23-24,B2,4,8-10,12-14,16-18,20-22,24,NW515101515"]);c.push(["Stampede","R1,C8,S4,6,9-10,B4,7,NW130303130"]);
c.push(["Starburst","R1,C2,S2,4,6,B4,NW121202121"]);c.push(["Starbursts2","R1,C2,S2,4-6,B4,NW121202121"]);c.push(["Stream","R1,C2,S1,3-4,7-11,B5,7-8,10-11,NW010104041"]);c.push(["UpDown1","R1,C2,S2,4-6,9,12,16,20,B3,6,9,12,NW111404444"]);c.push(["UpDown2","R1,C2,S2-3,7,10-12,15,B3,7,11,15,NW151101555"]);c.push(["Upstream","R1,C10,S4,6,9-10,B4,7,NW130404130"]);c.push(["Vineyard","R1,C2,S2,6,8-10,12-13,B5,NW141404040"]);c.push(["Vineyard2","R1,C2,S2,8-10,12-13,B5,NW141404040"]);c.push(["Weevils","R1,C2,S1-4,B5-6,14,NW331101133"]);
c.push(["Weighted Brain","R1,C3,S3-4,7,B4-5,8,NW3323d3232"]);c.push(["Y_Chromosome","R1,C3,S2,B2,NW110101011"]);d.push("Weighted G");c.push(["Weighted Generations",""]);c.push(["WG Rule004","R1,C4,S6-11,B4,NW111101111,0201"]);c.push(["WG Rule012","R1,C6,S4-5,B5,NW111101111,021111"]);c.push(["WG Rule020","R1,C6,S5-8,B5,NW111101111,020301"]);c.push(["WG Rule031","R1,C4,S5-7,B4,NW111101111,0210"]);c.push(["WG Rule038","R1,C5,S8,B6,9,NW111101111,03210"]);c.push(["WG Rule050","R1,C8,S4-8,B6,NW111101111,02120300"]);
c.push(["WG Rule063","R1,C5,S6-7,9-11,B7,10,NW212101212,03101"]);c.push(["WG Rule071","R1,C6,S8-16,B6,NW111101111,031012"]);c.push(["WG Rule072","R1,C6,S8-16,B6,NW111101111,030112"]);c.push(["WG Rule074","R1,C5,S4-8,B3,NW111101111,02001"]);c.push(["WG Rule084","R1,C7,S5-6,B5,NW212101212,0121001"]);d.push("Alt OT M");c.push(["Alternating Outer-Totalistic Moore",""]);c.push(["alternlife","B13/S012345678|B/S15"]);c.push(["comb395","B3/S1237|B2/S"]);c.push(["comb625","B3/S348|B2/S356"]);c.push(["Dotlesslife",
"B3/S23|B/S12345678"]);c.push(["Fizzler","B13/S3|B/S345678"]);c.push(["Jelly","B3/S135|B2/S5"]);c.push(["Phoenix","B24/S|B35/S"]);d.push("Alt INT M");c.push(["Alternating Non-Totalistic Moore",""]);c.push(["SparklessLife","B3/S23|B/S1c2345678"]);c.push(["Unidim1","B134578/S02345678|B6i7/S268"]);c.push(["Unidim2","B12ci34578/S02345678|B7/S268"]);c.push(["Unidim3","B12ci34578/S02345678|B6i7/S268"]);this.kd[0][2]=!1;this.kd[0][3]=!1;for(a=1;a<this.kd.length;a+=1)for(c=this.kd[a][1],d=this.kd[a][0],this.kd[a][2]=
!1,this.kd[a][3]=!1,b=0;b<a;b+=1)this.kd[b][0]===d&&(this.kd[b][3]=!0,this.kd[a][3]=!0),this.kd[b][1]===c&&(this.kd[b][2]=!0,this.kd[a][2]=!0)},Tp:function(a){var b=null,c=0;for(a=a.replace(/&amp;/g,"&");c<this.kd.length&&null===b;)""!==this.kd[c][1]&&this.kd[c][0]===a&&(b=this.kd[c][1]),c+=1;if(!b)for(a=a.toLowerCase(),c=0;c<this.kd.length&&null===b;)""!==this.kd[c][1]&&this.kd[c][0].toLowerCase()===a&&(b=this.kd[c][1]),c+=1;return b},Sp:function(a){for(var b=null,c=0;c<this.kd.length&&null===b;)""!==
this.kd[c][1]&&this.kd[c][1]===a&&(b=this.kd[c][0]),c+=1;"Conway's Life"===b&&(b="Life");return b}};nb.prototype.V=function(){var a=!1;if(""!==this.message||""!==this.i)a=!0;return a};nb.prototype.clear=function(a,b){a?""!==this.i&&(b||this.v?(this.i="",this.v=!1):(a=performance.now()-this.F,a<this.A+this.D&&(this.F=performance.now()-(this.A+this.D)),this.v=!0)):""!==this.message&&(b||this.u?(this.u=!1,this.message=""):(a=performance.now()-this.startTime,a<this.G+this.H&&(this.startTime=performance.now()-
(this.G+this.H)),this.u=!0))};nb.prototype.notify=function(a,b,c,d,f){this.S&&(f?this.i!==a&&(this.i=a,this.A=16*b,this.D=16*c,this.Y=16*d,this.F=performance.now(),this.v=!1,this.j=0,this.I=!1):(this.message=a,this.G=16*b,this.H=16*c,this.$=16*d,this.startTime=performance.now(),this.u=!1))};nb.prototype.da=function(){var a=128>this.j?this.j/128:(255-this.j)/128;this.h.fillStyle="rgb("+(this.C.Cb*a+this.C.tc*(1-a))+","+(this.C.zb*a+this.C.sc*(1-a))+","+(this.C.yb*a+this.C.rc*(1-a))+")"};nb.prototype.O=
function(a,b,c){var d=this.h.measureText(a).width>>1;if(this.P){this.h.fillStyle=this.ca;var f=this.h.globalAlpha;this.h.globalAlpha=.5*f;this.h.fillRect(-d-20,-c,2*d+40,2*c);this.h.globalAlpha=f}this.h.fillStyle=this.Z;this.h.fillText(a,-d+2,2);b?this.I?(this.da(),this.j=this.j+4&255):this.h.fillStyle=this.B:this.h.fillStyle=this.m;this.h.fillText(a,-d,0)};nb.prototype.aa=function(a,b,c,d,f,e,g){var k=30*this.s,l=32*this.s,p=this.C.pb,n=60*this.s,q=!0;this.C.da?(n=0,e=this.h.canvas.height/2,this.P=
!0):this.P=!1;""!==a&&(q=!1,f=performance.now()-f,this.h.save(),this.C.Z&&(g?(n=0,e=this.h.canvas.height/2):(k/=p,l=l/p|0,e=e/p|0,n=n/p|0)),this.h.font=(k|0)+"px Arial",this.h.translate(this.h.canvas.width/2-1,n+e),f<=b?(e=f/b,e*=e,this.h.globalAlpha=e,this.h.scale(e,e)):f>b+c&&f<=b+c+d&&(e=(d-(f-(b+c)))/d,e*=e,this.h.globalAlpha=e,this.h.scale(e,e)),f>b+c+d?q=!0:(b=a.indexOf("\\n"),-1===b?this.O(a,g,l):(this.O(a.substring(0,b),g,l),this.h.translate(0,l),this.O(a.substring(b+2),g,l))),this.h.restore());
return q};nb.prototype.ba=function(){var a=this.C.i.B;this.aa(this.message,this.G,this.H,this.$,this.startTime,81*a,!1)&&(this.message="");this.C.Z&&"Expand"!==this.i&&"Launch"!==this.i&&"Copy"!==this.i||!this.aa(this.i,this.A,this.D,this.Y,this.F,45*a,!0)||(this.i="")};vb.prototype.I=function(a){this.v=a};vb.prototype.D=function(a,b,c,d){var f=null,e,g=this.A.length,k,l,p=this.S;if(0<this.B.canvas.width){if(!this.Be){this.width=this.B.canvas.width;this.height=this.B.canvas.height;this.j=document.createElement("canvas");
this.j.width=this.width;this.j.height=this.height;this.m=this.j.getContext("2d");var n=document.createElement("canvas");n.width=this.width;n.height=this.height;this.F=n.getContext("2d");n=document.createElement("canvas");n.width=this.width;n.height=this.height;this.u=n.getContext("2d");this.m.clearRect(0,0,this.j.width,this.j.height);this.m.drawImage(this.B.canvas,0,0);f=this.m.getImageData(0,0,this.j.width,this.j.height);this.G=new Uint32Array(f.data.buffer)}if(this.s){n=new Uint32Array(this.G);
-1===p&&(p=4294901503);for(f=e=0;f<g;f+=1){for(l=38;1<l;--l){var q=e+l*this.width;var m=q-2-this.width-this.width;for(k=38;1<k;--k)0===n[q+k]&&4294967295===n[m+k]&&(n[q+k]=p)}e+=40}for(f=0;f<n.length;f+=1)if(4294967295===n[f]||4285558896===n[f])n[f]=this.O;f=this.u.createImageData(this.u.canvas.width,this.u.canvas.height);e=new Uint32Array(f.data.buffer);e.set(n);this.u.putImageData(f,0,0);n=new Uint32Array(this.G);for(f=e=0;f<g;f+=1){for(l=38;1<l;--l)for(q=e+l*this.width,m=q-2-this.width-this.width,
k=38;1<k;--k)0===n[q+k]&&4294967295===n[m+k]&&(n[q+k]=p);e+=40}for(f=0;f<n.length;f+=1)4294967295===n[f]?n[f]=this.P:4285558896===n[f]&&(n[f]=this.H);f=this.m.createImageData(this.m.canvas.width,this.m.canvas.height);e=new Uint32Array(f.data.buffer);e.set(n);this.m.putImageData(f,0,0);this.Be=this.s=!1}this.Be||(this.F.putImageData(f,0,0),this.Be=!0);1!==this.v&&(this.i.save(),this.i.translate(b,c),this.i.scale(this.v,this.v),this.i.imageSmoothingEnabled=!0,c=b=0);d?this.i.drawImage(this.u.canvas,
a.Po*a.width,0,a.width,a.height,b,c,a.width,a.height):this.i.drawImage(this.F.canvas,a.Po*a.width,0,a.width,a.height,b,c,a.width,a.height);1!==this.v&&(this.i.restore(),this.i.imageSmoothingEnabled=!1)}};vb.prototype.length=function(){return this.A.length};vb.prototype.h=function(a){var b,c=this.A,d=this.length(),f=null;for(b=0;b<d&&!f;)c[b].name===a?f=c[b]:b+=1;return f};vb.prototype.add=function(a,b,c){var d=this.A.length;a=new wc(a,b,c,d);this.A[d]=a};var da={Wt:0,te:1,vertical:2,Im:0,button:1,
If:2,list:3,label:4,si:0,wb:1,left:0,yA:1,right:2,ib:0,qc:1,fr:2,Fb:3,pl:4,bh:5,gz:6,ad:7,gb:8};Ya.prototype.va=function(a){this.ja=a};Ya.prototype.j=function(a){!this.M&&a&&(this.M=!0)};Ya.prototype.Qb=function(a){this.fontSize=parseInt(a.substring(0,a.indexOf("px")),10);this.ma=a.substring(a.indexOf("px")+3)};Ya.prototype.sa=function(a,b,c,d,f,e){this.cd=a;this.cc=b;this.V=c;this.ia=d;this.D=f;this.P=e;if(this.type===da.list)for(this.I=[],a=0;a<this.lower.length;a+=1)this.I[a]=this.cc};Ya.prototype.Jf=
function(a){this.H=a};Ya.prototype.wa=function(a){this.ga=a};Ya.prototype.ef=function(a){this.B=a};Ya.prototype.setPosition=function(a,b,c){this.position=a;this.Y=b;this.B=c};Ya.prototype.ta=function(a,b){var c=this.pa.s,d=this.pa.B,f=this.Y*c,e=this.B*d;c*=this.H;d*=this.ga;this.x=f;this.y=e;this.width=c;this.height=d;switch(this.position){case da.ib:this.x=(a-c>>1)+f;break;case da.qc:this.x=a+f;break;case da.fr:this.y=(b-d>>1)+e;this.x=a+f;break;case da.Fb:this.x=a+f;this.y=b+e;break;case da.pl:this.x=
(a-c>>1)+f;this.y=b+e;break;case da.bh:this.y=b+e;break;case da.gz:this.y=(b-d>>1)+e;break;case da.gb:this.x=(a-c>>1)+f,this.y=(b-d>>1)+e}};Ya.prototype.oa=function(a,b){var c=this.fa;this.Z[c]=[a,b];this.fa=c+1};Ya.prototype.ca=function(a){var b=[],c;var d=a.length;for(c=0;c<d;c+=1)a[c].oa(this,!0);d=b.length;for(c=0;c<d;c+=1)b[c].oa(this,!1)};Ya.prototype.ua=function(a,b){var c=!1;this.A&&a>=this.x&&a<this.x+this.width&&b>=this.y&&b<this.y+this.height&&(c=!0);return c};Xa.prototype.ya=function(a){this.B=
this.s=a;this.X.notification.s=a};Xa.prototype.Ca=function(a,b,c,d,f,e){var g;this.cd=a;this.cc=b;this.ea=c;this.ga=d;this.fa=f;this.ca=e;for(g=0;g<this.v.length;g+=1)this.v[g].sa(a,b,c,d,f,e)};Xa.prototype.va=function(a,b){var c=!1,d=a.fa;a.type===da.list&&a.u===da.wb?c=a.current[0]:c=a.current===a.u;if(c&&b)for(b=0;b<d;b+=1)c=c&&this.va(a.Z[b][0],a.Z[b][1]);return c};Xa.prototype.za=function(a){var b,c=a.fa;var d=!0;for(b=0;b<c;b+=1)d=d&&this.va(a.Z[b][0],a.Z[b][1]);a.A=d};Xa.prototype.Be=function(){var a;
for(a=0;a<this.u;a+=1){var b=this.v[a];b.A=!0;switch(b.type){case da.Im:b.v&&(b.current=b.v(b.current,!1,this.caller,b.id));break;case da.list:b.v&&(b.current=b.v(b.current,!1,this.caller,b.id))}this.za(b)}};Xa.prototype.m=function(a,b,c,d,f,e,g,k,l){this.v[this.u]=new Ya(this.u,a,this.caller,b,c,d,f,e,g,l,k,da.list,this.V,!0,"","",-1,[],this);this.u+=1;return this.v[this.u-1]};Xa.prototype.G=function(a,b,c,d,f,e,g,k,l,p,n,q){this.v[this.u]=new Ya(this.u,a,this.caller,b,c,d,f,e,g,k,l,da.Im,this.V,
!0,p,n,q,null,this);this.u+=1;return this.v[this.u-1]};Xa.prototype.j=function(a,b,c,d,f,e){this.v[this.u]=new Ya(this.u,null,null,a,b,c,d,f,0,0,0,da.label,this.V,!0,e,"",-1,null,this);this.u+=1;return this.v[this.u-1]};Xa.prototype.i=function(a,b,c,d,f,e,g){this.v[this.u]=new Ya(this.u,a,this.caller,b,c,d,f,e,0,0,0,da.button,this.V,!0,g,"",-1,null,this);this.u+=1;return this.v[this.u-1]};Xa.prototype.Ea=function(a){this.v[this.u]=new Ya(this.u,null,null,a,0,-40,100,40,0,100,0,da.If,this.V,!1,"",
"",0,null,this);this.u+=1;return this.v[this.u-1]};Xa.prototype.S=function(a,b){var c="";a+=String();if(""!==a){this.h.save();this.h.translate(b.x+b.width/2,b.y+b.height/2);this.h.font=(b.fontSize*this.s|0)+"px "+b.ma;b.Qm===da.vertical&&this.h.rotate(.5*Math.PI);var d=this.h.measureText(a).width;var f=b.Qm===da.vertical?b.height:b.width;if(d>=f-6){var e=a.length;var g=0;if(e){do c=a.substring(0,g)+"\u2026",d=this.h.measureText(c).width,g+=1;while(g<e&&d<=f-10);c=a.substring(0,g-1)+"\u2026"}a=c}switch(b.i){case da.left:var k=
b.width/2-2;break;case da.yA:k=d/2;break;case da.right:k=d/2-(b.width-d)/2+4}this.h.fillStyle=b.cc;this.h.fillText(a,2-k+.5,2.5);this.h.fillStyle=!b.locked&&!this.locked||b.G?b.cd:b.D;this.h.fillText(a,-k+.5,.5);this.h.restore()}};Xa.prototype.Ia=function(a){this.h.globalAlpha=this.P;this.S(a.Jb,a)};Xa.prototype.Fa=function(a){this.h.globalAlpha=this.P;this.S(a.Jb,a)};Xa.prototype.Na=function(a){var b=(a.current-a.lower)/(a.u-a.lower);this.h.globalAlpha=a.s;this.h.fillStyle=a.cd;a.orientation===da.te?
(b*=a.width-3,this.h.fillRect(a.x+(b+1|0),a.y,1,a.height)):(b*=a.height-3,this.h.fillRect(a.x,a.y+(b+1|0),a.width,1));b=a.Jb;a.ra&&(b=-1!==a.aa?b+a.current.toFixed(a.aa):b+a.current,b+=a.qa);""!==b&&(this.h.globalAlpha=a.S,this.S(b,a))};Xa.prototype.Pa=function(a,b){var c=(a.current[0]-a.lower)/(a.u-a.lower);var d=this.wa;a.orientation===da.te?(c*=a.width-3,c=c+1|0,b&&(this.h.fillStyle=a.V,this.h.globalAlpha=a.ba,this.h.fillRect(a.x+c-d,a.y,d,a.height),this.h.fillRect(a.x+c+1,a.y,d,a.height)),!a.locked&&
!this.locked||a.G?(this.h.fillStyle=a.cd,this.h.globalAlpha=a.S):(this.h.fillStyle=a.D,this.h.globalAlpha=a.O),this.h.fillRect(a.x+c,a.y,1,a.height)):(c*=a.height-3,c=c+1|0,b&&(this.h.fillStyle=a.V,this.h.globalAlpha=a.ba,this.h.fillRect(a.x,a.y+c-d,a.width,d),this.h.fillRect(a.x,a.y+c+1,a.width,d)),!a.locked&&!this.locked||a.G?(this.h.fillStyle=a.cd,this.h.globalAlpha=a.S):(this.h.fillStyle=a.D,this.h.globalAlpha=a.O),this.h.fillRect(a.x,a.y+c,a.width,1));b=a.Jb;a.ra&&(b=0<=a.aa?b+a.current[1].toFixed(a.aa):
b+a.current[1]);b+=a.qa;""!==b&&(this.h.globalAlpha=this.P,this.S(b,a))};Xa.prototype.Ma=function(a,b){var c=a.x;var d=a.y,f=a.width,e=a.height,g=a.orientation,k=a.current;var l=a.lower;var p=l.length;var n=a.orientation===da.te?f/p:e/p;this.h.globalAlpha=a.na;this.h.fillStyle=a.ia;if(a.u===da.si){var q=a.current;0<=q&&q<p&&(a.orientation===da.te?this.h.fillRect(c+q*n+1,d+1,n-2,e-2):this.h.fillRect(c+1,d+1+q*n,f-2,n-2))}else if(a.orientation===da.te){for(q=0;q<p;q+=1)k[q]&&this.h.fillRect(c+q*n+1,
d+1,n-2,e-2);1===p&&(!a.locked&&!this.locked||a.G?(this.h.strokeStyle=a.P,this.h.globalAlpha=a.$):(this.h.strokeStyle=a.D,this.h.globalAlpha=a.O),this.h.beginPath(),k[0]?(this.h.moveTo(c+n-6+.5,d+5.5),this.h.lineTo(c+n-2+.5,d+1.5),this.h.moveTo(c+n-2+.5,d+5.5),this.h.lineTo(c+n-6+.5,d+1.5)):(this.h.moveTo(c+n-4+.5,d+5.5),this.h.lineTo(c+n-4+.5,d+1.5),this.h.moveTo(c+n-6+.5,d+3.5),this.h.lineTo(c+n-2+.5,d+3.5)),this.h.stroke())}else for(q=0;q<p;q+=1)k[q]&&this.h.fillRect(c+1,d+1+q*n,f-2,n-2);a.da=
!1;b?(this.h.globalAlpha=a.ba,this.h.fillStyle=a.V,a.orientation===da.te?(q=(this.A-c)/f*p|0,0<=q&&q<p&&(a.m[q]?a.da=!0:this.h.fillRect(c+q*n+.5,d+.5,n-1,e-1))):(q=(this.F-d)/e*p|0,0<=q&&q<p&&(a.m[q]?a.da=!0:this.h.fillRect(c+.5,d+.5+q*n,f-1,n-1))),a.F=q):a.F=-1;this.h.globalAlpha=this.P;if(a.orientation===da.te)for(q=0;q<p;q+=1)a.h[q]&&this.$.D(a.h[q],a.x+n*q,a.y,this.locked||a.locked||a.m[q]);else for(q=0;q<p;q+=1)a.h[q]&&this.$.D(a.h[q],a.x,a.y+n*q,this.locked||a.locked||a.m[q]);this.h.globalAlpha=
a.S;this.h.fillStyle=a.cd;if(g===da.te)for(q=0;q<p;q+=1)c=l[q],""!==c&&(this.h.save(),this.h.translate((.5+(q-p/2))*n,0),this.S(c,a),this.h.restore());else for(q=0;q<p;q+=1)c=l[q],""!==c&&(this.h.save(),this.h.translate(0,(.5+(q-p/2))*n),this.S(c,a),this.h.restore())};Xa.prototype.Ha=function(a,b,c,d,f){var e=!0;b&&!this.D&&f&&(e=!1);e&&(c===d||-1===d&&b)&&a.type===da.button?(this.h.fillStyle=a.V,this.h.globalAlpha=a.ba):(this.h.fillStyle=a.cc,this.h.globalAlpha=a.s);switch(a.type){case da.If:f=(a.current-
a.lower)/(a.u-a.lower);this.h.fillStyle=a.ia;this.h.globalAlpha=a.na;a.orientation===da.te?(f*=a.width-3,f=f+1|0,this.h.fillRect(a.x,a.y,f,a.height),this.h.fillStyle=a.cc,this.h.globalAlpha=a.s,this.h.fillRect(a.x+f,a.y,a.width-f,a.height)):(f*=a.height-3,f=f+1|0,this.h.fillRect(a.x,a.y,a.width,f),this.h.fillStyle=a.cc,this.h.fillRect(a.x,a.y+f,a.width,a.height-f));break;case da.Im:f=(a.current[0]-a.lower)/(a.u-a.lower);if(e&&(c===d||-1===d&&b)){var g=this.wa;if(a.orientation===da.te){f*=a.width-
3;f=f+1|0;var k=f-g;0<k&&this.h.fillRect(a.x,a.y,k,a.height);k=1+f+g;k<a.width&&this.h.fillRect(a.x+k,a.y,a.width-k,a.height)}else f*=a.height-3,f=f+1|0,k=f-g,0<k&&this.h.fillRect(a.x,a.y,a.width,k),k=1+f+g,k<a.height&&this.h.fillRect(a.x,a.y+k,a.width,a.height-k)}else this.h.fillRect(a.x,a.y,a.width,a.height);break;case da.list:g=a.lower.length;if(a.orientation===da.te)for(k=a.width/g,f=0;f<g;f+=1)this.h.fillStyle=a.I[f],this.h.fillRect(a.x+f*k+1,a.y+1,k-2,a.height-2);else for(k=a.height/g,f=0;f<
g;f+=1)this.h.fillStyle=a.I[f],this.h.fillRect(a.x+1,a.y+1+f*k,a.width-2,k-2);break;default:this.h.fillRect(a.x,a.y,a.width,a.height)}a.type!==da.list&&a.h&&(this.h.globalAlpha=a.S,this.$.D(a.h,a.x,a.y,this.locked||a.locked));null!==a.ja&&a.ja(this.caller);if(0<a.border)switch(!a.locked&&!this.locked||a.G?(this.h.strokeStyle=a.P,this.h.globalAlpha=a.$):(this.h.strokeStyle=a.D,this.h.globalAlpha=a.O),this.h.lineWidth=a.border,a.type){case da.label:break;case da.list:g=a.lower.length;if(a.orientation===
da.te)for(k=a.width/g,f=0;f<g;f+=1)this.locked||a.locked||a.m[f]?(this.h.strokeStyle=a.D,this.h.globalAlpha=a.O):(this.h.strokeStyle=a.P,this.h.globalAlpha=a.$),this.h.strokeRect(a.x+.5+f*k,a.y+.5,k-1,a.height-1);else for(k=a.height/g,f=0;f<g;f+=1)this.locked||a.locked||a.m[f]?(this.h.strokeStyle=a.D,this.h.globalAlpha=a.O):(this.h.strokeStyle=a.P,this.h.globalAlpha=a.$),this.h.strokeRect(a.x+.5,a.y+.5+f*k,a.width-1,k-1);break;default:this.h.strokeRect(a.x+.5,a.y+.5,a.width-1,a.height-1)}switch(a.type){case da.button:this.Fa(a);
break;case da.label:this.Ia(a);break;case da.Im:this.Pa(a,e&&(c===d||-1===d&&b));break;case da.If:this.Na(a);break;case da.list:this.Ma(a,e&&(c===d||-1===d&&b))}if(c===d)switch(a.type){case da.Im:e=this.F,a.orientation===da.vertical?(e<a.y?e=a.y:e>a.y+a.height-1&&(e=a.y+a.height-1),f=(e-a.y)/(a.height-1)*(a.u-a.lower)+a.lower):(e=this.A,e<a.x?e=a.x:e>a.x+a.width-1&&(e=a.x+a.width-1),f=(e-a.x)/(a.width-1)*(a.u-a.lower)+a.lower),a.lower<a.u?(f<a.lower&&(f=a.lower),f>a.u&&(f=a.u)):(f<a.u&&(f=a.u),f>
a.lower&&(f=a.lower)),a.current[0]=f,a.v&&(a.current=a.v(a.current,!0,a.caller,a.id))}if(b&&!this.D&&a.ea)switch(a.type){case da.button:a.v&&a.v(a.caller,a.id);break;case da.list:g=a.lower.length,k=a.orientation===da.te?(this.A-a.x)/a.width*g|0:(this.F-a.y)/a.height*g|0,a.u===da.si?a.m[k]||(a.v?a.current=a.v(k,!0,a.caller,a.id):a.current=k):a.m[k]||(a.current[k]=!a.current[k],a.v&&a.v(a.current,!0,a.caller,a.id))}b&&c===d?(a.ea=this.D,a.ka=this.A,a.la=this.F):(a.ea=!1,a.ka=-1,a.la=-1)};Xa.prototype.ba=
function(a){this.sa=a};Xa.prototype.Ba=function(){var a,b=!1,c=this.h.canvas.width,d=this.h.canvas.height,f=-1;var e=!1;this.I=-1;if(this.M)this.D?-2!==this.H?(this.ta=this.A,this.ua=this.F,this.ka=this.A,this.la=this.F,this.H=-2):this.O&&!this.locked&&this.O(this.A,this.F,this.D,this.caller):(-2===this.H&&(this.O&&!this.locked&&this.O(this.A,this.F,this.D,this.caller),this.A===this.ta&&this.F===this.ua&&this.ma&&(this.X.la?this.X.la=!1:this.ma(this.A,this.F,this.D,this.caller))),this.D||(this.H=
-1));else{var g=this.H;this.h.textAlign="left";for(a=0;a<this.u;a+=1){var k=this.v[a];if(!k.M){k.ta(c,d);var l=!1;k.ua(this.A,this.F)&&(f=a,!k.locked&&!this.locked||k.G?l=!0:b=!0);l&&!this.D&&(this.I=a);(this.D&&-1===g&&l||l&&this.da)&&k.type!==da.label&&(g=a,this.da&&(k.ea=!0));a!==g||!k.locked&&!this.locked||k.G||(g=-1,l=!1);k.A&&this.Ha(k,l,a,g,this.X.B)}}0<=g&&!this.D&&(e=!0);this.D&&-1===g&&!b&&(g=-2);-2===g&&this.O&&!this.locked&&this.O(this.A,this.F,this.D,this.caller);this.D||(g=-1);this.H=
g;this.h.globalAlpha=1}this.ia=0<=f&&!this.v[f].locked?this.v[f].type===da.Im?this.v[f].orientation===da.Wt||this.v[f].orientation===da.te?"ew-resize":"ns-resize":"auto":this.sa;return e};pb.prototype.Et=function(a,b){this.m[this.h]=a;this.Bv=b;this.h+=1;10<=this.h&&(this.h=0)};pb.prototype.Ft=function(a,b){this.s[this.i]=a;this.Cv=b;this.i+=1;10<=this.i&&(this.i=0)};pb.prototype.j=function(a){var b=0,c=a.length,d;if(0<c){for(d=0;d<c;d+=1)b+=a[d];b/=c}return b};pb.prototype.Iu=function(){return this.j(this.m)};
pb.prototype.Ju=function(){return this.j(this.s)};qb.prototype.Et=function(a,b){void 0===this.h[a]&&(this.h[a]=new pb(this));this.h[a].Et(b,this.i);this.i+=1};qb.prototype.Ft=function(a,b){void 0===this.h[a]&&(this.h[a]=new pb(this));this.h[a].Ft(b,this.i);this.i+=1};qb.prototype.Iu=function(a){var b=0;this.h[a]&&(b=this.h[a].Iu());return b};qb.prototype.Ju=function(a){var b=0;this.h[a]&&(b=this.h[a].Ju());return b};qb.prototype.j=function(){var a=[],b;for(b in this.h)a[a.length]=b;return a.sort()};
qb.prototype.reset=function(){this.h={};this.i=this.Dg=0};Ka.prototype.h=function(a,b,c){c?this.sa.Ft(a,b):this.sa.Et(a,b)};Ka.prototype.Ib=function(){this.v.fillStyle=this.cd;var a=this.v.fillStyle;this.Cb=Number("0x"+a.substring(1,3));this.zb=Number("0x"+a.substring(3,5));this.yb=Number("0x"+a.substring(5,7));this.v.fillStyle=this.Pa;a=this.v.fillStyle;this.tc=Number("0x"+a.substring(1,3));this.sc=Number("0x"+a.substring(3,5));this.rc=Number("0x"+a.substring(5,7))};Ka.prototype.Hb=function(){this.qa=
[];this.fa=this.oa=0};Ka.prototype.Wb=function(){var a=0;0<this.fa&&(a=this.oa/this.fa);this.qa[this.qa.length]=a;this.fa=this.oa=0};Ka.prototype.jc=function(a){var b=-1;0<=a&&a<this.qa.length&&(b=this.qa[a]);return b};Ka.prototype.Ub=function(a,b,c,d,f,e,g){this.cd=a;this.cc=b;this.nb=c;this.Pa=d;this.ca=f;this.Ia=e;this.Ya=g;this.i&&this.i.Ca(a,b,c,d,f,e);this.notification.m=a;this.notification.B=a;this.Ib();this.notification.Z=b;this.v.fillStyle=b;this.Va=this.v.fillStyle};Ka.prototype.vb=function(a,
b,c){a=new Xa(this,a,b,c,this.v,this.va);a.cd=this.cd;a.P=this.Kb;a.cc=this.cc;a.Y=this.Ha;a.ea=this.nb;a.pa=this.Lb;a.ga=this.Pa;a.ra=this.Rb;a.fa=this.ca;a.qa=this.Nb;a.ca=this.Ia;a.na=this.mb;a.border=this.border;return a};Ka.prototype.dc=function(){var a=this.i,b=a.s,c=this.v,d="";var f=1;if(-1!==a.H||-1===a.H&&-1===a.I)this.ta=a.H;if(-1===a.I||-1!==this.ta&&this.ta===a.I){if(-1!==a.I){var e=a.v[a.I];e.id===this.Ea&&e.F!==this.ua&&(this.ta=-1)}50>this.D&&(this.D+=1)}else{e=a.v[a.I];e.id!==this.Ea||
e.id===this.Ea&&e.F!==this.ua?(this.Ea=e.id,this.ua=e.F,50>this.D&&(this.D+=1)):0<=this.D&&--this.D;-1!==this.ua?a=e.W[this.ua]:Array.isArray(e.W)?a="":(a=e.W,null===a&&(a=""));var g=a.indexOf("\n");if(""!==a&&-1===this.D&&!e.da){this.ta=-1;var k=e.x;var l=e.y;var p=e.width;var n=e.height;-1!==e.F&&(e.orientation===da.te?(k+=p/e.lower.length*e.F,p/=e.lower.length):(l+=n/e.lower.length*e.F,n/=e.lower.length));var q=18*b;c.font=(q|0)+"px Arial";var m=4*b;var r=c.measureText(a).width;b=Math.round(k+
p/2);l=Math.round(l+n/2);b-=r/2;b<m+1?b=m+1:b+r+m>c.canvas.width&&(b=c.canvas.width-r-m-1);n>p?(-1!==this.fb&&p<this.fb&&(p=this.fb),b=b>c.canvas.width/2?k-r-p/2:k+e.width+p/2):(-1!==this.hb&&n<this.hb&&(n=this.hb),l=l>c.canvas.height/2?l-n:l+n);if(r>c.canvas.width){d=(r>>1)+q+m;d>c.canvas.width&&(d=c.canvas.width);for(f=1;c.measureText(a.substring(0,f)).width<d;)f+=1;for(g=f-1;g>f-5;)d=a[g]," "===d||","===d||"/"===d||"|"===d?(f=g+2,g=f-5):--g;d=a.substring(f-1);a=a.substring(0,f-1);r=c.measureText(a).width;
f=c.measureText(d).width;f>r&&(r=f);f=2}else-1!==g&&(d=a.substring(g+1),f=c.measureText(d).width,a=a.substring(0,g),r=c.measureText(a).width,f>r&&(r=f),f=2);g=q*f+2*m;2===f&&l>c.canvas.height/2&&(l-=q+m,g+=m);c.globalAlpha=this.Ha;c.fillStyle=this.cc;c.fillRect((b-m|0)-.5,(l-q/2-m|0)-.5,r+2+2*m,g);c.globalAlpha=this.mb;c.strokeStyle=this.Ia;c.strokeRect((b-m|0)-.5,(l-q/2-m|0)-.5,r+2+2*m,g);c.globalAlpha=this.Ha;c.strokeStyle=this.cc;c.beginPath();c.moveTo((b-m|0)+.5,(l-q/2-m|0)+.5+g);c.lineTo((b-
m|0)+.5+r+2+2*m,(l-q/2-m|0)+.5+g);c.lineTo((b-m|0)+.5+r+2+2*m,(l-q/2-m|0)+.5);c.stroke();c.globalAlpha=1;c.fillStyle=this.cc;c.fillText(a,b+2,l+2);""!==d&&c.fillText(d,b+2,l+q+m+2);c.fillStyle=this.cd;f=a.indexOf("[");g=a.lastIndexOf("]");-1!==f&&-1!==g?(e=a.substring(0,f+1),r=c.measureText(e).width,c.fillText(e,b,l),c.fillStyle=this.Ya,e=a.substring(f+1,g),c.fillText(e,b+r,l),c.fillStyle=this.cd,e=a.substring(g),r=c.measureText(a.substring(0,g)).width,c.fillText(e,b+r,l)):c.fillText(a,b,l);""!==
d&&(f=d.indexOf("["),g=d.lastIndexOf("]"),-1!==f&&-1!==g?(e=d.substring(0,f+1),r=c.measureText(e).width,c.fillText(e,b,l+q+m),c.fillStyle=this.Ya,e=d.substring(f+1,g),c.fillText(e,b+r,l+q+m),c.fillStyle=this.cd,e=d.substring(g),r=c.measureText(d.substring(0,g)).width,c.fillText(e,b+r,l+q+m)):c.fillText(d,b,l+q+m))}}};Ka.prototype.H=function(a,b){var c=a[0],d=a[1];a=a[2];1<b&&(96<b?b=96:2<b&&this.ga(this),c-=b,0>c&&(c=0),d-=b,0>d&&(d=0),a-=b,0>a&&(a=0));return"#"+("00"+c.toString(16)).slice(-2)+("00"+
d.toString(16)).slice(-2)+("00"+a.toString(16)).slice(-2)};Ka.prototype.bc=function(){var a,b,c=this.v,d=1,f=1,e=this.sa.j(),g=this.sa,k=g.i,l=0,p=[0,0,0],n=[0,0,0],q=c.canvas.width-264*d;this.i&&(d=this.i.s,f=this.i.B);c.globalAlpha=.7;c.fillStyle=this.cc;c.fillRect(q,193*f|0,264*d|0,(16*e.length+6)*f|0);c.globalAlpha=1;c.fillStyle="black";for(b=0;3>b;b+=2){for(a=0;a<e.length;a+=1){var m=e[a];var r=g.h[m].Bv;var u=g.h[m].Cv;l=r>u?r:u;0<b&&(c.fillStyle=this.H(n,k-l));c.fillText(m,(q+6-b)*d|0,(205-
b+16*a)*f|0);var t=g.Ju(m);var v=t.toFixed(2);var B=c.measureText(v).width;0<b&&u>r&&(c.fillStyle=this.H(p,k-l));c.fillText(v,(q+160-b-B)*d|0,(205-b+16*a)*f|0);var w=g.Iu(m);v=w.toFixed(2);B=c.measureText(v).width;0<b&&(c.fillStyle=r>u?this.H(p,k-l):this.H(n,k-l));c.fillText(v,(210-b-B+q)*d|0,(205-b+16*a)*f|0);0<g.h[m].Cv&&0<g.h[m].Bv&&0<w&&0<t&&(m=w/t,c.fillStyle=0===b?this.H(n,k-l):1<m?this.H([32,255,32],k-l):this.H([255,0,0],k-l),v=m.toFixed(1)+"x",B=c.measureText(v).width,c.fillText(v,(260-b-
B+q)*d|0,(205-b+16*a)*f|0));c.fillStyle=this.H(n,k-l)}p=[32,255,255];n=[255,255,255];c.fillStyle=this.H(n,k-l)}};Ka.prototype.pc=function(a){var b,c,d,f=a.v,e=90,g=1,k=1;a.Z&&(e=0);a.Fa=!1;a.lb=!0;a.na&&(a.i=a.na,a.na=null,f.font=a.va,a.i.Be(),a.i.aa&&a.i.aa(a.i.caller));a.i&&(g=a.i.s,k=a.i.B);var l=f.canvas.width-86*g;e*=k;var p=performance.now();a.$a&&(a.Dg=p-1E3/a.ec);a.ka||a.notification.V()||a.O||50!==a.D&&-1!==a.D?(a.ga(a),a.O&&--a.O,a.$a=!1):a.$a=!0;var n=p-a.Dg;a.Dg=p;a.i.oa&&a.i.oa(n,a.i.caller);
p=performance.now()-p;var q=performance.now();a.Vb();a.Ma=!1;a.dc();a.notification.ba();q=performance.now()-q;a.ab[a.ra]=q;for(d=b=0;5>d;d+=1)b+=a.ab[d];b/=5;a.eb[a.ra]=p;for(d=c=0;5>d;d+=1)c+=a.eb[d];c/=5;a.pr[a.ra]=n;for(d=n=0;5>d;d+=1)n+=a.pr[d];a.ra=(a.ra+1)%5;d=1E3/(n/5);d>a.ec&&(d=a.ec);0<p+q&&(this.oa+=1E3/(p+q));this.fa+=1;if(a.F){f.font=(12*g|0)+"px Arial";f.globalAlpha=.7;f.fillStyle=a.cc;a.j?U.R?f.fillRect(l,e,88*g|0,103*k|0):f.fillRect(l,e,88*g|0,83*k|0):f.fillRect(l,e,88*g|0,20*k|0);
q=(c+b)/16.666666;1<q&&(q=1);f.fillStyle=.5>q?"rgb("+(510*q|0)+",255,0)":"rgb(255,"+(255*(1-2*(q-.5))|0)+",0)";f.fillRect(l,e,88*q*g|0,20*k|0);if(U.R&&a.j){var m=(U.T.Cj+(va.memory.buffer.byteLength-U.T.v))/va.memory.buffer.byteLength;f.fillStyle=.5>m?"rgb("+(510*m|0)+",255,0)":"rgb(255,"+(255*(1-2*(m-.5))|0)+",0)";f.fillRect(l,e+83*k,88*m*g|0,20*k|0)}b=b.toFixed(1);c=c.toFixed(1);p=4>d.toFixed(1).length?d.toFixed(1):String(d|0);f.globalAlpha=1;f.fillStyle=a.cc;f.fillText(p+"fps",l+6*g,e+12*k);U.R&&
a.j&&(f.fillText("memory",l+6*g,e+92*k),d=(100*m|0)+"%",n=f.measureText(d).width,f.fillText(d,l+84*g-n,e+92*k));d=(100*q|0)+"%";n=f.measureText(d).width;f.fillText(d,l+84*g-n,e+12*k);a.j&&U.R&&a.bc();if(a.j&&a.B){f.save();f.fillStyle="black";f.font="18px Arial";for(d=0;3>d;)f.fillText(String(a.s),4-d,50-d),f.fillText(a.caller.am+", "+a.caller.cm,4-d,80-d),f.fillText(String(a.u),4-d,110-d),f.fillText(a.caller.bm+", "+a.caller.dm,4-d,140-d),d+=2,f.fillStyle="white";f.restore()}a.j&&(f.fillStyle="black",
f.fillText("menu",l+6*g,e+28*k),f.fillText("work",l+6*g,e+44*k),f.fillText("update",l+6*g,e+60*k),f.fillText("focus",l+6*g,e+76*k),d=b+"ms",n=f.measureText(d).width,f.fillText(d,l+84*g-n,e+28*k),d=c+"ms",n=f.measureText(d).width,f.fillText(d,l+84*g-n,e+44*k),d=a.ka?"on":"off",n=f.measureText(d).width,f.fillText(d,l+84*g-n,e+60*k),d=a.A?"on":"off",n=f.measureText(d).width,f.fillText(d,l+84*g-n,e+76*k));f.fillStyle=a.cd;f.fillText(p+"fps",l+4*g,e+10*k);d=(100*q|0)+"%";n=f.measureText(d).width;f.fillText(d,
l+82*g-n,e+10*k);U.R&&a.j&&(f.fillText("memory",l+4*g,e+90*k),d=(100*m|0)+"%",n=f.measureText(d).width,f.fillText(d,l+82*g-n,e+90*k));a.j&&(f.fillText("menu",l+4*g,e+26*k),f.fillText("work",l+4*g,e+42*k),f.fillText("update",l+4*g,e+58*k),f.fillText("focus",l+4*g,e+74*k),d=b+"ms",n=f.measureText(d).width,f.fillText(d,l+82*g-n,e+26*k),d=c+"ms",n=f.measureText(d).width,f.fillText(d,l+82*g-n,e+42*k),d=a.ka?"on":"off",n=f.measureText(d).width,f.fillText(d,l+82*g-n,e+58*k),d=a.A?"on":"off",n=f.measureText(d).width,
f.fillText(d,l+82*g-n,e+74*k));f.globalAlpha=1}a.i.ia!==a.i.ja&&(a.i.ja=a.i.ia,a.S.style.cursor=a.i.ja);U.R?(m=U.NC.toFixed(1)+"ms",f.font=(16*g|0)+"px Arial",f.fillStyle="black",f.fillText("LifeViewer Pro",3*g,121*k),f.fillText("Alpha release",3*g,141*k),f.fillStyle="white",f.fillText("LifeViewer Pro",2*g,120*k),f.fillText("Alpha release",2*g,140*k),f.font=(12*g|0)+"px Arial",f.fillStyle="black",f.fillText(m,3*g,161*k),f.fillStyle="white",f.fillText(m,2*g,160*k)):""!==U.ez&&(f.font=(16*g|0)+"px Arial",
f.fillStyle="black",f.fillText(U.ez,3*g,121*k),f.fillStyle="white",f.fillText(U.ez,2*g,120*k));a.jb=!0};Ka.prototype.ja=function(a){a.$=this.Mb;this.i?this.na=a:(this.na=null,this.i=a,this.v.font=this.va,this.i.Be(),this.i.aa&&this.i.aa(this.i.caller),this.ga(this))};Ka.prototype.Vb=function(){var a;if(this.i){var b=this.i;this.v.font=this.va;b.A=this.V;b.F=this.Y;b.D=this.ia;b.da=this.Ma;if(b.Ba()||this.m){for(a=0;a<b.u;a+=1){var c=b.v[a];b.za(c)}this.m=!1}}};Ka.prototype.ga=function(a){a.Fa||(requestAnimationFrame?
requestAnimationFrame(a.qb):setTimeout(a.qb,16),a.Fa=!0)};Ka.prototype.kb=function(){var a=this.ma(this,this.I,this.ba),b=this.ma(this,this.G,this.P);this.pa&&this.pa(a[0],a[1],b[0],b[1],0,this.caller)};Ka.prototype.Eb=function(a){a.identifier===this.s?(a=this.ma(this,this.I,this.ba),this.pa(a[0],a[1],0,0,1,this.caller)):(a=this.ma(this,this.G,this.P),this.pa(a[0],a[1],0,0,2,this.caller))};Ka.prototype.Ba=function(){this.ve(!0)};Ka.prototype.za=function(a,b){var c=b.changedTouches,d=c.length,f;switch(b.type){case "touchstart":if(-1===
a.s&&-1===a.u)switch(d){case 1:var e=c[0];a.s=e.identifier;a.I=e.pageX;a.ba=e.pageY;a.ea(a,e.pageX,e.pageY);break;case 2:e=c[0],a.s=e.identifier,a.I=e.pageX,a.ba=e.pageY,e=c[1],a.u=e.identifier,a.G=e.pageX,a.P=e.pageY,a.kb()}else-1===a.s?(a.$(a,a.G,this.P),e=c[0],a.s=e.identifier,a.I=e.pageX,a.ba=e.pageY,a.kb()):-1===a.u&&(a.$(a,this.I,this.ba),e=c[0],a.u=e.identifier,a.G=e.pageX,a.P=e.pageY,a.kb());break;case "touchend":for(f=0;f<d;f+=1)e=c[f],e.identifier===a.s?-1===a.u?(a.$(a,e.pageX,e.pageY),
a.s=-1):(a.s=-1,a.Ba(),a.ea(a,a.G,a.P)):e.identifier===a.u&&(-1===a.s?(a.$(a,e.pageX,e.pageY),a.u=-1):(a.u=-1,a.Ba(),a.ea(a,a.I,a.G)));break;case "touchmove":for(f=0;f<d;f+=1)e=c[f],e.identifier===a.s?-1===a.u?a.Ta(a,e.pageX,e.pageY):(a.I=e.pageX,a.ba=e.pageY,a.Eb(e)):e.identifier===a.u&&(-1===a.s?a.Ta(a,e.pageX,e.pageY):(a.G=e.pageX,a.P=e.pageY,a.Eb(e)));break;case "touchcancel":for(f=0;f<d;f+=1)e=c[f],e.identifier===a.s?-1===a.u?(a.$(a,e.pageX,e.pageY),a.s=-1):(a.s=-1,a.Ba(),a.ea(a,a.G,a.P)):e.identifier===
a.u&&(-1===a.s?(a.$(a,e.pageX,e.pageY),a.u=-1):(a.u=-1,a.Ba(),a.ea(a,a.I,a.G)))}a.B=!0;b.stopPropagation&&b.stopPropagation();b.cancelable&&b.preventDefault()};Ka.prototype.ea=function(a,b,c){a.Ua(a,b,c);a.ia=!0;a.lb=!1};Ka.prototype.$=function(a,b,c){a.bb=performance.now();a.Ua(a,b,c);a.ia=!1;a.lb||(a.Ma=!0);0<=a.V&&a.V<a.S.width&&0<=a.Y&&a.Y<a.S.height?a.A||(a.B||a.S.focus(),a.A=!0,a.notification.clear(!0,!1),a.Db&&a.Db(a.caller)):a.B&&a.notification.clear(!0,!1)};Ka.prototype.Ta=function(a,b,c){a.rb(a);
a.Ua(a,b,c)};Ka.prototype.nc=function(a){a.rb(a)};Ka.prototype.mc=function(a){1<performance.now()-a.bb&&(a.A||a.notification.clear(!0,!1),a.S.blur(),a.A=!1,a.ia=!1,a.V=-1,a.Y=-1,a.la=!1,a.Fa||(a.ga(a),a.O<a.Ca&&(a.O=a.Ca)))};Ka.prototype.Xb=function(a,b){if(!a.aa){if(b.pageX||b.pageY){var c=b.pageX;var d=b.pageY}else c=b.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,d=b.clientY+document.body.scrollTop+document.documentElement.scrollTop;a.ea(a,c,d);b.stopPropagation&&b.stopPropagation();
b.preventDefault();a.B=!1}};Ka.prototype.ac=function(a,b){a.bb=performance.now();if(!a.aa){if(b.pageX||b.pageY){var c=b.pageX;var d=b.pageY}else c=b.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,d=b.clientY+document.body.scrollTop+document.documentElement.scrollTop;a.$(a,c,d);b.stopPropagation&&b.stopPropagation();b.preventDefault();a.B=!1}};Ka.prototype.rb=function(a){a.A||a.la&&""!==a.notification.i||(a.da?a.Na||a.notification.notify("Copy",15,3600,15,!0):a.Z?a.wa?a.Wa?a.Na||
a.notification.notify("Copy",15,3600,15,!0):a.notification.notify("Launch",15,3600,15,!0):a.notification.notify("Expand",15,3600,15,!0):a.notification.notify("Click to control",15,3600,15,!0),a.notification.I=!0,a.la=!0)};Ka.prototype.Yb=function(a,b){if(!a.aa){if(b.pageX||b.pageY){var c=b.pageX;var d=b.pageY}else c=b.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,d=b.clientY+document.body.scrollTop+document.documentElement.scrollTop;a.Ta(a,c,d);b.stopPropagation&&b.stopPropagation();
b.preventDefault();a.B=!1}};Ka.prototype.$b=function(a,b){a.aa||(a.nc(a),b.stopPropagation&&b.stopPropagation(),b.preventDefault(),a.B=!1)};Ka.prototype.Zb=function(a,b){a.aa||(a.mc(a),b.stopPropagation&&b.stopPropagation(),b.preventDefault(),a.B=!1)};Ka.prototype.ic=function(a){for(var b=[1,1],c;null!==a;)c=window.getComputedStyle(a),c=c.getPropertyValue("transform"),"none"!==c&&(c=c.split(", "),c[0]=c[0].substring(7),c[5]=c[5].substring(0,c[5].length-1),b[0]*=parseFloat(c[0]),b[1]*=parseFloat(c[3])),
a=a.parentElement;return b};Ka.prototype.ma=function(a,b,c){var d=this.S.getBoundingClientRect(),f=a.ic(a.S);window.scrollX?(b-=d.left+window.scrollX,c-=d.top+window.scrollY):(b-=d.left+window.pageXOffset,c-=d.top+window.pageYOffset);b/=f[0];c/=f[1];1===f[0]&&1===f[1]&&(b/=a.ya,c/=a.ya);return[b-1|0,c-1|0]};Ka.prototype.Ua=function(a,b,c){b=a.ma(a,b,c);a.V=b[0];a.Y=b[1];a.ga(a);a.O<a.Ca&&(a.O=a.Ca)};Ka.prototype.ve=function(a){!a&&!this.notification.V()||this.ka||this.ga(this);this.ka=a};var Za={rules:[],
zr:[],Zj:[],cr:[],nG:function(a,b,c,d,f){var e,g=this.Zj.length,k=!1,l=a.h;l=l.replace(/ /g,"_");for(e=0;e<g&&!k;){var p=this.Zj[e];p.name===l?(k=!0,p.pattern[p.pattern.length]=a,p.tq[p.tq.length]=b,p.Qp[p.Qp.length]=c,p.Nq[p.Nq.length]=d,p.view[p.view.length]=f):e+=1}k||(this.Zj[g]={name:l,pattern:[a],tq:[b],Qp:[c],Nq:[d],view:[f]});return k},iH:function(a){var b=0,c=this.cr.length,d=!1,f="";for(a=a.replace(/ /g,"_");b<c&&!d;)this.cr[b].name===a?(d=!0,f=this.cr[b].definition):b+=1;return f},au:function(){var a,
b=!0;for(a=0;a<this.Zj.length;a+=1)""!==this.Zj[a].name&&(b=!1);b&&U.Fm&&0<U.Pc.length&&U.Pc[0][1]&&U.Pc[0][1].VH()},sJ:function(a){var b,c=this.Zj.length,d=!1,f=a.h;f=f.replace(/ /g,"_");for(a=0;a<c&&!d;){var e=this.Zj[a];if(e.name===f)for(d=!0,e.name="",b=0;b<e.tq.length;b+=1)null!==e.tq[b]&&(this.VB(e.pattern[b]),e.pattern[b].X.U="",e.pattern[b].X.ob=!0,e.pattern[b].X.Uj=!1,e.tq[b](e.pattern[b],e.Nq[b],e.view[b]));else a+=1}this.au()},Ur:function(a){var b,c=this.Zj.length,d=!1,f=a.h;f=f.replace(/ /g,
"_");for(a=0;a<c&&!d;){var e=this.Zj[a];if(e.name===f)for(d=!0,e.name="",b=0;b<e.Qp.length;b+=1)null!==e.Qp[b]&&(e.pattern[b].Da=e.pattern[b].SD,e.Qp[b](e.pattern[b],e.Nq[b],e.view[b]));else a+=1}this.au()},add:function(a,b,c,d,f,e){var g,k=this.rules.length,l=!1,p=a.h;p=p.replace(/ /g,"_");for(g=0;g<k&&!l;)this.rules[g].name===p?l=!0:g+=1;l||(this.rules[k]=null===a.ia?{name:p,MB:!0,uy:a.ma,EI:a.mb,WI:a.qb,yG:a.lb,RJ:a.bb,SJ:a.eb,ao:a.Ha,lr:a.na,names:a.kb,ha:a.Nb,tA:e}:{name:p,MB:!1,uy:a.ta,Bm:a.ab,
EG:a.Ua,output:a.ia,fF:a.Va,ao:a.Ha,XG:a.pb,lr:a.na,names:a.kb,tA:e},this.zr[k]={fetch:b|0,decode:c|0,size:d},this.cr[k]={name:p,definition:f},this.sJ(a))},VB:function(a){var b,c=this.rules.length,d=null,f=!1,e=a.h;e=e.replace(/ /g,"_");for(b=0;b<c&&!f;)this.rules[b].name===e?(f=!0,d=this.rules[b]):b+=1;f&&(a.ia=null,d.MB?(a.ma=d.uy,a.mb=d.EI,a.qb=d.WI,a.lb=d.yG,a.bb=d.RJ,a.eb=d.SJ,a.ha=d.ha):(a.ta=d.uy,a.ab=d.Bm,a.Ua=d.EG,a.ia=d.output,a.Va=d.fF,a.pb=d.XG,a.ha=a.ab===Da.$g?!0:!1),a.Ha=d.ao,a.na=
d.lr,a.kb=d.names,a.ga=!1,a.X.F=d.tA);return f}},Da={xj:0,ah:1,$g:2,ak:3,Vr:-1,TJ:0,UJ:1,VJ:2,XJ:3,WJ:["circles","diamonds","hexagons","triangles"],nr:-999999};mb.prototype.Yb=function(){var a=!1;this.Da&&0!==this.G[0]&&(a=!0);return a};mb.prototype.Ib=function(a){var b="";if(this.za!==a||this.Ba!==a)this.za!==a&&(b+="C"+this.za),this.Ba!==a&&(b+="E"+this.Ba);return b};mb.prototype.$b=function(a){this.Pa=a.Pa;this.h=a.h;this.fa=a.fa;this.ka=a.ka;this.ga=a.ga;this.V=a.V;this.ha=a.ha;this.va=a.va;this.s=
a.s;this.Ca=a.Ca;this.Ta=a.Ta;this.Z=a.Z;this.qa=a.qa;this.la=a.la;this.$=a.$;this.A=a.A;this.oa=a.oa;this.ya=a.ya;this.O=a.O;this.aa=a.aa;this.Y=a.Y;this.ea=a.ea;this.Da=a.Da;this.v=a.v;this.m=a.m;this.i=a.i;this.F=a.F;this.ba=a.ba;this.pa=a.pa;this.ja=a.ja;a.B&&(this.B=new Uint8Array(a.B.length),this.B.set(a.B));a.G&&(this.G=new Uint8Array(a.G.length),this.G.set(a.G))};mb.prototype.Zb=function(a,b){a.B&&(this.Ma=b.h(ra.cb,a.B.length,"HROT.altSurvivals",!1),this.Ma.set(a.B));a.G&&(this.Ia=b.h(ra.cb,
a.G.length,"HROT.altBirths",!1),this.Ia.set(a.G));this.Xb=a.O;this.Wb=a.aa;this.Ub=a.Y;this.Vb=a.ea};mb.prototype.bc=function(){this.V=this.h=this.Pa="";this.ha=this.ga=this.ka=this.fa=!1;this.va=this.X.pa;this.s=!1;this.Ta=this.Ca=0;this.Z=this.X.ia;this.qa=-1;this.$=this.la=!1;this.oa=this.A=-1;this.Da=!1;this.i=this.m=this.v=-1;this.F=2};mb.prototype.ac=function(a){return this.$!==a.$||this.Da!==a.Da?"Alternate is different rule family":this.X.na?"Alternate can not use Wolfram emulation":(-1===
this.i?this.F:this.i)!==(-1===a.i?a.F:a.i)?"Alternate has different number of states":this.ka!==a.ka||this.fa!==a.fa||this.ha!==a.ha||this.va!==a.va||this.s!==a.s||this.Z!==a.Z||this.la!==a.la||-1===this.qa&&-1!==a.qa||-1!==this.qa&&-1===a.qa||this.oa!==a.oa||this.m!==a.m?"Alternate has different neighborhood":this.A!==a.A||this.v!==a.v?"Alternate has different range":this.ga||a.ga?"Alternate can not use none":this.ba!==a.ba||this.pa!==a.pa||this.ja!==a.ja?"Alternate has different neighbourhood":
""};wa.prototype.gd=function(a,b,c){var d,f,e=0,g=0,k=0,l=!1;var p=b.length;for(d=f=0;d<p;){var n=b[d];d+=1;switch(f){case 0:switch(n){case "!":f=1;a.u+="#C ";var q=!0;break;case "O":case "o":case "*":case ".":f=2;g=e=k=0;var m=--d}break;case 1:"\r"!==n&&"\n"!==n&&(" "===n?q||(a.title+=n,a.u+=n):(q=!1,a.title+=n,a.u+=n));"\n"===n&&(f=0,a.u+=n,a.title+=" ");break;case 2:switch(n){case "O":case "o":case "*":case ".":g+=1;break;case "\n":k+=1;g>e&&(e=g);g=0;break;case " ":case "\t":break;default:d=p,
l=!0}}}if(!l){2===f&&"\n"!==n&&(k+=1,g>e&&(e=g));a.height=k;a.width=e;a.$a="Cells";a.I=Array.matrix(ra.Xa,a.height,(a.width-1>>4)+1,0,c,"Pattern.lifeMap",!1);d=m;for(f=e=0;d<p;)switch(n=b[d],d+=1,n){case "\n":e+=1;f=0;break;case "O":case "o":case "*":a.I[e][f>>4]|=1<<(~f&15);f+=1;break;case ".":f+=1}this.ob=!0;"#C "===a.u&&(a.u="");this.ya(a,"",c,!1)}};wa.prototype.fd=function(a,b,c){var d,f;var e=b.length;var g=[];var k=0;var l=!1;var p=f=0;var n=!1;for(d=10;d<e;){var q=b[d];d+=1;switch(q){case "\n":n&&
(n=!1,2===m&&l&&(p=-p,l=!1),g[k]=[f,p],k+=1);var m=p=f=0;break;case "-":l=!0;0===m?m=1:1===m&&(m=2);break;case " ":1===m&&(l&&(f=-f,l=!1),m=2);break;case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":0===m&&(m=1),1===m?f=10*f+parseInt(q,10):(p=10*p+parseInt(q,10),n=!0)}}n&&(2===m&&l&&(p=-p),g[k]=[f,p],k+=1);if(k){e=b=g[0][0];m=q=g[0][1];for(d=1;d<k;d+=1)f=g[d][0],p=g[d][1],f<b&&(b=f),f>e&&(e=f),p<q&&(q=p),p>m&&(m=p);a.height=m-q+1;a.width=e-b+1;a.I=Array.matrix(ra.Xa,
a.height,(a.width-1>>4)+1,0,c,"Pattern.lifeMap",!1);a.$a="Life 1.06";this.ya(a,"",c,!1);for(d=0;d<k;d+=1)f=g[d][0]-b,p=g[d][1]-q,a.I[p][f>>4]|=1<<(~f&15)}};wa.prototype.ac=function(a,b,c,d){var f,e,g=[],k=0,l=b.length;var p="";var n=!1;var q=0,m=0,r=!1,u=!1,t=0,v=0;c=c?10:0;for(this.ob=!0;c<l&&!u;){var B=b[c];c+=1;switch(q){case 0:switch(B){case "#":q=2;break;case "*":case ".":q=3;var w=e=f=0;var z=--c}break;case 2:switch(B){case "C":case "D":q=1;a.u+="#C ";var E=!0;break;case "N":q=0;break;case "R":q=
4;break;case "P":q=5;m=0;r=!1;v=t=0;break;case "\n":q=0;break;default:q=1,E=!0}break;case 1:"\r"!==B&&"\n"!==B&&(" "===B?E||(a.title+=B,a.u+=B):(E=!1,a.title+=B,a.u+=B));"\n"===B&&(q=0,a.title+=" ",a.u+=B);break;case 4:"\n"===B?q=0:(p+=B,n=!0);break;case 5:switch(B){case "\n":q=0;2===m&&r&&(v=-v,r=!1);break;case "-":r=!0;0===m?m=1:1===m&&(m=2);break;case " ":1===m&&(r&&(t=-t,r=!1),m=2);break;case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":0===m&&(m=1),1===
m?t=10*t+parseInt(B,10):v=10*v+parseInt(B,10)}break;case 3:switch(B){case "\n":f>e&&(e=f);f=0;w+=1;break;case "#":g[k]=new lc(t,v,e,w,z,c-1);k+=1;q=2;break;case "*":case ".":f+=1;break;case " ":case "\t":break;default:u=!0}}}"\n"!==B&&(w+=1);3===q&&(g[k]=new lc(t,v,e,w,z,c-1),k+=1);if(k&&!u){t=g[0].gp;v=g[0].hp;B=t+g[0].width-1;f=v+g[0].height-1;for(c=1;c<k;c+=1)g[c].gp<t&&(t=g[c].gp),g[c].hp<v&&(v=g[c].hp),g[c].gp+g[c].width-1>B&&(B=g[c].gp+g[c].width-1),g[c].hp+g[c].height-1>f&&(f=g[c].hp+g[c].height-
1);a.height=f-v+1;a.width=B-t+1;a.I=Array.matrix(ra.Xa,a.height,(a.width-1>>4)+1,0,d,"Pattern.lifeMap",!1);a.$a="Life 1.05";a.ca=Array.matrix(ra.cb,a.height,a.width,0,d,"Pattern.multiStateMap",!1);n?(this.Db(a,p,!1,d),this.ob?0<=a.i||a.H||(a.ca=null):(a.i=-1,a.H=!1,a.D=!1,a.S=!1)):this.ya(a,"",d,!1);for(c=0;c<k;c+=1)for(d=g[c].kK,p=g[c].YG,f=g[c].gp-t,B=g[c].hp-v,n=f,e=B;d<=p;)switch(B=b[d],d+=1,B){case "\n":e+=1;n=f;break;case "*":a.I[e][n>>4]|=1<<(~n&15);a.ca&&(a.ca[e][n]=1);n+=1;break;default:n+=
1}}};wa.prototype.ga=function(a,b,c,d){var f=0,e,g,k;c&&(f=4);for(g=0;8192>g;g+=8)for(k=0;4>k;k+=1){c=0;for(e=g+k&d;0<e;)c+=e&1,e>>=1;b===c&&(a[g+k+f]=1)}};wa.prototype.Ea=function(a,b,c,d){var f=0,e,g,k;c&&(f=16);for(g=0;512>g;g+=32)for(k=0;16>k;k+=1){c=0;for(e=g+k&d;0<e;)c+=e&1,e>>=1;b===c&&(a[g+k+f]=1)}};wa.prototype.Gd=function(a){return(a&7)<<6|(a&448)>>6|a&56};wa.prototype.Fc=function(a){return(a&4)<<6|(a&32)<<2|(a&256)>>2|(a&2)<<4|a&16|(a&128)>>4|(a&1)<<2|(a&8)>>2|(a&64)>>6};wa.prototype.Zd=
function(a,b,c){var d;for(d=0;4>d;d+=1)a[b]=c,b=this.Fc(b);b=this.Gd(b);for(d=0;4>d;d+=1)a[b]=c,b=this.Fc(b)};wa.prototype.Qd=function(a,b,c,d,f,e){var g=c?16:0;if(2>b||4<b)this.Ea(a,b,c,e);else if(c="omp".indexOf(d),-1!==c)for(b=this.Ud[b-2][c],c=0;c<b.length;c+=1)d=b[c]+g,a[d]=f,a[d+256]=f,a[d+1]=f,a[d+257]=f};wa.prototype.Yd=function(a,b,c,d,f){var e=0,g=b-1;0===b||8===b?this.Ea(a,b,c,511):(3<g&&(g=6-g,e=495),b=this.Gc[g].indexOf(d),-1!==b&&(e^=this.Vd[g][b],c&&(e|=16),this.Zd(a,e,f)))};wa.prototype.Cc=
function(a,b,c,d){var f=b.length,e=0,g="",k;for(k=0;k<f;k+=1){var l=b.charCodeAt(k)-48;e|=1<<l;this.Ea(a,l,c,d)}for(k=0;9>k;k+=1)0!==(e&1<<k)&&(g+=String(k));return g};wa.prototype.yb=function(a){for(var b=0;a;)b+=1,a&=a-1;return b};wa.prototype.Tc=function(a,b){var c="",d=0;if(b[a]){b=b[a];0!==(b&8192)&&(d=1,b&=-8193);var f=this.yb(b);var e=2>a||4<a?0:3;2<=f&&(b=~b&(1<<e)-1)&&(d=1-d);if(!d||b)for(c+=String(a),d&&(c+="-"),a=0;a<e;a+=1)0!==(b&1<<a)&&(c+="omp"[a])}else c+=String(a);return c};wa.prototype.Uc=
function(a,b){var c="",d=0;if(b[a]){b=b[a];0!==(b&8192)&&(d=1,b&=-8193);var f=this.yb(b);var e=this.Ld[a];(d||7!==f||13!==e)&&f+d>e>>1&&(b=~b&(1<<e)-1)&&(d=1-d);if(!d||b)for(c+=String(a),d&&(c+="-"),f=0;f<e;f+=1)d=this.Rd[a][f],0!==(b&1<<d)&&(c+=this.Gc[3][d])}else c+=String(a);return c};wa.prototype.Hc=function(a,b,c,d){var f=b.length,e=0,g=[],k="",l;b+=" ";for(l=0;7>l;l+=1)g[l]=0;for(l=0;l<f;l+=1){var p=b.charCodeAt(l)-48;if(0<=p&&8>=p){var n=0!==(e&1<<p);e|=1<<p;var q=b[l+1];var m=this.pb[p].indexOf(q);
-1!==m||n||this.Ea(a,p,c,d);var r=1;"-"===q&&(r=0,l+=1,q=b[l+1],m=this.pb[p].indexOf(q));-1!==m||"0"<=q&&"9">=q||" "===q||(this.U=(c?"S":"B")+p+q+" not valid",l=f);n&&(n=0,0===(g[p]&8192)&&(n=1),n!==r&&(this.U=(c?"S":"B")+p+" can not have minus and non-minus",m=-1,l=f));for(;-1!==m;)0!==(g[p]&1<<m)?(this.U="Duplicate "+p+this.pb[p][m],m=-1,l=f):(this.Qd(a,p,c,q,r,d),g[p]|=1<<m,r||(g[p]|=8192),l+=1,q=b[l+1],m=this.pb[p].indexOf(q))}else this.U="Missing digit prefix"}for(l=0;7>l;l+=1)0!==(e&1<<l)&&
(k+=this.Tc(l,g));return k};wa.prototype.Ic=function(a,b,c){var d=b.length,f=0,e=[],g="",k;b+=" ";for(k=0;9>k;k+=1)e[k]=0;for(k=0;k<d;k+=1){var l=b.charCodeAt(k)-48;if(0<=l&&8>=l){var p=0!==(f&1<<l);f|=1<<l;var n=b[k+1];var q=this.qb[l].indexOf(n);-1!==q||p||this.Ea(a,l,c,511);var m=1;"-"===n&&(m=0,k+=1,n=b[k+1],q=this.qb[l].indexOf(n));-1!==q||"0"<=n&&"9">=n||" "===n||(this.U=(c?"S":"B")+l+n+" not valid",k=d);p&&(p=0,0===(e[l]&8192)&&(p=1),p!==m&&(this.U=(c?"S":"B")+l+" can not have minus and non-minus",
q=-1,k=d));for(;-1!==q;)0!==(e[l]&1<<q)?(this.U="Duplicate "+l+this.qb[l][q],q=-1,k=d):(this.Yd(a,l,c,n,m),e[l]|=1<<q,m||(e[l]|=8192),k+=1,n=b[k+1],q=this.qb[l].indexOf(n))}else this.U="Missing digit prefix"}for(k=0;9>k;k+=1)0!==(f&1<<k)&&(g+=this.Uc(k,e));return g};wa.prototype.$b=function(a,b){var c;for(c=0;512>c;c+=1)a[c]=0!==(b&1<<(c&7))?1:0!==(c&16)?1:0};wa.prototype.zb=function(a,b,c){var d=12,f=8191,e=a.Ca,g=a.Ta;switch(a.Z){case this.la:d=3;f=this.ie;break;case this.ma:d=9;f=this.me;break;
case this.ua:d=6;f=this.je;break;case this.va:d=6;f=this.ke;break;case this.ta:d=9;f=this.he;break;case this.wa:d=3,f=this.le}b.fill(0);c&&c.fill(0);if(0!==(e&1))if(0!==(g&1<<d)){e=~e;g=~g;for(a=0;a<=d;a+=1)g&1<<d-a&&this.ga(b,a,!1,f);for(a=0;a<=d;a+=1)e&1<<d-a&&this.ga(b,a,!0,f);c.set(b)}else{for(a=0;a<=d;a+=1)~e&1<<a&&this.ga(c,a,!1,f);for(a=0;a<=d;a+=1)~g&1<<a&&this.ga(c,a,!0,f);for(a=0;a<=d;a+=1)g&1<<d-a&&this.ga(b,a,!1,f);for(a=0;a<=d;a+=1)e&1<<d-a&&this.ga(b,a,!0,f);this.ca=!0}else{for(a=0;a<=
d;a+=1)0!==(e&1<<a)&&this.ga(b,a,!1,f);for(a=0;a<=d;a+=1)0!==(g&1<<a)&&this.ga(b,a,!0,f);c&&c.set(b)}};wa.prototype.ed=function(a,b,c,d,f){var e=this.Rb,g="",k="";switch(f){case this.la:e=this.Nb;break;case this.ma:e=this.Vb;break;case this.ua:e=this.Jc;break;case this.va:e=this.Kc;break;case this.ta:e=this.Ec;break;case this.wa:e=this.Nc}for(f=a.Ca=0;f<b.length;f+=1){var l=e.indexOf(b[f]);a.Ca|=1<<l}for(f=a.Ta=0;f<c.length;f+=1)l=e.indexOf(c[f]),a.Ta|=1<<l;for(f=0;f<e.length;f+=1)0!==(a.Ca&1<<f)&&
(g+=e[f]);for(f=0;f<e.length;f+=1)0!==(a.Ta&1<<f)&&(k+=e[f]);return-1!==d?k+"/"+g+"/"+d:"B"+g+"/S"+k};wa.prototype.bd=function(a,b,c,d,f){var e=0,g=this.ge;var k=(1<<this.za+1)/6|0;var l=new Uint8Array(512),p=a.fa,n=a.ka,q=a.ha;var m=a.va;var r=a.s,u=a.Z,t=a.la,v=a.i;if(a.ga)c=this.rc;else if(p||n)for(c=p?"M":"2PCA4,",m=0;16>m;m+=1)c+=f[m],15>m&&(c+=",");else if(r)c=this.ed(a,b,c,v,u);else{a=511;q?a=m===this.qa?114:254:t&&(a=186);l.fill(0);f.fill(0);for(m=0;m<l.length;m+=1)g[m]=q?m:(m&448)>>6|m&56|
(m&7)<<6;if(""!==d){c="MAP";for(m=0;m<k;m+=1)c+=d[m],b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(d[m]),l[e]=b>>5,e+=1,l[e]=b>>4&1,e+=1,l[e]=b>>3&1,e+=1,l[e]=b>>2&1,e+=1,l[e]=b>>1&1,e+=1,l[e]=b&1,e+=1;b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(d[m]);l[e]=b>>5;l[e+1]=b>>4&1;c+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[b&48];for(m=0;512>m;m+=1){d=0;k=this.za;for(e=8;0<=e;--e)0!==(a&1<<e)&&(0!==(m&1<<e)&&(d|=1<<
k),--k);f[g[m]]=l[d]}-1!==v&&(c+="/"+v)}else t?(e=this.Cc(f,b,!1,a),f=this.Cc(f,c,!0,a)):q?(e=this.Hc(f,b,!1,a),f=this.Hc(f,c,!0,a)):(e=this.Ic(f,b,!1),f=this.Ic(f,c,!0)),c=-1!==v?f+"/"+e+"/"+v:"B"+e+"/S"+f}return c};wa.prototype.Bc=function(a){var b=a,c=0;if(-1!==a.indexOf(" "))for(b="";c<a.length;)" "!==a[c]&&(b+=a[c]),c+=1;return b};wa.prototype.Rc=function(a,b,c){return"0"+((a&2)>>1)*b+(a&1)*b+"00000"+((a&4)>>2)*b+c+"\n"};wa.prototype.Hd=function(a,b){var c="n_states:3\nneighborhood:Moore\nsymmetries:none\n",
d;for(d=0;8>d;d+=1)0===(b&1<<d)&&(c+=this.Rc(d,1,2));for(d=7;0<=d;--d)0!==(b&1<<7-d)&&(c+=this.Rc(d,2,1));b=new Pa(c,!0);this.pc(a,b);b=new Pa(F.OK,!0);this.dc(a,b);this.na=!0};wa.prototype.Ed=function(a,b,c){for(var d=!0,f=0,e,g=1;g<b.length&&d;)e="0123456789".indexOf(b[g]),-1!==e?f=10*f+e:(this.U="Illegal character in Wolfram rule",d=!1),g+=1;if(d)if(0>f||255<f)this.U="Wolfram rule number must be from 0-255",d=!1;else{if(0!==(f&1))if(0!==(f&128)){e=f;for(g=b=0;8>g;g+=1)f&1<<g&&(b|=1<<7-g);for(g=
f=0;8>g;g+=1)0===(b&1<<g)&&(f|=1<<g);this.$b(c,f);f=e;a.qa=f}else this.Hd(a,f);else this.$b(c,f),a.qa=f;a.h="W"+f}return d};wa.prototype.Vc=function(a,b,c){var d=null;if(""===b)if(a.ha)a.h+="H",a.va===this.qa&&(a.h+="T");else if(a.la)a.h+="V";else if(a.s)switch(a.Z){case this.ia:a.h+=this.Ha.toUpperCase();break;case this.la:a.h+=this.Fa.toUpperCase();break;case this.ma:a.h+=this.Ia.toUpperCase();break;case this.ua:a.h+=this.lb.toUpperCase();break;case this.va:a.h+=this.mb.toUpperCase();break;case this.ta:a.h+=
this.kb.toUpperCase();break;case this.wa:a.h+=this.nb.toUpperCase()}c||(d=db.Sp(a.h));if(null===d&&a.$&&0===a.ya){b="R"+a.A+",C"+a.i+",M1,S"+a.O+".."+a.aa+",B"+a.Y+".."+a.ea+",N";switch(a.oa){case this.i:b+="M";break;case this.j:b+="N";break;case this.Z:b+="C";break;case this.P:b+="+";break;case this.V:b+="X";break;case this.Y:b+="*";break;case this.$:b+="2";break;case this.G:b+="H";break;case this.O:b+="B";break;case this.I:b+="D";break;case this.S:b+="#";break;case 10:b+="@"+a.ja+a.ba;break;case this.D:b+=
"3";break;case this.A:b+="A";break;case this.H:b+="L";break;case this.v:b+="G";break;case 15:b+="W"+a.ja+a.ba;break;case this.u:b+="F"+a.Ib(a.A)}d=db.Sp(b)}a.H&&(a.h+="History");a.D&&(a.h+="Super");a.S&&(a.h+="Investigator");-1!==a.j&&(a.h+=":"+"ptkcs"[a.j].toUpperCase(),a.h+=a.P,a.Lb||(a.h+="*"),a.Kb&&(a.h+="*"),a.Ea&&(a.h=0>a.Ea?a.h+a.Ea:a.h+("+"+a.Ea)),4!==a.j&&(a.h+=","+a.da,a.Mb&&(a.h+="*"),a.Fa&&(a.h=0>a.Fa?a.h+a.Fa:a.h+("+"+a.Fa))));null!==d&&(""===d&&(d="Life"),a.H&&(d+="History"),a.D&&(d+=
"Super"),a.S&&(d+="Investigator"),a.V=d)};wa.prototype.oe=function(a,b){var c=86,d=a.length;d>=c?this.za=8:(c=this.Ya,d>=c?(this.za=6,b.ha=!0):(c=this.$a,d>=c?(this.za=4,b.la=!0):c=-1));if(0<=c)for(b=0;b<c;b+=1)-1==="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a[b])&&(c=-1);return c};wa.prototype.s=function(a,b,c,d,f,e){var g=0,k=b.length,l=a.substring(this.h,this.h+k),p=e.A;if(l!==b)","===b[0]&&(","===l[0]&&(l=l.substring(1)),b=b.substring(1)),this.U="LtL expected '"+
b.toUpperCase()+"' got '"+l.toUpperCase()+"'",this.h=-1;else if(","===b[0]&&(b=b.substring(1)),this.h+=k,this.h<a.length?(k=a[this.h],l=k.charCodeAt(0)):(k="",l=-1),"n"===b)switch(k){case "m":this.h+=1;g=this.i;break;case "n":this.h+=1;g=this.j;break;case "c":this.h+=1;g=this.Z;break;case "+":this.h+=1;g=this.P;break;case "x":this.h+=1;g=this.V;break;case "*":this.h+=1;g=this.Y;break;case "2":this.h+=1;g=this.$;break;case "h":this.h+=1;g=this.G;break;case "b":this.h+=1;g=this.O;break;case "d":this.h+=
1;g=this.I;break;case "#":this.h+=1;g=this.S;break;case "@":this.h+=1;g=this.tc(a,p,"LtL",e);-1===g&&(this.h=-1);break;case "3":this.h+=1;g=this.D;break;case "a":this.h+=1;g=this.A;break;case "l":this.h+=1;g=this.H;break;case "g":this.h+=1;g=this.v;break;case "w":this.h+=1;g=this.yc(a,p,"LtL",e);-1===g&&(this.h=-1);break;case "f":this.h+=1;g=this.sc(a,p,"LtL",e);-1===g&&(this.h=-1);break;default:this.U="LtL 'N' [ABCDFGHLMNWX23*+#@] got 'N"+k.toUpperCase()+"'",this.h=-1}else if(48>l||57<l)this.U="LtL '"+
f+b.toUpperCase()+"' needs a number",this.h=-1;else{for(;48<=l&&57>=l;)g=10*g+(l-48),this.h+=1,this.h<a.length?l=a[this.h].charCodeAt(0):l=-1;-1!==c&&g<c&&(this.U="LtL '"+f+b.toUpperCase()+g+"' < "+c,this.h=-1);-1!==d&&g>d&&(this.U="LtL '"+f+b.toUpperCase()+g+"' > "+d,this.h=-1)}return g};wa.prototype.sa=function(a,b,c){var d=0;switch(b){case this.i:d=(2*a+1)*(2*a+1)-1;break;case this.j:d=2*a*(a+1);break;case this.Z:c=0;var f=a*a+a;for(b=-a;b<=a;b+=1){for(d=0;(d+1)*(d+1)+b*b<=f;)d+=1;c+=2*d+1}d=c-
1;break;case this.P:d=4*a;break;case this.V:d=4*a;break;case this.Y:d=8*a;break;case this.$:c=0;f=a*a;for(b=-a;b<=a;b+=1){for(d=0;(d+1)*(d+1)+b*b<=f;)d+=1;c+=2*d+1}d=c-1;break;case this.G:d=(2*a+1)*(2*a+1)-a*(a+1)-1;break;case this.O:d=((2*a+1)*(2*a+1)-1)/2;break;case this.I:d=((2*a+1)*(2*a+1)-1)/2;break;case this.S:d=8*a;break;case 10:d=c;break;case this.D:d=3*a;break;case this.A:d=6*a;break;case this.H:d=(4*a+1)*(2*a+1)-2*a*a-1;break;case this.v:d=(a+1)*(a+1)*(a+1)*(a+1);break;case 15:d=c;break;
case this.u:d=8}return d};wa.prototype.sd=function(a,b){var c=!1;this.h=0;var d=this.s(b,"r",1,500,"",a);-1!==this.h&&(a.A=d,d=this.s(b,",c",0,256,"",a),-1!==this.h&&(2>d&&(d=2),a.i=d,d=this.s(b,",m",0,1,"",a),-1!==this.h&&(a.ya=d,d=this.s(b,",s",0,-1,"",a),-1!==this.h&&(a.O=d,d=this.s(b,"..",a.O,-1,"S",a),-1!==this.h&&(a.aa=d,d=this.s(b,",b",0,-1,"",a),-1!==this.h&&(a.Y=d,d=this.s(b,"..",a.Y,-1,"B",a),-1!==this.h&&(a.ea=d,d=this.s(b,",n",-1,-1,"",a),-1!==this.h&&(a.oa=d,c=!0))))))));c&&(this.h!==
b.length?(c=!1,this.U="LtL invalid characters after rule"):(b=this.sa(a.A,a.oa,a.pa),b+=a.ya,a.Y>b&&(c=!1,this.U="LtL 'B"+a.Y+"..' > "+b),a.ea>b&&(c=!1,this.U="LtL 'B.."+a.ea+"' > "+b),a.O>b&&(c=!1,this.U="LtL 'S"+a.O+"..' > "+b),a.aa>b&&(c=!1,this.U="LtL 'S.."+a.aa+"' > "+b)));return c};wa.prototype.td=function(a,b){var c=!1;this.h=0;a.i=2;a.ya=1;a.oa=this.i;var d=this.s(b,"",1,500,"",a);-1!==this.h&&(a.A=d,d=this.s(b,",",0,-1,"",a),-1!==this.h&&(a.Y=d,d=this.s(b,",",a.Y,-1,"B",a),-1!==this.h&&(a.ea=
d,d=this.s(b,",",0,-1,"",a),-1!==this.h&&(a.O=d,d=this.s(b,",",a.O,-1,"S",a),-1!==this.h&&(a.aa=d,c=!0)))));c&&(this.h!==b.length?(c=!1,this.U="LtL invalid characters after rule"):(b=(2*a.A+1)*(2*a.A+1),a.Y>b&&(c=!1,this.U="LtL 'B"+a.Y+"..' > "+b),a.ea>b&&(c=!1,this.U="LtL 'B.."+a.ea+"' > "+b),a.O>b&&(c=!1,this.U="LtL 'S"+a.O+"..' > "+b),a.aa>b&&(c=!1,this.U="LtL 'S.."+a.aa+"' > "+b)));return c};wa.prototype.md=function(a,b){var c=!1;this.h=0;-1===a.i&&(a.i=2);a.ya=1;a.oa=this.i;var d=this.s(b,"r",
1,500,"",a);-1!==this.h&&(a.A=d,d=this.s(b,"b",0,-1,"",a),-1!==this.h&&(a.Y=d,d=this.s(b,"t",a.Y,-1,"B",a),-1!==this.h&&(a.ea=d,d=this.s(b,"s",0,-1,"",a),-1!==this.h&&(a.O=d,d=this.s(b,"t",a.O,-1,"S",a),-1!==this.h&&(a.aa=d,c=!0)))));c&&(this.h!==b.length?(c=!1,this.U="LtL invalid characters after rule"):(b=(2*a.A+1)*(2*a.A+1),a.Y>b&&(c=!1,this.U="LtL 'B"+a.Y+"' > "+b),a.ea>b&&(c=!1,this.U="LtL 'B..T"+a.ea+"' > "+b),a.O>b&&(c=!1,this.U="LtL 'S"+a.O+"..' > "+b),a.aa>b&&(c=!1,this.U="LtL 'S..T"+a.aa+
"' > "+b)));return c};wa.prototype.vc=function(a,b,c,d,f){var e=!1,g,k="HROT.",l,p=0;if(this.h+c>a.length)this.U="HROT '"+b+"' needs "+c+" hex digits";else{for(g=l=0;l<c&&-1!==g;)g="0123456789abcdef".indexOf(a[this.h]),-1!==g&&(this.h+=1,l+=1);if(-1===g)this.U="HROT '"+b+"' expected hex got '"+a[this.h]+"'";else{"B"===b?k+="births":(k+="survivals",p=1);f=f.h(ra.cb,(c<<2)+1+p,k,U.R);e=0;f[e]=0;e+=1;--l;"S"===b&&(f[e]=0,e+=1);for(;0<=l;)g="0123456789abcdef".indexOf(a[this.h-c+l]),--l,f[e]=255*(g&1),
e+=1,f[e]=255*(g>>1&1),e+=1,f[e]=255*(g>>2&1),e+=1,f[e]=255*(g>>3&1),e+=1;"B"===b?d.G=f:d.B=f;e=!0}}return e};wa.prototype.oa=function(a,b){var c=-1;this.h+=1;if(this.h<a.length){var d=a[this.h].charCodeAt(0);if(48>d||57<d)this.U="HROT '"+b+"' needs a number";else for(c=d-48,this.h+=1,d=-1,this.h<a.length&&(d=a[this.h].charCodeAt(0));48<=d&&57>=d;)c=10*c+(d-48),this.h+=1,this.h<a.length?d=a[this.h].charCodeAt(0):d=-1}else this.U="HROT '"+b+"' needs a number";return c};wa.prototype.Cb=function(a){var b=
-1;this.h<a.length&&("#"===a[this.h+1]?(this.h+=2,b=-2):b=this.oa(a,"P"));return b};wa.prototype.ic=function(a,b,c,d,f){var e=!0;f&&"S"===c&&(d+=1);var g=this.oa(a,c);-1===g&&(this.U="");for(;e&&-1!==g;){var k=-1;this.h<a.length&&"-"===a[this.h]&&(k=this.oa(a,c),-1===k&&(this.U="HROT '"+c+g+"-' needs a number",e=!1));if(e&&(-1===k&&(k=g),g>k&&(this.U="HROT '"+c+g+"-"+k+"' wrong order",e=!1),e)){"S"===c?(this.bb=k,f&&(g+=1,k+=1)):this.ab=k;g>d&&(g=d);for(k>d&&(k=d);g<=k;g+=1)b[g]=255;g=-1;this.h<a.length&&
","===a[this.h]&&(g=this.oa(a,c),-1===g&&(--this.h,this.U=""))}}return e};wa.prototype.yc=function(a,b,c,d){var f=this.h,e=a.length,g=(2*b+1)*(2*b+1),k=g+g,l=0,p=0,n=[],q=[],m=0,r=15;for(d.ba="";f<e&&-1!=="0123456789abcdef".indexOf(a[f]);)f+=1;b=f-this.h;if(b===g)for(;this.h<f;)g="0123456789abcdef".indexOf(a[this.h]),0!==(g&8)&&(g=-(g&7)),n[n.length]=g,this.h+=1;else if(b===k)for(;this.h<f;)g="0123456789abcdef".indexOf(a[this.h])<<4,this.h+=1,g|="0123456789abcdef".indexOf(a[this.h]),this.h+=1,0!==
(g&128)&&(g=-(g&127)),n[n.length]=g;else this.U=c+" 'NW' needs "+String(g)+" or "+String(k)+" hex digits",r=-1;if(-1!==r)if(","===a[this.h]){for(f=this.h+=1;f<e&&-1!=="0123456789abcdef".indexOf(a[f]);)f+=1;l=f-this.h;if(l!==d.i)this.U=c+" 'NW' needs "+String(d.i)+" state weights",r=-1;else for(f=0;f<d.i;f+=1)g="0123456789abcdef".indexOf(a[this.h]),this.h+=1,q[q.length]=g,g>m&&(m=g)}else m=1;-1!==r&&this.h<e&&("h"===a[this.h]?(d.ba="H",this.h+=1,p=1):"l"===a[this.h]&&(d.ba="L",this.h+=1,p=1));if(-1!==
r){for(c=g=0;c<n.length;c+=1)0<n[c]&&(g+=n[c]*m);d.ja=0<q.length?a.substring(this.h-(b+l+1)-p,this.h-p).toLowerCase():a.substring(this.h-b-p,this.h-p).toLowerCase();d.pa=g;d.Eb=n;d.Hb=q}-1===r&&(d.ja="",d.pa=-1,d.Eb=null,d.Hb=null);return r};wa.prototype.wc=function(a,b){for(var c=0,d,f=!1,e=!1;!e&&this.h<b;)d=a.charCodeAt(this.h),48<=d&&57>=d?(f=!0,c=10*c+(d-48),this.h+=1):e=!0;f||(c=-1);return c};wa.prototype.sc=function(a,b,c,d){var f=a.length,e=-1,g=-1,k=-1;if(this.h>=f)return d.za=b,d.Ba=b,k=
this.u;var l=a[this.h].toUpperCase();for(this.h+=1;"C"===l||"E"===l;){if("C"===l)if(-1===e){if(e=this.wc(a,f),-1===e&&(e=b),1>e||500<e)return this.U=c+" 'NF' invalid corner range",k}else return this.U=c+" 'NF' duplicate 'C'",k;else if(-1===g){if(g=this.wc(a,f),-1===g&&(g=b),1>g||500<g)return this.U=c+" 'NF' invalid edge range",k}else return this.U=c+" 'NF' duplicate 'E'",k;this.h<f?(l=a[this.h].toUpperCase(),this.h+=1):l=""}""!==l&&--this.h;d.za=-1===e?b:e;d.Ba=-1===g?b:g;return k=this.u};wa.prototype.tc=
function(a,b,c,d){var f=this.h,e=a.length,g=0;b=((2*b+1)*(2*b+1)-1)/4;var k=0,l=10;for(d.ba="";f<e&&g<b&&-1!==l;){var p="0123456789abcdef".indexOf(a[f]);0<=p?(f+=1,g+=1,k+=this.yb(p)):l=-1}g!==b&&(l=-1);-1===l?(this.U=c+" 'N@' needs "+String(b)+" hex digits",d.ja="",d.pa=-1):(d.ja=a.substring(this.h,this.h+g).toLowerCase(),d.pa=k,this.h+=g,f<e&&("h"===a[f]?(d.ba="H",this.h+=1):"l"===a[f]&&(d.ba="L",this.h+=1)));return l};wa.prototype.ae=function(a,b){var c=a.A,d;a.v=c;a.m=a.oa;c=this.sa(c,a.oa,a.pa);
c+=a.ya;a.B=b.h(ra.cb,c+2,"HROT.survivals",U.R);a.G=b.h(ra.cb,c+1,"HROT.births",U.R);for(d=a.O;d<=a.aa;d+=1)a.B[d]=255;for(d=a.Y;d<=a.ea;d+=1)a.G[d]=255;if(this.ca){a.Ma=b.h(ra.cb,c+2,"HROT.altSurvivals",U.R);a.Ia=b.h(ra.cb,c+1,"HROT.altBirths",U.R);for(d=a.Xb;d<=a.Wb;d+=1)a.Ma[d]=255;for(d=a.Ub;d<=a.Vb;d+=1)a.Ia[d]=255}a.Da=!0};wa.prototype.pd=function(a,b,c){var d=!1,f=0,e=!0,g=b.indexOf(",n"),k=b.indexOf(",p");this.bb=this.ab=this.h=0;if("r"!==b[this.h])this.U="HROT expected 'R' got '"+b[this.h].toUpperCase()+
"'";else{var l=this.oa(b,"R");-1!==l&&(1>l?this.U="HROT 'R' < 1":500<l?this.U="HROT 'R' > 500":(a.v=l,d=!0))}d&&(d=!1,this.h<b.length?","!==b[this.h]?this.U="HROT expected ',' got "+b[this.h].toUpperCase():(this.h+=1,this.h<b.length?"c"!==b[this.h]?this.U="HROT expected 'C' got "+b[this.h].toUpperCase():(l=this.oa(b,"C"),-1!==l&&(0>l?this.U="HROT 'C"+l+"' < 0":256<l?this.U="HROT 'C"+l+"' > 256":(2>l&&(l=2),a.i=l,d=!0))):this.U="HROT expected 'C'"):this.U="HROT expected ','");if(d){l=this.h;this.h=
g;e=!0;a.m=this.i;if(-1!==this.h&&this.h<b.length&&","===b[this.h]){d=!1;this.h+=1;if(this.h<b.length)if("n"===b[this.h])if(this.h+=1,this.h<b.length)switch(b[this.h]){case "m":a.m=this.i;this.h+=1;d=!0;break;case "n":a.m=this.j;this.h+=1;d=!0;break;case "c":a.m=this.Z;this.h+=1;d=!0;break;case "+":a.m=this.P;this.h+=1;d=!0;break;case "x":a.m=this.V;this.h+=1;d=!0;break;case "*":a.m=this.Y;this.h+=1;d=!0;break;case "2":a.m=this.$;this.h+=1;d=!0;break;case "h":a.m=this.G;this.h+=1;d=!0;break;case "b":a.m=
this.O;this.h+=1;d=!0;break;case "d":a.m=this.I;this.h+=1;d=!0;break;case "#":a.m=this.S;this.h+=1;d=!0;break;case "@":this.h+=1;a.m=this.tc(b,a.v,"HROT",a);-1!==a.m&&(d=!0);break;case "3":a.m=this.D;this.h+=1;d=!0;break;case "a":a.m=this.A;this.h+=1;d=!0;break;case "l":a.m=this.H;this.h+=1;d=!0;break;case "g":a.m=this.v;e=!1;this.h+=1;d=!0;break;case "w":this.h+=1;a.m=this.yc(b,a.v,"HROT",a);-1!==a.m&&(e=!1,d=!0);break;case "f":this.h+=1;a.m=this.sc(b,a.v,"HROT",a);-1!==a.m&&(d=!0);break;default:this.U=
"HROT 'N' [ABCDFGHLMNWX23*+#@] got '"+b[this.h].toUpperCase()+"'"}else this.U="HROT 'N' needs a neighborhood";else this.U="HROT expected 'N' got '"+b[this.h].toUpperCase()+"'";else this.U="HROT expected 'N'";g=this.h}f=this.sa(a.v,a.m,a.pa);this.h=l}d&&(d=!1,this.h<b.length?","!==b[this.h]?this.U="HROT expected ',' got "+b[this.h].toUpperCase():(this.h+=1,this.h<b.length?"s"!==b[this.h]?this.U="HROT expected 'S' got "+b[this.h].toUpperCase():(a.B=c.h(ra.cb,f+2,"HROT.survivals",U.R),d=this.ic(b,a.B,
"S",f,e)):this.U="HROT expected 'S'"):this.U="HROT expected ','");d&&(d=!1,this.h<b.length?","!==b[this.h]?this.U="HROT expected ',' got "+b[this.h].toUpperCase():(this.h+=1,this.h<b.length?"b"!==b[this.h]?this.U="HROT expected 'B' got "+b[this.h].toUpperCase():(a.G=c.h(ra.cb,f+1,"HROT.births",U.R),d=this.ic(b,a.G,"B",f,e)):this.U="HROT expected 'B'"):this.U="HROT expected ','");d&&(-1!==g&&(this.h=g),a.yb=!1,a.Ya=-1,a.jb=-1,a.hb=-1,-1!==k&&k===this.h&&(a.yb=!0,this.h+=2,this.h<b.length&&(--this.h,
l=this.Cb(b),-1!==l&&((0>l||100<l)&&-2!==l?this.U="HROT P values need to be from 0 to 100 or #":(a.Ya=l,a.jb=l,this.h<b.length&&","===b[this.h]&&(l=this.Cb(b),-1!==l&&((0>l||100<l)&&-2!==l?this.U="HROT P values need to be from 0 to 100 or #":(a.Ya=l,this.h<b.length&&","===b[this.h]&&(l=this.Cb(b),-1!==l&&((0>l||100<l)&&-2!==l?this.U="HROT P values need to be from 0 to 100 or #":a.hb=l))))))))),this.h!==b.length&&(d=!1,this.U="HROT invalid characters after rule"),this.bb>f&&(d=!1,this.U="HROT 'S"+
this.bb+"' > "+f),d&&this.ab>f&&(d=!1,this.U="HROT 'B"+this.ab+"' > "+f));d&&(a.Da=!0);return d};wa.prototype.od=function(a,b,c){var d=!1,f=0;this.h=0;-1===a.i&&(a.i=2);if("r"!==b[this.h])this.U="HROT expected 'R' got '"+b[this.h].toUpperCase()+"'";else{var e=-1;this.h+=1;this.h<b.length&&(e=b[this.h].charCodeAt(0));if(48>e||57<e)this.U="HROT 'R' needs a number";else{var g=e-48;this.h+=1;e=-1;for(this.h<b.length&&(e=b[this.h].charCodeAt(0));48<=e&&57>=e;)g=10*g+(e-48),this.h+=1,this.h<b.length?e=
b[this.h].charCodeAt(0):e=-1;1>g?this.U="HROT 'R' < 1":500<g?this.U="HROT 'R' > 500":(a.v=g,d=!0,f=g*(g+1))}}d&&(d=!1,this.h<b.length?"b"!==b[this.h]?this.U="HROT expected 'B' got "+b[this.h].toUpperCase()+"'":(this.h+=1,d=this.vc(b,"B",f,a,c)):this.U="HROT expected 'B'");d&&(d=!1,this.h<b.length?"s"!==b[this.h]?this.U="HROT expected 'S' got "+b[this.h].toUpperCase()+"'":(this.h+=1,d=this.vc(b,"S",f,a,c)):this.U="HROT expected 'S'");d&&this.h<b.length&&"z"===b[this.h]&&(a.B[1]=1,this.h+=1);d&&(this.h!==
b.length?(d=!1,this.U="HROT invalid characters after rule"):(a.m=this.i,a.Da=!0));return d};wa.prototype.Wb=function(a,b){for(var c=a.length,d=-1,f="",e=0;e<c;)255===a[e]?-1===d&&(d=e):-1!==d&&(""!==f&&(f+=","),f+=d+b,e-1!==d&&(f+="-"+(e-1+b)),d=-1),e+=1;-1!==d&&(""!==f&&(f+=","),f+=d+b,e-1!==d&&(f+="-"+(e-1+b)));return f};wa.prototype.ya=function(a,b,c,d){var f="",e=!1;this.na=!1;if(!d){var g=db.Tp(b);null!==g&&(f=db.Sp(g),b=g)}g=b.indexOf("|");if(-1===g)(e=this.Eb(a,b,c,this.m,d))&&a.s&&this.zb(a,
this.Mb,this.Lb);else{var k=!1;var l=db.Tp(b.substring(0,g));null!==l&&-1!==l.indexOf("|")&&(k=!0);l=db.Tp(b.substring(g+1));null!==l&&-1!==l.indexOf("|")&&(k=!0);if(-1!==b.substring(g+1).indexOf("|")||k)this.U="Only one alternate allowed";else if(e=this.Eb(a,b.substring(0,g),c,this.ba,d))if(k=new mb(a.name,this),k.$b(a),a.bc(),e=this.Eb(a,b.substring(g+1),c,this.m,d))if(this.U=a.ac(k),""===this.U)if(a.Da&&(0!==a.G[0]||0!==k.G[0])||!a.s&&(this.m[0]||this.ba[0])||a.s&&0!==(a.Ca&1)||0!==(k.Ca&1))this.U=
"Alternate not supported with B0",a.Da&&(a.h=k.Pa),e=!1;else{a.s&&(this.zb(k,this.Lb,null),this.zb(a,this.Mb,null));if(""!==f)a.V=f;else if(""!==a.V||""!==k.V)""===a.V&&(a.V=a.h),""===k.V&&(k.V=k.h),a.V=k.V+"|"+a.V;a.h=k.h+"|"+a.h;f=db.Sp(a.h);null!==f&&(a.V=f);(a.Da||a.$)&&a.Zb(k,c);this.ca=!0}else a.Pa=k.Pa,e=!1}return e};wa.prototype.wd=function(a,b){var c=!0,d=a.length,f=0;if("2pca4"!==a.substring(0,5))this.U="PCA rule must start with 2PCA4",c=!1;else{var e=5;var g=-1;if(","!==a[e])c=!0;else for(e+=
1;c&&16>f&&e<d;)if(e<d){var k=a[e];e+=1;"0"<=k&&"9">=k?(-1===g&&(g=0),g=10*g+k.charCodeAt(0)-48):","===k?15<g?(this.U="Value must be from 0 to 15",c=!1):(b[f]=g,f+=1,g=-1):(this.U="Illegal character found in rule",c=!1)}c&&(-1===g?(this.U=16===f?"Extra characters found after rule":"Need 16 values",c=!1):15<g?(this.U="Value must be from 0 to 15",c=!1):(b[f]=g,16!==f+1&&(this.U="Need 16 values",c=!1)))}return c};wa.prototype.ud=function(a,b){var c=!0,d=0,f=a.length,e,g=0;if("m"!==a[d])this.U="Margolus rule must start with M",
c=!1;else{d+=1;"s,d"===a.substring(d,d+3)&&(d+=3);for(e=-1;c&&16>g&&d<f;)if(d<f){var k=a[d];d+=1;"0"<=k&&"9">=k?(-1===e&&(e=0),e=10*e+k.charCodeAt(0)-48):","===k||";"===k?15<e?(this.U="Value must be from 0 to 15",c=!1):(b[g]=e,g+=1,e=-1):(this.U="Illegal character found in rule",c=!1)}c&&(-1===e?(this.U=16===g?"Extra characters found after rule":"Need 16 values",c=!1):15<e?(this.U="Value must be from 0 to 15",c=!1):(b[g]=e,16!==g+1&&(this.U="Need 16 values",c=!1)))}return c};wa.prototype.Eb=function(a,
b,c,d,f){var e=!1,g=null,k=null,l=null,p="012345678ceaiknjqrytwz-";var n=this.Ib.length;var q=this.Wa.length;var m=this.Ha.length;var r=this.Fa.length,u=this.Ia.length;var t=this.lb.length;var v=this.mb.length,B=this.kb.length,w=this.nb.length,z=this.rb.length,E="";d[0]=0;if(!f){var H=db.Tp(b);null!==H&&(""===b&&(a.h="Life"),b=H)}if("map"===b.substring(0,3).toLowerCase()){E=b.substring(3);var L=E.indexOf("/");-1===L?"=="===E.substring(E.length-2)&&(E=E.substring(0,E.length-2)):"=="===E.substring(L-
2,L)&&(E=E.substring(0,L-2)+E.substring(L));b=this.oe(E,a);if(0<=b)if(e=!0,l=E.substring(b),E=E.substring(0,b),"/"===l[0]){H=1;a.i=0;H<l.length&&("g"===l[H].toLowerCase()||"c"===l[H].toLowerCase())&&(H+=1);for(L=0;H<l.length&&-1!==L;)L="0123456789".indexOf(l[H]),-1!==L?a.i=10*a.i+L:(this.U="Illegal character in generations number",a.i=-1,e=!1),H+=1;-1!==a.i&&(2>a.i||256<a.i)&&(this.U="Generations number must be 2-256",a.i=-1,e=!1)}else""!==l&&(H=l.length,this.U="MAP length must be "+this.$a+", "+
this.Ya+" or 86 not "+(H+b),e=!1);else this.U=86===E.length||E.length===this.Ya||E.length===this.$a?"MAP contains illegal base64 character":"MAP length must be "+this.$a+", "+this.Ya+" or 86 not "+E.length}else if(b=b.toLowerCase(),b=this.Bc(b),"2pca4"===b.substring(0,5)){if(e=this.wd(b,d))a.ka=!0,a.i=16}else if("m"===b[0]){if(e=this.ud(b,d))a.fa=!0}else{e=!0;if("g"===b[0]){H=1;for(L=a.i=0;H<b.length&&-1!==L;)L="0123456789".indexOf(b[H]),-1!==L&&(a.i=10*a.i+L,H+=1);1<H&&(2>a.i||256<a.i?(this.U="Generations number must be 2-256",
a.i=-1,e=!1):(H<b.length&&"/"===b[H]&&(H+=1),b=b.substring(H),e=!0))}if(e&&(L=b.lastIndexOf("g"),-1!==L&&L!==b.length-1&&!(0<L&&"/"===b[L-1]))){H=L+1;for(L=a.i=0;H<b.length&&-1!==L;)L="0123456789".indexOf(b[H]),-1!==L&&(a.i=10*a.i+L,H+=1);H===b.length?2>a.i||256<a.i?(this.U="Generations number must be 2-256",a.i=-1,e=!1):(b=b.substring(0,b.lastIndexOf("g")),e=!0):a.i=-1}if(e)if(e=!1,"r"===b[0]||"1"<=b[0]&&"9">=b[0]&&-1!==b.indexOf(",")){if(e="r"===b[0]?-1!==b.indexOf(".")?this.sd(a,b):-1!==b.indexOf("t")&&
-1===b.indexOf("n")?this.md(a,b):-1!==b.indexOf(",")?this.pd(a,b,c):this.od(a,b,c):this.td(a,b))if(a.Da){a.m===this.u&&(a.za>a.v&&(a.v=a.za),a.Ba>a.v&&(a.v=a.Ba));l=15===a.m||a.m===this.v?0:-1;a.h="R"+a.v+",";a.h+="C"+a.i+",";a.h+="S"+this.Wb(a.B,l)+",";a.h+="B"+this.Wb(a.G,0);if(a.m!==this.i)switch(a.h+=",N",a.m){case this.j:a.h+="N";break;case this.Z:a.h+="C";break;case this.P:a.h+="+";break;case this.V:a.h+="X";break;case this.Y:a.h+="*";break;case this.$:a.h+="2";break;case this.G:a.h+="H";break;
case this.O:a.h+="B";break;case this.I:a.h+="D";break;case this.S:a.h+="#";break;case 10:a.h+="@"+a.ja+a.ba;break;case this.D:a.h+="3";break;case this.A:a.h+="A";break;case this.H:a.h+="L";break;case this.v:a.h+="G";break;case 15:a.h+="W"+a.ja+a.ba;break;case this.u:a.h+="F"+a.Ib(a.v)}a.yb&&(a.h+=",P",-1!==a.jb&&(a.h+=-2===a.jb?"#":a.jb,-1!==a.Ya&&(a.h+=","+(-2===a.Ya?"#":a.Ya),-1!==a.hb&&(a.h+=","+(-2===a.hb?"#":a.hb)))))}else{a.oa===this.u&&(a.za>a.A&&(a.A=a.za),a.Ba>a.A&&(a.A=a.Ba));a.$=!0;a.h=
"R"+a.A+",C"+a.i+",M"+a.ya+",S"+a.O+".."+a.aa+",B"+a.Y+".."+a.ea+",N";switch(a.oa){case this.i:a.h+="M";break;case this.j:a.h+="N";break;case this.Z:a.h+="C";break;case this.P:a.h+="+";break;case this.V:a.h+="X";break;case this.Y:a.h+="*";break;case this.$:a.h+="2";break;case this.G:a.h+="H";break;case this.O:a.h+="B";break;case this.I:a.h+="D";break;case this.S:a.h+="#";break;case 10:a.h+="@"+a.ja+a.ba;break;case this.D:a.h+="3";break;case this.A:a.h+="A";break;case this.H:a.h+="L";break;case this.v:a.h+=
"G";break;case 15:a.h+="W"+a.ja+a.ba;break;case this.u:a.h+="F"+a.Ib(a.A)}0===a.ya&&(a.O+=1,a.aa+=1)}}else if("w"===b[0])e=this.Ed(a,b,d);else if(c=b.lastIndexOf(this.Ha),-1!==c&&c===b.length-m&&(a.s=!0,a.Z=this.ia,b=b.substring(0,b.length-m),p=this.Rb),c=b.lastIndexOf(this.Fa),-1!==c&&c===b.length-r&&(a.s=!0,a.Z=this.la,b=b.substring(0,b.length-r),p=this.Nb),c=b.lastIndexOf(this.Ia),-1!==c&&c===b.length-u&&(a.s=!0,a.Z=this.ma,b=b.substring(0,b.length-u),p=this.Vb),c=b.lastIndexOf(this.lb),-1!==c&&
c===b.length-t&&(a.s=!0,a.Z=this.ua,b=b.substring(0,b.length-t),p=this.Jc),c=b.lastIndexOf(this.mb),-1!==c&&c===b.length-v&&(a.s=!0,a.Z=this.va,b=b.substring(0,b.length-v),p=this.Kc),c=b.lastIndexOf(this.kb),-1!==c&&c===b.length-B&&(a.s=!0,a.Z=this.ta,b=b.substring(0,b.length-B),p=this.Ec),c=b.lastIndexOf(this.nb),-1!==c&&c===b.length-w&&(a.s=!0,a.Z=this.wa,b=b.substring(0,b.length-w),p=this.Nc),t=b.lastIndexOf(this.Ib),-1!==t&&t===b.length-n&&(a.ha=!0,a.va=this.qa,b=b.substring(0,b.length-n),p=this.ne),
t=b.lastIndexOf(this.Wa),-1!==t&&t===b.length-q&&(a.ha=!0,a.va=this.pa,b=b.substring(0,b.length-q),p=this.Dc),t=b.lastIndexOf(this.rb),-1!==t&&t===b.length-z&&(a.la=!0,b=b.substring(0,b.length-z),p=this.Qc),n=b.indexOf("/"),-1===n&&(n=b.indexOf("_")),-1!==n&&(t=b.lastIndexOf("/"),-1===t&&(t=b.lastIndexOf("_")),t!==n&&(l=b.substring(t+1),b=b.substring(0,t),c=b.lastIndexOf(this.Ha),-1!==c&&c===b.length-m&&(a.s=!0,a.Z=this.ia,b=b.substring(0,b.length-m),p=this.Rb),c=b.lastIndexOf(this.Fa),-1!==c&&c===
b.length-r&&(a.s=!0,a.Z=this.la,b=b.substring(0,b.length-r),p=this.Nb),c=b.lastIndexOf(this.Ia),-1!==c&&c===b.length-u&&(a.s=!0,a.Z=this.ma,b=b.substring(0,b.length-u),p=this.Vb),t=b.lastIndexOf(this.Wa),-1!==t&&t===b.length-q&&(a.ha=!0,b=b.substring(0,b.length-q),p=this.Dc),t=b.lastIndexOf(this.rb),-1!==t&&t===b.length-z&&(a.la=!0,b=b.substring(0,b.length-z),p=this.Qc))),b===this.rc)a.ga=!0,a.i=256,e=!0;else{q=b.indexOf("b");m=b.indexOf("s");-1===n?0===q||0===m?-1===m?(g=b,k=""):-1===q?(k=b,g=""):
q<m&&-1!==m?(g=b.substring(q+1,m),k=b.substring(m+1)):(k=b.substring(m+1,q),g=b.substring(q+1)):this.U="Unsupported rule name":(-1===q&&-1!==m?q=n:-1!==q&&-1===m&&(m=n),q<m?(g=b.substring(0,n),k=b.substring(n+1)):(g=b.substring(n+1),k=b.substring(0,n)));-1!==q&&g&&"b"===g[0]&&(g=g.substring(1));-1!==m&&k&&"s"===k[0]&&(k=k.substring(1));if(null!==l)if(H=0,-1!==a.i)this.U="Generations defined twice",g=null;else{a.i=0;H<l.length&&("g"===l[H].toLowerCase()||"c"===l[H].toLowerCase())&&(H+=1);for(L=0;H<
l.length&&-1!==L;)L="0123456789".indexOf(l[H]),-1!==L?a.i=10*a.i+L:(this.U="Illegal character in generations number",a.i=-1,g=null),H+=1;-1!==a.i&&(2>a.i||256<a.i)&&(this.U="Generations number must be 2-256",a.i=-1,g=null)}if(null!==g&&null!==k){e=!0;for(H=0;H<g.length;)L=p.indexOf(g[H]),-1===L?(this.U="Illegal character in birth specification",e=!1,H=g.length):H+=1;if(e)for(H=0;H<k.length;)L=p.indexOf(k[H]),-1===L?(this.U="Illegal character in survival specification",e=!1,H=k.length):H+=1}}}e&&a.Yb()&&
(15===a.m||a.m===this.v)&&(this.U="B0 currently not supported",e=!1);e&&-1===a.qa&&!this.na&&!1===a.$&&!1===a.Da&&(d=this.bd(a,String(g),String(k),E,d),""===this.U?a.h=d:e=!1,2===a.i&&(a.i=-1));e?this.Vc(a,E,f):(a.$=!1,a.Da=!1,a.i=-1,a.ga=!0);return e};wa.prototype.Va=function(a,b,c){var d=0,f=0,e=b.length-1,g=!1,k=!0,l,p=0,n=0,q=0,m=0,r=this.aa;a.nb=-1;for(l=b[d];!g;){var u=l;l=b[d+1];var t=-1;switch(u){case "#":for(d+=1;"\n"!==l&&d<e;)d+=1,l=b[d];d<e?l=b[d+1]:d===e&&--d;break;case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":"0"===
u&&0===m&&(this.U="Leading zero in count",g=a.ra=!0);m=10*m+parseInt(u,10);break;case "b":t=0;break;case "o":t=1;break;case ".":t=0;break;case "z":t=19;a.D=!0;a.Na=!0;break;case "$":0===m&&(m=1);q+=m;c[f]=m;c[f+1]=-1;f+=2;m=0;n>p&&(p=n);n=0;break;case "!":0===m&&(m=1);q+=m;m=0;n>p&&(p=n);g=!0;break;default:k=!1,"A"<=u&&"X">=u?(k=!0,t=u.charCodeAt(0)-64):"p"<=u&&"y">u?"A"<=l&&"X">=l?(k=!0,t=24*(u.charCodeAt(0)-111)+(l.charCodeAt(0)-64),d+=1,l=b[d+1]):"x"===u&&(k=!0,a.D=!0,a.Na=!0,t=15):"y"===u&&("A"<=
l&&"O">=l?(k=!0,t=24*(u.charCodeAt(0)-111)+(l.charCodeAt(0)-64),d+=1,l=b[d+1]):(k=!0,a.D=!0,a.Na=!0,t=17))}0<=t&&(0===m&&(m=1),c[f]=m,c[f+1]=t,f+=2,0===r[t]&&(a.Wa+=1),r[t]+=m,t>=a.F&&(a.F=t+1),t>=a.nb&&(a.nb=t),n+=m,m=0);k||(" "===u||"\t"===u||"\r"===u||"\n"===u?0===m?k=!0:(this.U="Illegal whitespace in pattern",g=a.ra=!0):(this.U="Illegal character in pattern: "+u,this.fa=g=a.ra=!0));d+=1;d===e&&(g||(0===m&&(m=1),q+=m,m=0,n>p&&(p=n)),g=!0)}0===p&&(q=p=1);a.width=p;a.height=q;if(16384<p||16384<q)a.wa=
!0,a.$a="RLE";a.$a="RLE";a.ra?(d=-1,a.D=!1,a.Na=!1):a.I=[];return d};wa.prototype.jc=function(a,b,c){var d=0,f=a.height,e=a.width,g=0,k=0,l=!(a.H||a.S||a.D)&&-1===a.i,p;a.I=Array.matrix(ra.Xa,f,(e-1>>4)+1,0,c,"Pattern.lifeMap",!1);a.ca=Array.matrix(ra.cb,f,e,0,c,"Pattern.multiStateMap",!1);e=a.ca[k];for(p=a.I[k];d<b.length;)if(f=b[d],c=b[d+1],d+=2,-1===c)g=0,k+=f,e=a.ca[k],p=a.I[k];else if(0<c)for(;0<f;){e[g]=-1===a.i?c:2===a.i?1===c?y.xa:0:c<a.i?c:1;if(l&&1===c||(a.H||a.D)&&c&1||-1!==a.i&&1===c)p[g>>
4]|=1<<(~g&15);g+=1;--f}else g+=f};wa.prototype.Xd=function(a,b){var c=b.indexOf("\n");-1===c&&(c=b.length);a.Db=b.substring(0,c).trim()};wa.prototype.jb=function(a,b,c){for(var d=!1;b<c&&!d;)" "===a[b]?b+=1:d=!0;return b};wa.prototype.Td=function(a){var b=a.indexOf("\n"),c=0,d=!1,f=!1,e=0;-1===b&&(b=a.length);for(;e<b&&!d;)"="===a[e]?d=!0:" "!==a[e]?d=!0:e+=1;if(d&&"="===a[e]){e=this.jb(a,e+1,b);e<b&&"-"===a[e]&&(f=!0,e+=1);for(d=!1;e<b&&!d;){var g="0123456789".indexOf(a[e]);-1!==g?(c=10*c+g,e+=
1):d=!0}this.vb=!0;f&&(c=-c);this.Hb=c}};wa.prototype.xc=function(a,b){var c=a.indexOf("\n"),d=0,f=0,e=!1,g=!1,k=!1,l=0;-1===c&&(c=a.length);if(b){for(;l<c&&!k;)"="===a[l]?k=!0:" "!==a[l]?k=!0:l+=1;k&&"="===a[l]&&(l+=1)}else k=!0;if(k&&(l=this.jb(a,l,c),l<c)){"-"===a[l]&&(e=!0,l+=1);for(k=!1;l<c&&!k;)b="0123456789".indexOf(a[l]),-1!==b?(d=10*d+b,l+=1):k=!0;this.Ma=!0;this.eb=e?-d:d;l=this.jb(a,l,c);if(l<c&&","===a[l]&&(l=this.jb(a,l+1,c),l<c)){"-"===a[l]&&(g=!0,l+=1);for(k=!1;l<c&&!k;)b="0123456789".indexOf(a[l]),
-1!==b?(f=10*f+b,l+=1):k=!0;this.fb=g?-f:f}}};wa.prototype.Xc=function(a,b){var c=a.indexOf("XRLE",b);b=a.indexOf("\n",b);var d=c;-1!==c&&(c=a.indexOf("Pos",c),-1!==c&&c<b&&this.xc(a.substring(c+3),!0),c=a.indexOf("Gen",d),-1!==c&&c<b&&this.Td(a.substring(c+3)))};wa.prototype.Wd=function(a,b){var c=b.indexOf("\n");-1===c&&(c=b.length);a.name=b.substring(0,c).trim()};wa.prototype.Pa=function(a,b,c,d,f){var e=c.indexOf("\n",d);-1===e&&(e=c.length);c=c.substring(d,e);a.Rb.push(c.trim());c=(b+c).replace(/[ \t]+$/g,
"");f?a.rb.push(c):a.vb.push(c);return e+1-d};wa.prototype.B=function(a){var b=0;a+=" ";var c="0123456789".indexOf(a[this.h]);if(-1!==c)for(b=0;-1!==c;)b=10*b+c,this.h+=1,c="0123456789".indexOf(a[this.h]);return b};wa.prototype.Bd=function(a,b){var c=this.B(b),d=!0;b=b[this.h];a.P=c;a.da=c;"*"===b&&(d=!1,this.h+=1);a.Lb=d;0===c&&0===c&&(a.j=-1)};wa.prototype.Cd=function(a,b){var c=this.B(b),d=-1,f=0,e=0;if(-1!==c){b+=" ";var g=b[this.h];if("-"===g||"+"===g)this.h+=1,f=this.B(b),-1===f?c=-1:"-"===
g&&(f=-f);if(","===b[this.h])if(this.h+=1,d=this.B(b),-1===d)c=-1;else{if(g=b[this.h],"-"===g||"+"===g)this.h+=1,e=this.B(b),-1===e?c=-1:"-"===g&&(e=-e)}else d=c}if(-1E6>f||1E6<f||-1E6>e||1E6<e)c=-1;0!==f&&0<c&&(f%=c);0!==e&&0<d&&(e%=d);0!==f&&0!==e&&(c=-1);0===c&&0===d&&(a.j=-1);0===f&&0===e||0!==c&&0!==d||(c=-1);a.P=c;a.da=d;a.Ea=f;a.Fa=e};wa.prototype.rd=function(a,b){var c=this.B(b),d=-1,f=0,e=0,g=!1,k=!1;if(-1!==c){b+=" ";var l=b[this.h];"*"===l&&(g=!0,this.h+=1,l=b[this.h]);if("-"===l||"+"===
l)this.h+=1,f=this.B(b),-1===f?c=-1:"-"===l&&(f=-f);if(","===b[this.h])if(this.h+=1,d=this.B(b),-1===d)c=-1;else{if(l=b[this.h],"*"===l&&(k=!0,this.h+=1,l=b[this.h]),"-"===l||"+"===l)this.h+=1,e=this.B(b),-1===e?c=-1:"-"===l&&(e=-e)}else d=c}g&&k&&(c=-1);0!==f&&0!==e&&(c=-1);if(g&&0!==e||k&&0!==f)c=-1;g||k||0===f||(c=-1);if(0!==f&&0!==(c&1)||0!==e&&0!==(d&1))c=-1;if(0===c&&0===d)a.j=-1;else if(0===c||0===d)c=-1;g||k||(k=!0);0!==f&&(f=1);0!==e&&(e=1);a.P=c;a.da=d;a.Ea=f;a.Fa=e;a.Kb=g;a.Mb=k};wa.prototype.hd=
function(a,b){var c=this.B(b),d=-1;-1!==c&&(b+=" ",","===b[this.h]?(this.h+=1,d=this.B(b),-1===d&&(c=-1)):d=c);if(0===c&&0===d)a.j=-1;else if(0===c||0===d)c=-1;a.P=c;a.da=d};wa.prototype.xd=function(a,b){var c=this.B(b),d=-1;-1!==c&&(b+=" ",","===b[this.h]?(this.h+=1,d=this.B(b),-1===d&&(c=-1)):d=c);0===c&&0===d&&(a.j=-1);a.P=c;a.da=d};wa.prototype.bc=function(a,b){var c=!0;b=this.Bc(b).toLowerCase();if(""!==b){c=!1;a.j="ptkcs".indexOf(b[0]);if(-1!==a.j)if(this.h=1,2!==a.j&&4!==a.j&&-1!==b.indexOf("*"))a.P=
-1;else switch(a.j){case 0:this.xd(a,b);break;case 1:this.Cd(a,b);break;case 2:this.rd(a,b);break;case 3:this.hd(a,b);break;case 4:this.Bd(a,b);break;default:a.P=-1}this.h!==b.length&&(a.P=-1);-1!==a.P?c=!0:(a.j=-1,this.U="Invalid bounded grid definition '"+b.toUpperCase()+"'")}return c};wa.prototype.Ua=function(a,b,c,d){var f,e=0,g=null;if(c[b]===a){for(b+=1;b<d&&" "===c[b];)b+=1;if(b<d&&"="===c[b])b+=1;else return[g,b];for(;b<d&&" "===c[b];)b+=1;a=0;var k=f=!1;b<d&&"-"===c[b]&&(b+=1,k=!0);for(b<
d&&(e=c[b].charCodeAt(0));b<d&&48<=e&&57>=e;)a=10*a+(e-48),b+=1,f=!0,b<d&&(e=c[b].charCodeAt(0));for(f&&(g=k?-a:a);b<d&&" "===c[b];)b+=1;for(b<d&&","===c[b]&&(b+=1);b<d&&" "===c[b];)b+=1}return[g,b]};wa.prototype.Ad=function(a,b){this.da=this.ea=-999999;var c=this.Ua("x",0,a,b);var d=c[1];null!==c[0]&&(this.ea=c[0]);c=this.Ua("y",d,a,b);d=c[1];null!==c[0]&&(this.da=c[0]);c=this.Ua("h",d,a,b);d=c[1];null!==c[0]&&(this.eb=c[0],this.Ma=!0);c=this.Ua("v",d,a,b);null!==c[0]&&(this.fb=c[0])};wa.prototype.Db=
function(a,b,c,d){var f=b.indexOf("\n"),e=b.indexOf("rule"),g=!1;-1===f&&(f=b.length);c?this.Ad(b,f):e=-1;-1===e||e>f?e=c?"":b.substring(1,f).trim():(e=b.substring(e+4,f).trim(),"="===e[0]&&(e=e.substring(1).trim()));""!==e&&","===e[e.length-1]&&(e=e.substring(0,e.length-1));a.Pa=e;a.h=e;var k=e.indexOf(":");c=e.lastIndexOf(":");-1!==c&&k===c&&null!==db.Tp(a.h)&&(c=-1);-1!==c&&(this.bc(a,e.substring(c+1))?e=e.substring(0,c).trim():c=-2);var l=e.toLowerCase().lastIndexOf("history");-1!==l&&l===e.length-
7&&(a.H=!0,e=e.substring(0,e.length-7).trim());l=e.indexOf("|");-1!==l&&"history"===e.toLowerCase().substring(0,l).trim().substring(l-7)&&(a.H=!0,k=e.substring(0,l).trim(),e=k.substring(0,k.length-7)+e.substring(l));a.H||(l=e.toLowerCase().lastIndexOf("super"),-1!==l&&l===e.length-5&&(a.D=!0,e=e.substring(0,e.length-5).trim()),l=e.indexOf("|"),-1!==l&&"super"===e.toLowerCase().substring(0,l).trim().substring(l-5)&&(a.D=!0,k=e.substring(0,l).trim(),e=k.substring(0,k.length-5)+e.substring(l)));a.H||
a.D||("stateinvestigator"===e.toLowerCase()?(e="B3/S23Investigator",g=!0):"leapinvestigator"===e.toLowerCase()?(e="B2n3/S23-qInvestigator",g=!0):"eightinvestigator"===e.toLowerCase()?(e="B3/S238Investigator",g=!0):"pedestrianinvestigator"===e.toLowerCase()?(e="B38/S23Investigator",g=!0):"merryinvestigator"===e.toLowerCase()&&(e="B3-eq4ciqt5ky/S2-c3-k4yz5i8Investigator",g=!0),l=e.toLowerCase().lastIndexOf("investigator"),-1!==l&&l===e.length-12&&(a.S=!0,e=e.substring(0,e.length-12).trim()),l=e.indexOf("|"),
-1!==l&&"investigator"===e.toLowerCase().substring(0,l).trim().substring(l-12)&&(a.S=!0,k=e.substring(0,l).trim(),e=k.substring(0,k.length-12)+e.substring(l)));-2!==c&&this.ya(a,e,d,g)?this.ob=!0:this.Uj=!0;""===e&&-1===b.indexOf("=")&&(f=-1);return f+1};wa.prototype.Xb=function(a){switch(a){case 0:a="Plane";break;case 1:a="Torus";break;case 2:a="Klein bottle";break;case 3:a="Cross-surface";break;case 4:a="Sphere";break;default:a="(unknown)"}return a};wa.prototype.$d=function(a,b){var c=a.G,d=a.B,
f=this.sa(a.v,a.m,a.pa);var e=new Uint8Array(a.G.length);var g=new Uint8Array(a.B.length);if(d[f+1]){for(a=0;a<=f;a+=1)e[a]=255-d[f-a+1],g[a+1]=255-c[f-a];for(a=0;a<=f;a+=1)c[a]=e[a],d[a+1]=g[a+1];this.ca=!1}else{a.Ia=b.h(ra.cb,a.G.length,"HROT.altBirths",!1);a.Ma=b.h(ra.cb,a.B.length,"HROT.altSurvivals",!1);e=a.Ia;g=a.Ma;for(a=0;a<=f;a+=1)e[a]=d[f-a+1],g[a+1]=c[f-a];for(a=0;a<=f;a+=1)c[a]=255-c[a],d[a+1]=255-d[a+1];this.ca=!0}};wa.prototype.Zc=function(a,b){var c,d,f=a.I,e=a.ca;if(null!==f)if(a.Da&&
2===a.i)for(d=2;256>d;d+=1)this.aa[d]&&(this.aa[d]=0,--a.Wa);else for(c=0;c<e.length;c+=1){var g=f[c];var k=e[c];for(d=0;d<k.length;d+=1){var l=k[d];l>=b&&(k[d]=0,g[d>>2]&=~(1<<(~d&15)),0<this.aa[l]&&(this.aa[l]=0,--a.Wa))}}};wa.prototype.Ub=function(a){var b="[R]History",c=!0;a.D?b="[R]Super":a.S&&(b="[R]Investigator");-1===a.i||a.ka||(this.U=a.Da?b+" not valid with HROT":b+" not valid with Generations");a.ka&&(this.U=b+" not valid with PCA rule");a.ga&&(this.U=b+" not valid with none rule");a.s&&
(this.U=b+" not valid with triangular rule");a.va===this.qa&&(this.U=b+" not valid with Hex Tripod");a.$&&(this.U=b+" not valid with LtL");a.fa&&(this.U=b+" not valid with Margolus");this.na&&(this.U=b+" not valid with Wolfram emulation");""!==this.U&&(c=!1);return c};wa.prototype.mc=function(a,b,c,d){var f=0,e=b.length,g;var k=!0;var l=g=!1;var p=this.aa;var n=0,q=4,m=0;a.fa=!1;a.ga=!1;a.j=-1;a.width=0;a.height=0;a.wa=!1;a.I=null;a.ca=null;a.ra=!1;a.H=!1;a.D=!1;a.S=!1;a.Na=!1;a.ha=!1;a.qa=-1;a.la=
!1;a.i=-1;a.$=!1;a.A=-1;a.ya=1;a.O=-1;a.aa=-1;a.Y=-1;a.ea=-1;a.Da=!1;a.G=null;a.B=null;a.v=-1;a.title="";a.u="";a.sa="";a.F=2;a.Wa=0;p.fill(0);for(b+=" ";f<e&&!a.ra;)switch(p=b[f],p){case "#":f+=1;p=b[f];f+=1;switch(p){case "N":this.Wd(a,b.substring(f));break;case "O":this.Xd(a,b.substring(f));break;case "C":this.Xc(b,f);break;case "P":this.xc(b.substring(f),!1);break;case "R":l?(k=b.substring(f).indexOf("\n"),-1===k&&(k=b.substring(f).length),f+=k):("ULE"===b.substring(f,f+3)&&(f+=3),f+=this.Db(a,
b.substring(f),!1,c),l=!0);k=!1;break;case "\n":--f}k?f="\n"===p?f+this.Pa(a,"#",b,f,g):f+this.Pa(a,"#"+p,b,f,g):k=!0;break;case "\n":f+=1;break;default:if("x"===p&&f<e&&(" "===b[f+1]||"="===b[f+1])&&!l){if(f+=this.Db(a,b.substring(f),!0,c),l=!0,this.ea===Da.nr||this.da===Da.nr)this.U="RLE header needs: x = N, y = N",a.ra=!0,this.ob=!1}else if(g)f+=this.Pa(a,"",b,f,!0);else{g=!0;var r=[];p=this.Va(a,b.substring(f),r);-1!==p&&(f+=p,a.wa||d||this.jc(a,r,c))}}if(a.ra&&(g=b.substring(f).indexOf("!"),
-1!==g))for(f+=g+1;f<e;)f+=this.Pa(a,"",b,f,!0);l||(this.ya(a,"",c,!1)?this.ob=!0:this.Uj=!0);a.$&&this.ae(a,c);(b=a.Yb())&&this.$d(a,c);!a.Da||a.m!==this.G&&a.m!==this.D&&a.m!==this.A&&(15!==a.m&&10!==a.m||"H"!==a.ba)||(a.ha=!0);!a.Da||a.m!==this.H&&(15!==a.m&&10!==a.m||"L"!==a.ba)||(a.s=!0);-1!==a.j&&(a.Da&&(q=6*a.v),a.$&&(q=6*a.A),a.P>=16384-q||a.da>=16384-q)&&(this.U="Bounded grid too big",this.ob=!1,a.j=-1);a.Da&&-1!==a.j&&(0!==a.P&&a.P<2*a.v||0!==a.da&&a.da<2*a.v)&&(this.U="Bounded grid too small (must be at least "+
2*a.v+")",this.ob=!1,a.j=-1);a.ha&&1<a.j&&""===this.U&&(this.U="Hexagonal rules only support Plane or Torus",this.ob=!1,a.j=-1);a.s&&1<a.j&&""===this.U&&(this.U="Triangular rules only support Plane or Torus",this.ob=!1,a.j=-1);a.s&&(1===a.j||2===a.j)&&(a.Ea&1||a.Fa&1)&&(this.U="Triangular rules only support even shifts",this.ob=!1,a.j=-1);a.fa&&(1===a.j||2===a.j)&&(a.Ea&1||a.Fa&1)&&(this.U="Margolus rules only support even shifts",this.ob=!1,a.j=-1);a.fa&&1<a.j&&""===this.U&&(this.U="Margolus rules only support Plane or Torus",
this.ob=!1,a.j=-1);a.ka&&1<a.j&&""===this.U&&(this.U="PCA rules only support Plane or Torus",this.ob=!1,a.j=-1);!a.$||""!==this.U||(1<a.j&&(this.U="LtL only supports Plane or Torus",this.ob=!1,a.j=-1),0!==a.j&&1!==a.j)||0!==a.P&&0!==a.da||(this.U="LtL bounded grid must be finite",this.ob=!1,a.j=-1);a.s&&-1!==a.j&&(0!==(a.P&1)?(this.U="Bounded grid width must be even",this.ob=!1,a.j=-1):0!==(a.da&1)&&(this.U="Bounded grid height must be even",this.ob=!1,a.j=-1));a.ka&&0!==this.m[0]&&(this.U="PCA first value must be 0",
this.m[0]=0,this.ob=!1);a.fa&&(15===this.m[0]&&0!==this.m[15]?(this.U="Margolus last value must be 0 when first is 15",this.ob=!1):0!==this.m[0]&&15!==this.m[0]&&(this.U="Margolus first value must be 0 or 15",this.ob=!1));!a.Da||-1===a.j||0===a.Fa&&0===a.Ea||(this.U="HROT does not support Bounded Grid shift",this.ob=!1,a.j=-1);b&&2<a.i&&(this.U="HROT Generations does not support B0",this.ob=!1);!a.Da||""!==this.U||(1<a.j&&(this.U="HROT only supports Plane or Torus",this.ob=!1,a.j=-1),0!==a.j&&1!==
a.j)||0!==a.P&&0!==a.da||(this.U="HROT bounded grid must be finite",this.ob=!1,a.j=-1);a.Na&&(a.H||a.S)&&(this.U=a.H?"[R]History not valid with Niemiec states":"[R]Investigator not valid with Niemiec states",this.ob=!1);a.H&&""===this.U&&(a.H=this.Ub(a));a.S&&""===this.U&&(a.S=this.Ub(a));a.D&&""===this.U&&(a.D=this.Ub(a));-1===a.i||!this.m[0]||a.$||a.Da||(this.U="Generations does not support B0",this.ob=!1);a.fa&&-1!==a.j&&(-1!==a.da&&0!==(a.da&1)&&(this.U="Bounded grid height must be even",a.j=
-1,this.ob=!1),-1!==a.P&&0!==(a.P&1)&&(this.U="Bounded grid width must be even",a.j=-1,this.ob=!1));a.ha&&(n+=1);a.s&&(n+=1);a.la&&(n+=1);1<n&&(this.U="Multiple neighbourhoods specified",this.ob=!1,a.ha=!1,a.s=!1,a.la=!1);a.D&&(a.i=26);a.S&&(a.i=21);this.ob&&(a.H?(m=7,a.F>m&&(this.U="Illegal state in pattern for [R]History",this.ob=!1,this.fa=!0)):a.D?(m=26,a.F>m&&(this.U="Illegal state in pattern for [R]Super",this.ob=!1,this.fa=!0)):a.S?(m=21,a.F>m&&(this.U="Illegal state in pattern for [R]Investigator",
this.ob=!1,this.fa=!0)):-1!==a.i&&(m=a.i,a.F>m&&(this.U=a.$?"Illegal state in pattern for LtL":a.Da?"Illegal state in pattern for HROT":a.ka?"Illegal state in pattern for PCA":"Illegal state in pattern for Generations",this.fa=!0,this.ob=!1)),this.fa&&!d&&(a.F=m,this.Zc(a,m)))};wa.prototype.qd=function(a,b){var c=!0,d=!1,f=0,e=0,g=0,k=0,l=0,p=!0,n=Da.Vr,q,m=null,r=[],u={},t=null;b.u();var v=b.j();for(""!==v&&"@"===v[0]&&(v="");c&&""!==v;){for(;c&&!d&&""!==v;){if("/"===v[0])b.u();else if("xpm"===v.toLowerCase())b.u();
else if('"'===v[0])v=v.substring(1),b.v(v)&&(f=b.H(v),b.i()&&(e=b.h(),b.i()&&(g=b.h(),v=b.j(),'"'===v[v.length-1]&&(v=v.substring(0,v.length-1),b.v(v)&&(k=b.H(v)))))),0<f&&0<e&&1<=k&&2>=k&&0===e%f?7!==f&&15!==f&&31!==f?d=!1:(d=!0,l=0,m=new Uint16Array(f*e),t=new Uint32Array(g)):c=!1;else switch(v){case "circles":n=Da.TJ;u={};m=new Uint16Array(0);t=[];break;case "diamonds":n=Da.UJ;u={};m=new Uint16Array(0);t=[];break;case "hexagons":n=Da.VJ;u={};m=new Uint16Array(0);t=[];break;case "triangles":n=Da.XJ,
u={},m=new Uint16Array(0),t=[]}for(;b.D();)b.j();v=b.j();""!==v&&"@"===v[0]&&(v="")}for(;c&&d&&""!==v;){if("/"===v[0])b.u();else{if('"'===v[0])if(c=!1,l<g){var B=v.substring(1);if(B.length===k&&void 0===u[B]&&(v=b.j(),"c"===v&&(v=b.j(),'"'===v[v.length-1]))){c=v.substring(0,v.length-1);c=parseInt(c,16);u[B]=l;t[l]=c;if(c>>16!==(c>>8&255)||c>>16!==(c&255))p=!1;c=!0;b.u()}}else{if(c=!1,'"'===v[v.length-1]&&v.length-2===f*k){v=v.substring(1,v.length-1);var w=0;for(c=!0;c&&w<f;){B=v[w*k];1<k&&(B+=v[w*
k+1]);if(void 0===u[B])c=!1;else{if(l>=e+g){console.log("LifeViewer: unexpected icon data found after icon",e/f);var z=m;e+=f;m=new Uint16Array(f*e);for(q=0;q<z.length;q+=1)m[q]=z[q]}m[(l-g)*f+w]=u[B]}w+=1}}}else l===e+g?(d=!1,r[r.length]={Sq:n,width:f,height:e,Jw:g,ao:t.slice(),av:m.slice(),ir:p},u={},m=null,p=!0,n=Da.Vr):c=!1,b.P();l+=1}for(;b.D();)b.j();v=b.j();""!==v&&"@"===v[0]&&(v="")}}c?l===e+g?(r[r.length]={Sq:n,width:f,height:e,Jw:g,ao:t.slice(),av:m.slice(),ir:p},a.na=r):a.na=null:a.na=
null};wa.prototype.vd=function(a,b){var c=a.F,d=[],f=0,e,g=!1;b.u();b.i()&&(f=b.h(),0<=f&&f<c&&(g=!0));for(;g;){g=!1;for(e="";!b.D()&&""!==b.m();)e=""===e?b.j():e+(" "+b.j());d[f]=e;b.u();b.i()&&(f=b.h(),0<=f&&f<c&&(g=!0))}a.kb=d};wa.prototype.dc=function(a,b){var c=a.F;a=a.Ha;var d=0,f=0,e=0,g=0,k=!1;b.u();b.i()&&(d=b.h(),k=!0);for(;k;){k=!1;b.i()&&(f=b.h(),b.i()&&(e=b.h(),b.i()&&(g=b.h(),k=!0)));if(k)if(b.i()&&b.I()){var l=b.h();var p=b.h();0<=d&&255>=d&&0<=f&&255>=f&&0<=e&&255>=e&&0<=g&&255>=g&&
0<=l&&255>=l&&0<=p&&255>=p?this.Yb(a,d,f,e,g,l,p):k=!1}else 0<=d&&d<c&&0<=f&&255>=f&&0<=e&&255>=e&&0<=g&&255>=g?a[d]=f<<16|e<<8|g:k=!1;k&&(b.u(),b.i()?d=b.h():k=!1)}};wa.prototype.Kb=function(a,b,c,d,f,e){var g=!1,k=a.length;var l=d.length;var p=l%32;var n=1<<p,q=(l-p)/32,m=0;if(null!==e)for(l=0;!g&&l<e.length;){var r=e[l];if(r.output===b)for(p=0,g=!0;g&&p<a.length;)0!==this.Ta(a[p],r.inputs[p])&&(g=!1),p+=1;l+=1}if(!g){null!==e&&(r={inputs:[],output:b},r.inputs=a.slice(),e[e.length]=r);d[d.length]=
b;if(q>=c.Ua){for(l=0;l<k;l+=1)for(p=0;p<c.ta;p+=1)f[l][p][f[l][p].length]=0;c.Ua+=1}for(l=0;l<k;l+=1){c=a[l];d=!1;for(p=0;p<c.length;p+=1)f[l][c[p]][q]|=n,0===c[p]&&(d=!0);d&&(m+=1)}0!==b&&m===k&&(this.F=!0)}return g};wa.prototype.Md=function(a){var b=a.length,c=b-2,d=b-1,f=!1;if(1<b){for(;0<=c&&0<=this.Ta(a[c],a[c+1]);)--c;if(0<c){for(f=!0;d>=c&&0>=this.Ta(a[d],a[c]);)--d;var e=a[c];a[c]=a[d];a[d]=e;var g=(b-(c+1))/2|0;for(d=0;d<g;d+=1)e=a[b-d-1],a[b-d-1]=a[c+1+d],a[c+1+d]=e}}return f};wa.prototype.Ta=
function(a,b){var c=0,d=a.length;if(d===b.length){for(;c<d&&a[c]===b[c];)c+=1;return c===d?0:a[c]-b[c]}return d-b.length};wa.prototype.Sd=function(a,b,c,d,f){var e,g,k,l=[],p=[],n=[],q=0;for(e=0;e<c;e+=1)for(n[e]=[],g=0;g<f.ta;g+=1)n[e][g]=[];for(e=f.Ua=0;e<d.length;e+=1){var m=d[e].inputs;var r=d[e].output;if(0===a)this.Kb(m,r,f,p,n,null);else if(a===b-1){l=m.slice(1).sort(this.Ta);for(g=0;g<l.length;g+=1)m[g+1]=l[g];do this.Kb(m,r,f,p,n,null);while(this.Md(m))}else{var u=this.Ca[f.ab][a-1];var t=
[];for(g=0;g<u.length;g+=1){for(k=0;k<m.length;k+=1)l[k]=m[u[g][k]];this.Kb(l,r,f,p,n,t)&&(q+=1)}}}k=0;f.Va=[];for(e=0;e<c;e+=1)for(f.Va[e]=[],g=0;g<f.ta;g+=1)f.Va[e][g]=new Uint32Array(n[e][g].length),f.Va[e][g].set(n[e][g]),k+=n[e][g].length;if(U.R)for(f.Cb=this.T.h(ra.lc,k,"Life.ruleTableLUT",U.R),e=a=0;e<c;e+=1)for(g=0;g<f.ta;g+=1)for(k=0;k<n[e][g].length;k+=1)f.Cb[a]=n[e][g][k],a+=1;f.ia=this.T.h(ra.cb,p.length,"Life.ruleTableOutput",U.R);f.ia.set(p);f.pb=q};wa.prototype.pc=function(a,b){var c=
-1,d=-1,f=-1,e=0,g,k="",l={},p=0,n=0,q=[],m=null,r;this.F=!1;var u=0;for(r=!0;r&&3>u;){var t=b.Y();switch(t.toLowerCase()){case "n_states":r=!1;":"===b.j()?b.i()?(c=b.h()|0,2<=c&&256>=c?r=!0:this.U="n_states must be from 2 to 256"):this.U="n_states must be numeric":this.U="n_states missing :";break;case "neighborhood":r=!1;if(":"===b.j()){t=b.j();var v=!1;for(g=0;!v&&g<this.ja.length;)t.toLowerCase()===this.ja[g]?(d=g,e=this.Ba[g],v=!0,m=new Int32Array(e+1)):g+=1;r=v;v||(this.U="neighborhood invalid")}else this.U=
"neighborhood missing :";break;case "symmetries":r=!1;if(-1!==d)if(":"===b.j()){t=b.j();v=!1;for(g=0;!v&&g<this.ka[d].length;)t.toLowerCase()===this.ka[d][g]?(f=g,v=!0):g+=1;r=v;v||(this.U="symmetries invalid")}else this.U="symmetries missing :";else this.U="symmetries must follow neighborhood";break;default:r=!1}u+=1}if(-1===c||-1===d||-1===f)""===this.U&&(this.U=-1===c?"missing n_states":-1===d?"missing neighborhood":"missing symmetries"),r=!1;b.G();t=b.j();for(""!==t&&"@"===t[0]&&(t="");r&&""!==
t;){if("var"===t.toLowerCase()){k=b.j();var B=[];"="===b.m()&&b.j();for(r=!0;r&&!b.D();)if(b.i())g=b.h(),0<=g&&g<=c?B[B.length]=g:(r=!1,this.U="out of range value: "+k+"="+g);else{var w=b.j();if(void 0!==l[w])for(u=0;u<l[w].length;u+=1)B[B.length]=l[w][u];else r=!1,this.U="var unknown assignment: "+k+"="+w}r&&(l[k]=B,p+=1)}else if(10>=c&&0===p&&b.D()){if(B=[],r=!1,t.length===e+1){u=0;for(r=!0;r&&u<e;)w=t.charCodeAt(u),48<=w&&w<48+c?(B[B.length]=[w-48],u+=1):(this.U="expected only digits: "+t,r=!1);
r&&(w=t.charCodeAt(u),48<=w&&w<48+c?(n=w-48,q[q.length]={inputs:B,output:n}):(this.U="expected only digits: "+t,r=!1))}}else{r=!1;w=[];w[0]=t;m[0]=b.v(t)?parseInt(t,10):-1;for(u=1;b.ba();)u<e+1?b.i()?(m[u]=b.h(),w[u]=""):(m[u]=-1,w[u]=b.j()):w[u]=b.j(),u+=1;if(w.length===e+1){t=[];for(k in l){for(u=r=0;u<w.length;u+=1)k===w[u]&&(r+=1);1<r&&(t[t.length]=k)}B=[];var z={};for(u=0;u<t.length;u+=1)z[t[u]]=0;for(r=!0;;){for(u=0;u<e;u+=1)if(v=!1,g=m[u],-1!==g)g>=c?(this.U="state out of range: "+g,r=!1):
B[u]=[g];else{var E=w[u];if(t.length)for(g=0;!v&&g<t.length;)t[g]===E?v=!0:g+=1;0<t.length&&v?B[u]=[l[E][z[E]]]:void 0!==l[E]?B[u]=l[E]:(this.U="unknown variable: "+E,r=!1)}v=!1;g=m[u];if(-1!==g)0>g||g>=c?(this.U="output state out of range: "+g,r=!1):n=g;else{E=w[u];if(0<t.length)for(g=0;!v&&g<t.length;)t[g]===E?v=!0:g+=1;0<t.length&&v?n=l[E][z[E]]:void 0!==l[E]?n=l[E]:(this.U="unknown output variable: "+E,r=!1)}q[q.length]={inputs:B.slice(),output:n};for(u=0;u<t.length;u+=1)if(z[t[u]]<l[t[u]].length-
1){z[t[u]]+=1;break}else z[t[u]]=0;if(u>=t.length)break}}}b.G();t=b.j();""!==t&&"@"===t[0]&&(b.P(),t="")}r&&(null===a.T&&(a.T=va.T),a.ta=c,a.ab=d,a.ha=d===Da.$g?!0:!1,this.Sd(f,this.ka[d].length,e,q,a),a.F=a.ta,this.U="",this.ob=!0,this.Uj=!1,a.ga=!1,this.Zb(a,a.ta));return r};wa.prototype.Yb=function(a,b,c,d,f,e,g){var k=a.length,l;a[0]=0;for(l=1;l<k;l+=1){var p=2===k?0:(l-1)/(k-2);a[l]=(f*p+b*(1-p)|0)<<16|(e*p+c*(1-p)|0)<<8|g*p+d*(1-p)|0}};wa.prototype.Zb=function(a,b){a.Ha=new Uint32Array(b);this.Yb(a.Ha,
255,0,0,255,255,0)};wa.prototype.Pd=function(a){return(new RegExp("neighborhood *: *"+this.ja[Da.$g])).test(a.source)};wa.prototype.Yc=function(a,b,c,d){4===c?0!==b[a[a[a[a[d]]]]]&&(this.F=!0):0!==b[a[a[a[a[a[a[a[a[d]]]]]]]]]&&(this.F=!0)};wa.prototype.Dd=function(a,b){var c,d=-1,f=-1,e=-1,g=null,k=0,l=null,p=0,n=null,q=0,m=null,r=0,u=0,t=0;this.F=!1;var v=0;for(c=!0;c&&3>v;){c=b.Y();switch(c.toLowerCase()){case "num_states":c=!1;"="===b.j()?b.i()?(d=b.h()|0,2<=d&&256>=d?c=!0:this.U="num_states must be from 2 to 256"):
this.U="num_states must be numeric":this.U="num_states missing =";break;case "num_neighbors":c=!1;"="===b.j()?b.i()?(f=b.h()|0,4===f||8===f?c=!0:this.U="num_neighbors must be 4 or 8"):this.U="num_neighbors must be numeric":this.U="num_neighbors missing =";break;case "num_nodes":c=!1;"="===b.j()?b.i()?(e=b.h()|0,e>=f&&1E8>=e?c=!0:this.U="num_nodes out of range"):this.U="num_nodes must be numeric":this.U="num_nodes missing =";break;default:c=!1}v+=1}if(-1===d||-1===f||-1===e)""===this.U&&(this.U=-1===
d?"missing num_states":-1===f?"missing num_neighbors":"missing num_nodes"),c=!1;c&&(g=new Uint32Array(e*d),l=new Uint8Array(e*d),n=new Uint32Array(e),m=new Uint32Array(e));for(b.G();c&&b.i();){q>e?c=!1:(u=b.h(),t=0,n[q]=1===u?p:k,q+=1,m[r]=u,r+=1);for(;c&&b.i();)v=b.h(),1===u?0>v||v>=d?(this.U="bad state value in tree data: "+v,c=!1):(l[p]=v,p+=1):0>v||v>n.length?(this.U="bad node value in tree data: "+v,c=!1):m[v]!==u-1?(this.U="bad node pointer in tree data: "+u,c=!1):(g[k]=n[v],k+=1),t+=1;c&&t!==
d&&(this.U="bad number of values on tree data line",c=!1);b.G()}c&&(k+p!==e*d?(this.U="bad count of values in tree data",c=!1):u!==f+1&&(this.U="bad last node (wrong level)",c=!1));if(c){null===a.T&&(a.T=va.T);a.mb=f;a.ma=d;a.qb=e;a.lb=n[n.length-1];a.bb=a.T.h(ra.lc,k,"Life.ruleTreeA",U.R);a.eb=a.T.h(ra.cb,p,"Life.ruleTreeB",U.R);for(v=0;v<k;v+=1)a.bb[v]=g[v];for(v=0;v<p;v+=1)a.eb[v]=l[v];a.Nb=this.Pd(b);a.ha=a.Nb;a.F=a.ma;this.U="";this.ob=!0;this.Uj=!1;a.ga=!1;this.Yc(a.bb,a.eb,a.mb,a.lb);this.Zb(a,
a.ma)}return c};wa.prototype.nc=function(a,b){var c=!1,d=new Pa(b,!0);a.X.hb="";a.X.U="";b=d.A("@RULE",-1);if(-1!==b&&!d.D()){a.zb=d.$();var f=d.A("@TREE",-1);-1!==f?(c=this.Dd(a,d))?a.h=a.zb:(""===a.X.U&&(a.X.U="not valid"),a.X.U="@TREE "+a.X.U):(f=d.A("@TABLE",0),-1!==f?(c=this.pc(a,d))?a.h=a.zb:(""===a.X.U&&(a.X.U="not valid"),a.X.U="@TABLE "+a.X.U):a.X.U="@TABLE and @TREE not found");f=d.current-1;c&&(c=d.A("@COLORS",0),-1!==c&&(this.dc(a,d),d.current-1>f&&(f=d.current-1)),c=d.A("@ICONS",0),-1!==
c&&(this.qd(a,d),d.current-1>f&&(f=d.current-1)),c=d.A("@NAMES",0),-1!==c&&(this.vd(a,d),d.current-1>f&&(f=d.current-1)));""===a.X.U&&(a.X.hb=d.aa(b,f))}};wa.prototype.Wc=function(a){var b=a.h.toLowerCase().lastIndexOf("super");-1===b&&(a.h+="Super");""!==a.V&&(b=a.V.toLowerCase().lastIndexOf("super"),-1===b&&(a.V+="Super"))};wa.prototype.jd=function(a){var b=!1,c=a.sa.indexOf("@RULE"),d=a.h;var f=d.indexOf(":");a.ua=this.U;-1!==f&&(this.bc(a,d.substring(f+1)),d=d.substring(0,f));for(;-1!==c&&!b;){f=
a.sa.indexOf("@RULE",c+1);var e=-1===f?a.sa.substring(c):a.sa.substring(c,f);this.nc(a,e);-1===a.ma&&null===a.ia||d!==a.zb?(c=f,a.ma=-1,a.ia=null):b=!0}return b};wa.prototype.create=function(a,b,c,d,f,e,g,k){a=new mb(a,this);this.ob=this.Uj=this.Na=this.fa=this.F=this.ra=!1;this.U="";this.h=0;this.vb=!1;this.Hb=0;this.Ma=!1;this.fb=this.eb=0;this.da=this.ea=-999999;this.ca=!1;if("!"===b.charAt(0)||"O"===b.charAt(0)||"."===b.charAt(0)||"*"===b.charAt(0)||"o"===b.charAt(0))this.gd(a,b,c),this.ob=!0;
null===a.I&&(this.ob=!1,"#Life 1.05"===b.substring(0,10)?this.ac(a,b,!0,c):"#Life 1.06"===b.substring(0,10)?(this.fd(a,b,c),this.ob=!0):"#"===b[0]||"x"===b[0]?(this.mc(a,b,c,g),null!==a.I||a.wa||a.ra||(this.ac(a,b,!1,c),this.Uj=!1,a.ca=null,a.H=!1,a.D=!1,a.S=!1,a.F=2,a.Wa=0)):(this.mc(a,b,c,g),a.ra&&(a=null)));a&&a.wa&&(this.U="Pattern too big",this.Na=a.ra=!0,this.ob=!1);a&&(-1!==a.j?(b=a.h.lastIndexOf(":"),a.fb=a.h.substring(b),a.h=a.h.substring(0,b)):a.fb="");a&&a.Da&&a.m===this.v&&50<a.v&&(this.U=
"HROT 'R' > 50",this.ob=!1);a&&null===a.I&&""===this.U&&(this.U="Invalid pattern",a=null,this.ob=!1);a&&a.ra&&!a.wa&&(this.ob=!1);a&&(!a.Na||a.H||a.S||this.Wc(a),""!==a.u&&"\n"!==a.u[a.u.length-1]&&(a.u+="\n"),""!==a.sa&&"\n"!==a.sa[a.sa.length-1]&&(a.sa+="\n"),""!==this.U&&(a.ha||a.s)&&null===a.h.match(/[0-9]/)&&(a.ha=!1,a.s=!1),""===a.title&&(a.title=a.Rb.join(" "),a.sa=0<a.rb.length?a.rb.join("\n")+"\n":"",a.u=0<a.vb.length?a.vb.join("\n")+"\n":"",a.Rb=[],a.rb=[],a.vb=[]),""===this.U||this.Na||
this.fa||""===a.h||(-1!==a.h.indexOf("|")&&"Only one alternate allowed"!==this.U?this.U=a.Da?"Alternating HROT rules with B0 are not supported":"Alternating RuleLoader rules are not supported":(a.ua=this.U,a.Pa=a.h,-1!==a.j?(b=a.h.lastIndexOf(":"),-1!==b&&(a.fb=a.h.substring(b),a.h=a.h.substring(0,b))):a.fb="",a.fa=!1,a.ka=!1,a.ga=!1,a.H=!1,a.D=!1,a.S=!1,a.Na=!1,a.ha=!1,a.s=!1,a.qa=-1,a.la=!1,a.$=!1,a.SD=a.Da,a.Da=!1,this.jd(a)||Za.VB(a),-1===a.ma&&null===a.ia||this.na?this.Kd(a,d,f,e,k):(d=null===
a.ia?a.ma:a.ta,a.F=d,this.U="",this.ob=!0,this.Uj=!1,a.ga=!1))));return a};wa.prototype.Id=function(a){var b=a.indexOf("@RULE");if(-1===b)a="";else{var c=a.indexOf("\x3c!--",b);a=-1===c?0===b?a:a.substring(b):a.substring(b,c);a=a.replace(/<li>/g,"# ");a=a.replace(/<[^<]*>/g,"")}return a};wa.prototype.Jd=function(a,b,c){if(4===b.readyState)if(200===b.status){b=a.Id(b.responseText);var d=performance.now()-this.time;this.time=performance.now();if(""===b)c.X.U="@RULE not found",Za.Ur(c);else{a.nc(c,b);
var f=performance.now()-this.time;-1!==c.ma||null!==c.ia?Za.add(c,d,f,b.length,a.hb,a.F):Za.Ur(c)}}else c.ua+="\n\nRepository lookup failed with status "+b.status,Za.Ur(c)};wa.prototype.Fd=function(a){Za.Ur(a)};wa.prototype.Kd=function(a,b,c,d,f){var e=this,g=null,k=a.h,l="";k=k.replace(/ /g,"_");l="/wiki/Rule:"+k;this.time=performance.now();this.ra=!0;f?a.T=f.g.T:a.T=null;Za.nG(a,b,c,d,f)||(g=new XMLHttpRequest,""!==Ea.ay&&(l=Ea.ay+k+Ea.mD),La(g,"load",function(){e.Jd(e,g,a)},!1),La(g,"error",function(){e.Fd(a)},
!1),g.open("GET",l,!0),g.send(null))};var hb={su:[48,48,48,0,255,127,127,0,255,148,148,148,128,255,0,255,0,128,0,128,255,1,159,0,159,0,1,255,254,96,0,1,159,96,255,254,254,96,255,126,125,21,21,126,125,125,21,126,255,116,116,116,255,116,116,116,255,228,227,0,28,255,27,255,27,28,0,228,227,227,0,228,27,28,255,59,59,59,234,195,176,175,196,255,171,194,68,194,68,171,68,171,194,72,184,71,184,71,72,71,72,184,169,255,188,252,179,63,63,252,179,179,63,252,80,9,0,0,80,9,9,0,80,255,175,250,199,134,213,115,100,
95,188,163,0,0,188,163,163,0,188,203,73,0,0,203,73,73,0,203,94,189,0,189,0,94,0,94,189,187,243,119,55,125,32,125,32,55,32,55,125,255,102,185,102,185,255,120,209,168,208,166,119,135,96,192,182,255,41,83,153,130,247,88,55,89,247,55,88,55,247,87,75,0,0,87,75,75,0,87,200,135,59,51,213,127,255,255,162,255,37,182,37,182,255,228,57,117,142,163,210,57,117,228,193,255,246,188,107,123,123,194,107,145,59,5,5,145,59,59,5,145,119,39,198,40,197,23,197,23,40,23,40,197,178,199,158,255,201,121,134,223,223,39,253,
84,149,203,15,203,15,149,15,149,203,152,144,90,143,75,139,71,97,132,224,65,219,65,219,224,255,255,40,218,223,69,74,241,0,241,0,74,0,74,241,122,171,51,220,211,227,61,127,87,90,124,176,36,39,13,165,142,255,255,38,255,38,255,255,83,50,107,224,142,165,255,181,9,9,255,181,181,9,255,140,238,70,255,74,5,74,5,255,138,84,51,31,172,101,177,115,17,221,0,0,0,221,0,0,0,221,220,255,200,0,41,50,255,150,205,178,45,116,113,255,189,47,0,44,40,119,171,205,107,255,177,115,172,133,73,236,109,0,168,168,46,207,188,181,
203,212,188,35,90,97,52,39,209,184,41,164,152,227,46,70,46,70,227,211,156,255,98,146,222,136,56,95,102,54,152,86,142,0,142,0,86,0,86,142,86,223,96,246,135,46,4,208,120,212,233,158,177,92,214,104,147,88,149,240,147,227,93,148,72,255,133,209,27,194,147,255,255,44,93,0,160,36,158,182,233,0,96,94,217,218,103,88,163,154,38,118,114,139,94,0,43,113,164,174,168,188,114,0,23,119,42,86,93,255,226,202,80,191,155,255,158,136,0,247,62,234,146,88,0,183,229,110,212,36,0,143,161,105,191,210,133,164,0,41,30,89,164,
0,132,30,89,42,178,222,217,121,22,11,221,107,22,69,151,255,45,158,3,158,3,45,3,45,158,86,42,29,9,122,22,213,209,110,53,221,57,159,101,91,93,140,45,247,213,37,185,34,0,0,185,34,34,0,185,236,0,172,210,180,78,231,107,221,162,49,43,43,162,49,49,43,162,36,248,213,114,0,214,213,36,248,149,34,243,185,158,167,144,122,224,34,245,149,255,31,98,31,98,255,152,200,193,255,80,95,128,123,63,102,62,72,255,62,148,151,226,108,159,99,255,226,255,126,98,223,136,80,95,255,225,153,15,73,41,211,212,71,41,83,217,187,180,
235,79,0,166,127,251,135,243,229,41,0,41,0,229,82,255,216,141,174,249,249,215,255,167,31,79,31,79,167,213,102,185,255,215,83,4,2,40,224,171,220,41,0,4,6,50,90,221,15,113,15,113,221,33,0,115,108,23,90,182,215,36],ru:[],qf:{aliceblue:["AliceBlue",240,248,255],antiquewhite:["AntiqueWhite",250,235,215],aqua:["Aqua",0,255,255],aquamarine:["Aquamarine",127,255,212],azure:["Azure",240,255,255],beige:["Beige",245,245,220],bisque:["Bisque",255,228,196],black:["Black",0,0,0],blanchedalmond:["BlanchedAlmond",
255,235,205],blue:["Blue",0,0,255],blueviolet:["BlueViolet",138,43,226],brown:["Brown",165,42,42],burlywood:["BurlyWood",222,184,135],cadetblue:["CadetBlue",95,158,160],chartreuse:["Chartreuse",127,255,0],chocolate:["Chocolate",210,105,30],coral:["Coral",255,127,80],cornflowerblue:["CornflowerBlue",100,149,237],cornsilk:["Cornsilk",255,248,220],crimson:["Crimson",220,20,60],cyan:["Cyan",0,255,255],darkblue:["DarkBlue",0,0,139],darkcyan:["DarkCyan",0,139,139],darkgoldenrod:["DarkGoldenRod",184,134,
11],darkgray:["DarkGray",169,169,169],darkgreen:["DarkGreen",0,100,0],darkkhaki:["DarkKhaki",189,183,107],darkmagenta:["DarkMagenta",139,0,139],darkolivegreen:["DarkOliveGreen",85,107,47],darkorange:["DarkOrange",255,140,0],darkorchid:["DarkOrchid",153,50,204],darkred:["DarkRed",139,0,0],darksalmon:["DarkSalmon",233,150,122],darkseagreen:["DarkSeaGreen",143,188,143],darkslateblue:["DarkSlateBlue",72,61,139],darkslategray:["DarkSlateGray",47,79,79],darkturquoise:["DarkTurquoise",0,206,209],darkviolet:["DarkViolet",
148,0,211],deeppink:["DeepPink",255,20,147],deepskyblue:["DeepSkyBlue",0,191,255],dimgray:["DimGray",105,105,105],dodgerblue:["DodgerBlue",30,144,255],firebrick:["FireBrick",178,34,34],floralwhite:["FloralWhite",255,250,240],forestgreen:["ForestGreen",34,139,34],fuchsia:["Fuchsia",255,0,255],gainsboro:["Gainsboro",220,220,220],ghostwhite:["GhostWhite",248,248,255],gold:["Gold",255,215,0],goldenrod:["GoldenRod",218,165,32],gray:["Gray",128,128,128],green:["Green",0,128,0],greenyellow:["GreenYellow",
173,255,47],honeydew:["HoneyDew",240,255,240],hotpink:["HotPink",255,105,180],indianred:["IndianRed",205,92,92],indigo:["Indigo",75,0,130],ivory:["Ivory",255,255,240],khaki:["Khaki",240,230,140],lavender:["Lavender",230,230,250],lavenderblush:["LavenderBlush",255,240,245],lawngreen:["LawnGreen",124,252,0],lemonchiffon:["LemonChiffon",255,250,205],lightblue:["LightBlue",173,216,230],lightcoral:["LightCoral",240,128,128],lightcyan:["LightCyan",224,255,255],lightgoldenrodyellow:["LightGoldenRodYellow",
250,250,210],lightgray:["LightGray",211,211,211],lightgreen:["LightGreen",144,238,144],lightpink:["LightPink",255,182,193],lightsalmon:["LightSalmon",255,160,122],lightseagreen:["LightSeaGreen",32,178,170],lightskyblue:["LightSkyBlue",135,206,250],lightslategray:["LightSlateGray",119,136,153],lightsteelblue:["LightSteelBlue",176,196,222],lightyellow:["LightYellow",255,255,224],lime:["Lime",0,255,0],limegreen:["LimeGreen",50,205,50],linen:["Linen",250,240,230],magenta:["Magenta",255,0,255],maroon:["Maroon",
128,0,0],mediumaquamarine:["MediumAquaMarine",102,205,170],mediumblue:["MediumBlue",0,0,205],mediumorchid:["MediumOrchid",186,85,211],mediumpurple:["MediumPurple",147,112,219],mediumseagreen:["MediumSeaGreen",60,179,113],mediumslateblue:["MediumSlateBlue",123,104,238],mediumspringgreen:["MediumSpringGreen",0,250,154],mediumturquoise:["MediumTurquoise",72,209,204],mediumvioletred:["MediumVioletRed",199,21,133],midnightblue:["MidnightBlue",25,25,112],mintcream:["MintCream",245,255,250],mistyrose:["MistyRose",
255,228,225],moccasin:["Moccasin",255,228,181],navajowhite:["NavajoWhite",255,222,173],navy:["Navy",0,0,128],oldlace:["OldLace",253,245,230],olive:["Olive",128,128,0],olivedrab:["OliveDrab",107,142,35],orange:["Orange",255,165,0],orangered:["OrangeRed",255,69,0],orchid:["Orchid",218,112,214],palegoldenrod:["PaleGoldenRod",238,232,170],palegreen:["PaleGreen",152,251,152],paleturquoise:["PaleTurquoise",175,238,238],palevioletred:["PaleVioletRed",219,112,147],papayawhip:["PapayaWhip",255,239,213],peachpuff:["PeachPuff",
255,218,185],peru:["Peru",205,133,63],pink:["Pink",255,192,203],plum:["Plum",221,160,221],powderblue:["PowderBlue",176,224,230],purple:["Purple",128,0,128],rebeccapurple:["RebeccaPurple",102,51,153],red:["Red",255,0,0],rosybrown:["RosyBrown",188,143,143],royalblue:["RoyalBlue",65,105,225],saddlebrown:["SaddleBrown",139,69,19],salmon:["Salmon",250,128,114],sandybrown:["SandyBrown",244,164,96],seagreen:["SeaGreen",46,139,87],seashell:["SeaShell",255,245,238],sienna:["Sienna",160,82,45],silver:["Silver",
192,192,192],skyblue:["SkyBlue",135,206,235],slateblue:["SlateBlue",106,90,205],slategray:["SlateGray",112,128,144],snow:["Snow",255,250,250],springgreen:["SpringGreen",0,255,127],steelblue:["SteelBlue",70,130,180],tan:["Tan",210,180,140],teal:["Teal",0,128,128],thistle:["Thistle",216,191,216],tomato:["Tomato",255,99,71],turquoise:["Turquoise",64,224,208],violet:["Violet",238,130,238],wheat:["Wheat",245,222,179],white:["White",255,255,255],whitesmoke:["WhiteSmoke",245,245,245],yellow:["Yellow",255,
255,0],yellowgreen:["YellowGreen",154,205,50]},fL:function(){return this.ru},Be:function(){var a,b;if(!this.WH)for(this.WH=!0,a=b=0;256>a;a+=1)hb.ru[a]=hb.su[b]<<16|hb.su[b+1]<<8|hb.su[b+2],b+=3}};Ua.prototype.set=function(a){this.J=a.J;this.K=a.K;this.L=a.L;this.N=a.N};Ua.prototype.h=function(a){a.J<this.J&&(this.J=a.J);a.L>this.L&&(this.L=a.L);a.K<this.K&&(this.K=a.K);a.N>this.N&&(this.N=a.N)};wb.prototype.V=function(a,b){var c=b.length,d=b[0].length,f,e,g=0,k,l,p=0,n=this.O,q=0,m=n[q],r=m.length;
a=Array.pe(ra.Xa,a,"Snapshot.input16");Array.Gf(this.j,b);for(f=0;f<c;f+=1){var u=this.j[f];for(b=l=0;b<d;b+=1)if(k=u[b])for(e=15;0<=e;--e){if(0!==(k&1<<e)){var t=p;var v=l;var B=m[g];g+=1;a[t][v]=B>>16;a[t+1][v]=B&65535;t+=2;B=m[g];g+=1;a[t][v]=B>>16;a[t+1][v]=B&65535;t+=2;B=m[g];g+=1;a[t][v]=B>>16;a[t+1][v]=B&65535;t+=2;B=m[g];g+=1;a[t][v]=B>>16;a[t+1][v]=B&65535;t+=2;B=m[g];g+=1;a[t][v]=B>>16;a[t+1][v]=B&65535;t+=2;B=m[g];g+=1;a[t][v]=B>>16;a[t+1][v]=B&65535;t+=2;B=m[g];g+=1;a[t][v]=B>>16;a[t+
1][v]=B&65535;t+=2;B=m[g];g+=1;a[t][v]=B>>16;a[t+1][v]=B&65535;g>=r&&(q+=1,m=n[q],g=0)}l+=1}else l+=16;p+=16}};wb.prototype.Y=function(a,b){var c=b.length,d=b[0].length,f,e=0,g;var k=0;var l,p=0,n=this.O,q=0,m=n[q],r=m.length,u=n.length;var t=this.X.I;var v=Array.pe(ra.Xa,a,"Snapshot.input16");Array.Gf(b,this.j);for(f=0;f<c;f+=1){var B=b[f];for(a=0;a<d;a+=1)(g=B[a])&&(k+=t[g])}if(k)for(f=0;f<c;f+=1){B=b[f];for(a=l=0;a<d;a+=1)if(g=B[a])for(k=15;0<=k;--k){if(0!==(g&1<<k)){var w=p;t=l;m[e]=v[w][t]<<
16|v[w+1][t];e+=1;w+=2;m[e]=v[w][t]<<16|v[w+1][t];e+=1;w+=2;m[e]=v[w][t]<<16|v[w+1][t];e+=1;w+=2;m[e]=v[w][t]<<16|v[w+1][t];e+=1;w+=2;m[e]=v[w][t]<<16|v[w+1][t];e+=1;w+=2;m[e]=v[w][t]<<16|v[w+1][t];e+=1;w+=2;m[e]=v[w][t]<<16|v[w+1][t];e+=1;w+=2;m[e]=v[w][t]<<16|v[w+1][t];e+=1;e>=r&&(q+=1,e=0,q>=u&&(Array.Jp(n,"Snapshot.gridBufferRow"),u+=1));m=n[q]}l+=1}else l+=16;p+=16}};wb.prototype.P=function(a,b,c){var d=b.length,f=b[0].length,e,g,k=0,l,p,n=0,q=0,m=c[q],r=m.length,u=Array.pe(ra.lc,a,"Snapshot.input32");
Array.Gf(this.m,b);for(e=0;e<d;e+=1){var t=b[e];for(a=p=0;a<f;a+=1)if(l=t[a])for(g=15;0<=g;--g){if(0!==(l&1<<g)){var v=p;var B=n;var w=u[B];w[v]=m[k];k+=1;w[v+1]=m[k];k+=1;w[v+2]=m[k];k+=1;w[v+3]=m[k];k+=1;B+=1;w=u[B];w[v]=m[k];k+=1;w[v+1]=m[k];k+=1;w[v+2]=m[k];k+=1;w[v+3]=m[k];k+=1;B+=1;w=u[B];w[v]=m[k];k+=1;w[v+1]=m[k];k+=1;w[v+2]=m[k];k+=1;w[v+3]=m[k];k+=1;B+=1;w=u[B];w[v]=m[k];k+=1;w[v+1]=m[k];k+=1;w[v+2]=m[k];k+=1;w[v+3]=m[k];k+=1;B+=1;w=u[B];w[v]=m[k];k+=1;w[v+1]=m[k];k+=1;w[v+2]=m[k];k+=1;
w[v+3]=m[k];k+=1;B+=1;w=u[B];w[v]=m[k];k+=1;w[v+1]=m[k];k+=1;w[v+2]=m[k];k+=1;w[v+3]=m[k];k+=1;B+=1;w=u[B];w[v]=m[k];k+=1;w[v+1]=m[k];k+=1;w[v+2]=m[k];k+=1;w[v+3]=m[k];k+=1;B+=1;w=u[B];w[v]=m[k];k+=1;w[v+1]=m[k];k+=1;w[v+2]=m[k];k+=1;w[v+3]=m[k];k+=1;B+=1;w=u[B];w[v]=m[k];k+=1;w[v+1]=m[k];k+=1;w[v+2]=m[k];k+=1;w[v+3]=m[k];k+=1;B+=1;w=u[B];w[v]=m[k];k+=1;w[v+1]=m[k];k+=1;w[v+2]=m[k];k+=1;w[v+3]=m[k];k+=1;B+=1;w=u[B];w[v]=m[k];k+=1;w[v+1]=m[k];k+=1;w[v+2]=m[k];k+=1;w[v+3]=m[k];k+=1;B+=1;w=u[B];w[v]=
m[k];k+=1;w[v+1]=m[k];k+=1;w[v+2]=m[k];k+=1;w[v+3]=m[k];k+=1;B+=1;w=u[B];w[v]=m[k];k+=1;w[v+1]=m[k];k+=1;w[v+2]=m[k];k+=1;w[v+3]=m[k];k+=1;B+=1;w=u[B];w[v]=m[k];k+=1;w[v+1]=m[k];k+=1;w[v+2]=m[k];k+=1;w[v+3]=m[k];k+=1;B+=1;w=u[B];w[v]=m[k];k+=1;w[v+1]=m[k];k+=1;w[v+2]=m[k];k+=1;w[v+3]=m[k];k+=1;B+=1;w=u[B];w[v]=m[k];k+=1;w[v+1]=m[k];k+=1;w[v+2]=m[k];k+=1;w[v+3]=m[k];k+=1;k>=r&&(q+=1,m=c[q],k=0)}p+=4}else p+=64;n+=16}};wb.prototype.S=function(a,b,c,d){var f=b.length,e=b[0].length,g,k=0,l;var p=0;var n,
q=0,m=0,r=c[m],u=r.length,t=c.length;var v=this.X.I;a=Array.pe(ra.lc,a,"Snapshot.input32");Array.Gf(b,d);for(g=0;g<f;g+=1){var B=b[g];for(d=0;d<e;d+=1)(l=B[d])&&(p+=v[l])}if(p)for(g=0;g<f;g+=1){B=b[g];for(d=n=0;d<e;d+=1)if(l=B[d])for(p=15;0<=p;--p){if(0!==(l&1<<p)){v=n;var w=q;var z=a[w];r[k]=z[v];k+=1;r[k]=z[v+1];k+=1;r[k]=z[v+2];k+=1;r[k]=z[v+3];k+=1;w+=1;z=a[w];r[k]=z[v];k+=1;r[k]=z[v+1];k+=1;r[k]=z[v+2];k+=1;r[k]=z[v+3];k+=1;w+=1;z=a[w];r[k]=z[v];k+=1;r[k]=z[v+1];k+=1;r[k]=z[v+2];k+=1;r[k]=z[v+
3];k+=1;w+=1;z=a[w];r[k]=z[v];k+=1;r[k]=z[v+1];k+=1;r[k]=z[v+2];k+=1;r[k]=z[v+3];k+=1;w+=1;z=a[w];r[k]=z[v];k+=1;r[k]=z[v+1];k+=1;r[k]=z[v+2];k+=1;r[k]=z[v+3];k+=1;w+=1;z=a[w];r[k]=z[v];k+=1;r[k]=z[v+1];k+=1;r[k]=z[v+2];k+=1;r[k]=z[v+3];k+=1;w+=1;z=a[w];r[k]=z[v];k+=1;r[k]=z[v+1];k+=1;r[k]=z[v+2];k+=1;r[k]=z[v+3];k+=1;w+=1;z=a[w];r[k]=z[v];k+=1;r[k]=z[v+1];k+=1;r[k]=z[v+2];k+=1;r[k]=z[v+3];k+=1;w+=1;z=a[w];r[k]=z[v];k+=1;r[k]=z[v+1];k+=1;r[k]=z[v+2];k+=1;r[k]=z[v+3];k+=1;w+=1;z=a[w];r[k]=z[v];k+=
1;r[k]=z[v+1];k+=1;r[k]=z[v+2];k+=1;r[k]=z[v+3];k+=1;w+=1;z=a[w];r[k]=z[v];k+=1;r[k]=z[v+1];k+=1;r[k]=z[v+2];k+=1;r[k]=z[v+3];k+=1;w+=1;z=a[w];r[k]=z[v];k+=1;r[k]=z[v+1];k+=1;r[k]=z[v+2];k+=1;r[k]=z[v+3];k+=1;w+=1;z=a[w];r[k]=z[v];k+=1;r[k]=z[v+1];k+=1;r[k]=z[v+2];k+=1;r[k]=z[v+3];k+=1;w+=1;z=a[w];r[k]=z[v];k+=1;r[k]=z[v+1];k+=1;r[k]=z[v+2];k+=1;r[k]=z[v+3];k+=1;w+=1;z=a[w];r[k]=z[v];k+=1;r[k]=z[v+1];k+=1;r[k]=z[v+2];k+=1;r[k]=z[v+3];k+=1;w+=1;z=a[w];r[k]=z[v];k+=1;r[k]=z[v+1];k+=1;r[k]=z[v+2];k+=
1;r[k]=z[v+3];k+=1;k>=u&&(m+=1,k=0,m>=t&&(Array.Jp(c,"Snapshot.colourGridBufferRow"),t+=1),r=c[m])}n+=4}else n+=64;q+=16}};gb.prototype.V=function(){for(var a=0,b=0;b<this.j.length;)a+=this.u[b].length*this.u[b][0].length*2,a+=this.m[b].length*this.m[b][0].length*2,a+=this.D[b].length*this.D[b][0].length*4,a+=this.B[b].length*this.B[b][0].length*4,this.v[b]&&(a+=this.s[b].length*this.s[b][0].length*2,a+=this.v[b].length*this.v[b][0].length*4),b+=1;return a};gb.prototype.aa=function(){for(var a=0,
b=0;b<this.j.length;)this.j[b]&&(a+=1),b+=1;return a};gb.prototype.reset=function(){this.h=[];this.j=[];this.F=0;this.i=-1};gb.prototype.$=function(a){var b=null;if(0<this.h.length)for(b=this.h[this.i];b&&b.counter>a;)b=null,0<this.i&&(this.O(this.h[this.i].u),this.h.pop(),--this.i,0<=this.i&&(b=this.h[this.i]));return b};gb.prototype.Y=function(a,b,c,d,f,e,g,k,l,p,n,q,m,r,u,t,v,B,w){B=null!==f;if(w)t=this.A;else if(51>this.h.length)t=this.H(t,v,!1,B),this.i+=1;else{this.i+=1;if(51<=this.i){this.i=
50;this.O(this.h[0].u);for(w=0;50>w;w+=1)this.h[w]=this.h[w+1];this.h.pop();this.H(t,v,!1,B)}t=this.h[this.i]}t.Y(a,b);t.S(c,d,t.H,t.m);B&&t.S(f,e,t.v,t.s);t.i.J=g.J;t.i.L=g.L;t.i.K=g.K;t.i.N=g.N;t.h.J=k.J;t.h.L=k.L;t.h.K=k.K;t.h.N=k.N;t.G=l;t.A=p;t.D=n;t.counter=q;t.I=m;t.B=r;t.F=u};gb.prototype.O=function(a){this.j[a]=!1};gb.prototype.Z=function(a,b,c){for(var d=0,f=!1;d<this.F&&!f;)this.j[d]?d+=1:f=!0;f?(a=d,this.j[d]=!0):(this.u[d]=Array.matrix(ra.Xa,b,a,0,this.T,"Snapshot.tileGrid"+d,!1),this.m[d]=
Array.matrix(ra.Xa,b,a,0,this.T,"Snapshot.colourTileGrid"+d,!1),this.D[d]=Array.matrix(ra.lc,1,1024,0,this.T,"Snapshot.gridBuffer"+d,!1),this.B[d]=Array.matrix(ra.lc,1,8192,0,this.T,"Snapshot.colourGridBuffer"+d,!1),c&&(this.s[d]=Array.matrix(ra.Xa,b,a,0,this.T,"Snapshot.overlayTileGrid"+d,!1),this.v[d]=Array.matrix(ra.lc,1,8192,0,this.T,"Snapshot.overlayGridBuffer"+d,!1)),this.j[d]=!0,this.F+=1,a=d);return a};gb.prototype.H=function(a,b,c,d){a=this.Z(a,b,d);c?this.A=c=new wb(this,a,d):(c=new wb(this,
a,d),this.h[this.h.length]=c);return c};gb.prototype.G=function(a,b,c){a.set(b,c)};gb.prototype.P=function(a,b,c,d,f,e,g,k){var l=a.j,p=a.m,n=a.s,q=a.j.length,m=0,r=a.u;this.u[r]=Array.matrix(ra.Xa,c,b,0,this.T,"Snapshot.tileGrid"+r,!1);this.m[r]=Array.matrix(ra.Xa,c,b,0,this.T,"Snapshot.colourTileGrid"+r,!1);k&&(this.s[r]=Array.matrix(ra.Xa,c,b,0,this.T,"Snapshot.overlayTileGrid"+r,!1));a.j=this.u[r];a.m=this.m[r];k&&(a.s=this.s[r]);if(0<d||0<f)for(;m<q;)this.G(a.j[m+f],l[m],d),this.G(a.m[m+f],p[m],
d),k&&this.G(a.s[m+f],n[m],d),m+=1;a.i.J+=e;a.i.L+=e;a.i.K+=g;a.i.N+=g;a.h.J+=e;a.h.L+=e;a.h.K+=g;a.h.N+=g};gb.prototype.S=function(a,b,c,d,f,e,g){var k;this.A&&this.P(this.A,a,b,c,d,f,e,g);var l=0;for(k=this.h.length;l<k;)this.P(this.h[l],a,b,c,d,f,e,g),l+=1;for(l=0;l<this.j.length;)this.j[l]||(this.u[l]=Array.matrix(ra.Xa,b,a,0,this.T,"Snapshot.tileGrid"+l,!1),this.m[l]=Array.matrix(ra.Xa,b,a,0,this.T,"Snapshot.colourTileGrid"+l,!1),g&&(this.s[l]=Array.matrix(ra.Xa,b,a,0,this.T,"Snapshot.overlayTileGrid"+
l,!1))),l+=1};za.prototype.nb=function(a){this.ba.Be(a);this.fa=this.T.h(ra.nd,this.P.length,"HROT.birthChances",!1);for(a=0;a<this.P.length;a+=1)this.fa[a]=-1>=this.la?this.ba.random():(100-this.la)/100;this.da=this.T.h(ra.nd,this.G.length,"HROT.suvivalChances",!1);for(a=0;a<this.G.length;a+=1)this.da[a]=-1>=this.ma?this.ba.random():(100-this.ma)/100;this.aa=this.T.h(ra.nd,this.G.length,"HROT.immunityChances",!1);for(a=0;a<this.G.length;a+=1)this.aa[a]=-1===this.ia?1:-2===this.ia?this.ba.random():
(100-this.ia)/100;this.fa.fill(this.fa[0]);this.da.fill(this.da[0]);this.aa.fill(this.aa[0])};za.prototype.resize=function(a,b){this.h=Array.matrix(ra.be,b,a,0,this.T,"HROT.counts",U.R);this.pa=this.T.h(ra.cb,a,"HROT.colUsed",U.R)};za.prototype.pb=function(a,b,c,d,f,e,g,k,l){var p=2*b+1,n=p-1,q=b*b,m=q+b,r,u=c.length>>1;this.type=a;this.v=b;this.m=f&&10!==a&&15!==a?b+b:b;this.H=this.T.h(ra.lc,p,"HROT.widths",U.R);this.V=c;this.oa=d;this.B=f;this.S=k;this.Y=l;if(e)for(this.s=this.T.h(ra.Mq,e.length,
"HROT.weightedNeighbourhood",U.R),d=0;d<e.length;d+=1)this.s[d]=e[d];else this.s=null;if(g)if(0<g.length)for(this.D=this.T.h(ra.cb,g.length,"HROT.weightedStates",U.R),d=0;d<g.length;d+=1)this.D[d]=g[d];else this.D=null;else this.D=null;switch(a){case this.X.i:for(d=0;d<p;d+=1)this.H[d]=b;break;case this.X.j:for(d=0;d<b;d+=1)this.H[d]=d,this.H[p-d-1]=d;this.H[d]=b;break;case this.X.Z:for(d=-b;d<=b;d+=1){for(a=0;(a+1)*(a+1)+d*d<=m;)a+=1;this.H[d+b]=a}break;case this.X.$:for(d=-b;d<=b;d+=1){for(a=0;(a+
1)*(a+1)+d*d<=q;)a+=1;this.H[d+b]=a}break;case 10:this.Bm=Array.matrix(ra.cb,p,p,0,this.T,"HROT.neighbourhood",!1);q=new Uint16Array(p);g=r=f=d=m=e=0;for(k=this.Bm[n-m];m<p;)for(a="0123456789abcdef".indexOf(c[e]),e===u&&(k[n-d]=1,d+=1,f+=1,r+=1),e+=1,l=3;0<=l;--l)0!==(a&1<<l)&&(k[n-d]=1,f+=1,r+=1),d+=1,d===p&&(q[n-g]=r,r=0,g+=1,d=0,m+=1,m<p&&(k=this.Bm[n-m]));c=new Uint32Array(f);for(m=f=0;m<p;m+=1)for(k=this.Bm[m],d=0;d<p;d+=1)0<k[d]&&(c[f]=m<<16|d,f+=1);for(d=p=0;d<q.length;d+=1)0<q[d]&&(p+=q[d]+
2);this.O=this.T.h(ra.Ip,p,"HROT.neighbourList",U.R);for(d=f=e=0;d<q.length;d+=1)if(0<q[d]){g=c[e];this.O[f]=b-(g>>16);this.O[f+1]=q[d];f+=2;for(m=0;m<q[d];m+=1)this.O[f+m]=b-(c[e]&65535),e+=1;f+=q[d]}}};za.prototype.j=function(a,b,c){return 0>a||0>a+b||b-a>=this.u?0:0>b&&a+b<this.A?this.h[a+b][0]:b>=this.u&&b-a>=this.u-this.A?this.h[a+this.u-1-b][this.u-1]:a<this.A?c[b]:a-this.A+1+b<=this.I?this.h[this.A-1][a-this.A+1+b]:b-(a-this.A+1)>=this.I?this.h[this.A-1][b-(a-this.A+1)]:this.h[this.A-1][this.I+
(a+b+this.A+this.I+1)%2]};za.prototype.Es=function(a,b,c,d){var f=this.g.h,e=this.m,g=this.v,k;for(k=0;k<g;k+=1){var l=f[b+k];var p=f[d+k+1];p.set(l.subarray(a,c+1),a)}for(k=0;k<g;k+=1)l=f[d-k],p=f[b-k-1],p.set(l.subarray(a,c+1),a);for(k=b;k<=d;k+=1)l=f[k],l.copyWithin(c+1,a,a+e+1),l.copyWithin(a-e-1,c-e,c+1);for(k=0;k<g;k+=1)l=f[b+k],p=f[d+k+1],p.set(l.subarray(a,a+e+1),c+1),p.set(l.subarray(c-e,c+1),a-e-1);for(k=0;k<g;k+=1)l=f[d-k],p=f[b-k-1],p.set(l.subarray(a,a+e+1),c+1),p.set(l.subarray(c-e,
c+1),a-e-1)};za.prototype.Tq=function(a,b,c,d){var f=this.g.h,e=this.m,g=this.v,k;for(k=0;k<g;k+=1)f[d+k+1].fill(0,a,c+1);for(k=0;k<g;k+=1)f[b-k-1].fill(0,a,c+1);for(k=b;k<=d;k+=1){var l=f[k];l.fill(0,c+1,c+e+2);l.fill(0,a-e-1,a)}for(k=0;k<g;k+=1)l=f[d+k+1],l.fill(0,c+1,c+e+2),l.fill(0,a-e-1,a);for(k=0;k<g;k+=1)l=f[b-k-1],l.fill(0,c+1,c+e+2),l.fill(0,a-e-1,a)};za.prototype.rb=function(a,b,c,d,f){var e,g,k=this.g.h,l=this.g.m,p=this.g.width,n=0,q=this.g.height,m=0,r=p,u=n,t=q,v=m,B=this.g.A,w=this.g.ya,
z=this.m,E=this.v,H=f?this.ja:this.P,L=f?this.ka:this.G,M=this.h;var N=this.ca-1;var V=y.xa,X=y.Jh,I=this.g.Te,R=this.ba,P=this.fa,S=this.da,aa=this.aa;var ma=this.g.i+this.g.u-1;var ea=this.g.u,ca=0<this.g.u?1:0;var ia=e=f=0;if(1===N)for(N=b-E;N<=d+E;N+=1){var oa=k[N];var ja=M[N];var W=l[N>>4];var na=g=!1;for(b=a-z;b<=c+z;b+=1){var fa=oa[b];var Z=ja[b];ma=0;fa<V?0<=Z&&255===H[Z]&&R.random()>=P[Z]&&(e+=1,ma=128):0>Z||0===L[Z]?R.random()>=aa[Z]?ma=128:ia+=1:R.random()>=S[Z]?ma=128:ia+=1;fa=I[fa+ma];
oa[b]=fa;fa>X&&(g=!0,W[b>>8]|=1<<(~(b>>4)&15),b<p&&(p=b),b>n&&(n=b),fa>=V&&(f+=1,b<r&&(r=b),b>u&&(u=b),na=!0))}g&&(N<q&&(q=N),N>m&&(m=N));na&&(N<t&&(t=N),N>v&&(v=N))}else for(N=b-E;N<=d+E;N+=1){oa=k[N];ja=M[N];W=l[N>>4];na=g=!1;for(b=a-z;b<=c+z;b+=1)fa=oa[b],Z=ja[b],fa<=ea?0<=Z&&255===H[Z]?R.random()>=P[Z]?(fa=ma,e+=1):fa>ca&&--fa:fa>ca&&--fa:fa===ma?0>Z||0===L[Z]?R.random()>=this.aa[0>Z?0:Z]||(--fa,ia+=1):R.random()>=this.da[0>Z?0:Z]||(--fa,ia+=1):fa>ca&&--fa,oa[b]=fa,fa>ca&&(g=!0,W[b>>8]|=1<<(~(b>>
4)&15),b<p&&(p=b),b>n&&(n=b),fa===ma&&(f+=1),fa>ea&&(b<r&&(r=b),b>u&&(u=b),na=!0));g&&(N<q&&(q=N),N>m&&(m=N));na&&(N<t&&(t=N),N>v&&(v=N))}this.g.B=f;this.g.na=e;this.g.ga=ia;0<f&&(B.J=p,B.L=n,B.K=q,B.N=m,w.J=r,w.L=u,w.K=t,w.N=v)};za.prototype.qb=function(a,b,c,d,f){var e,g,k=this.g.h,l=this.g.m,p=this.g.width,n=0,q=this.g.height,m=0,r=p,u=n,t=q,v=m,B=this.g.A,w=this.g.ya,z=this.m,E=this.v,H=f?this.ja:this.P,L=f?this.ka:this.G,M=this.h;var N=this.ca-1;var V=y.xa,X=y.Jh,I=this.g.Te;var R=this.g.i+this.g.u-
1;var P=this.g.u,S=0<this.g.u?1:0;var aa=e=f=0;if(1===N)for(N=b-E;N<=d+E;N+=1){var ma=k[N];var ea=M[N];var ca=l[N>>4];var ia=g=!1;for(b=a-z;b<=c+z;b+=1){var oa=ma[b];var ja=ea[b];R=0;oa<V?0<=ja&&255===H[ja]&&(e+=1,R=128):0>ja||0===L[ja]?aa+=1:R=128;oa=I[oa+R];ma[b]=oa;oa>X&&(g=!0,ca[b>>8]|=1<<(~(b>>4)&15),b<p&&(p=b),b>n&&(n=b),oa>=V&&(f+=1,b<r&&(r=b),b>u&&(u=b),ia=!0))}g&&(N<q&&(q=N),N>m&&(m=N));ia&&(N<t&&(t=N),N>v&&(v=N))}else for(N=b-E;N<=d+E;N+=1){ma=k[N];ea=M[N];ca=l[N>>4];ia=g=!1;for(b=a-z;b<=
c+z;b+=1){oa=ma[b];ja=ea[b];if(oa<=P)0<=ja&&255===H[ja]?(oa=R,e+=1):oa>S&&--oa;else if(oa===R){if(0>ja||0===L[ja])--oa,aa+=1}else oa>S&&--oa;ma[b]=oa;oa>S&&(g=!0,ca[b>>8]|=1<<(~(b>>4)&15),b<p&&(p=b),b>n&&(n=b),oa===R&&(f+=1),oa>P&&(b<r&&(r=b),b>u&&(u=b),ia=!0))}g&&(N<q&&(q=N),N>m&&(m=N));ia&&(N<t&&(t=N),N>v&&(v=N))}this.g.B=f;this.g.na=e;this.g.ga=aa;0<f&&(B.J=p,B.L=n,B.K=q,B.N=m,w.J=r,w.L=u,w.K=t,w.N=v)};za.prototype.qa=function(a,b,c,d,f){var e=performance.now(),g=this.ca-1,k=this.g.A,l=this.g.ya;
this.ea?this.rb(a,b,c,d,f):U.R&&U.ZD&&this.g.view.i?(1===g?va.xK(this.g.h.o.byteOffset|0,this.g.h[0].length|0,this.g.m.o.byteOffset|0,this.g.m[0].length|0,this.h.o.byteOffset|0,this.h[0].length|0,f?this.Z.byteOffset|0:this.$.byteOffset|0,b|0,a|0,d|0,c|0,this.m|0,this.v|0,y.xa|0,y.Me|0,y.ce|0,y.Jh|0,this.i.byteOffset|0,this.g.width|0,this.g.height|0):va.yK(this.g.h.o.byteOffset|0,this.g.h[0].length|0,this.g.m.o.byteOffset|0,this.g.m[0].length|0,this.h.o.byteOffset|0,this.h[0].length|0,f?this.Z.byteOffset|
0:this.$.byteOffset|0,b|0,a|0,d|0,c|0,this.m|0,this.v|0,this.g.u|0,this.g.i+this.g.u-1|0,(0<this.g.u?1:0)|0,this.i.byteOffset|0,this.g.width|0,this.g.height|0),this.g.B=this.i[8],this.g.na=this.i[9],this.g.ga=this.i[10],0<this.g.B&&(k.J=this.i[0],k.L=this.i[1],k.K=this.i[2],k.N=this.i[3],l.J=this.i[4],l.L=this.i[5],l.K=this.i[6],l.N=this.i[7])):this.qb(a,b,c,d,f);U.xb&&(e=performance.now()-e,this.g.view.C.h("gridFromCounts",e,U.R&&U.ZD&&this.g.view.i))};za.prototype.lb=function(a,b,c,d,f){var e,g=
this.g.i+this.g.u,k=this.g.u,l=this.s,p=this.g.h,n=this.h,q=this.D,m=q[0],r=l[0],u=l[1],t=l[2],v=l[3],B=l[4],w=l[5],z=l[6],E=l[7];l=l[8];for(a-=f;a<=b+f;a+=1){var H=n[a];var L=c-f;var M=L-1;for(e=L+1;L<=d+f;){var N=0;var V=p[a-1];var X=V[M];X>k?N+=r*q[g-X]:0<m&&(N+=r*m);X=V[L];X>k?N+=u*q[g-X]:0<m&&(N+=u*m);X=V[e];X>k?N+=t*q[g-X]:0<m&&(N+=t*m);V=p[a];X=V[M];X>k?N+=v*q[g-X]:0<m&&(N+=v*m);X=V[L];X>k?N+=B*q[g-X]:0<m&&(N+=B*m);X=V[e];X>k?N+=w*q[g-X]:0<m&&(N+=w*m);V=p[a+1];X=V[M];X>k?N+=z*q[g-X]:0<m&&(N+=
z*m);X=V[L];X>k?N+=E*q[g-X]:0<m&&(N+=E*m);X=V[e];X>k?N+=l*q[g-X]:0<m&&(N+=l*m);H[L]=N;L+=1;M+=1;e+=1}}};za.prototype.FC=function(a,b,c,d,f){var e,g=y.xa,k=this.s,l=this.g.h,p=this.h,n=k[0],q=k[1],m=k[2],r=k[3],u=k[4],t=k[5],v=k[6],B=k[7];k=k[8];for(a-=f;a<=b+f;a+=1){var w=p[a];var z=c-f;var E=z-1;for(e=z+1;z<=d+f;){var H=0;var L=l[a-1];L[E]>=g&&(H+=n);L[z]>=g&&(H+=q);L[e]>=g&&(H+=m);L=l[a];L[E]>=g&&(H+=r);L[z]>=g&&(H+=u);L[e]>=g&&(H+=t);L=l[a+1];L[E]>=g&&(H+=v);L[z]>=g&&(H+=B);L[e]>=g&&(H+=k);w[z]=
H;z+=1;E+=1;e+=1}}};za.prototype.bw=function(a,b,c,d,f,e){var g=performance.now();U.R&&U.ps&&this.g.view.i?va.bw(this.h.o.byteOffset|0,this.h[0].length|0,this.g.h.o.byteOffset|0,this.g.h[0].length|0,b|0,d|0,a|0,c|0,f|0,e|0,y.xa|0,this.S|0,this.Y|0):this.ta(a,b,c,d,f,e);U.xb&&(g=performance.now()-g,this.g.view.C.h("nextHROTCorner",g,U.R&&U.ps&&this.g.view.i))};za.prototype.ta=function(a,b,c,d,f,e){var g=this.h,k,l=y.xa,p=this.S,n=this.Y,q=this.g.h;for(k=b-e;k<=d+e;k+=1){var m=g[k];for(b=a-f;b<=c+f;){var r=
0;var u=q[k-p];u[b-p]>=l&&(r+=1);u[b+p]>=l&&(r+=1);u=q[k+p];u[b-p]>=l&&(r+=1);u[b+p]>=l&&(r+=1);q[k-n][b]>=l&&(r+=1);q[k+n][b]>=l&&(r+=1);u=q[k];u[b-n]>=l&&(r+=1);u[b+n]>=l&&(r+=1);u[b]>=l&&(r+=1);m[b]=r;b+=1}}};za.prototype.Wv=function(a,b,c,d,f,e){var g=performance.now();U.R&&U.ns&&this.g.view.i?va.Wv(this.h.o.byteOffset|0,this.h[0].length|0,this.g.h.o.byteOffset|0,this.g.h[0].length|0,b|0,d|0,a|0,c|0,f|0,e|0,y.xa|0):this.ra(a,b,c,d,f,e);U.xb&&(g=performance.now()-g,this.g.view.C.h("nextHROTAsterisk",
g,U.R&&U.ns&&this.g.view.i))};za.prototype.ra=function(a,b,c,d,f,e){var g=this.h,k,l,p=y.xa,n=this.g.h;for(k=b-e;k<=d+e;k+=1){var q=g[k];for(b=a-f;b<=c+f;){var m=0;for(l=-e;0>l;l+=1){var r=n[k+l];r[b]>=p&&(m+=1);r[b+l]>=p&&(m+=1)}r=n[k];for(l=-f;l<=f;l+=1)r[b+l]>=p&&(m+=1);for(l=1;l<=f;l+=1)r=n[k+l],r[b]>=p&&(m+=1),r[b+l]>=p&&(m+=1);q[b]=m;b+=1}}};za.prototype.vw=function(a,b,c,d,f,e){var g=performance.now();U.R&&U.Cs&&this.g.view.i?va.vw(this.h.o.byteOffset|0,this.h[0].length|0,this.g.h.o.byteOffset|
0,this.g.h[0].length|0,b|0,d|0,a|0,c|0,f|0,e|0,y.xa|0):this.eb(a,b,c,d,f,e);U.xb&&(g=performance.now()-g,this.g.view.C.h("nextHROTTripod",g,U.R&&U.Cs&&this.g.view.i))};za.prototype.eb=function(a,b,c,d,f,e){var g=this.h,k,l,p=y.xa,n=this.g.h;for(k=b-e;k<=d+e;k+=1){var q=g[k];for(b=a-f;b<=c+f;){var m=0;for(l=-e;0>l;l+=1){var r=n[k+l];r[b]>=p&&(m+=1)}r=n[k];for(l=-f;0>=l;l+=1)r[b+l]>=p&&(m+=1);for(l=1;l<=f;l+=1)n[k+l][b+l]>=p&&(m+=1);q[b]=m;b+=1}}};za.prototype.xw=function(a,b,c,d,f,e){var g=performance.now();
U.R&&U.Ds&&this.g.view.i?null===this.D?va.xw(this.h.o.byteOffset|0,this.h[0].length|0,this.g.h.o.byteOffset|0,this.g.h[0].length|0,this.s.byteOffset|0,this.s.length|0,a|0,b|0,c|0,d|0,f|0,e|0,y.xa|0,this.B):va.UI(this.h.o.byteOffset|0,this.h[0].length|0,this.g.h.o.byteOffset|0,this.g.h[0].length|0,this.s.byteOffset|0,this.s.length|0,this.D.byteOffset|0,a|0,b|0,c|0,d|0,f|0,e|0,y.xa|0,this.B):this.kb(a,b,c,d,f,e);U.xb&&(g=performance.now()-g,this.g.view.C.h("nextHROTWeighted",g,U.R&&U.Ds&&this.g.view.i))};
za.prototype.kb=function(a,b,c,d,f,e){var g=this.h,k,l,p,n=y.xa,q=this.g.h;if(null===this.D)if(1!==f||1!==e||this.B)for(k=b-e;k<=d+e;k+=1){var m=g[k];for(b=a-f;b<=c+f;){if(this.B&&0!==(b+k&1)){var r=-(f+f+1);var u=this.s.length+r;r+=r}else r=u=0;var t=0;for(p=-e;p<=e;p+=1){var v=q[k+p];for(l=-f;l<=f;l+=1)v[b+l]>=n&&(t+=this.s[u]),u+=1;u+=r}m[b]=t;b+=1}}else this.FC(b,d,a,c,f);else{var B=this.D[0];var w=this.D[1];for(k=b-e;k<=d+e;k+=1)for(m=g[k],b=a-f;b<=c+f;){this.B&&0!==(b+k&1)?(r=-(f+f+1),u=this.s.length+
r,r+=r):r=u=0;t=0;for(p=-e;p<=e;p+=1){v=q[k+p];for(l=-f;l<=f;l+=1)t=v[b+l]>=n?t+this.s[u]*w:t+this.s[u]*B,u+=1;u+=r}m[b]=t;b+=1}}};za.prototype.fw=function(a,b,c,d,f,e){var g=performance.now();U.R&&U.rs&&this.g.view.i?va.fw(this.h.o.byteOffset|0,this.h[0].length|0,this.g.h.o.byteOffset|0,this.g.h[0].length|0,this.O.byteOffset|0,this.O.length|0,a|0,b|0,c|0,d|0,f|0,e|0,y.xa|0,this.B):this.ya(a,b,c,d,f,e);U.xb&&(g=performance.now()-g,this.g.view.C.h("nextHROTCustom",g,U.R&&U.rs&&this.g.view.i))};za.prototype.ya=
function(a,b,c,d,f,e){var g=this.h,k,l,p,n,q=y.xa,m=this.O,r=this.g.h;for(k=b-e;k<=d+e;k+=1){var u=g[k];for(b=a-f;b<=c+f;){for(l=n=0;l<m.length;){var t=m[l];this.B&&0===(b+k&1)&&(t=-t);l+=1;var v=r[k+t];t=m[l];for(p=l+=1;p<l+t;p+=1)v[b+m[p]]>=q&&(n+=1);l+=t}u[b]=n;b+=1}}};za.prototype.jw=function(a,b,c,d,f,e){var g=performance.now();U.R&&U.vs&&this.g.view.i?va.jw(this.h.o.byteOffset|0,this.h[0].length|0,this.g.h.o.byteOffset|0,this.g.h[0].length|0,b|0,d|0,a|0,c|0,f|0,e|0,y.xa|0):this.Ia(a,b,c,d,f,
e);U.xb&&(g=performance.now()-g,this.g.view.C.h("nextHROTHash",g,U.R&&U.vs&&this.g.view.i))};za.prototype.Ia=function(a,b,c,d,f,e){var g=this.h,k,l,p,n,q,m=y.xa,r=this.g.h;for(k=b-e;k<=d+e;k+=1){var u=g[k];b=a-f;var t=q=n=0;for(p=-e;p<=e;p+=1){var v=r[k+p];if(1===p)for(l=-f;l<=f;l+=1)v[b+l]>=m&&(q+=1);else if(-1===p)for(l=-f;l<=f;l+=1)v[b+l]>=m&&(t+=1);else v[b-1]>=m&&(n+=1),v[b+1]>=m&&(n+=1)}r[k][b]>=m&&(n+=1);u[b]=n+q+t;for(b+=1;b<=c+f;){n=0;for(p=-e;p<=e;p+=1)v=r[k+p],1===p?(v[b-f-1]>=m&&--q,v[b+
f]>=m&&(q+=1)):-1===p?(v[b-f-1]>=m&&--t,v[b+f]>=m&&(t+=1)):(v[b-1]>=m&&(n+=1),v[b+1]>=m&&(n+=1));r[k][b]>=m&&(n+=1);u[b]=n+q+t;b+=1}}};za.prototype.Yv=function(a,b,c,d,f,e,g){var k=this.h,l,p,n,q=y.xa,m=this.g.h;for(l=b-e;l<=d+e;l+=1){var r=k[l];b=a-f;var u=0;var t=g;for(n=-e;n<=e;n+=1){var v=m[l+n];for(p=-f+t;p<=f-t;p+=2)v[b+p]>=q&&(u+=1);t=1-t}1===g&&m[l][b]>=q&&(u+=1);r[b]=u;b+=1;if(b<=c+f){var B=0;t=g;for(n=-e;n<=e;n+=1){v=m[l+n];for(p=-f+t;p<=f-t;p+=2)v[b+p]>=q&&(B+=1);t=1-t}1===g&&m[l][b]>=
q&&(B+=1);r[b]=B;for(b+=1;b<=c+f;){t=g;for(n=-e;n<=e;n+=1)v=m[l+n],v[b-f+t-2]>=q&&--u,v[b+f-t]>=q&&(u+=1),t=1-t;1===g&&(m[l][b-2]>=q&&--u,m[l][b]>=q&&(u+=1));r[b]=u;b+=1;if(b<=c+f){t=g;for(n=-e;n<=e;n+=1)v=m[l+n],v[b-f+t-2]>=q&&--B,v[b+f-t]>=q&&(B+=1),t=1-t;1===g&&(m[l][b-2]>=q&&--B,m[l][b]>=q&&(B+=1));r[b]=B;b+=1}}}}};za.prototype.$v=function(a,b,c,d,f,e){var g=performance.now();U.R&&U.os&&this.g.view.i?va.$v(this.h.o.byteOffset|0,this.h[0].length|0,this.g.h.o.byteOffset|0,this.g.h[0].length|0,a|
0,b|0,c|0,d|0,f|0,e|0,y.xa):this.Yv(a,b,c,d,f,e,1);U.xb&&(g=performance.now()-g,this.g.view.C.h("nextHROTChecker",g,U.R&&U.os&&this.g.view.i))};za.prototype.Uv=function(a,b,c,d,f,e){var g=performance.now();U.R&&U.ms&&this.g.view.i?va.Uv(this.h.o.byteOffset|0,this.h[0].length|0,this.g.h.o.byteOffset|0,this.g.h[0].length|0,a|0,b|0,c|0,d|0,f|0,e|0,y.xa):this.Yv(a,b,c,d,f,e,0);U.xb&&(g=performance.now()-g,this.g.view.C.h("nextHROTAligned",g,U.R&&U.ms&&this.g.view.i))};za.prototype.lw=function(a,b,c,d,
f,e){var g=performance.now();U.R&&U.ws&&this.g.view.i?va.lw(this.h.o.byteOffset|0,this.h[0].length|0,this.g.h.o.byteOffset|0,this.g.h[0].length|0,b|0,d|0,a|0,c|0,f|0,e|0,y.xa):this.Na(a,b,c,d,f,e);U.xb&&(g=performance.now()-g,this.g.view.C.h("nextHROTHex",g,U.R&&U.ws&&this.g.view.i))};za.prototype.Na=function(a,b,c,d,f,e){var g=this.h,k,l,p,n=y.xa,q=this.g.h;for(k=b-e;k<=d+e;k+=1){var m=g[k];b=a-f;var r=0;for(p=-e;0>p;p+=1){var u=q[k+p];for(l=-f;l<=f+p;l+=1)u[b+l]>=n&&(r+=1)}for(p=0;p<=e;p+=1)for(u=
q[k+p],l=-f+p;l<=f;l+=1)u[b+l]>=n&&(r+=1);m[b]=r;for(b+=1;b<=c+f;){for(p=-e;0>p;p+=1)u=q[k+p],u[b-f-1]>=n&&--r,u[b+f+p]>=n&&(r+=1);for(p=0;p<=e;p+=1)u=q[k+p],u[b-f+p-1]>=n&&--r,u[b+f]>=n&&(r+=1);m[b]=r;b+=1}}};za.prototype.nw=function(a,b,c,d,f,e){var g=performance.now();U.R&&U.ys&&this.g.view.i?va.nw(this.h.o.byteOffset|0,this.h[0].length|0,this.g.h.o.byteOffset|0,this.g.h[0].length|0,b|0,d|0,a|0,c|0,f|0,e|0,y.xa):this.Ta(a,b,c,d,f,e);U.xb&&(g=performance.now()-g,this.g.view.C.h("nextHROTSaltire",
g,U.R&&U.ys&&this.g.view.i))};za.prototype.Ta=function(a,b,c,d,f,e){var g=this.h,k,l,p=y.xa,n=this.g.h;for(k=b-e;k<=d+e;k+=1){var q=g[k];for(b=a-f;b<=c+f;){var m=0;for(l=1;l<=e;l+=1){var r=n[k+l];r[b-l]>=p&&(m+=1);r[b+l]>=p&&(m+=1);r=n[k-l];r[b-l]>=p&&(m+=1);r[b+l]>=p&&(m+=1)}r=n[k];r[b]>=p&&(m+=1);q[b]=m;b+=1}}};za.prototype.rw=function(a,b,c,d,f,e){var g=performance.now();U.R&&U.As&&this.g.view.i?va.rw(this.h.o.byteOffset|0,this.h[0].length|0,this.g.h.o.byteOffset|0,this.g.h[0].length|0,b|0,d|0,
a|0,c|0,f|0,e|0,y.xa):this.Ya(a,b,c,d,f,e);U.xb&&(g=performance.now()-g,this.g.view.C.h("nextHROTStar",g,U.R&&U.As&&this.g.view.i))};za.prototype.Ya=function(a,b,c,d,f,e){var g=this.h,k,l,p=y.xa,n=this.g.h;for(k=b-e;k<=d+e;k+=1){var q=g[k];for(b=a-f;b<=c+f;){var m=0;for(l=1;l<=e;l+=1){var r=n[k+l];r[b-l]>=p&&(m+=1);r[b+l]>=p&&(m+=1);r[b]>=p&&(m+=1);r=n[k-l];r[b-l]>=p&&(m+=1);r[b+l]>=p&&(m+=1);r[b]>=p&&(m+=1)}r=n[k];for(l=-f;l<=f;l+=1)r[b+l]>=p&&(m+=1);q[b]=m;b+=1}}};za.prototype.dw=function(a,b,c,
d,f,e){var g=performance.now();U.R&&U.qs&&this.g.view.i?va.dw(this.h.o.byteOffset|0,this.h[0].length|0,this.g.h.o.byteOffset|0,this.g.h[0].length|0,b|0,d|0,a|0,c|0,f|0,e|0,y.xa):this.va(a,b,c,d,f,e);U.xb&&(g=performance.now()-g,this.g.view.C.h("nextHROTCross",g,U.R&&U.qs&&this.g.view.i))};za.prototype.va=function(a,b,c,d,f,e){var g=this.h,k,l,p,n=y.xa,q=this.g.h;for(k=b-e;k<=d+e;k+=1){var m=g[k];b=a-f;var r=p=0;for(l=1;l<=e;l+=1){var u=q[k+l];u[b]>=n&&(p+=1);u=q[k-l];u[b]>=n&&(p+=1)}u=q[k];for(l=
-f;l<=f;l+=1)u[b+l]>=n&&(r+=1);m[b]=p+r;for(b+=1;b<=c+f;){p=0;for(l=1;l<=e;l+=1)q[k+l][b]>=n&&(p+=1),q[k-l][b]>=n&&(p+=1);u=q[k];u[b-f-1]>=n&&--r;u[b+f]>=n&&(r+=1);m[b]=p+r;b+=1}}};za.prototype.tw=function(a,b,c,d,f,e){var g=performance.now();U.R&&U.Bs&&this.g.view.i?va.tw(this.h.o.byteOffset|0,this.h[0].length|0,this.g.h.o.byteOffset|0,this.g.h[0].length|0,b|0,d|0,a|0,c|0,f|0,e|0,y.xa):this.ab(a,b,c,d,f,e);U.xb&&(g=performance.now()-g,this.g.view.C.h("nextHROTTriangular",g,U.R&&U.Bs&&this.g.view.i))};
za.prototype.ab=function(a,b,c,d,f,e){var g=this.h,k,l,p=y.xa,n=this.g.h;for(k=b-e;k<=d+e;k+=1){var q=g[k];b=a-f;var m=0;var r=b+k&1;if(0===r){var u=e+1;for(r=-e;0>r;r+=1){var t=n[k+r];for(l=-u;l<u;l+=2)t[b+l]>=p&&(m+=1),t[b+l+1]>=p&&(m+=1);t[b+l]>=p&&(m+=1);u+=1}r=0}else{u=e;for(r=-e;0>=r;r+=1){t=n[k+r];for(l=-u;l<u;l+=2)t[b+l]>=p&&(m+=1),t[b+l+1]>=p&&(m+=1);t[b+l]>=p&&(m+=1);u+=1}r=1}for(;r<=e;r+=1){--u;t=n[k+r];for(l=-u;l<u;l+=2)t[b+l]>=p&&(m+=1),t[b+l+1]>=p&&(m+=1);t[b+l]>=p&&(m+=1)}q[b]=m;for(b+=
1;b<=c+f;){r=b+k&1;if(0===r){l=e;for(r=-e;0>r;r+=1)t=n[k+r],t[b+l]>=p&&(m+=1),l+=1,t[b+l]>=p&&(m+=1);t=n[k];t[b-l-1]>=p&&--m;t[b+l]>=p&&(m+=1);l+=1;for(r=1;r<=e;r+=1)--l,t=n[k+r],t[b-l-1]>=p&&--m,t[b-l]>=p&&--m}else{l=e+1;for(r=-e;0>r;r+=1)t=n[k+r],t[b-l-1]>=p&&--m,t[b-l]>=p&&--m,l+=1;--l;t=n[k];t[b-l-1]>=p&&--m;t[b+l]>=p&&(m+=1);for(r=1;r<=e;r+=1)--l,t=n[k+r],t[b+l]>=p&&(m+=1),t[b+l+1]>=p&&(m+=1)}q[b]=m;b+=1}}};za.prototype.hw=function(a,b,c,d,f,e){var g=performance.now();U.R&&U.ss&&this.g.view.i?
va.hw(this.h.o.byteOffset|0,this.h[0].length|0,this.g.h.o.byteOffset|0,this.g.h[0].length|0,a|0,b|0,c|0,d|0,f|0,e|0,y.xa):this.Ba(a,b,c,d,f,e);U.xb&&(g=performance.now()-g,this.g.view.C.h("nextHROTGaussian",g,U.R&&U.ss&&this.g.view.i))};za.prototype.Ba=function(a,b,c,d,f,e){var g=this.h,k,l,p,n,q=y.xa,m=this.g.h;for(k=b-e;k<=d+e;k+=1){var r=g[k];for(b=a-f;b<=c+f;){var u=0;for(p=-e;0>p;p+=1){var t=n=p+e+1;var v=m[k+p];for(l=-f;0>=l;l+=1)v[b+l]>=q&&(u+=t),t+=n;t-=n+n;for(l=1;l<=f;l+=1)v[b+l]>=q&&(u+=
t),t-=n;t=n=p+e+1;v=m[k-p];for(l=-f;0>=l;l+=1)v[b+l]>=q&&(u+=t),t+=n;t-=n+n;for(l=1;l<=f;l+=1)v[b+l]>=q&&(u+=t),t-=n}t=n=f+1;v=m[k];for(l=-f;0>=l;l+=1)v[b+l]>=q&&(u+=t),t+=n;t-=n+n;for(l=1;l<=f;l+=1)v[b+l]>=q&&(u+=t),t-=n;v[b]>=q&&(u+=1);r[b]=u;b+=1}}};za.prototype.pw=function(a,b,c,d,f,e){var g=performance.now();U.R&&U.zs&&this.g.view.i?va.pw(this.h.o.byteOffset|0,this.h[0].length|0,this.g.h.o.byteOffset|0,this.g.h[0].length|0,this.H.byteOffset|0,b|0,d|0,a|0,c|0,f|0,e|0,y.xa):this.Va(a,b,c,d,f,e);
U.xb&&(g=performance.now()-g,this.g.view.C.h("nextHROTShaped",g,U.R&&U.zs&&this.g.view.i))};za.prototype.Va=function(a,b,c,d,f,e){var g=this.h,k,l,p,n=y.xa,q=this.H,m=this.g.h;for(k=b-e;k<=d+e;k+=1){var r=g[k];b=a-f;var u=0;for(p=-e;p<=e;p+=1){var t=q[p+e];var v=m[k+p];for(l=-t;l<t;l+=2)v[b+l]>=n&&(u+=1),v[b+l+1]>=n&&(u+=1);v[b+l]>=n&&(u+=1)}r[b]=u;for(b+=1;b<=c+f;){for(p=-e;p<=e;p+=1)t=q[p+e],v=m[k+p],v[b-t-1]>=n&&--u,v[b+t]>=n&&(u+=1);r[b]=u;b+=1}}};za.prototype.hb=function(a,b,c,d,f,e){var g=this.h,
k,l,p,n=y.xa,q=this.g.h;for(k=b-e;k<=d+e;k+=1){var m=g[k];b=a-f;var r=0;for(p=-e;0>=p;p+=1){var u=p+e;var t=q[k+p];for(l=-u;l<u;l+=2)t[b+l]>=n&&(r+=1),t[b+l+1]>=n&&(r+=1);t[b+l]>=n&&(r+=1)}for(p=1;p<=e;p+=1){u=e-p;t=q[k+p];for(l=-u;l<u;l+=2)t[b+l]>=n&&(r+=1),t[b+l+1]>=n&&(r+=1);t[b+l]>=n&&(r+=1)}m[b]=r;for(b+=1;b<=c+f;){for(p=-e;0>=p;p+=1)u=p+e,t=q[k+p],t[b-u-1]>=n&&--r,t[b+u]>=n&&(r+=1);for(p=1;p<=e;p+=1)u=e-p,t=q[k+p],t[b-u-1]>=n&&--r,t[b+u]>=n&&(r+=1);m[b]=r;b+=1}}};za.prototype.Fa=function(a){var b,
c,d=this.g.A.J,f=this.g.A.L,e=this.g.A.K,g=this.g.A.N,k=this.m,l=this.v,p=a?this.ja:this.P,n=a?this.ka:this.G,q=k+k,m=l+l;var r=k+1;var u=l+1;var t=this.h,v=this.type,B=this.ca-1,w=this.g.width,z=0,E=this.g.height,H=0,L=w,M=z,N=E,V=H,X=this.g.h,I=this.g.m,R=this.g.ca;var P=this.g.$;var S=0,aa=0,ma=0,ea=0,ca=0,ia=0,oa=0,ja,W=y.xa,na=y.Jh,fa=this.g.Te,Z=this.pa,Y=this.ea,pa=this.ba,Q=this.fa,G=this.da,A=this.aa;-1!==this.g.S&&(S=Math.round((this.g.width-R)/2),ma=Math.round((this.g.height-P)/2),aa=S+
R-1,ea=ma+P-1,255===p[0]&&(d=S+k,f=aa-k,g=ea-l,e=ma+l),1===this.g.S&&(d-S<k&&(f=aa),aa-f<k&&(d=S),ea-g<l&&(e=ma),e-ma<l&&(g=ea),R=performance.now(),U.R&&U.aE&&this.g.view.i?va.Es(X.o.byteOffset|0,X[0].length|0,S|0,ma|0,aa|0,ea|0,k|0,l|0):this.Es(S,ma,aa,ea),U.xb&&(R=performance.now()-R,this.g.view.C.h("wrapTorusHROT",R,U.R&&U.aE&&this.g.view.i))),0===this.g.S&&1===B&&this.g.Df(X,0),d-S<k&&(d=S+k),aa-f<k&&(f=aa-k),ea-g<l&&(g=ea-l),e-ma<l&&(e=ma+l),v===this.X.i?(d-=q,e-=m,f+=q,g+=m):v===this.X.j&&k>
this.ga&&(d-=k,e-=l,f+=k,g+=l));if(v===this.X.i){performance.now();d-=q;e-=m;f+=q;g+=m;R=performance.now();if(U.R&&U.TD&&this.g.view.i)va.CG(t.o.byteOffset|0,t[0].length|0,e|0,g|0,d|0,f|0,m|0,q|0);else{for(c=e;c<e+m;c+=1)t[c].fill(0,d,f+1);for(c=e+m;c<=g;c+=1)t[c].fill(0,d,d+q+1)}U.xb&&(R=performance.now()-R,this.g.view.C.h("clearTopAndLeft",R,U.R&&U.TD&&this.g.view.i));R=performance.now();if(U.R&&U.Vm&&this.g.view.i)va.OG(t.o.byteOffset|0,X.o.byteOffset|0,e+m|0,d+q|0,g|0,f|0,W|0,t[0].length|0,X[0].length|
0);else{var K=t[e+m-1];for(c=e+m;c<=g;c+=1){var O=t[c];B=X[c];P=0;for(b=d+q;b+8<=f;)B[b]>=W&&(P+=1),O[b]=K[b]+P,b+=1,B[b]>=W&&(P+=1),O[b]=K[b]+P,b+=1,B[b]>=W&&(P+=1),O[b]=K[b]+P,b+=1,B[b]>=W&&(P+=1),O[b]=K[b]+P,b+=1,B[b]>=W&&(P+=1),O[b]=K[b]+P,b+=1,B[b]>=W&&(P+=1),O[b]=K[b]+P,b+=1,B[b]>=W&&(P+=1),O[b]=K[b]+P,b+=1,B[b]>=W&&(P+=1),O[b]=K[b]+P,b+=1;for(;b<=f;)B[b]>=W&&(P+=1),O[b]=K[b]+P,b+=1;K=O}}U.xb&&(R=performance.now()-R,this.g.view.C.h("cumulativeCounts",R,U.R&&U.Vm&&this.g.view.i));d+=k;e+=l;f-=
k;g-=l;-1!==this.g.S&&(d+=q,e+=m,f-=q,g-=m);performance.now();m=X[e][d];P=t[e+l][d+k];var J=0;m<W?255===p[P]&&(Y?pa.random()>=Q[P]&&(ia+=1,J=128):(ia+=1,J=128)):0===n[P]?Y?pa.random()>=A[P]?J=128:oa+=1:oa+=1:Y?pa.random()>=G[P]?J=128:oa+=1:J=128;m=fa[m+J];X[e][d]=m;m>na&&(Z[d]|=1,H=E=e,I[e>>4][d>>8]|=1<<(~(d>>4)&15),m>=W&&(ca+=1,Z[d]|=2,V=N=e));var x=ja=!1;O=t[e+l];K=t[e+l];B=X[e];q=I[e>>4];if(Y)for(b=d+1;b<=f;b+=1)m=B[b],P=O[b+k]-K[b-r],J=0,m<W?255===p[P]&&pa.random()>=Q[P]&&(ia+=1,J=128):0===n[P]?
pa.random()>=A[P]?J=128:oa+=1:pa.random()>=G[P]?J=128:oa+=1,m=fa[m+J],B[b]=m,m>na&&(Z[b]|=1,ja=!0,q[b>>8]|=1<<(~(b>>4)&15),m>=W&&(ca+=1,Z[b]|=2,x=!0));else for(b=d+1;b<=f;b+=1)m=B[b],P=O[b+k]-K[b-r],J=0,m<W?255===p[P]&&(ia+=1,J=128):0===n[P]?oa+=1:J=128,m=fa[m+J],B[b]=m,m>na&&(Z[b]|=1,ja=!0,q[b>>8]|=1<<(~(b>>4)&15),m>=W&&(ca+=1,Z[b]|=2,x=!0));ja&&(H=E=e);x&&(V=N=e);B=R=!1;O=d+k;for(c=e+1;c<=g;c+=1)m=X[c][d],P=t[c+l][O]-t[c-u][O],J=0,m<W?255===p[P]&&(Y?pa.random()>=Q[P]&&(ia+=1,J=128):(ia+=1,J=128)):
0===n[P]?Y?pa.random()>=A[P]?J=128:oa+=1:oa+=1:Y?pa.random()>=G[P]?J=128:oa+=1:J=128,m=fa[m+J],X[c][d]=m,m>na&&(c<E&&(E=c),c>H&&(H=c),R=!0,I[c>>4][d>>8]|=1<<(~(d>>4)&15),m>=W&&(ca+=1,c<N&&(N=c),c>V&&(V=c),B=!0));R&&(Z[d]|=1);B&&(Z[d]|=2);R=performance.now();if(U.R&&U.ts&&this.g.view.i&&!Y)va.FI(X.o.byteOffset|0,X[0].length|0,I.o.byteOffset|0,I[0].length|0,t.o.byteOffset|0,t[0].length|0,a?this.Z.byteOffset|0:this.$.byteOffset|0,Z.byteOffset|0,e|0,d|0,g|0,f|0,k|0,l|0,W|0,y.Me|0,y.ce|0,na|0,this.i.byteOffset|
0,E|0,H|0,N|0,V|0,ca|0,ia|0,oa),E=this.i[0],H=this.i[1],N=this.i[2],V=this.i[3],ca=this.i[4],ia=this.i[5],oa=this.i[6];else for(c=e+1;c<=g;c+=1){B=X[c];q=I[c>>4];K=t[c+l];var D=t[c-u];O=d+1+k;var la=d+1-r;x=ja=!1;if(Y)for(b=d+1;b<=f;b+=1)m=B[b],P=K[O]+D[la]-K[la]-D[O],J=0,m<W?255===p[P]&&pa.random()>=Q[P]&&(J=128,ia+=1):0===n[P]?pa.random()>=A[P]?J=128:oa+=1:pa.random()>=G[P]?J=128:oa+=1,m=fa[m+J],B[b]=m,m>na&&(ja=!0,q[b>>8]|=1<<(~(b>>4)&15),Z[b]|=1,m>=W&&(ca+=1,x=!0,Z[b]|=2)),O+=1,la+=1;else for(b=
d+1;b<=f;b+=1)m=B[b],P=K[O]+D[la]-K[la]-D[O],J=0,m<W?255===p[P]&&(J=128,ia+=1):0===n[P]?oa+=1:J=128,m=fa[m+J],B[b]=m,m>na&&(ja=!0,q[b>>8]|=1<<(~(b>>4)&15),Z[b]|=1,m>=W&&(ca+=1,x=!0,Z[b]|=2)),O+=1,la+=1;ja&&(c<E&&(E=c),c>H&&(H=c));x&&(c<N&&(N=c),c>V&&(V=c))}U.xb&&(R=performance.now()-R,this.g.view.C.h("nextHROTMoore",R,U.R&&U.ts&&this.g.view.i));for(b=d;b<=f;b+=1)Z[b]&&(b<w&&(w=b),b>z&&(z=b),0!==(Z[b]&2)&&(b<L&&(L=b),b>M&&(M=b)),Z[b]=0);performance.now();this.g.B=ca;this.g.na=ia;this.g.ga=oa;0<ca&&
(this.g.A.J=w,this.g.A.L=z,this.g.A.K=E,this.g.A.N=H,this.g.ya.J=L,this.g.ya.L=M,this.g.ya.K=N,this.g.ya.N=V)}else if(v===this.X.j&&k>this.ga){d-=k;f+=k;e-=l;g+=l;-1===this.g.S&&(d-=k,f+=k,e-=l,g+=l);this.F=g-e+1;this.u=f-d+1;this.A=this.F+(this.u-1)/2|0;this.I=this.u/2|0;R=performance.now();if(U.R&&U.Vm&&this.g.view.i)va.QG(this.A|0,this.u|0,this.F|0,e|0,d|0,W|0,this.I|0,t.o.byteOffset|0,X.o.byteOffset|0,t[0].length|0,X[0].length|0);else for(r=0;r<this.A;r+=1)for(O=t[r],B=X[r+e],Z=r-1,P=Z-1,c=t[Z],
q=t[P],u=0;u<=this.u;u+=1)O[u]=this.j(Z,u-1,c)+this.j(Z,u+1,c)-this.j(P,u,q),r<this.F&&B[u+d]>=W&&(O[u]+=1);U.xb&&(R=performance.now()-R,this.g.view.C.h("cumulativeCounts",R,U.R&&U.Vm&&this.g.view.i));R=performance.now();if(U.R&&U.us&&this.g.view.i&&!Y)va.HI(X.o.byteOffset|0,X[0].length|0,I.o.byteOffset|0,I[0].length|0,t.o.byteOffset|0,t[0].length|0,a?this.Z.byteOffset|0:this.$.byteOffset|0,e|0,d|0,k|0,l|0,this.F|0,this.u|0,W|0,y.Me|0,y.ce|0,na|0,this.A|0,this.I|0,this.i.byteOffset|0,w|0,z|0,E|0,
H|0,L|0,M|0,N|0,V|0,ca|0,ia|0,oa|0),w=this.i[0],z=this.i[1],E=this.i[2],H=this.i[3],L=this.i[4],M=this.i[5],N=this.i[6],V=this.i[7],ca=this.i[8],ia=this.i[9],oa=this.i[10];else for(r=l;r<=this.F-l;r+=1){Z=r-1;c=t[Z];la=r+l;var ba=t[la];O=la-1;var sa=t[O];b=r-l-1;var ta=t[b];K=b-1;var ka=t[K];D=r+e;B=X[D];q=I[D>>4];x=ja=!1;if(Y)for(u=k;u<=this.u-k;u+=1){P=u+k;m=u-k;P=this.j(la,u,ba)-this.j(Z,P+1,c)-this.j(Z,m-1,c)+this.j(K,u,ka)+this.j(O,u,sa)-this.j(Z,P,c)-this.j(Z,m,c)+this.j(b,u,ta);var ua=u+d;
m=B[ua];J=0;m<W?255===p[P]&&pa.random()>=Q[P]&&(J=128,ia+=1):0===n[P]?pa.random()>=A[P]?J=128:oa+=1:pa.random()>=G[P]?J=128:oa+=1;m=fa[m+J];B[ua]=m;m>na&&(ua<w&&(w=ua),ua>z&&(z=ua),ja=!0,q[ua>>8]|=1<<(~(ua>>4)&15),m>=W&&(ca+=1,x=!0,ua<L&&(L=ua),ua>M&&(M=ua)))}else for(u=k;u<=this.u-k;u+=1)P=u+k,m=u-k,P=this.j(la,u,ba)-this.j(Z,P+1,c)-this.j(Z,m-1,c)+this.j(K,u,ka)+this.j(O,u,sa)-this.j(Z,P,c)-this.j(Z,m,c)+this.j(b,u,ta),ua=u+d,m=B[ua],J=0,m<W?255===p[P]&&(J=128,ia+=1):0===n[P]?oa+=1:J=128,m=fa[m+
J],B[ua]=m,m>na&&(ua<w&&(w=ua),ua>z&&(z=ua),ja=!0,q[ua>>8]|=1<<(~(ua>>4)&15),m>=W&&(ca+=1,x=!0,ua<L&&(L=ua),ua>M&&(M=ua)));ja&&(D<E&&(E=D),D>H&&(H=D));x&&(D<N&&(N=D),D>V&&(V=D))}U.xb&&(R=performance.now()-R,this.g.view.C.h("nextHROTvN",R,U.R&&U.us&&this.g.view.i));this.g.B=ca;this.g.na=ia;this.g.ga=oa;0<ca&&(this.g.A.J=w,this.g.A.L=z,this.g.A.K=E,this.g.A.N=H,this.g.ya.J=L,this.g.ya.L=M,this.g.ya.K=N,this.g.ya.N=V)}else switch(v){case this.X.u:this.bw(d,e,f,g,k,l);break;case this.X.A:this.Wv(d,e,
f,g,k,l);break;case this.X.D:this.vw(d,e,f,g,k,l);break;case 15:this.xw(d,e,f,g,k,l);break;case 10:this.fw(d,e,f,g,k,l);break;case this.X.S:this.jw(d,e,f,g,k,l);break;case this.X.O:this.$v(d,e,f,g,k,l);break;case this.X.I:this.Uv(d,e,f,g,k,l);break;case this.X.G:this.lw(d,e,f,g,k,l);break;case this.X.V:this.nw(d,e,f,g,k,l);break;case this.X.Y:this.rw(d,e,f,g,k,l);break;case this.X.P:this.dw(d,e,f,g,k,l);break;case this.X.H:this.tw(d,e,f,g,k,l);break;case this.X.v:this.hw(d,e,f,g,k,l);break;case this.X.j:this.hb(d,
e,f,g,k,l);break;default:this.pw(d,e,f,g,k,l)}-1!==this.g.S&&(d<S+k&&(d=S+k),f>aa-k&&(f=aa-k),e<ma+l&&(e=ma+l),g>ea-l&&(g=ea-l));v===this.X.i||v===this.X.j&&k>this.ga||this.qa(d,e,f,g,a);1===this.g.S&&(R=performance.now(),U.R&&U.VD&&this.g.view.i?va.Tq(X.o.byteOffset|0,X[0].length|0,S|0,ma|0,aa|0,ea|0,k|0,l|0):this.Tq(S,ma,aa,ea),U.xb&&(R=performance.now()-R,this.g.view.C.h("clearHROTOutside",R,U.R&&U.VD&&this.g.view.i)))};za.prototype.cw=function(a,b,c,d,f,e){var g=performance.now();U.R&&U.ps&&this.g.view.i?
va.cw(this.h.o.byteOffset|0,this.h[0].length|0,this.g.h.o.byteOffset|0,this.g.h[0].length|0,b|0,d|0,a|0,c|0,f|0,e|0,this.g.i+this.g.u-1|0,this.S|0,this.Y|0):this.ua(a,b,c,d,f,e);U.xb&&(g=performance.now()-g,this.g.view.C.h("nextHROTCorner",g,U.R&&U.ps&&this.g.view.i))};za.prototype.ua=function(a,b,c,d,f,e){var g=this.h,k,l=this.g.i+this.g.u-1,p=this.S,n=this.Y,q=this.g.h;for(k=b-e;k<=d+e;k+=1){var m=g[k];for(b=a-f;b<=c+f;){var r=0;var u=q[k-p];u[b-p]===l&&(r+=1);u[b+p]===l&&(r+=1);u=q[k+p];u[b-p]===
l&&(r+=1);u[b+p]===l&&(r+=1);q[k-n][b]===l&&(r+=1);q[k+n][b]===l&&(r+=1);u=q[k];u[b-n]===l&&(r+=1);u[b+n]===l&&(r+=1);u[b]===l&&(r+=1);m[b]=r;b+=1}}};za.prototype.Xv=function(a,b,c,d,f,e){var g=performance.now();U.R&&U.ns&&this.g.view.i?va.Xv(this.h.o.byteOffset|0,this.h[0].length|0,this.g.h.o.byteOffset|0,this.g.h[0].length|0,b|0,d|0,a|0,c|0,f|0,e|0,this.g.i+this.g.u-1|0):this.sa(a,b,c,d,f,e);U.xb&&(g=performance.now()-g,this.g.view.C.h("nextHROTAsterisk",g,U.R&&U.ns&&this.g.view.i))};za.prototype.sa=
function(a,b,c,d,f,e){var g=this.h,k,l,p=this.g.i+this.g.u-1,n=this.g.h;for(k=b-e;k<=d+e;k+=1){var q=g[k];for(b=a-f;b<=c+f;){var m=0;for(l=-e;0>l;l+=1){var r=n[k+l];r[b]===p&&(m+=1);r[b+l]===p&&(m+=1)}r=n[k];for(l=-f;l<=f;l+=1)r[b+l]===p&&(m+=1);for(l=1;l<=f;l+=1)r=n[k+l],r[b]===p&&(m+=1),r[b+l]===p&&(m+=1);q[b]=m;b+=1}}};za.prototype.ww=function(a,b,c,d,f,e){var g=performance.now();U.R&&U.Cs&&this.g.view.i?va.ww(this.h.o.byteOffset|0,this.h[0].length|0,this.g.h.o.byteOffset|0,this.g.h[0].length|
0,b|0,d|0,a|0,c|0,f|0,e|0,this.g.i+this.g.u-1|0):this.fb(a,b,c,d,f,e);U.xb&&(g=performance.now()-g,this.g.view.C.h("nextHROTTripod",g,U.R&&U.Cs&&this.g.view.i))};za.prototype.fb=function(a,b,c,d,f,e){var g=this.h,k,l,p=this.g.i+this.g.u-1,n=this.g.h;for(k=b-e;k<=d+e;k+=1){var q=g[k];for(b=a-f;b<=c+f;){var m=0;for(l=-e;0>l;l+=1){var r=n[k+l];r[b]===p&&(m+=1)}r=n[k];for(l=-f;0>=l;l+=1)r[b+l]===p&&(m+=1);for(l=1;l<=f;l+=1)n[k+l][b+l]===p&&(m+=1);q[b]=m;b+=1}}};za.prototype.yw=function(a,b,c,d,f,e){var g=
performance.now();U.R&&U.Ds&&this.g.view.i?null===this.D?va.yw(this.h.o.byteOffset|0,this.h[0].length|0,this.g.h.o.byteOffset|0,this.g.h[0].length|0,this.s.byteOffset|0,this.s.length|0,a|0,b|0,c|0,d|0,f|0,e|0,this.g.i+this.g.u-1|0,this.B):va.VI(this.h.o.byteOffset|0,this.h[0].length|0,this.g.h.o.byteOffset|0,this.g.h[0].length|0,this.s.byteOffset|0,this.s.length|0,this.D.byteOffset|0,a|0,b|0,c|0,d|0,f|0,e|0,this.g.i+this.g.u-1|0,this.B):this.mb(a,b,c,d,f,e);U.xb&&(g=performance.now()-g,this.g.view.C.h("nextHROTWeighted",
g,U.R&&U.Ds&&this.g.view.i))};za.prototype.mb=function(a,b,c,d,f,e){var g=this.h,k,l,p,n=this.g.i+this.g.u-1,q=this.g.h;if(null===this.D)for(k=b-e;k<=d+e;k+=1){var m=g[k];for(b=a-f;b<=c+f;){if(this.B&&0!==(b+k&1)){var r=-(f+f+1);var u=this.s.length+r;r+=r}else r=u=0;var t=0;for(p=-e;p<=e;p+=1){var v=q[k+p];for(l=-f;l<=f;l+=1)v[b+l]===n&&(t+=this.s[u]),u+=1;u+=r}m[b]=t;b+=1}}else if(1!==f||1!==e||this.B){var B=this.D[0];var w=this.D[1];for(k=b-e;k<=d+e;k+=1)for(m=g[k],b=a-f;b<=c+f;){this.B&&0!==(b+
k&1)?(r=-(f+f+1),u=this.s.length+r,r+=r):r=u=0;t=0;for(p=-e;p<=e;p+=1){v=q[k+p];for(l=-f;l<=f;l+=1)t=v[b+l]===n?t+this.s[u]*w:t+this.s[u]*B,u+=1;u+=r}m[b]=t;b+=1}}else this.lb(b,d,a,c,f)};za.prototype.gw=function(a,b,c,d,f,e){var g=performance.now();U.R&&U.rs&&this.g.view.i?va.gw(this.h.o.byteOffset|0,this.h[0].length|0,this.g.h.o.byteOffset|0,this.g.h[0].length|0,this.O.byteOffset|0,this.O.length|0,a|0,b|0,c|0,d|0,f|0,e|0,this.g.i+this.g.u-1|0,this.B):this.za(a,b,c,d,f,e);U.xb&&(g=performance.now()-
g,this.g.view.C.h("nextHROTCustom",g,U.R&&U.rs&&this.g.view.i))};za.prototype.za=function(a,b,c,d,f,e){var g=this.h,k,l,p,n,q=this.g.i+this.g.u-1,m=this.O,r=this.g.h;for(k=b-e;k<=d+e;k+=1){var u=g[k];for(b=a-f;b<=c+f;){for(l=n=0;l<m.length;){var t=m[l];this.B&&0===(b+k&1)&&(t=-t);l+=1;var v=r[k+t];t=m[l];for(p=l+=1;p<l+t;p+=1)v[b+m[p]]===q&&(n+=1);l+=t}u[b]=n;b+=1}}};za.prototype.kw=function(a,b,c,d,f,e){var g=performance.now();U.R&&U.vs&&this.g.view.i?va.kw(this.h.o.byteOffset|0,this.h[0].length|
0,this.g.h.o.byteOffset|0,this.g.h[0].length|0,b|0,d|0,a|0,c|0,f|0,e|0,this.g.i+this.g.u-1|0):this.Ma(a,b,c,d,f,e);U.xb&&(g=performance.now()-g,this.g.view.C.h("nextHROTHash",g,U.R&&U.vs&&this.g.view.i))};za.prototype.Ma=function(a,b,c,d,f,e){var g=this.h,k,l,p,n,q,m=this.g.i+this.g.u-1,r=this.g.h;for(k=b-e;k<=d+e;k+=1){var u=g[k];b=a-f;var t=q=n=0;for(p=-e;p<=e;p+=1){var v=r[k+p];if(1===p)for(l=-f;l<=f;l+=1)v[b+l]===m&&(q+=1);else if(-1===p)for(l=-f;l<=f;l+=1)v[b+l]===m&&(t+=1);else v[b-1]===m&&
(n+=1),v[b+1]===m&&(n+=1)}r[k][b]===m&&(n+=1);u[b]=n+q+t;for(b+=1;b<=c+f;){n=0;for(p=-e;p<=e;p+=1)v=r[k+p],1===p?(v[b-f-1]===m&&--q,v[b+f]===m&&(q+=1)):-1===p?(v[b-f-1]===m&&--t,v[b+f]===m&&(t+=1)):(v[b-1]===m&&(n+=1),v[b+1]===m&&(n+=1));r[k][b]===m&&(n+=1);u[b]=n+q+t;b+=1}}};za.prototype.Zv=function(a,b,c,d,f,e,g){var k=this.h,l,p,n,q=this.g.i+this.g.u-1,m=this.g.h;for(l=b-e;l<=d+e;l+=1){var r=k[l];b=a-f;var u=0;var t=g;for(n=-e;n<=e;n+=1){var v=m[l+n];for(p=-f+t;p<=f-t;p+=2)v[b+p]===q&&(u+=1);t=
1-t}1===g&&m[l][b]===q&&(u+=1);r[b]=u;b+=1;if(b<=c+f){var B=0;t=g;for(n=-e;n<=e;n+=1){v=m[l+n];for(p=-f+t;p<=f-t;p+=2)v[b+p]===q&&(B+=1);t=1-t}1===g&&m[l][b]===q&&(B+=1);r[b]=B;for(b+=1;b<=c+f;){t=g;for(n=-e;n<=e;n+=1)v=m[l+n],v[b-f+t-2]===q&&--u,v[b+f-t]===q&&(u+=1),t=1-t;1===g&&(m[l][b-2]===q&&--u,m[l][b]===q&&(u+=1));r[b]=u;b+=1;if(b<=c+f){t=g;for(n=-e;n<=e;n+=1)v=m[l+n],v[b-f+t-2]===q&&--B,v[b+f-t]===q&&(B+=1),t=1-t;1===g&&(m[l][b-2]===q&&--B,m[l][b]===q&&(B+=1));r[b]=B;b+=1}}}}};za.prototype.aw=
function(a,b,c,d,f,e){var g=performance.now();U.R&&U.os&&this.g.view.i?va.aw(this.h.o.byteOffset|0,this.h[0].length|0,this.g.h.o.byteOffset|0,this.g.h[0].length|0,a|0,b|0,c|0,d|0,f|0,e|0,this.g.i+this.g.u-1|0):this.Zv(a,b,c,d,f,e,1);U.xb&&(g=performance.now()-g,this.g.view.C.h("nextHROTChecker",g,U.R&&U.os&&this.g.view.i))};za.prototype.Vv=function(a,b,c,d,f,e){var g=performance.now();U.R&&U.ms&&this.g.view.i?va.Vv(this.h.o.byteOffset|0,this.h[0].length|0,this.g.h.o.byteOffset|0,this.g.h[0].length|
0,a|0,b|0,c|0,d|0,f|0,e|0,this.g.i+this.g.u-1|0):this.Zv(a,b,c,d,f,e,0);U.xb&&(g=performance.now()-g,this.g.view.C.h("nextHROTAligned",g,U.R&&U.ms&&this.g.view.i))};za.prototype.mw=function(a,b,c,d,f,e){var g=performance.now();U.R&&U.ws&&this.g.view.i?va.mw(this.h.o.byteOffset|0,this.h[0].length|0,this.g.h.o.byteOffset|0,this.g.h[0].length|0,b|0,d|0,a|0,c|0,f|0,e|0,this.g.i+this.g.u-1|0):this.Pa(a,b,c,d,f,e);U.xb&&(g=performance.now()-g,this.g.view.C.h("nextHROTHex",g,U.R&&U.ws&&this.g.view.i))};
za.prototype.Pa=function(a,b,c,d,f,e){var g=this.h,k,l,p,n=this.g.i+this.g.u-1,q=this.g.h;for(k=b-e;k<=d+e;k+=1){var m=g[k];b=a-f;var r=0;for(p=-e;0>p;p+=1){var u=q[k+p];for(l=-f;l<=f+p;l+=1)u[b+l]===n&&(r+=1)}for(p=0;p<=e;p+=1)for(u=q[k+p],l=-f+p;l<=f;l+=1)u[b+l]===n&&(r+=1);m[b]=r;for(b+=1;b<=c+f;){for(p=-e;0>p;p+=1)u=q[k+p],u[b-f-1]===n&&--r,u[b+f+p]===n&&(r+=1);for(p=0;p<=e;p+=1)u=q[k+p],u[b-f+p-1]===n&&--r,u[b+f]===n&&(r+=1);m[b]=r;b+=1}}};za.prototype.ow=function(a,b,c,d,f,e){var g=performance.now();
U.R&&U.ys&&this.g.view.i?va.ow(this.h.o.byteOffset|0,this.h[0].length|0,this.g.h.o.byteOffset|0,this.g.h[0].length|0,b|0,d|0,a|0,c|0,f|0,e|0,this.g.i+this.g.u-1|0):this.Ua(a,b,c,d,f,e);U.xb&&(g=performance.now()-g,this.g.view.C.h("nextHROTSaltire",g,U.R&&U.ys&&this.g.view.i))};za.prototype.Ua=function(a,b,c,d,f,e){var g=this.h,k,l,p=this.g.i+this.g.u-1,n=this.g.h;for(k=b-e;k<=d+e;k+=1){var q=g[k];for(b=a-f;b<=c+f;){var m=0;for(l=1;l<=e;l+=1){var r=n[k+l];r[b-l]===p&&(m+=1);r[b+l]===p&&(m+=1);r=n[k-
l];r[b-l]===p&&(m+=1);r[b+l]===p&&(m+=1)}r=n[k];r[b]===p&&(m+=1);q[b]=m;b+=1}}};za.prototype.sw=function(a,b,c,d,f,e){var g=performance.now();U.R&&U.As&&this.g.view.i?va.sw(this.h.o.byteOffset|0,this.h[0].length|0,this.g.h.o.byteOffset|0,this.g.h[0].length|0,b|0,d|0,a|0,c|0,f|0,e|0,this.g.i+this.g.u-1|0):this.$a(a,b,c,d,f,e);U.xb&&(g=performance.now()-g,this.g.view.C.h("nextHROTStar",g,U.R&&U.As&&this.g.view.i))};za.prototype.$a=function(a,b,c,d,f,e){var g=this.h,k,l,p=this.g.i+this.g.u-1,n=this.g.h;
for(k=b-e;k<=d+e;k+=1){var q=g[k];for(b=a-f;b<=c+f;){var m=0;for(l=1;l<=e;l+=1){var r=n[k+l];r[b-l]===p&&(m+=1);r[b+l]===p&&(m+=1);r[b]===p&&(m+=1);r=n[k-l];r[b-l]===p&&(m+=1);r[b+l]===p&&(m+=1);r[b]===p&&(m+=1)}r=n[k];for(l=-f;l<=f;l+=1)r[b+l]===p&&(m+=1);q[b]=m;b+=1}}};za.prototype.ew=function(a,b,c,d,f,e){var g=performance.now();U.R&&U.qs&&this.g.view.i?va.ew(this.h.o.byteOffset|0,this.h[0].length|0,this.g.h.o.byteOffset|0,this.g.h[0].length|0,b|0,d|0,a|0,c|0,f|0,e|0,this.g.i+this.g.u-1|0):this.wa(a,
b,c,d,f,e);U.xb&&(g=performance.now()-g,this.g.view.C.h("nextHROTCross",g,U.R&&U.qs&&this.g.view.i))};za.prototype.wa=function(a,b,c,d,f,e){var g=this.h,k,l,p,n=this.g.i+this.g.u-1,q=this.g.h;for(k=b-e;k<=d+e;k+=1){var m=g[k];b=a-f;var r=p=0;for(l=1;l<=e;l+=1){var u=q[k+l];u[b]===n&&(p+=1);u=q[k-l];u[b]===n&&(p+=1)}u=q[k];for(l=-f;l<=f;l+=1)u[b+l]===n&&(r+=1);m[b]=p+r;for(b+=1;b<=c+f;){p=0;for(l=1;l<=e;l+=1)q[k+l][b]===n&&(p+=1),q[k-l][b]===n&&(p+=1);u=q[k];u[b-f-1]===n&&--r;u[b+f]===n&&(r+=1);m[b]=
p+r;b+=1}}};za.prototype.uw=function(a,b,c,d,f,e){var g=performance.now();U.R&&U.Bs&&this.g.view.i?va.uw(this.h.o.byteOffset|0,this.h[0].length|0,this.g.h.o.byteOffset|0,this.g.h[0].length|0,b|0,d|0,a|0,c|0,f|0,e|0,this.g.i+this.g.u-1|0):this.bb(a,b,c,d,f,e);U.xb&&(g=performance.now()-g,this.g.view.C.h("nextHROTTriangular",g,U.R&&U.Bs&&this.g.view.i))};za.prototype.bb=function(a,b,c,d,f,e){var g=this.h,k,l,p=this.g.i+this.g.u-1,n=this.g.h;for(k=b-e;k<=d+e;k+=1){var q=g[k];b=a-f;var m=0;var r=b+k&
1;if(0===r){var u=e+1;for(r=-e;0>r;r+=1){var t=n[k+r];for(l=-u;l<u;l+=2)t[b+l]===p&&(m+=1),t[b+l+1]===p&&(m+=1);t[b+l]===p&&(m+=1);u+=1}r=0}else{u=e;for(r=-e;0>=r;r+=1){t=n[k+r];for(l=-u;l<u;l+=2)t[b+l]===p&&(m+=1),t[b+l+1]===p&&(m+=1);t[b+l]===p&&(m+=1);u+=1}r=1}for(;r<=e;r+=1){--u;t=n[k+r];for(l=-u;l<u;l+=2)t[b+l]===p&&(m+=1),t[b+l+1]===p&&(m+=1);t[b+l]===p&&(m+=1)}q[b]=m;for(b+=1;b<=c+f;){r=b+k&1;if(0===r){l=e;for(r=-e;0>r;r+=1)t=n[k+r],t[b+l]===p&&(m+=1),l+=1,t[b+l]===p&&(m+=1);t=n[k];t[b-l-1]===
p&&--m;t[b+l]===p&&(m+=1);l+=1;for(r=1;r<=e;r+=1)--l,t=n[k+r],t[b-l-1]===p&&--m,t[b-l]===p&&--m}else{l=e+1;for(r=-e;0>r;r+=1)t=n[k+r],t[b-l-1]===p&&--m,t[b-l]===p&&--m,l+=1;--l;t=n[k];t[b-l-1]===p&&--m;t[b+l]===p&&(m+=1);for(r=1;r<=e;r+=1)--l,t=n[k+r],t[b+l]===p&&(m+=1),t[b+l+1]===p&&(m+=1)}q[b]=m;b+=1}}};za.prototype.iw=function(a,b,c,d,f,e){var g=performance.now();U.R&&U.ss&&this.g.view.i?va.iw(this.h.o.byteOffset|0,this.h[0].length|0,this.g.h.o.byteOffset|0,this.g.h[0].length|0,a|0,b|0,c|0,d|0,
f|0,e|0,this.g.i+this.g.u-1|0):this.Ca(a,b,c,d,f,e);U.xb&&(g=performance.now()-g,this.g.view.C.h("nextHROTGaussian",g,U.R&&U.ss&&this.g.view.i))};za.prototype.Ca=function(a,b,c,d,f,e){var g=this.h,k,l,p,n,q=this.g.i+this.g.u-1,m=this.g.h;for(k=b-e;k<=d+e;k+=1){var r=g[k];for(b=a-f;b<=c+f;){var u=0;for(p=-e;0>p;p+=1){var t=n=p+e+1;var v=m[k+p];for(l=-f;0>=l;l+=1)v[b+l]===q&&(u+=t),t+=n;t-=n+n;for(l=1;l<=f;l+=1)v[b+l]===q&&(u+=t),t-=n;t=n=p+e+1;v=m[k-p];for(l=-f;0>=l;l+=1)v[b+l]===q&&(u+=t),t+=n;t-=
n+n;for(l=1;l<=f;l+=1)v[b+l]===q&&(u+=t),t-=n}t=n=f+1;v=m[k];for(l=-f;0>=l;l+=1)v[b+l]===q&&(u+=t),t+=n;t-=n+n;for(l=1;l<=f;l+=1)v[b+l]===q&&(u+=t),t-=n;v[b]===q&&(u+=1);r[b]=u;b+=1}}};za.prototype.qw=function(a,b,c,d,f,e){var g=performance.now();U.R&&U.zs&&this.g.view.i?va.qw(this.h.o.byteOffset|0,this.h[0].length|0,this.g.h.o.byteOffset|0,this.g.h[0].length|0,this.H.byteOffset|0,b|0,d|0,a|0,c|0,f|0,e|0,this.g.i+this.g.u-1|0):this.Wa(a,b,c,d,f,e);U.xb&&(g=performance.now()-g,this.g.view.C.h("nextHROTShaped",
g,U.R&&U.zs&&this.g.view.i))};za.prototype.Wa=function(a,b,c,d,f,e){var g=this.h,k,l,p,n=this.g.i+this.g.u-1,q=this.H,m=this.g.h;for(k=b-e;k<=d+e;k+=1){var r=g[k];b=a-f;var u=0;for(p=-e;p<=e;p+=1){var t=q[p+e];var v=m[k+p];for(l=-t;l<t;l+=2)v[b+l]===n&&(u+=1),v[b+l+1]===n&&(u+=1);v[b+l]===n&&(u+=1)}r[b]=u;for(b+=1;b<=c+f;){for(p=-e;p<=e;p+=1)t=q[p+e],v=m[k+p],v[b-t-1]===n&&--u,v[b+t]===n&&(u+=1);r[b]=u;b+=1}}};za.prototype.jb=function(a,b,c,d,f,e){var g=this.h,k,l,p,n=this.g.i+this.g.u-1,q=this.g.h;
for(k=b-e;k<=d+e;k+=1){var m=g[k];b=a-f;var r=0;for(p=-e;0>=p;p+=1){var u=p+e;var t=q[k+p];for(l=-u;l<u;l+=2)t[b+l]===n&&(r+=1),t[b+l+1]===n&&(r+=1);t[b+l]===n&&(r+=1)}for(p=1;p<=e;p+=1){u=e-p;t=q[k+p];for(l=-u;l<u;l+=2)t[b+l]===n&&(r+=1),t[b+l+1]===n&&(r+=1);t[b+l]===n&&(r+=1)}m[b]=r;for(b+=1;b<=c+f;){for(p=-e;0>=p;p+=1)u=p+e,t=q[k+p],t[b-u-1]===n&&--r,t[b+u]===n&&(r+=1);for(p=1;p<=e;p+=1)u=e-p,t=q[k+p],t[b-u-1]===n&&--r,t[b+u]===n&&(r+=1);m[b]=r;b+=1}}};za.prototype.Ha=function(a){var b,c,d=this.g.A.J,
f=this.g.A.L,e=this.g.A.K,g=this.g.A.N,k=this.m,l=this.v,p=a?this.ja:this.P,n=a?this.ka:this.G,q=k+k,m=l+l;var r=k+1;var u=l+1;var t=this.h,v=this.type,B=this.g.width,w=0,z=this.g.height,E=0,H=B,L=w,M=z,N=E,V=this.g.h,X=this.g.m;var I=this.g.ca;var R=this.g.$,P=0,S=0,aa=0,ma=0,ea=0,ca=0,ia=0,oa,ja=this.ea,W=this.ba,na=this.fa,fa=this.da,Z=this.aa,Y=this.g.i+this.g.u-1,pa=this.g.u,Q=0<this.g.u?1:0;-1!==this.g.S&&(P=Math.round((this.g.width-I)/2),aa=Math.round((this.g.height-R)/2),S=P+I-1,ma=aa+R-1,
255===p[0]&&(d=P+k,f=S-k,g=ma-l,e=aa+l),1===this.g.S&&(d-P<k&&(f=S),S-f<k&&(d=P),ma-g<l&&(e=aa),e-aa<l&&(g=ma),this.Es(P,aa,S,ma)),d-P<k&&(d=P+k),S-f<k&&(f=S-k),ma-g<l&&(g=ma-l),e-aa<l&&(e=aa+l),v===this.X.i?(d-=q,e-=m,f+=q,g+=m):v===this.X.j&&k>this.ga&&(d-=k,e-=l,f+=k,g+=l));if(v===this.X.i){d-=q;e-=m;f+=q;g+=m;for(c=e;c<e+m;c+=1)t[c].fill(0,d,f+1);for(c=e+m;c<=g;c+=1)t[c].fill(0,d,d+q);R=performance.now();if(U.R)va.PG(t.o.byteOffset|0,V.o.byteOffset|0,e+m|0,d+q|0,g|0,f|0,Y|0,t[0].length|0,V[0].length|
0);else for(c=e+m;c<=g;c+=1){var G=t[c-1];var A=t[c];I=V[c];var K=0;for(b=d+q;b<=f;b+=1)I[b]===Y&&(K+=1),A[b]=G[b]+K}U.xb&&(R=performance.now()-R,this.g.view.C.h("cumulativeCounts",R,U.R&&U.Vm&&this.g.view.i));d+=k;e+=l;f-=k;g-=l;-1!==this.g.S&&(d+=q,e+=m,f-=q,g-=m);m=V[e][d];K=t[e+l][d+k];m<=pa?255===p[K]?ja?W.random()>=na[K]?(m=Y,ca+=1):m>Q&&--m:(m=Y,ca+=1):m>Q&&--m:m===Y?0===n[K]?ja?W.random()>=Z[K]||(--m,ia+=1):(--m,ia+=1):!ja||W.random()>=fa[K]||(--m,ia+=1):m>Q&&--m;V[e][d]=m;m>Q&&(w=B=d,E=z=
e,X[e>>4][d>>8]|=1<<(~(d>>4)&15),m===Y&&(ea+=1),m>pa&&(L=H=d,N=M=e));var O=oa=!1;A=t[e+l];G=t[e+l];I=V[e];q=X[e>>4];if(ja)for(b=d+1;b<=f;b+=1)m=I[b],K=A[b+k]-G[b-r],m<=pa?255===p[K]?W.random()>=na[K]?(m=Y,ca+=1):m>Q&&--m:m>Q&&--m:m===Y?0===n[K]?W.random()>=Z[K]||(--m,ia+=1):W.random()>=fa[K]||(--m,ia+=1):m>Q&&--m,I[b]=m,m>Q&&(b<B&&(B=b),b>w&&(w=b),oa=!0,q[b>>8]|=1<<(~(b>>4)&15),m===Y&&(ea+=1),m>pa&&(b<H&&(H=b),b>L&&(L=b),O=!0));else for(b=d+1;b<=f;b+=1)m=I[b],K=A[b+k]-G[b-r],m<=pa?255===p[K]?(m=Y,
ca+=1):m>Q&&--m:m===Y?0===n[K]&&(--m,ia+=1):m>Q&&--m,I[b]=m,m>Q&&(b<B&&(B=b),b>w&&(w=b),oa=!0,q[b>>8]|=1<<(~(b>>4)&15),m===Y&&(ea+=1),m>pa&&(b<H&&(H=b),b>L&&(L=b),O=!0));oa&&(E=z=e);O&&(N=M=e);R=I=!1;A=d+k;if(ja)for(c=e+1;c<=g;c+=1)m=V[c][d],K=t[c+l][A]-t[c-u][A],m<=pa?255===p[K]?W.random()>=na[K]?(m=Y,ca+=1):m>Q&&--m:m>Q&&--m:m===Y?0===n[K]?W.random()>=Z[K]||(--m,ia+=1):W.random()>=fa[K]||(--m,ia+=1):m>Q&&--m,V[c][d]=m,m>Q&&(c<z&&(z=c),c>E&&(E=c),I=!0,X[c>>4][d>>8]|=1<<(~(d>>4)&15),m===Y&&(ea+=1),
m>pa&&(c<M&&(M=c),c>N&&(N=c),R=!0));else for(c=e+1;c<=g;c+=1)m=V[c][d],K=t[c+l][A]-t[c-u][A],m<=pa?255===p[K]?(m=Y,ca+=1):m>Q&&--m:m===Y?0===n[K]&&(--m,ia+=1):m>Q&&--m,V[c][d]=m,m>Q&&(c<z&&(z=c),c>E&&(E=c),I=!0,X[c>>4][d>>8]|=1<<(~(d>>4)&15),m===Y&&(ea+=1),m>pa&&(c<M&&(M=c),c>N&&(N=c),R=!0));I&&(d<B&&(B=d),d>w&&(w=d));R&&(d<H&&(H=d),d>L&&(L=d));R=performance.now();if(U.R&&U.ts&&this.g.view.i&&!ja)va.GI(V.o.byteOffset|0,V[0].length|0,X.o.byteOffset|0,X[0].length|0,t.o.byteOffset|0,t[0].length|0,a?
this.Z.byteOffset|0:this.$.byteOffset|0,e|0,d|0,g|0,f|0,k|0,l|0,pa|0,Q|0,Y|0,this.i.byteOffset|0,B|0,w|0,z|0,E|0,H|0,L|0,M|0,N|0,ea|0,ca|0,ia|0),B=this.i[0],w=this.i[1],z=this.i[2],E=this.i[3],H=this.i[4],L=this.i[5],M=this.i[6],N=this.i[7],ea=this.i[8],ca=this.i[9],ia=this.i[10];else for(c=e+1;c<=g;c+=1){I=V[c];q=X[c>>4];G=t[c+l];var J=t[c-u];O=oa=!1;A=d+1+k;var x=d+1-r;if(ja)for(b=d+1;b<=f;b+=1)m=I[b],K=G[A]+J[x]-G[x]-J[A],m<=pa?255===p[K]?W.random()>=na[K]?(m=Y,ca+=1):m>Q&&--m:m>Q&&--m:m===Y?0===
n[K]?W.random()>=Z[K]||(--m,ia+=1):W.random()>=fa[K]||(--m,ia+=1):m>Q&&--m,I[b]=m,m>Q&&(q[b>>8]|=1<<(~(b>>4)&15),b<B&&(B=b),b>w&&(w=b),oa=!0,m===Y&&(ea+=1),m>pa&&(O=!0,b<H&&(H=b),b>L&&(L=b))),A+=1,x+=1;else for(b=d+1;b<=f;b+=1)m=I[b],K=G[A]+J[x]-G[x]-J[A],m<=pa?255===p[K]?(m=Y,ca+=1):m>Q&&--m:m===Y?0===n[K]&&(--m,ia+=1):m>Q&&--m,I[b]=m,m>Q&&(q[b>>8]|=1<<(~(b>>4)&15),b<B&&(B=b),b>w&&(w=b),oa=!0,m===Y&&(ea+=1),m>pa&&(O=!0,b<H&&(H=b),b>L&&(L=b))),A+=1,x+=1;oa&&(c<z&&(z=c),c>E&&(E=c));O&&(c<M&&(M=c),
c>N&&(N=c))}U.xb&&(R=performance.now()-R,this.g.view.C.h("nextHROTMoore",R,U.R&&U.ts&&this.g.view.i));this.g.B=ea;this.g.na=ca;this.g.ga=ia;0<ea&&(this.g.A.J=B,this.g.A.L=w,this.g.A.K=z,this.g.A.N=E,this.g.ya.J=H,this.g.ya.L=L,this.g.ya.K=M,this.g.ya.N=N)}else if(v===this.X.j&&k>this.ga){d-=k;f+=k;e-=l;g+=l;-1===this.g.S&&(d-=k,f+=k,e-=l,g+=l);this.F=g-e+1;this.u=f-d+1;this.A=this.F+(this.u-1)/2|0;this.I=this.u/2|0;R=performance.now();if(U.R&&U.Vm&&this.g.view.i)va.SG(this.A|0,this.u|0,this.F|0,e|
0,d|0,Y|0,this.I|0,t.o.byteOffset|0,V.o.byteOffset|0,t[0].length|0,V[0].length|0);else for(r=0;r<this.A;r+=1)for(A=t[r],I=V[r+e],c=r-1,K=c-1,b=t[c],q=t[K],u=0;u<=this.u;u+=1)A[u]=this.j(c,u-1,b)+this.j(c,u+1,b)-this.j(K,u,q),r<this.F&&I[u+d]===Y&&(A[u]+=1);U.xb&&(R=performance.now()-R,this.g.view.C.h("cumulativeCounts",R,U.R&&U.Vm&&this.g.view.i));R=performance.now();if(U.R&&U.us&&this.g.view.i&&!ja)va.II(V.o.byteOffset|0,V[0].length|0,X.o.byteOffset|0,X[0].length|0,t.o.byteOffset|0,t[0].length|0,
a?this.Z.byteOffset|0:this.$.byteOffset|0,e|0,d|0,k|0,l|0,this.F|0,this.u|0,pa|0,Q|0,Y|0,this.A|0,this.I|0,this.i.byteOffset|0,B|0,w|0,z|0,E|0,H|0,L|0,M|0,N|0,ea|0,ca|0,ia|0),B=this.i[0],w=this.i[1],z=this.i[2],E=this.i[3],H=this.i[4],L=this.i[5],M=this.i[6],N=this.i[7],ea=this.i[8],ca=this.i[9],ia=this.i[10];else for(r=l;r<=this.F-l;r+=1){c=r-1;b=t[c];var D=r+l;var la=t[D];A=D-1;var ba=t[A];G=r-l-1;var sa=t[G];J=G-1;var ta=t[J];x=r+e;I=V[x];q=X[x>>4];O=oa=!1;if(ja)for(u=k;u<=this.u-k;u+=1){K=u+k;
m=u-k;K=this.j(D,u,la)-this.j(c,K+1,b)-this.j(c,m-1,b)+this.j(J,u,ta)+this.j(A,u,ba)-this.j(c,K,b)-this.j(c,m,b)+this.j(G,u,sa);var ka=u+d;m=I[ka];m<=pa?255===p[K]?W.random()>=na[K]?(m=Y,ca+=1):m>Q&&--m:m>Q&&--m:m===Y?0===n[K]?W.random()>=Z[K]||(--m,ia+=1):W.random()>=fa[K]||(--m,ia+=1):m>Q&&--m;I[ka]=m;m>Q&&(q[ka>>8]|=1<<(~(ka>>4)&15),ka<B&&(B=ka),ka>w&&(w=ka),oa=!0,m===Y&&(ea+=1),m>pa&&(O=!0,ka<H&&(H=ka),ka>L&&(L=ka)))}else for(u=k;u<=this.u-k;u+=1)K=u+k,m=u-k,K=this.j(D,u,la)-this.j(c,K+1,b)-this.j(c,
m-1,b)+this.j(J,u,ta)+this.j(A,u,ba)-this.j(c,K,b)-this.j(c,m,b)+this.j(G,u,sa),ka=u+d,m=I[ka],m<=pa?255===p[K]?(m=Y,ca+=1):m>Q&&--m:m===Y?0===n[K]&&(--m,ia+=1):m>Q&&--m,I[ka]=m,m>Q&&(q[ka>>8]|=1<<(~(ka>>4)&15),ka<B&&(B=ka),ka>w&&(w=ka),oa=!0,m===Y&&(ea+=1),m>pa&&(O=!0,ka<H&&(H=ka),ka>L&&(L=ka)));oa&&(x<z&&(z=x),x>E&&(E=x));O&&(x<M&&(M=x),x>N&&(N=x))}U.xb&&(R=performance.now()-R,this.g.view.C.h("nextHROTvN",R,U.R&&U.us&&this.g.view.i));this.g.B=ea;this.g.na=ca;this.g.ga=ia;0<ea&&(this.g.A.J=B,this.g.A.L=
w,this.g.A.K=z,this.g.A.N=E,this.g.ya.J=H,this.g.ya.L=L,this.g.ya.K=M,this.g.ya.N=N)}else switch(v){case this.X.u:this.cw(d,e,f,g,k,l);break;case this.X.A:this.Xv(d,e,f,g,k,l);break;case this.X.D:this.ww(d,e,f,g,k,l);break;case 15:this.yw(d,e,f,g,k,l);break;case 10:this.gw(d,e,f,g,k,l);break;case this.X.S:this.kw(d,e,f,g,k,l);break;case this.X.O:this.aw(d,e,f,g,k,l);break;case this.X.I:this.Vv(d,e,f,g,k,l);break;case this.X.G:this.mw(d,e,f,g,k,l);break;case this.X.V:this.ow(d,e,f,g,k,l);break;case this.X.Y:this.sw(d,
e,f,g,k,l);break;case this.X.P:this.ew(d,e,f,g,k,l);break;case this.X.H:this.uw(d,e,f,g,k,l);break;case this.X.v:this.iw(d,e,f,g,k,l);break;case this.X.j:this.jb(d,e,f,g,k,l);break;default:this.qw(d,e,f,g,k,l)}-1!==this.g.S&&(d<P+k&&(d=P+k),f>S-k&&(f=S-k),e<aa+l&&(e=aa+l),g>ma-l&&(g=ma-l));v===this.X.i||v===this.X.j&&k>this.ga||this.qa(d,e,f,g,a);1===this.g.S&&this.Tq(P,aa,S,ma)};za.prototype.Ea=function(a){var b=!1;this.na&&1===(a&1)&&(b=!0);this.ga=U.R&&this.g.view.i?0:6;2===this.ca?this.Fa(b):
this.Ha(b)};var y={UH:15,Kf:0,kg:1,vf:2,lg:3,Qv:0,Sv:1,Rv:2,zI:3,jp:"St.6",ip:"St.3",Sk:5E4,ki:0,ji:1,oj:2,pj:3,qj:4,tf:5,uf:6,qC:7,rC:8,Er:9,Pv:10,oC:11,uI:12,vI:13,mC:14,nC:15,pC:16,wI:[0,1,2,3,4,5,6],xI:[2,3,5,6],Np:0,Nk:1,Zi:2,zm:27,cC:36,yI:["Rot90CW","Rot90CCW","FlipX","FlipY","Rot180","Flip"+String.fromCharCode(10189),"Flip"+String.fromCharCode(10187),"FlipOrth","Rot90","FlipOrthOrRot90","FlipDiag","FlipDiagOrRot90","FlipXOrRot180","FlipYOrRot180","Flip"+String.fromCharCode(10189)+"OrRot180",
"Flip"+String.fromCharCode(10187)+"OrRot180","FlipOrthOrDiag"],qI:268435456,xA:"Buffer Full",Uq:[[0,0,0],[0,236,91],[0,192,254],[254,0,0],[254,254,254],[75,75,75],[233,41,254],[64,0,128],[254,230,0],[150,128,0],[130,200,0],[0,120,40],[254,140,0],[140,70,0],[0,0,254],[192,192,192],[128,128,128],[254,112,140],[174,0,168],[0,152,127],[0,73,59]],Ko:"off;on;killer on;killer off;eternal on;eternal off;p2 killer on;p2 killer off;egg on;egg off;p2 on;p2 off;p2 egg on;p2 egg off;inverter;catalyst;catalyst killer;on births;off births;on p2 births;off p2 births".split(";"),
Vq:[[0,0,0],[0,255,0],[0,0,160],[255,216,255],[255,0,0],[255,255,0],[96,96,96],[255,105,180],[128,0,128],[0,191,255],[0,64,128],[64,224,208],[0,128,64],[255,255,255],[255,99,71],[250,128,114],[219,112,147],[255,165,0],[245,222,179],[0,255,255],[192,192,192],[192,255,128],[255,182,193],[0,255,127],[1,1,1],[255,0,127]],Lo:"dead;on;off;marked on trail;marked off trail;marked on alt;boundary;marked on no-trail;marked off no-trail;on trail 2;off trail 2;on trail 3;off trail 3;on no-trail 1;off disappearing;on no-trail 2;off vanishing;on no-trail 3;off cycling 1;on no-trail 4;off cycling 2;on no-trail 5;off cycling 3;on no-trail 6;hidden;on no-trail 7".split(";"),
tH:[[1,1,1],[1,0,0],[0,1,0]],uH:[[0,1,0],[1,1,0],[1,0,1]],vH:[[1,1,0],[1,0,1],[1,0,0]],wH:[[0,1,1],[1,1,0],[0,0,1]],pH:[[1,1,1],[0,0,1],[0,1,0]],qH:[[0,1,0],[0,1,1],[1,0,1]],rH:[[0,1,1],[1,0,1],[0,0,1]],sH:[[1,1,0],[0,1,1],[1,0,0]],BH:[[0,1,0],[1,0,0],[1,1,1]],CH:[[1,0,1],[1,1,0],[0,1,0]],DH:[[1,0,0],[1,0,1],[1,1,0]],EH:[[0,0,1],[1,1,0],[0,1,1]],xH:[[0,1,0],[0,0,1],[1,1,1]],yH:[[1,0,1],[0,1,1],[0,1,0]],zH:[[0,0,1],[1,0,1],[0,1,1]],AH:[[1,0,0],[0,1,1],[1,1,0]],Ph:0,Qh:1,Rh:2,Sh:3,Uk:0,gj:1,Vk:2,hj:3,
Sc:4096,og:16,Xy:1.6,Jm:4096,LH:512,jr:262144,Xk:65536,rm:65536,HB:8192,GB:131072,qq:64,vr:524288,Xj:12,xa:64,Me:127,ce:63,Jh:1,Ja:1,Ga:2,La:4,Oa:8,Sa:16,Ka:32,Qa:64,Ra:128};Oa.prototype.set=function(a){var b;this.Wk=a.Wk;this.B=a.B;this.s=a.s;this.u=a.u;this.v.set(a.v);this.i.set(a.i);this.h.set(a.h);this.A.set(a.A);this.m.set(a.m);this.j.set(a.j);this.F.set(a.F);this.m.set(a.m);this.G=a.G;for(b=0;b<a.D.length;b+=1)this.D[b].set(a.D[b])};Oa.prototype.I=function(a,b,c){this.Wk=!0;this.B=a;this.s=
b.h<<16|b.j<<8|b.i;this.u=c.h<<16|c.j<<8|c.i};Oa.prototype.O=function(a,b){-1!==a&&(this.s=a);-1!==b&&(this.u=b)};Oa.prototype.H=function(a,b){var c=!0;a||(this.i.h.m(this.i.i)&&this.h.h.m(this.h.i)&&this.h.h.m(this.v)&&(c=!1),0===b.qa&&0===b.Ee&&(c=!1));return c};T.prototype.set=function(a){this.h=a.h;this.j=a.j;this.i=a.i};T.prototype.m=function(a){var b=!1;this.h===a.h&&this.j===a.j&&this.i===a.i&&(b=!0);return b};xa.prototype.set=function(a){this.h.set(a.h);this.i.set(a.i)};qa.prototype.Ri=function(){var a=
F.Pb,b=this.displayWidth+a+a<<1;a=this.displayHeight+a+a<<1;this.Xc?(null===this.Ld&&(this.Ld=document.createElement("canvas")),this.Ld.width=b,this.Ld.height=a,this.Rg=this.Ld.getContext("2d",{alpha:!1}),this.Sg=this.Rg.getImageData(0,0,this.Ld.width,this.Ld.height),this.Nh=new Uint32Array(this.Sg.data.buffer)):this.Nh=this.Sg=this.Rg=null};qa.prototype.Hk=function(){var a,b,c,d=this.displayWidth,f=20*this.displayHeight,e=-f,g=this.ei;this.mj=new Uint16Array(y.Sk);this.nj=new Float32Array(y.Sk);
this.lj=new Float32Array(y.Sk);this.zl=new Uint32Array(y.Sk);var k=this.mj;var l=this.nj;var p=this.lj;for(a=0;a<y.Sk;a+=1){k[a]=g.random()*d|0;for(b=c=0;10>b;b+=1)c+=g.random()*f;l[a]=-c/10;l[a]>e&&(e=l[a]);p[a]=g.random()/5+.8;if(a<y.Sk-4&&.2>g.random()){b=k[a];c=l[a];var n=p[a];a+=1;k[a]=b;l[a]=c-2;p[a]=n;a+=1;k[a]=b;l[a]=c+2;p[a]=n;1<b&&(a+=1,k[a]=b-2,l[a]=c,p[a]=n);b<d-2&&(a+=1,k[a]=b+2,l[a]=c,p[a]=n)}}for(a=0;a<y.Sk;a+=1)l[a]-=e};qa.prototype.wh=function(){var a=1;this.Z&&(a=F.fk);this.ha&&
(a=F.Vj);return a};qa.prototype.sc=function(a){this.Z&&(a*=F.fk);this.ha&&(a*=F.Vj);return a};qa.prototype.wg=function(){var a,b=0,c=this.displayWidth,d=this.displayHeight,f=this.$a[0],e=this.Oc,g=this.ei,k=this.mj,l=this.nj,p=this.lj,n=this.zl,q=this.view.Df;q=this.fc?-16777216|(q&255)<<16|q&65280|q>>16:q<<8|255;for(a=0;a<y.Sk;a+=1){var m=k[a];var r=l[a];var u=p[a];var t=m;var v=r;if(0<=r&&r<d-1)if((r|0)===(r+u|0))v=r+u,e[(v|0)*c+t]=q;else{if(e[(r+u|0)*c+m]===f)v=r+u;else{var B=g.random();if(.05>
B){var w=1;.025>B&&(w=-1);0<=m+w&&m+w<c&&e[(r+u|0)*c+m+w]===f&&e[(r|0)*c+m+w]===f&&(t=m+w,v=r+u)}}e[(v|0)*c+t]=q}else 0>r&&(v=r+u);v>=d-1&&(n[b]=a,b+=1);k[a]=t;l[a]=v}if(5<b)for(a=0;a<b;a+=1).25>g.random()&&(B=n[a],v=-(g.random()*d),t=g.random()*c|0,k[B]=t,l[B]=v,u=p[B],a<b-4&&.2>g.random()&&(a+=1,B=n[a],k[B]=t,l[B]=v-2,p[B]=u,a+=1,B=n[a],k[B]=t,l[B]=v+2,p[B]=u,1<t&&(a+=1,B=n[a],k[B]=t-2,l[B]=v,p[B]=u),t<c-2&&(a+=1,B=n[a],k[B]=t+2,l[B]=v,p[B]=u)))};qa.prototype.Pl=function(a,b){a=(a&255)/255;return((b>>
16)*a|0)<<16|((b>>8&255)*a|0)<<8|(b&255)*a|0};qa.prototype.Oj=function(a){null===this.Vd&&(this.Vd=document.createElement("canvas"));this.Vd.width=31;this.Vd.height=31*a;null===this.Bf&&(this.Bf=document.createElement("canvas"));this.Bf.width=15;this.Bf.height=15*a;null===this.Cf&&(this.Cf=document.createElement("canvas"));this.Cf.width=7;this.Cf.height=7*a;this.rg=this.Vd.getContext("2d",{willReadFrequently:!0,alpha:!1});this.Oe=this.Bf.getContext("2d",{willReadFrequently:!0,alpha:!1});this.Qf=this.Cf.getContext("2d",
{willReadFrequently:!0,alpha:!1})};qa.prototype.wk=function(a){var b,c,d,f=0,e=null,g=null;var k=this.$a;var l=this.u,p=k[1+l],n=k[2+l],q=k[4+l],m=k[8+l];this.Oj(15);null!==a&&(a.na=[]);for(b=0;3>b;b+=1){switch(b){case 0:e=this.Vd;g=this.rg;f=31;break;case 1:e=this.Bf;g=this.Oe;f=15;break;case 2:e=this.Cf,g=this.Qf,f=7}g.fillStyle=this.Ne[l];g.fillRect(0,0,e.width,e.height);var r=g.getImageData(0,0,e.width,e.height);var u=new Uint32Array(r.data.buffer);var t=0;for(k=1;15>=k;k+=1){if(0!==(k&1)){var v=
1;for(c=f-1;c>=(f+1)/2;--c){for(d=v;d<f-v;d+=1)u[t+c*f+d]=p;v+=1}}if(0!==(k&2))for(v=1,d=0;d<=(f-3)/2;d+=1){for(c=v;c<f-v;c+=1)u[t+c*f+d]=n;v+=1}if(0!==(k&4))for(v=1,c=0;c<=(f-3)/2;c+=1){for(d=v;d<f-v;d+=1)u[t+c*f+d]=q;v+=1}if(0!==(k&8))for(v=1,d=f-1;d>=(f+1)/2;--d){for(c=v;c<f-v;c+=1)u[t+c*f+d]=m;v+=1}t+=f*f}null!==a&&(a.na[a.na.length]={Sq:Da.Vr,width:f,height:15*f,Jw:4,ao:[],av:[],ir:!1});g.putImageData(r,0,0);switch(b){case 0:this.oh=r;break;case 1:this.sg=r;break;case 2:this.ph=r}}null===this.Yb&&
(this.Yb=document.createElement("canvas"),this.Yb.width=this.displayWidth+F.Pb,this.Yb.height=this.displayHeight+F.Pb,this.xf=this.Yb.getContext("2d",{alpha:!1}),this.yh=this.xf.createImageData(this.Yb.width,this.Yb.height));this.Xd=!0};qa.prototype.Tg=function(a,b){var c=a.canvas.width,d=b.canvas.width,f=b.canvas.height/d,e,g=this.fc?4278190080:255,k=this.Jc[0];k=this.fc?(4278190080|(k&255)<<16|k&65280|(k&16711680)>>16)>>>0:(k<<8|255)>>>0;var l=d>c?(d-3)/2:2*d;a.imageSmoothingEnabled=!1;for(e=0;e<
f;e+=1)a.drawImage(b.canvas,0,e*d,d,d,0,e*c,l,l);b=a.getImageData(0,0,a.canvas.width,a.canvas.height);a=new Uint32Array(b.data.buffer);for(e=0;e<a.length;e+=1)if(0===a[e]||a[e]===g)a[e]=k;return b};qa.prototype.En=function(a){var b,c,d,f,e,g,k=0,l=this.Jc[0],p=!1,n=!1,q=!1;this.Nc=a;if(0===a.length||this.ha||this.Z)this.Xd=!1;else{this.Oj(a[0].height/a[0].width);for(c=0;c<a.length;c+=1){var m=a[c].width;var r=a[c].height/m;var u=a[c].av;var t=a[c].ao;var v=a[c].ir;switch(m){case 31:var B=this.rg;
p=!0;break;case 15:B=this.Oe;n=!0;break;case 7:B=this.Qf;q=!0;break;default:console.error("LifeViewer: illegal icon size found");this.Xd=!1;return}var w=B.createImageData(B.canvas.width,B.canvas.height);var z=new Uint32Array(w.data.buffer);for(b=f=d=0;b<r;b+=1)for(v&&(k=this.Jc[b+1]),g=0;g<m;g+=1)for(e=0;e<m;e+=1){var E=u[d];d+=1;E=t[E];v&&(E=0===E?l:this.Pl(E,k));z[f]=-16777216|(E&255)<<16|E&65280|E>>16;f+=1}B.putImageData(w,0,0);switch(m){case 31:this.oh=w;break;case 15:this.sg=w;break;case 7:this.ph=
w}}null===this.Yb&&(this.Yb=document.createElement("canvas"),this.Yb.width=this.displayWidth+F.Pb,this.Yb.height=this.displayHeight+F.Pb,this.xf=this.Yb.getContext("2d",{alpha:!1}),this.yh=this.xf.createImageData(this.Yb.width,this.Yb.height));if(!1===p||!1===n||!1===q)!1===p&&(!1===n&&(this.sg=this.Tg(this.Oe,this.Qf)),this.oh=this.Tg(this.rg,this.Oe)),!1===n&&(this.sg=q?this.Tg(this.Oe,this.Qf):this.Tg(this.Oe,this.rg)),!1===q&&(this.ph=this.Tg(this.Qf,this.Oe));this.Xd=!0}};qa.prototype.Ag=function(a){this.pc=
0;this.Xe=-1;this.ye=[];a?null===this.oe&&(this.oe=this.T.h(ra.be,this.mf,"Life.hashList",!1),this.ej=this.T.h(ra.lc,this.mf,"Life.genList",!1),this.$f=this.T.h(ra.lc,this.mf,"Life.popList",!1),this.wc=this.T.h(ra.lc,2*this.mf,"Life.boxList",!1),this.Ih=Array.matrix(ra.cb,this.height,this.width,y.Np,this.T,"Life.countList",!1),2<this.i||this.D?this.Ye=Array.matrix(ra.cb,this.height,this.width,0,this.T,"Life.initList",!1):this.Ye=null,this.mg=this.jd=-1,this.uj="",this.Pd=null,this.Fe=new Uint16Array(67),
this.Fe[0]=y.Np,this.Fe[1]=y.Zi,this.Fe[2]=y.Zi,this.Fe[64]=y.Zi,this.Fe[65]=y.Nk,this.Fe[66]=y.Zi,this.Wf.J=this.width,this.Wf.L=0,this.Wf.K=this.height,this.Wf.N=0,this.Qi=performance.now()):(this.Ye=this.Ih=this.wc=this.$f=this.ej=this.oe=null,this.mg=this.jd=-1,this.Zf=this.Lg=this.Fe=null)};qa.prototype.zp=function(a,b,c){b="Spaceship ("+(b+","+c)+")c";1<a&&(b+="/"+a);return b};qa.prototype.Nn=function(a,b,c,d,f,e,g){var k=31415962,l,p=0,n=this.h,q=y.xa,m=!1;d+=e;for(l=0;l<b;l+=1)for(e=0;e<a;e+=
1){if(n[d-p][f]>=q&&(k=1000003*k^l,k=1000003*k^e,!m)){if(k!==g)return g+1|0;m=!0}p+=1;p===c&&(p=0,f+=1)}return k|0};qa.prototype.Ln=function(a,b,c,d,f,e,g){var k=31415962,l=this.h,p=y.xa,n=!1;c+=f;d+=e;for(e=0;e<b;e+=1){var q=l[d-e];for(f=0;f<a;f+=1)if(q[c-f]>=p&&(k=1000003*k^e,k=1000003*k^f,!n)){if(k!=g)return g+1|0;n=!0}}return k|0};qa.prototype.Pn=function(a,b,c,d,f,e,g){var k=31415962,l,p=0,n=0,q=this.h,m=y.xa,r=!1;d+=f;for(l=0;l<b;l+=1)for(f=0;f<a;f+=1){if(q[n+e][d-p]>=m&&(k=1000003*k^l,k=1000003*
k^f,!r)){if(k!==g)return g+1|0;r=!0}n+=1;n===c&&(n=0,p+=1)}return k|0};qa.prototype.Hn=function(a,b,c,d,f,e){var g=31415962,k,l=this.h,p=y.xa,n=!1;c+=d;for(k=0;k<b;k+=1){var q=l[k+f];for(d=0;d<a;d+=1)if(q[c-d]>=p&&(g=1000003*g^k,g=1000003*g^d,!n)){if(g!==e)return e+1|0;n=!0}}return g|0};qa.prototype.Jn=function(a,b,c,d,f,e){var g=31415962,k,l=this.h,p=y.xa,n=!1;c+=f;for(k=0;k<b;k+=1){var q=l[c-k];for(f=0;f<a;f+=1)if(q[f+d]>=p&&(g=1000003*g^k,g=1000003*g^f,!n)){if(g!==e)return e+1|0;n=!0}}return g|
0};qa.prototype.Rn=function(a,b,c,d,f,e){var g=31415962,k,l=0,p=this.h,n=y.xa,q=!1;var m=d;for(k=0;k<b;k+=1)for(d=0;d<a;d+=1){if(p[l+f][m]>=n&&(g=1000003*g^k,g=1000003*g^d,!q)){if(g!==e)return e+1|0;q=!0}l+=1;l===c&&(l=0,m+=1)}return g|0};qa.prototype.Tn=function(a,b,c,d,f,e,g,k){var l=31415962,p=0,n=0,q=this.h,m=y.xa,r=!1;d+=e;f+=g;for(g=0;g<b;g+=1)for(e=0;e<a;e+=1){if(q[f-n][d-p]>=m&&(l=1000003*l^g,l=1000003*l^e,!r)){if(l!==k)return k+1|0;r=!0}n+=1;n===c&&(n=0,p+=1)}return l|0};qa.prototype.Xn=
function(a,b,c){var d=0,f=a.J,e=a.K,g=a.L-f+1;a=a.N-e+1;var k=g-1,l=a-1,p=a;if(b===y.ki||b===y.ji||b===y.tf||b===y.uf){var n=g;g=p;p=n}performance.now();switch(b){case y.ki:d=this.Pn(g,p,a,k,f,e,c);break;case y.qj:d=this.Ln(g,p,k,l,f,e,c);break;case y.ji:d=this.Nn(g,p,a,l,f,e,c);break;case y.oj:d=this.Hn(g,p,k,f,e,c);break;case y.pj:d=this.Jn(g,p,l,f,e,c);break;case y.tf:d=this.Rn(g,p,a,f,e,c);break;case y.uf:d=this.Tn(g,p,a,k,l,f,e,c)}performance.now();return d};qa.prototype.Zn=function(a,b){var c=
31415962,d=a.J,f=a.K,e=a.L-d+1;a=a.N-f+1;var g=e-1,k=a-1,l=a,p,n,q=0,m=0,r=0,u=0,t=this.h,v=this.Wa,B=y.xa,w=F.sb[6]+128;(this.s||this.D||this.v||this.G)&&0!==(this.counter&1)&&(t=this.P);if(b===y.ki||b===y.ji||b===y.tf||b===y.uf){var z=e;e=l;l=z}for(n=0;n<l;n+=1)for(p=0;p<e;p+=1){switch(b){case y.ji:q=r;m=k-u;break;case y.qj:q=g-p;m=k-n;break;case y.ki:q=g-r;m=u;break;case y.oj:q=g-p;m=n;break;case y.pj:q=p;m=k-n;break;case y.tf:q=r;m=u;break;case y.uf:q=g-r,m=k-u}if(this.O){if(t[m+f][q+d]>=B||v[m+
f][q+d]===w)c=1000003*c^n,c=1000003*c^p,v[m+f][q+d]===w&&(c=1000003*c^6)}else if(this.v){if(z=t[m+f][q+d],z&1||6===z)c=1000003*c^n,c=1000003*c^p,6===z&&(c=1000003*c^z)}else if(z=t[m+f][q+d],z>this.u){z-=this.u;if(this.s)switch(b){case y.ji:z=z<<1&15|(z&8)>>3;break;case y.qj:z=(z&3)<<2|(z&12)>>2;break;case y.ki:z=z>>1&15|(z&1)<<3;break;case y.oj:z=z&5|(z&2)<<2|(z&8)>>2;break;case y.pj:z=z&10|(z&1)<<2|(z&4)>>2;break;case y.tf:z=(z&8)>>3|(z&4)>>1|(z&2)<<1|(z&1)<<3;break;case y.uf:z=(z&4)<<1|(z&8)>>1|
(z&1)<<1|(z&2)>>1}else this.D||this.G||(z=this.i-z);c=1000003*c^n;c=1000003*c^p;c=1000003*c^z}u+=1;u===a&&(u=0,r+=1)}return c|0};qa.prototype.Vn=function(a,b,c,d){return c?this.Xn(a,b,d):this.Zn(a,b)};qa.prototype.Wl=function(a,b,c,d,f,e,g){var k=0!==d&&0!==f,l=-1;a=this.hk(a,b,d,f,g);if(a&=c)a&1<<y.oj&&(l=y.oj,a&1<<y.pj?(l=y.qC,a&1<<y.ki?a&1<<y.ji&&(l=y.Er):a&1<<y.tf&&a&1<<y.uf&&(l=y.pC)):a&1<<y.qj&&(l=y.uI),l===y.oj&&2!==e&&(l=-1)),-1===l&&a&1<<y.pj&&(l=y.pj,a&1<<y.oj?(l=y.qC,a&1<<y.ki?a&1<<y.ji&&
(l=y.Er):a&1<<y.tf&&a&1<<y.uf&&(l=y.pC)):a&1<<y.qj&&(l=y.vI),l===y.pj&&2!==e&&(l=-1)),-1===l&&a&1<<y.ki&&(l=y.ki,a&1<<y.ji&&(l=y.rC,a&1<<y.oj&&a&1<<y.pj&&(l=y.Er),a&1<<y.tf&&a&1<<y.uf&&(l=y.oC)),l===y.ki&&4!==e&&(l=-1)),-1===l&&a&1<<y.ji&&(l=y.ji,a&1<<y.ki&&(l=y.rC,a&1<<y.oj&&a&1<<y.pj&&(l=y.Er),a&1<<y.tf&&a&1<<y.uf&&(l=y.oC)),l===y.ji&&4!==e&&(l=-1)),-1===l&&a&1<<y.tf&&(l=y.tf,a&1<<y.uf?l=y.Pv:!k&&a&1<<y.qj&&(l=y.mC)),-1===l&&a&1<<y.uf&&(l=y.uf,a&1<<y.tf?l=y.Pv:!k&&a&1<<y.qj&&(l=y.nC)),-1===l&&a&
1<<y.qj&&(l=y.qj,a&1<<y.tf?l=y.mC:a&1<<y.uf&&(l=y.nC),l===y.qj&&2!==e&&(l=-1));k&&(l===y.Pv?(d===f&&(l=y.tf),d===-f&&(l=y.uf)):(a&1<<y.uf&&d===f&&(l=-1),a&1<<y.tf&&d===-f&&(l=-1)));this.ha||this.Z?1!==e&&2!==e&&3!==e&&6!==e&&(l=-1):1!==e&&2!==e&&4!==e&&(l=-1);return l};qa.prototype.hk=function(a,b,c,d,f){var e=2>=this.i&&!(this.D||this.O),g,k=0;var l=0===c&&0===d?y.wI:y.xI;for(g=0;g<l.length;g+=1){var p=l[g];var n=this.Vn(a,p,e,f);if(n===b){n=!0;if(0!==c||0!==d)0!==c||p!==y.pj&&p!==y.tf&&p!==y.uf||
(n=!1),0!==d||p!==y.oj&&p!==y.tf&&p!==y.uf||(n=!1);n&&(k|=1<<p)}}return k};qa.prototype.uh=function(a){var b=0,c=2>=this.i&&!this.D,d=this.h,f=this.h[0].length,e=performance.now();(this.s||this.D||this.v||this.G)&&0!==(this.counter&1)&&(d=this.P);U.R&&U.UD&&this.view.i?b=this.O?va.kH(d.o.byteOffset|0,this.Wa.o.byteOffset|0,a.K|0,a.J|0,a.N|0,a.L|0,f|0,this.xa|0,F.sb[6]+128|0):c?va.nH(d.o.byteOffset|0,a.K|0,a.J|0,a.N|0,a.L|0,f|0,this.xa|0):this.v?va.mH(d.o.byteOffset|0,a.K|0,a.J|0,a.N|0,a.L|0,f|0):
this.D||this.s||this.G?va.lH(d.o.byteOffset|0,a.K|0,a.J|0,a.N|0,a.L|0,f|0,this.u|0):va.jH(d.o.byteOffset|0,a.K|0,a.J|0,a.N|0,a.L|0,f|0,this.u|0,this.i|0):b=this.$m(a);e=performance.now()-e;U.xb&&this.view.C.h("getHash",e,U.R&&U.UD&&this.view.i);return b};qa.prototype.yi=function(a){var b=31415962,c=a.J,d=a.K,f=a.L;a=a.N;var e,g,k=this.h,l=y.xa;for(g=d;g<=a;g+=1){var p=g-d;var n=k[g];for(e=c;e<=f;e+=1)if(n[e]>=l)return b=1000003*b^p,b=1000003*b^e-c,b|0}return b|0};qa.prototype.$m=function(a){var b=
31415962,c=a.J,d=a.K,f=a.L;a=a.N;var e,g,k=2>=this.i&&!this.D,l=this.h,p=this.Wa,n=y.xa,q=F.sb[6]+128;(this.s||this.D||this.v||this.G)&&0!==(this.counter&1)&&(l=this.P);for(g=d;g<=a;g+=1){var m=g-d;var r=l[g];if(this.O){var u=p[g];for(e=c;e<=f;e+=1)if(r[e]>=n||u[e]===q)b=1000003*b^m,b=1000003*b^e-c,u[e]===q&&(b=1000003*b^6)}else if(k)for(e=c;e<=f;e+=1)r[e]>=n&&(b=1000003*b^m,b=1000003*b^e-c);else if(this.v)for(e=c;e<=f;e+=1){if(r[e]&1||6===r[e])b=1000003*b^m,b=1000003*b^e-c,6===r[e]&&(b=1000003*b^
6)}else if(this.D||this.s||this.G)for(e=c;e<=f;e+=1)u=r[e],u>this.u&&(u-=this.u,b=1000003*b^m,b=1000003*b^e-c,b=1000003*b^u);else for(e=c;e<=f;e+=1)u=r[e],u>this.u&&(u-=this.u,u=this.i-u,b=1000003*b^m,b=1000003*b^e-c,b=1000003*b^u)}return b};qa.prototype.xg=function(a,b){for(var c;0!==b;)c=b,b=a%b,a=c;return a};qa.prototype.Fn=function(a,b){var c="Oblique";if(a>b){var d=a;a=b;b=d}d=this.xg(a,b);a/=d;b/=d;switch(10*a+b){case 12:c+=" Knightwise";break;case 13:c+=" Camelwise";break;case 14:c+=" Giraffewise";
break;case 15:c+=" Ibiswise";break;case 16:c+=" Flamingowise";break;case 23:c+=" Zebrawise";break;case 34:c+=" Antelopewise"}return c};qa.prototype.ee=function(a,b){return a===Math.floor(a)?String(a):a.toFixed(b)};qa.prototype.Pj=function(a){var b,c,d=4283453520,f=4286611584,e=0;var g=[];var k=!1;var l=this.view.h.s;var p=this.displayWidth-120*l;var n=this.displayHeight-90*l;var q=0,m=0,r=this.tc;this.fc||(d=1347440895,f=2155905279);this.ha&&(r+=Math.ceil(this.Ta/2));l=this.Pe=8;p/=(r+2)*l;n/=(this.Ta+
2)*l;1<=(p>n?n:p)?(k=!0,e=1):l=this.Pe=1;var u=0;for(p=2;p<this.bb.length-1;p+=1)0<this.bb[p]&&(u+=1);this.gk=u;n=0;for(p=2;p<this.bb.length-1;p+=1)if(0<this.bb[p]){var t=Math.floor(n/u*360);g[p]="hsl("+t+",100%,"+(70-12*(n&3))+"%)";n+=1}g[0]="black";g[1]="rgb(168,168,168)";g[this.bb.length-1]="rgb(238,238,238)";this.Kb?(g[-1]="rgb(96,96,96)",p=-1):p=0;for(;p<this.bb.length;){if(-1===p||0===p||0<this.bb[p])this.Rf.fillStyle=g[p],t=this.Rf.fillStyle,n=parseInt(t.substring(1,3),16),u=parseInt(t.substring(3,
5),16),t=parseInt(t.substring(5,7),16),this.Rc[p]=this.fc?-16777216|t<<16|u<<8|n:n<<24|u<<16|t<<8|255;p+=1}g=l*(r+2)+e;this.ha&&0===(this.Ta&1)&&(g+=l/2);g|=0;var v=l*(this.Ta+2)+e;this.Hc.width=g;this.Hc.height=v;this.Rf.fillStyle="rgba(0,0,0,0)";this.Rf.fillRect(0,0,this.Hc.width,this.Hc.height);e=this.Rf.getImageData(0,0,this.Hc.width,this.Hc.height);u=new Uint32Array(e.data.buffer);this.ha&&(m=-l/2,q=(this.Ta>>1)*l-m,0===(this.Ta&1)&&(q+=m));for(n=0;n<this.Ta;n+=1){for(p=0;p<this.tc;p+=1)for(t=
this.Pd[n*this.tc+p],t=this.Rc[t],c=0;c<l;c+=1){var B=((n+1)*l+c)*g+(p+1)*l+q;for(b=0;b<l;b+=1)u[B+b|0]=t}q+=m}t=-1!==this.S?f:4278190080;this.ha&&(m=-l/2,q=(this.Ta>>1)*l-m,0===(this.Ta&1)&&(q+=m));q-=m;for(c=0;c<l;c+=1){B=c*g+q;for(p=0;p<(this.tc+2)*l;p+=1)u[B+p]=t;B+=(this.Ta+1)*l*g-q;for(p=0;p<(this.tc+2)*l;p+=1)u[B+p]=t}q+=m;for(n=0;n<this.Ta;n+=1){for(c=0;c<l;c+=1)for(B=((n+1)*l+c)*g+q,p=B+l*(this.tc+1),b=0;b<l;b+=1)u[B+b]=t,u[p+b]=t;q+=m}if(k){this.ha&&(q=(this.Ta>>1)*l-m+l,0===(this.Ta&1)&&
(q+=m));for(n=-1;n<=this.Ta+1;n+=1){q+=m;B=(n+1)*l*g;for(p=q;p<(this.tc+2)*l+1+q;p+=1)0<=p&&(u[B+p]=d);if(this.ha)for(b=0;b<-m;b+=1)p+b<g&&(u[B+p+b]=d)}p=-1;k=this.tc+1;this.ha&&(q=(this.Ta>>1)*l-m,p+=1,k+=1,0===(this.Ta&1)&&(q+=m));for(;p<=k;p+=1)for(f=0,t=q,n=0;n<(this.Ta+2)*l;n+=1)0===f%l&&(t+=m),f+=1,v=(p+1)*l+t,0<=v&&v<this.Hc.width&&(u[n*g+v]=d)}else{this.ha&&(q=v>>1,m=-.5);k=0;0!==(this.Ta&1)&&(k+=m);B=g*(v-1);for(p=0;p<g-q;p+=1)u[p+q]=d,u[p+B]=d;for(n=0;n<v;n+=1)u[n*g+(q|0)]=d,u[n*g+g-1+(k|
0)]=d,q+=m,k+=m}for(p=this.Kb?-1:0;p<this.bb.length;){if(-1===p||0<this.bb[p])t=this.Rc[p],this.fc?(n=t&255,u=t>>8&255,t=t>>16&255):(n=t>>24,u=t>>16&255,t=t>>8&255),this.Rc[p]=n<<16|u<<8|t;p+=1}this.Rf.putImageData(e,0,0);this.ug=r;a.Lz()};qa.prototype.Nj=function(a,b){var c,d,f=4283453520,e=4286611584,g=0;var k=[];var l=!1;var p=this.view.h.s;var n=this.displayWidth-120*p;var q=this.displayHeight-90*p;var m=0,r=0;var u={};var t=new Uint32Array(a);var v=[];var B=this.tc;this.fc||(f=1347440895,e=2155905279);
this.ha&&(B+=Math.ceil(this.Ta/2));p=this.Pe=8;n/=(B+2)*p;q/=(this.Ta+2)*p;1<=(n>q?q:n)?(l=!0,g=1):p=this.Pe=1;t.sort();n=t[0];if(1<t.length)for(Ha=1;Ha<t.length;Ha+=1)q=t[Ha],n!==q&&(v[v.length]=n,n=q);else q=n;v[v.length]=q;t=v.length;this.Mf=new Uint32Array(v);n=0;0===v[n]&&(k[n]="#000000",n+=1);q=v.length-1;v[q]===b&&(k[q]="rgb(168, 168, 168)",--q);for(Ha=n;Ha<=q;Ha+=1)b=Math.floor((Ha-n)/(q-n+1)*360),k[Ha]="hsl("+b+",100%,"+(70-12*(Ha-n&3))+"%)";this.Kb?(k[-1]="rgb(96,96,96)",n=-1):n=0;for(;n<
t;){this.Pf.fillStyle=k[n];b=this.Pf.fillStyle;q=parseInt(b.substring(1,3),16);var w=parseInt(b.substring(3,5),16);b=parseInt(b.substring(5,7),16);this.fd[n]=this.fc?-16777216|b<<16|w<<8|q:q<<24|w<<16|b<<8|255;n+=1}for(Ha=0;Ha<v.length;Ha+=1)u[v[Ha]]=Ha;this.df=new Uint32Array(v.length);for(Ha=0;Ha<a.length;Ha+=1)this.df[u[a[Ha]]]+=1;for(Ha=n=0;Ha<this.df.length;Ha+=1)n+=this.df[Ha];this.li=n;k=p*(B+2)+g;this.ha&&0===(this.Ta&1)&&(k+=p/2);k|=0;w=p*(this.Ta+2)+g;this.Qc.width=k;this.Qc.height=w;this.Pf.fillStyle=
"rgba(0,0,0,0)";this.Pf.fillRect(0,0,this.Qc.width,this.Qc.height);g=this.Pf.getImageData(0,0,this.Qc.width,this.Qc.height);v=new Uint32Array(g.data.buffer);this.ha&&(r=-p/2,m=(this.Ta>>1)*p-r,0===(this.Ta&1)&&(m+=r));for(q=0;q<this.Ta;q+=1){for(n=0;n<this.tc;n+=1)for(this.Kb&&-1===this.Pd[q*this.tc+n]?b=this.fd[-1]:(b=a[q*this.tc+n],b=this.fd[u[b]]),d=0;d<p;d+=1){var z=((q+1)*p+d)*k+(n+1)*p+m;for(c=0;c<p;c+=1)v[z+c|0]=b}m+=r}b=-1!==this.S?e:4278190080;this.ha&&(r=-p/2,m=(this.Ta>>1)*p-r,0===(this.Ta&
1)&&(m+=r));m-=r;for(d=0;d<p;d+=1){z=d*k+m;for(n=0;n<(this.tc+2)*p;n+=1)v[z+n]=b;z+=(this.Ta+1)*p*k-m;for(n=0;n<(this.tc+2)*p;n+=1)v[z+n]=b}m+=r;for(q=0;q<this.Ta;q+=1){for(d=0;d<p;d+=1)for(z=((q+1)*p+d)*k+m,n=z+p*(this.tc+1),c=0;c<p;c+=1)v[z+c]=b,v[n+c]=b;m+=r}if(l){this.ha&&(m=(this.Ta>>1)*p-r+p,0===(this.Ta&1)&&(m+=r));for(q=-1;q<=this.Ta+1;q+=1){m+=r;z=(q+1)*p*k;for(n=m;n<(this.tc+2)*p+1+m;n+=1)0<=n&&(v[z+n]=f);if(this.ha)for(c=0;c<-r;c+=1)n+c<k&&(v[z+n+c]=f)}n=-1;l=this.tc+1;this.ha&&(m=(this.Ta>>
1)*p-r,n+=1,l+=1,0===(this.Ta&1)&&(m+=r));for(;n<=l;n+=1)for(a=0,e=m,q=0;q<(this.Ta+2)*p;q+=1)0===a%p&&(e+=r),a+=1,u=(n+1)*p+e,0<=u&&u<this.Hc.width&&(v[q*k+u]=f)}else{this.ha&&(m=w>>1,r=-.5);l=0;0!==(this.Ta&1)&&(l+=r);z=k*(w-1);for(n=0;n<k-m;n+=1)v[n+m]=f,v[n+z]=f;for(q=0;q<w;q+=1)v[q*k+(m|0)]=f,v[q*k+k-1+(l|0)]=f,m+=r,l+=r}for(n=this.Kb?-1:0;n<t;)b=this.fd[n],this.fc?(q=b&255,w=b>>8&255,b=b>>16&255):(q=b>>24,w=b>>16&255,b=b>>8&255),this.fd[n]=q<<16|w<<8|b,n+=1;this.Pf.putImageData(g,0,0);this.ug=
B;this.mi=t};qa.prototype.Uc=function(a,b,c,d,f){var e=this.oa;var g=e.measureText(a).width;e.fillText(a,c+b-g+f,d+f);return c+b};qa.prototype.Um=function(a){var b=this.view.h.s,c=24*b,d=a.B+a.height,f=0;if(this.bb){for(a=this.bb.length-1;0<a;--a){var e=this.bb[a];0<e&&(f+=1)}this.Bc=d+(c>>1)+(f+1)*c>this.displayHeight-160*b?f-1:0}this.Na=0};qa.prototype.Nm=function(a){var b=this.view.h.s,c=24*b;a=a.B+a.height;if(this.Mf){var d=this.Mf.length;this.Bc=a+(c>>1)+(d+1)*c>this.displayHeight-160*b?d-1:
0}this.Na=0};qa.prototype.Rl=function(){0!==this.Bc&&(this.Na=0)};qa.prototype.Ql=function(){0!==this.Bc&&(this.Na=this.Bc-this.Ec)};qa.prototype.Tl=function(){0<this.Na&&(this.Na-=this.Ec,0>this.Na&&(this.Na=0))};qa.prototype.Sl=function(){this.Na<this.Bc-this.Ec&&(this.Na+=this.Ec,this.Na>this.Bc-this.Ec&&(this.Na=this.Bc-this.Ec))};qa.prototype.nn=function(a){var b=0,c=2,d=this.view.h.s;var f=a.y+a.height;var e=a.width;var g=a.s;var k=a.cc;var l=a.cd;a=24*d;var p=16*d,n=(e>>2)-1,q=this.displayWidth-
e>>1,m=this.oa;m.fillStyle=k;m.globalAlpha=g;var r=a;for(g=this.bb.length-1;0<g;--g){var u=this.bb[g];0<u&&r+f<this.displayHeight-80*d&&(r+=a)}m.fillRect(q,f,e,r);m.font=(20*d|0)+"px Arial";m.globalAlpha=1;m.fillStyle=k;r=f+(a>>1);for(e=0;2>e;e+=1){k=q;k=this.Uc("Period",n,k,r,c);k=this.Uc("Count",n,k,r,c);k=this.Uc("% Total",n,k,r,c);this.Uc("% Rotor",n,k,r,c);r+=a;b=0;for(g=this.bb.length-1;0<g;--g)u=this.bb[g],0<u&&r<this.displayHeight-80*d&&(b>=(this.Na|0)&&(k=q,k=this.Uc(String(g),n,k,r,c),k=
this.Uc(String(u),n,k,r,c),k=this.Uc((Math.floor(1E4*u/this.Og)/100).toFixed(2)+"%",n,k,r,c),1<g&&this.Uc((Math.floor(1E4*u/this.vi)/100).toFixed(2)+"%",n,k,r,c),r+=a),b+=1);r=f+(a>>1);c=0;m.fillStyle=l}f=b;b=0;c=28*d>>1;for(g=this.bb.length-1;0<g;--g)u=this.bb[g],0<u&&b<f&&(b>=(this.Na|0)&&(m.fillStyle=this.view.C.cc,m.fillRect(q+(p>>1)+2,r+c+2,p,p),m.fillStyle="#"+("000000"+this.Rc[g].toString(16)).slice(-6),m.fillRect(q+(p>>1),r+c,p,p),r+=a),b+=1);0===this.Na&&(this.Ec=f-1)};qa.prototype.jn=function(a){var b=
0,c=2,d=this.view.h.s;var f=a.y+a.height;var e=a.width;var g=a.s;var k=a.cc;var l=a.cd;a=24*d;var p=16*d,n=this.mi,q=(e>>2)-1,m=this.displayWidth-e>>1,r=this.oa;r.fillStyle=k;r.globalAlpha=g;var u=a;for(g=n-1;0<=g;--g)u+f<this.displayHeight-80*d&&(u+=a);r.fillRect(m,f,e,u);r.font=(20*d|0)+"px Arial";r.globalAlpha=1;r.fillStyle=k;u=f+(a>>1);for(e=0;2>e;e+=1){var t=m;t=this.Uc("Frequency",q,t,u,c);t=this.Uc("Count",q,t,u,c);this.Uc("% Total",q,t,u,c);u+=a;b=0;for(g=n-1;0<=g;--g)k=this.Mf[g],u<this.displayHeight-
80*d&&(b>=(this.Na|0)&&(t=m,t=this.Uc(String(k),q,t,u,c),t=this.Uc(String(this.df[g]),q,t,u,c),this.Uc(String((100*this.df[g]/this.li).toFixed(2))+"%",q,t,u,c),u+=a),b+=1);u=f+(a>>1);c=0;r.fillStyle=l}f=b;b=0;c=28*d>>1;for(g=n-1;0<=g;--g)b<f&&(b>=(this.Na|0)&&(r.fillStyle=this.view.C.cc,r.fillRect(m+(p>>1)+2,u+c+2,p,p),r.fillStyle="#"+("000000"+this.fd[g].toString(16)).slice(-6),r.fillRect(m+(p>>1),u+c,p,p),u+=a),b+=1);0===this.Na&&(this.Ec=f-1)};qa.prototype.ln=function(a){var b=this.view.h.s,c=
50*b,d=15*b,f=16*b,e=.7*d|0;var g=this.displayHeight-90*b;var k=this.gk;var l=this.Pe;var p=1,n=a.s,q=a.cd;a=a.cc;var m=this.oa,r=80*b;var u=this.wh();var t=(this.displayWidth-b*(c+c+20))/((this.ug+2)*l);l=g/((this.Ta+2)*l);t=t>l?l:t;1<=t&&(t|=0);l=this.Hc.height*t;m.save();m.translate(this.displayWidth>>1,this.displayHeight>>1);1<u&&l*u>g-160?m.scale(t/u,t):m.scale(t,t*u);m.imageSmoothingEnabled=1>t||1>=t*u||1>t/u?!0:!1;m.drawImage(this.Hc,-(this.Hc.width>>1),-(this.Hc.height>>1));m.imageSmoothingEnabled=
!1;m.restore();u=55*b;m.font=(11*b|0)+"px Arial";0===this.bb[this.bb.length-1]&&--k;0===this.bb[1]&&--k;this.Kb&&(k+=1);l=0;for(t=this.bb.length-1;0<t;--t)g=this.bb[t],0<g&&t>l&&(l=t);var v=m.measureText(String(l)+" ").width;this.Kb&&(l=this.G?m.measureText(y.ip+" ").width:m.measureText(y.jp+" ").width,l>v&&(v=l));l=0;for(t=this.bb.length-1;0<t;--t)g=this.bb[t],0<g&&(r+l*d+2+b>this.displayHeight-2*r&&(l=0,p+=1),l+=1);var B=1<p?r:this.displayHeight-(r+(l-1)*d+2+b)>>1;m.globalAlpha=n;m.fillStyle=a;
1<p?m.fillRect(u-c-2,B-2,e+v+8*b,this.displayHeight-2*r+d/2):m.fillRect(u-c-2,B-2,e+v+8*b,(k+2)*d+3*b);m.globalAlpha=1;k=l=0;this.Kb&&k>=(this.Na|0)&&(m.fillStyle=this.view.C.cc,m.fillRect(u-c+2,B+l+2,e,e),m.fillStyle="#"+("000000"+this.Rc[-1].toString(16)).slice(-6),m.fillRect(u-c,B+l,e,e),this.G?(m.fillStyle=a,m.fillText(y.ip,u-c+f+2,B+l+2+7*b),m.fillStyle=q,m.fillText(y.ip,u-c+f,B+l+7*b)):(m.fillStyle=a,m.fillText(y.jp,u-c+f+2,B+l+2+7*b),m.fillStyle=q,m.fillText(y.jp,u-c+f,B+l+7*b)),l+=d,k+=1);
for(t=this.bb.length-1;0<t;--t)g=this.bb[t],0<g&&l<this.displayHeight-2*r*b&&(k>=(this.Na|0)&&(m.fillStyle=this.view.C.cc,m.fillRect(u-c+2,B+l+2+b,e,e),m.fillStyle="#"+("000000"+this.Rc[t].toString(16)).slice(-6),m.fillRect(u-c,B+l+b,e,e),m.fillStyle=a,m.fillText(String(t),u-c+f+2,B+l+2+7*b),m.fillStyle=q,m.fillText(String(t),u-c+f,B+l+7*b),l+=d),k+=1);0===this.Na&&(this.Ec=k-1)};qa.prototype.Ll=function(a){var b=this.view.h.s,c=50*b,d=15*b,f=16*b,e=.7*d|0,g=this.displayHeight-90*b;var k=this.Pe;
var l=1;var p=a.s,n=a.cd;a=a.cc;var q=this.oa,m=80*b,r=this.Mf;var u=this.wh();var t=(this.displayWidth-b*(c+c+20))/((this.ug+2)*k);k=g/((this.Ta+2)*k);t=t>k?k:t;1<=t&&(t|=0);k=this.Qc.height*t;q.save();q.translate(this.displayWidth>>1,this.displayHeight>>1);1<u&&k*u>g-160?q.scale(t/u,t):q.scale(t,t*u);q.imageSmoothingEnabled=1>t||1>=t*u||1>t/u?!0:!1;q.drawImage(this.Qc,-(this.Qc.width>>1),-(this.Qc.height>>1));q.imageSmoothingEnabled=!1;q.restore();g=55*b;q.font=(11*b|0)+"px Arial";var v=q.measureText(String(r[r.length-
1])+" ").width;this.Kb&&(k=this.G?q.measureText(y.ip+" ").width:q.measureText(y.jp+" ").width,k>v&&(v=k));var B=r.length;this.Kb&&(B+=1);k=0;for(t=B-1;0<=t;--t)m+k*d+2+b>this.displayHeight-2*m&&(k=0,l+=1),k+=1;u=1<l?m:this.displayHeight-(m+(k-1)*d+2+b)>>1;q.globalAlpha=p;q.fillStyle=a;1<l?q.fillRect(g-c-2,u-2,e+v+8*b,this.displayHeight-2*m+d/2):q.fillRect(g-c-2,u-2,e+v+8*b,B*d+3*b);q.globalAlpha=1;l=k=0;this.Kb&&(q.fillStyle=this.view.C.cc,q.fillRect(g-c+2,u+k+2,e,e),q.fillStyle="#"+("000000"+this.Rc[-1].toString(16)).slice(-6),
q.fillRect(g-c,u+k,e,e),this.G?(q.fillStyle=a,q.fillText(y.ip,g-c+f+2,u+k+2+7*b),q.fillStyle=n,q.fillText(y.ip,g-c+f,u+k+7*b)):(q.fillStyle=a,q.fillText(y.jp,g-c+f+2,u+k+2+7*b),q.fillStyle=n,q.fillText(y.jp,g-c+f,u+k+7*b)),k+=d,l+=1,--B);for(t=B-1;0<=t;--t)k<this.displayHeight-2*m*b&&(l>=(this.Na|0)&&(q.fillStyle=this.view.C.cc,q.fillRect(g-c+2,u+k+2+b,e,e),q.fillStyle="#"+("000000"+this.fd[t].toString(16)).slice(-6),q.fillRect(g-c,u+k+b,e,e),q.fillStyle=a,q.fillText(String(r[t]),g-c+f+2,u+k+2+7*
b),q.fillStyle=n,q.fillText(String(r[t]),g-c+f,u+k+7*b),k+=d),l+=1);0===this.Na&&(this.Ec=l-1)};qa.prototype.Gp=function(a,b){var c,d=this.h,f=this.Ih,e,g,k,l,p=y.xa,n=this.Fe;var q=this.I;var m=this.F>>4;var r=0;var u=q,t=y.Nk;0>r&&(r=0);u>q&&(u=q);q=r<<4;var v=q+16;for(e=r;e<u;e+=1){var B=0;var w=b[e];for(g=0;g<m;g+=1)if(l=w[g])for(k=15;0<=k;--k){if(0!==(l&1<<k))for(r=q;r<v;){var z=d[r];var E=f[r];if(0===a)for(c=B;c<B+16;)z[c]>=p&&(E[c]=t),c+=1,z[c]>=p&&(E[c]=t),c+=1,z[c]>=p&&(E[c]=t),c+=1,z[c]>=
p&&(E[c]=t),c+=1;else c=B,E[c]=n[(z[c]&64)+E[c]],c+=1,E[c]=n[(z[c]&64)+E[c]],c+=1,E[c]=n[(z[c]&64)+E[c]],c+=1,E[c]=n[(z[c]&64)+E[c]],c+=1,E[c]=n[(z[c]&64)+E[c]],c+=1,E[c]=n[(z[c]&64)+E[c]],c+=1,E[c]=n[(z[c]&64)+E[c]],c+=1,E[c]=n[(z[c]&64)+E[c]],c+=1,E[c]=n[(z[c]&64)+E[c]],c+=1,E[c]=n[(z[c]&64)+E[c]],c+=1,E[c]=n[(z[c]&64)+E[c]],c+=1,E[c]=n[(z[c]&64)+E[c]],c+=1,E[c]=n[(z[c]&64)+E[c]],c+=1,E[c]=n[(z[c]&64)+E[c]],c+=1,E[c]=n[(z[c]&64)+E[c]],c+=1,E[c]=n[(z[c]&64)+E[c]];r+=1}B+=16}else B+=256;q+=16;v+=
16}};qa.prototype.Fp=function(a,b){var c=a.J,d=a.K,f=a.L;a=a.N;var e,g=this.h,k=this.Ih,l=this.Ye,p=y.xa,n=2>=this.i&&!this.D,q=y.Nk,m=y.Np,r=y.Zi;(this.s||this.D||this.v||this.G)&&0!==(this.counter&1)&&(g=this.P);for(e=d;e<=a;e+=1){var u=g[e];var t=k[e];if(n)if(0===b)for(d=c;d<=f;d+=1)u[d]>=p&&(t[d]=q);else for(d=c;d<=f;d+=1)u[d]>=p?t[d]===m&&(t[d]=r):t[d]===q&&(t[d]=r);else if(this.s)if(0===b)for(d=c;d<=f;d+=1){var v=u[d];v=v>this.u?v-this.u:0;var B=0;0!==(v&1)&&(B=q);var w=0;0!==(v&2)&&(w=q);var z=
0;0!==(v&4)&&(z=q);var E=0;0!==(v&8)&&(E=q);t[d]=B|w<<2|z<<4|E<<6}else for(d=c;d<=f;d+=1)E=t[d],v=u[d],v=v>this.u?v-this.u:0,B=E&3,0!==(v&1)?B===m&&(B=r):B===q&&(B=r),w=E>>2&3,0!==(v&2)?w===m&&(w=r):w===q&&(w=r),z=E>>4&3,0!==(v&4)?z===m&&(z=r):z===q&&(z=r),E=E>>6&3,0!==(v&8)?E===m&&(E=r):E===q&&(E=r),t[d]=B|w<<2|z<<4|E<<6;else if(this.v)for(v=l[e],d=c;d<=f;d+=1)0===b?(v[d]=u[d]&1,u[d]&1&&(t[d]=q)):u[d]&1?t[d]===m?t[d]=r:(u[d]&1)!==v[d]&&(t[d]=r):t[d]===q&&(t[d]=r);else if(this.G)for(v=l[e],d=c;d<=
f;d+=1)B=0<u[c],0===b?B?(v[d]=1,t[d]=q):v[d]=0:B?t[d]===m?t[d]=r:0===v[d]&&(t[d]=r):t[d]===q&&(t[d]=r);else for(v=l[e],d=c;d<=f;d+=1)0===b?(v[d]=u[d],u[d]>this.u&&(t[d]=q)):u[d]>this.u?t[d]===m?t[d]=r:u[d]!==v[d]&&(t[d]=r):t[d]===q&&(t[d]=r)}};qa.prototype.Ep=function(a,b){var c=this.Zf.o,d=this.m.o,f=this.Lg.o;if(-1===this.i||this.Da&&2===this.i){for(a=0;a<c.length;a+=1)c[a]=d[a]|f[a];this.Gp(b,this.Zf);f.set(d.subarray(0))}else this.Fp(a,b)};qa.prototype.$y=function(a,b,c){var d=performance.now();
if(U.R&&U.YD&&this.view.i&&!this.G){if(this.v||this.G||this.D)b=this.h,0!==(this.counter&1)&&(b=this.P);this.v||this.D?va.wK(b.o.byteOffset|0,c.byteOffset|0,a.K|0,a.J|0,a.N|0,a.L|0,b[0].length|0):va.$y(b.o.byteOffset|0,c.byteOffset|0,a.K|0,a.J|0,a.N|0,a.L|0,b[0].length|0,this.xa|0)}else this.Cp(a,b,c);U.xb&&(d=performance.now()-d,this.view.C.h("updateCounts",d,U.R&&U.YD&&this.view.i))};qa.prototype.Cp=function(a,b,c){var d,f,e=0,g,k=y.xa;if(this.v||this.G||this.D)b=this.h,0!==(this.counter&1)&&(b=
this.P);for(f=a.K;f<=a.N;f+=1){var l=b[f];if(this.v||this.D)for(d=a.J;d<=a.L;d+=1)l[d]&1&&(c[e]+=1),e+=1;else if(this.G)for(d=a.J;d<=a.L;d+=1){if(g=l[d])switch(g){case 3:--this.B;break;case 6:this.na+=1;c[e]+=1;break;case 7:--this.B;this.ga+=1;break;case 10:this.na+=1;c[e]+=1;break;case 11:--this.B;this.ga+=1;break;case 12:this.na+=1;c[e]+=1;break;case 13:--this.B;this.ga+=1;break;case 19:this.na+=1;c[e]+=1;break;case 20:--this.B;this.ga+=1;break;default:c[e]+=1}e+=1}else for(d=a.J;d<=a.L;d+=1)l[d]>=
k&&(c[e]+=1),e+=1}};qa.prototype.az=function(a,b,c,d,f,e,g){var k=performance.now();if(this.v||this.G||this.D)b=this.h,0!==(this.counter&1)&&(b=this.P);U.R&&U.$D&&this.view.i&&!this.G?this.v||this.D?va.zK(b.o.byteOffset|0,c.byteOffset|0,a.K|0,a.J|0,a.N|0,a.L|0,d|0,f|0,e|0,g|0,b[0].length|0):va.az(b.o.byteOffset|0,c.byteOffset|0,a.K|0,a.J|0,a.N|0,a.L|0,d|0,f|0,e|0,g|0,this.xa|0,b[0].length|0):this.Hp(a,b,c,d,f,e,g);U.xb&&(k=performance.now()-k,this.view.C.h("updateOccupancy",k,U.R&&U.$D&&this.view.i))};
qa.prototype.Hp=function(a,b,c,d,f,e,g){var k,l=y.xa;if(this.v||this.G||this.D)b=this.h,0!==(this.counter&1)&&(b=this.P);var p=d*e;for(e=a.K;e<=a.N;e+=1){var n=b[e];var q=(e-a.K)*f+p;var m=g;if(this.v||this.D){d=a.J;for(k=0;d<=a.L-16;)n[d]&1&&(k|=m),m>>=1,d+=1,n[d]&1&&(k|=m),m>>=1,d+=1,n[d]&1&&(k|=m),m>>=1,d+=1,n[d]&1&&(k|=m),m>>=1,d+=1,n[d]&1&&(k|=m),m>>=1,d+=1,n[d]&1&&(k|=m),m>>=1,d+=1,n[d]&1&&(k|=m),m>>=1,d+=1,n[d]&1&&(k|=m),m>>=1,d+=1,n[d]&1&&(k|=m),m>>=1,d+=1,n[d]&1&&(k|=m),m>>=1,d+=1,n[d]&1&&
(k|=m),m>>=1,d+=1,n[d]&1&&(k|=m),m>>=1,d+=1,n[d]&1&&(k|=m),m>>=1,d+=1,n[d]&1&&(k|=m),m>>=1,d+=1,n[d]&1&&(k|=m),m>>=1,d+=1,n[d]&1&&(k|=m),d+=1,0!==k&&(c[q]=k,k=0),m=g,q+=1;for(;d<=a.L;)n[d]&1&&(k|=m),m>>=1,d+=1}else if(this.G){d=a.J;for(k=0;d<=a.L-16;)n[d]&&(k|=m),m>>=1,d+=1,n[d]&&(k|=m),m>>=1,d+=1,n[d]&&(k|=m),m>>=1,d+=1,n[d]&&(k|=m),m>>=1,d+=1,n[d]&&(k|=m),m>>=1,d+=1,n[d]&&(k|=m),m>>=1,d+=1,n[d]&&(k|=m),m>>=1,d+=1,n[d]&&(k|=m),m>>=1,d+=1,n[d]&&(k|=m),m>>=1,d+=1,n[d]&&(k|=m),m>>=1,d+=1,n[d]&&(k|=
m),m>>=1,d+=1,n[d]&&(k|=m),m>>=1,d+=1,n[d]&&(k|=m),m>>=1,d+=1,n[d]&&(k|=m),m>>=1,d+=1,n[d]&&(k|=m),m>>=1,d+=1,n[d]&&(k|=m),d+=1,0!==k&&(c[q]=k,k=0),m=g,q+=1;for(;d<=a.L;)n[d]&&(k|=m),m>>=1,d+=1}else{d=a.J;for(k=0;d<=a.L-16;)n[d]>=l&&(k|=m),m>>=1,d+=1,n[d]>=l&&(k|=m),m>>=1,d+=1,n[d]>=l&&(k|=m),m>>=1,d+=1,n[d]>=l&&(k|=m),m>>=1,d+=1,n[d]>=l&&(k|=m),m>>=1,d+=1,n[d]>=l&&(k|=m),m>>=1,d+=1,n[d]>=l&&(k|=m),m>>=1,d+=1,n[d]>=l&&(k|=m),m>>=1,d+=1,n[d]>=l&&(k|=m),m>>=1,d+=1,n[d]>=l&&(k|=m),m>>=1,d+=1,n[d]>=l&&
(k|=m),m>>=1,d+=1,n[d]>=l&&(k|=m),m>>=1,d+=1,n[d]>=l&&(k|=m),m>>=1,d+=1,n[d]>=l&&(k|=m),m>>=1,d+=1,n[d]>=l&&(k|=m),m>>=1,d+=1,n[d]>=l&&(k|=m),d+=1,0!==k&&(c[q]=k,k=0),m=g,q+=1;for(;d<=a.L;)n[d]>=l&&(k|=m),m>>=1,d+=1}0!==k&&(c[q]=k)}};qa.prototype.lm=function(a,b,c,d,f,e,g,k,l){var p,n,q,m;for(p=1;p<=b/2;p+=1)if(0===b%p){var r=b-p;var u=r*g;var t=p*g;var v=b/p;for(q=0;q<e;q+=1){var B=q*f;r=q*k;var w=l;for(n=0;n<f;n+=1){var z=B+n;if(a[z]===b&&!(d[z]%v)){var E=(n>>4)+r;for(m=E+u;E<m&&!((c[E]^c[E+t])&
w);)E+=g;E===m&&(a[z]=p)}w=(w>>1|w<<15)&65535}}}};qa.prototype.Kl=function(a,b,c){var d=a.J,f=a.K,e=a.L;a=a.N;var g,k,l=F.sb[6]+128;this.Kb=0;for(k=f;k<=a;k+=1){var p=c[k];var n=(k-f)*(e-d+1);for(g=d;g<=e;g+=1)p[g]===l&&(b[n+g-d]=-1,this.Kb+=1)}};qa.prototype.Nl=function(a,b,c){var d=a.J,f=a.K,e=a.L;a=a.N;var g,k;this.Kb=0;for(k=f;k<=a;k+=1){var l=c[k];var p=(k-f)*(e-d+1);for(g=d;g<=e;g+=1)6===l[g]&&(b[p+g-d]=-1,this.Kb+=1)}};qa.prototype.Il=function(a,b,c){var d=a.J,f=a.K,e=a.L;a=a.N;var g,k;this.Kb=
0;for(k=f;k<=a;k+=1){var l=c[k];var p=(k-f)*(e-d+1);for(g=d;g<=e;g+=1)3===l[g]&&(b[p+g-d]=-1,this.Kb+=1)}};qa.prototype.tk=function(){var a=this.Da?this.ya:this.A,b=this.sj,c=this.Pi,d=this.ja?-1:0;this.v&&(a=this.Je);-1!==this.S?(c.J=Math.round((this.width-this.ca)/2)+d,c.K=Math.round((this.height-this.$)/2)+d,c.L=c.J+this.ca-1,c.N=c.K+this.$-1):(c.set(a),(this.v||this.O)&&c.h(b));return this.Pi};qa.prototype.qk=function(a,b,c,d,f){var e=0,g=0,k=!1,l=null,p=null,n=this.h,q=new Uint32Array(a+1),m=
null,r=0,u=0,t=0,v,B,w=v=B=0,z=0,E=0,H=0,L=0,M=0,N=0,V=0,X=0,I=0,R=0,P=[];var S=U.R?this.T.H():y.qI;var aa=this.T.Cj;this.Ek=(performance.now()-this.Qi)/1E3;(this.s||this.D||this.v||this.G)&&0!==(this.counter&1)&&(n=this.P);var ma=this.Wf;c&&(2>=this.i||this.v||this.G)&&(r=ma.L-ma.J+1,u=ma.N-ma.K+1,e=(r-1>>4)+1,g=e*u,2*g*a<=S&&(l=this.T.h(ra.Xa,a*g,"Life.bitFrames",U.R),m=this.T.h(ra.be,r*u,"Life.cellPeriods",!1),p=this.T.h(ra.lc,r*u,"Life.cellCounts",U.R),B=8*l.BYTES_PER_ELEMENT-1,B=1<<B,k=!0));
k||(this.Ih.o.fill(y.Np),this.Lg=Array.matrix(ra.Xa,this.I,(this.F-1>>4)+1,0,this.T,"Life.occTileMap",!1),this.Zf=Array.matrix(ra.Xa,this.I,(this.F-1>>4)+1,0,this.T,"Life.occMergedTileMap",!1));performance.now();this.Yf=268435456;for(S=this.xh=this.Fg=0;S<=a+1;S+=1){b.zi();c||(ma=this.tk());if(b.Gl){-1===b.Db&&(b.Db=this.counter);return}this.counter&&0<this.B&&!c&&(b.Rb.J=ma.J,b.Rb.K=ma.K,b.Rb.L=ma.L,b.Rb.N=ma.N,b.Dk(b,b.Rb));k?S<a&&(this.$y(ma,n,p),this.az(ma,n,l,S,e,g,B)):this.Ep(ma,S);0===S?(v=
this.uh(ma),w=ma.L-ma.J+1,z=ma.N-ma.K+1,E=this.yi(ma)):1===S?(H=this.uh(ma),L=ma.L-ma.J+1,M=ma.N-ma.K+1,N=this.yi(ma)):2===S&&this.ja&&v===H&&(V=this.uh(ma),X=ma.L-ma.J+1,I=ma.N-ma.K+1,R=this.yi(ma));if(!this.ha&&!this.Z&&-1===this.jd){for(;-1===this.jd&&0<P.length&&P[0].i===S;){if(this.ja&&v===H){var ea=X;var ca=I;var ia=2;var oa=V;var ja=R}else ea=L,ca=M,ia=1,oa=H,ja=N;if(ma.L-ma.J+1===ea&&ma.N-ma.K+1===ca||ma.L-ma.J+1===ca&&ma.N-ma.K+1===ea)performance.now(),this.mg=this.Wl(ma,oa,P[0].h,d,f,a/
(S-ia),ja),performance.now(),this.jd=-1!==this.mg?S-ia:-1;P.shift()}-1===this.jd&&0<S&&0===a%S&&(ma.L-ma.J+1===w&&ma.N-ma.K+1===z||ma.L-ma.J+1===z&&ma.N-ma.K+1===w)&&(performance.now(),ea=this.hk(ma,v,d,f,E),performance.now(),0===ea||this.ja&&v===H&&2>S||(P[P.length]=this.ja&&v===H?new mc(S+2,ea):new mc(S+1,ea)))}S<a&&(ea=this.na+this.ga,ea<this.Yf&&(this.Yf=ea),ea>this.Fg&&(this.Fg=ea),this.xh+=ea,this.$f[S]=this.B,this.wc[S<<1]=ma.L-ma.J+1<<16|ma.N-ma.K+1,this.wc[(S<<1)+1]=ma.J<<16|ma.K)}performance.now();
performance.now();if(k){performance.now();for(f=0;f<u;f+=1)for(v=f*r,d=0;d<r;d+=1)p[v+d]&&(m[v+d]=a,t+=1);performance.now();performance.now();this.lm(m,a,l,p,r,u,g,e,B);performance.now();performance.now();for(f=0;f<u;f+=1)for(v=f*r,d=0;d<r;d+=1)(S=m[v+d])&&(q[S]+=1);performance.now();c&&(this.Kb=0,this.O&&this.Kl(ma,m,this.Wa),this.v&&this.Nl(ma,m,n),this.G&&this.Il(ma,m,n));S=q[a]/t;this.uj=this.ee(S,2);this.bb=q;this.Og=t;this.Pd=m;this.tc=this.ug=r;this.Ta=u;this.ck=p;performance.now();this.Pj(b);
performance.now();performance.now();this.Nj(p,a);performance.now()}else this.bb=null;this.Fk=(performance.now()-this.Qi)/1E3;this.T.O(aa)};qa.prototype.zo=function(a,b,c,d,f,e,g){var k="",l=String(this.counter-c),p="",n="",q=268435457,m=0,r=16384,u=0,t=16384,v=0,B=276627456,w=0,z=0,E=0,H=0,L=0,M=0,N="",V="",X="",I=this.Ih,R=0,P=0,S="",aa="",ma="";0<c&&(l+=" and "+this.counter);var ea=d;var ca=f;d=Math.abs(d);f=Math.abs(f);if(0<d||0<f){var ia="Spaceship";0===d||0===f?n="0":(d>f?(n=d,p=f):(n=f,p=d),
k=this.xg(n,p),n=String(n/k),1!==p/k&&(n+="/"+String(p/k)));if(d===f||0===d||0===f)if(p=d===f&&0!==d?"Diagonal":"Orthogonal",0===d&&(d=f),1<d)if(1===c)k=d+"c";else{k=this.xg(d,c);var oa=d/k;var ja=c/k;1!==k?(k=1===oa?"c":oa+"c",1<ja&&(k+="/"+ja),k+=" | "+d+"c/"+c):k=d+"c/"+c}else k="c",1<c&&(k+="/"+c);else k=this.xg(d,this.xg(f,c)),oa=d/k,p=f/k,ja=c/k,1!==k?(k=oa>p?"("+oa+","+p+")c":"("+p+","+oa+")c",1<ja&&(k+="/"+ja),k=d>f?k+(" | ("+d+","+f+")c"):k+(" | ("+f+","+d+")c")):k=d>f?"("+d+","+f+")c":"("+
f+","+d+")c",1<c&&(k+="/"+c),p=this.Fn(d,f);this.qk(c,a,!1,ea,ca)}else 1===c||2===c&&this.ja&&this.oe[0]===this.oe[1]?ia="Still Life":(ia="Oscillator",this.qk(c,a,!0,0,0));if(0===this.B)return this.s||this.ja?["Life ended at generation "+(this.Xb+a.Fa),"Empty"]:["Life ended at generation "+(this.counter+a.Fa),"Empty"];f=d=0;this.Ah="";if("Still Life"===ia)a=String(this.B);else{for(Ha=ca=0;Ha<c;Ha+=1)ea=this.$f[Ha],ca+=ea,ea<q&&(q=ea,d=(Ha+1)%c),ea>m&&(m=ea,f=(Ha+1)%c);q===m?a=String(m):(a=String(q)+
" | "+String(m)+" | "+this.ee(ca/c,1),this.Ah=String(q)+" @ T"+d+" | "+String(m)+" @ T"+f)}f=d=0;this.zh="";if("Still Life"!==ia)if("Spaceship"===ia)for(Ha=0;Ha<c;Ha+=1)ea=this.wc[Ha<<1],q=ea>>16,m=ea&65535,q>e&&(e=q),m>g&&(g=m),q*m<B&&(B=q*m,z=q,E=m,d=(Ha+1)%c),q*m>w&&(w=q*m,H=q,L=m,f=(Ha+1)%c);else{for(Ha=0;Ha<c;Ha+=1)ea=this.wc[Ha<<1],q=ea>>16,m=ea&65535,ea=this.wc[(Ha<<1)+1],e=ea>>16,g=ea&65535,e<r&&(r=e),g<t&&(t=g),e+q-1>u&&(u=e+q-1),g+m-1>v&&(v=g+m-1),q*m<B&&(B=q*m,z=q,E=m,d=(Ha+1)%c),q*m>w&&
(w=q*m,H=q,L=m,f=(Ha+1)%c);e=u-r+1;g=v-t+1}q=String(e+" x "+g+" = "+e*g);if(z!==H||E!==L)this.zh=String(z+" x "+E+" = "+B+" @ T"+d+" | "+H+" x "+L+" = "+w+" @ T"+f);0<c&&(this.Yf===this.Fg?(M=this.Yf,N=String(M.toFixed(1))):(M=this.xh/c,N=this.ee(this.Yf,1)+" | "+this.ee(this.Fg,1)+" | "+this.ee(M,1)));if("Oscillator"===ia){if(this.bb)R=this.Og-this.bb[1],P=this.bb[1];else for(B=t;B<=v;B+=1)if(V=I[B],this.s)for(t=r;t<=u;t+=1)X=V[t],(X&3)===y.Zi?R+=1:(X&3)===y.Nk&&(P+=1),X>>=2,(X&3)===y.Zi?R+=1:(X&
3)===y.Nk&&(P+=1),X>>=2,(X&3)===y.Zi?R+=1:(X&3)===y.Nk&&(P+=1),X>>=2,(X&3)===y.Zi?R+=1:(X&3)===y.Nk&&(P+=1);else for(t=r;t<=u;t+=1)V[t]===y.Zi?R+=1:V[t]===y.Nk&&(P+=1);V=this.ee(R/(R+P),2);X=this.uj;this.vi=R}this.Dk=R===e*g?!0:!1;"Oscillator"===ia&&(aa=0===R?this.ee(M/(R+P),2)+" | "+this.ee(0,2):this.ee(M/(R+P),2)+" | "+this.ee(M/R,2));r=String(R+" | "+P+" | "+(R+P));this.ha||this.Z||(0>=this.jd?(this.jd=c,S=String(this.jd)):S=0===c%this.jd&&c!==this.jd?String(this.jd)+" ("+y.yI[this.mg]+")":String(this.jd));
"Still Life"===ia&&(ca=this.B/(e*g),this.s&&(ca/=4),ma=1===ca?String(ca):ca.toFixed(3));return[b,ia,p,k,q,l,a,n,c,N,V,X,S,r,aa,ma]};qa.prototype.Kq=function(a,b,c,d,f,e){var g=!1;a===b/2&&(g=0===c?0===d&&a/b===f/e:0===f?0===e&&a/b===c/d:a/b===c/d&&a/b===f/e);return g};qa.prototype.Ml=function(a,b,c,d){this.oe[this.pc]=a;this.ej[this.pc]=this.counter;this.$f[this.pc]=this.B;this.wc[this.pc<<1]=b;this.wc[(this.pc<<1)+1]=c<<16|d};qa.prototype.un=function(a){var b=this.tk(),c=b.J,d=b.K,f=b.L,e=b.N,g=
f-c+1,k=e-d+1,l=this.Wf,p=!1,n=-1,q=-1,m=-1,r=g<<16|k,u=c<<16|d,t=!1,v=this.pc,B=0,w=0,z="",E=[];if(-1!==this.Xe)return--this.Xe,-1===this.Xe&&(this.Gk=this.ye[1],E=this.zo(a,this.ye[0],this.ye[1],this.ye[2],this.ye[3],this.ye[4],this.ye[5])),E;if(this.pc<this.mf)if(0===this.B)E=["Empty pattern","Empty"];else{c<l.J&&(l.J=c);f>l.L&&(l.L=f);d<l.K&&(l.K=d);e>l.N&&(l.N=e);b=this.uh(b);f=!1;for(e=0;e<v&&!f;)if(l=this.oe[e],b>l)e+=1;else if(b<l)this.pc=e,f=!0;else if(b===l){var H=e<<1;if(this.B===this.$f[e]&&
r===this.wc[H]){l=!0;var L=this.counter-this.ej[e];this.wc[H+1]===u?1===(L&1)&&this.ja?l=!1:z=1===L||2===L&&this.ja&&this.oe[0]===this.oe[1]?"Still Life":"Oscillator period "+L:(B=c-(this.wc[H+1]>>16),w=d-(this.wc[H+1]&65535),p?this.Kq(L,n,B,q,w,m)?(z=this.zp(L,B,w),p=!1):l=!1:(p=!0,n=L,q=B,m=w,l=!1));l?(t=f=!0,p&&(w=B=0),this.ye=[z,L,B,w,g,k],this.Xe=y.UH,a.C.notification.notify(z,15,40,15,!0),a.C.notification.notify("Calculating...",15,40,15,!1)):e+=1}else e+=1}t||(this.Ml(b,r,c,d),this.pc+=1,this.pc===
this.mf&&(this.pc=0,E=[y.xA]))}return E};qa.prototype.xn=function(a,b,c,d,f,e,g){var k=this.displayWidth/2,l=this.displayHeight/2,p=0,n=this.width/2,q=this.height/2,m=this.coords,r=this.mc,u=this.height/2-this.ka-this.za+.5,t=this.width/2-this.ma-this.Ma+.5,v=this.zoom*this.eb;if(a>c){var B=c;c=a;a=B}b>d&&(B=d,d=b,b=B);a+=f;c+=f;b+=e;d+=e;r.length!==y.Sc&&(this.coords=this.T.h(ra.nd,12*y.Sc,"Life.coords",!1),this.mc=this.T.h(ra.lc,y.Sc,"Life.cellColours",!1),m=this.coords,r=this.mc);this.oa.lineWidth=
y.Xy;this.oa.lineCap="butt";this.oa.lineJoin="bevel";for(e=f=0;b<=d;b+=1)if(B=(b-q+u)*v+l,B>=-v&&B<this.displayHeight+v){var w=b-q;var z=t-n;for(B=a;B<=c;B+=1){if(0<g[p]){var E=(B+z)*v+k;if(E>=-v&&E<this.displayWidth+2*v){r[f]=(0<<y.og)+e;E=B-n+.5;var H=B+b&1;m[e]=E-1;m[e+1]=w+H;m[e+2]=E+1;m[e+3]=w+H;m[e+4]=E;m[e+5]=w+1-H;e+=6;f+=1;f===y.Sc&&(this.Vb=f,this.Vc(!0,!1,!0),e=f=0)}}p+=1}}else p+=c-a+1;this.Vb=f;0<f&&this.Vc(!0,!1,!0)};qa.prototype.Ak=function(a,b,c,d,f,e){var g=this.displayWidth/2,k=
this.displayHeight/2,l=this.width/2,p=this.height/2,n=this.coords,q=this.mc,m=this.height/2-this.ka-this.za+.5,r=this.width/2-this.ma-this.Ma+.5,u=this.zoom*this.eb;if(a>c){var t=c;c=a;a=t}b>d&&(t=d,d=b,b=t);a+=f;c+=f;b+=e;d+=e;q.length!==y.Sc&&(this.coords=this.T.h(ra.nd,12*y.Sc,"Life.coords",!1),this.mc=this.T.h(ra.lc,y.Sc,"Life.cellColours",!1),n=this.coords,q=this.mc);this.oa.lineWidth=y.Xy;this.oa.lineCap="butt";this.oa.lineJoin="bevel";for(e=f=0;b<=d;b+=1)if(t=(b-p+m)*u+k,t>=-u&&t<this.displayHeight+
u){var v=b-p;var B=r-l;for(t=a;t<=c;t+=1){var w=(t+B)*u+g;if(w>=-u&&w<this.displayWidth+2*u){q[f]=(0<<y.og)+e;w=t-l+.5;var z=t+b&1;n[e]=w-1;n[e+1]=v+z;n[e+2]=w+1;n[e+3]=v+z;n[e+4]=w;n[e+5]=v+1-z;e+=6;f+=1;f===y.Sc&&(this.Vb=f,this.Vc(!0,!1,!0),e=f=0)}}}this.Vb=f;0<f&&this.Vc(!0,!1,!0)};qa.prototype.Gj=function(){var a=this.h,b=this.Wa,c=null,d=this.mb,f=this.displayWidth/2,e=this.displayHeight/2,g,k,l=this.width/2,p=this.height/2,n=F.sb[3]+128,q=F.sb[4]+128,m=F.sb[5]+128,r=F.sb[6]+128,u=this.xa,t=
this.coords,v=this.mc,B=d.J,w=d.L;var z=d.K;var E=d.N,H=this.height/2-this.ka-this.za+.5,L=this.width/2-this.ma-this.Ma+.5,M=this.zoom*this.eb,N=!this.Ya&&!this.jb,V=this.width,X=this.height,I=0,R=0,P=this.ea;(this.v||this.G||this.D)&&0!==(this.counter&1)&&(a=this.P);v.length!==y.Sc&&(this.coords=this.T.h(ra.nd,12*y.Sc,"Life.coords",!1),this.mc=this.T.h(ra.lc,y.Sc,"Life.cellColours",!1),t=this.coords,v=this.mc);-1!==this.S&&(0!==this.ca?(B=Math.round((this.width-this.ca)/2)-1,w=B+this.ca-1+2):(B=
0,w=this.width-1),0!==this.$?(z=Math.round((this.height-this.$)/2)-1,E=z+this.$-1+2):(z=0,E=this.height-1));this.oa.lineWidth=y.Xy;this.oa.lineCap="butt";this.oa.lineJoin="bevel";for(k=d=0;z<=E;z+=1){var S=(z-p+H)*M+e;if(S>=-M&&S<this.displayHeight+M){S=a[z];b&&(c=b[z]);var aa=z-p;var ma=L-l;for(g=B-1;g<=w+1;g+=1){var ea=(g+ma)*M+f;if(ea>=-M&&ea<=this.displayWidth+2*M){ea=S[g];if(c){var ca=c[g];if(ca===q||ca===r)ea=ea>=u?n:ca;else if(ca===n||ca===m)ea=ea<u?q:ca}0<ea&&(v[d]=(ea<<y.og)+k,ea=g-l+.5,
ca=g+z&1,t[k]=ea-1,t[k+1]=aa+ca,t[k+2]=ea+1,t[k+3]=aa+ca,t[k+4]=ea,t[k+5]=aa+1-ca,k+=6,d+=1);d===y.Sc&&(this.Vb=d,this.Vc(!0,N,!1),this.jb&&!this.Ya&&(this.oa.strokeStyle="rgb("+this.sa[0]+","+this.qa[0]+","+this.ra[0]+")",this.Vc(!1,!1,!1)),k=d=0)}}}}this.Vb=d;0<d&&(this.Vc(!0,N,!1),this.jb&&!this.Ya&&(this.oa.strokeStyle="rgb("+this.sa[0]+","+this.qa[0]+","+this.ra[0]+")",this.Vc(!1,!1,!1)));for(k=d=0;V<P;)I+=V>>1,V<<=1;for(;X<P;)R+=X>>1,X<<=1;E=e/M-H+p|0;for(z=-e/M-H+p|0;z<=E;z+=1)if(S=(z-p+H)*
M+e,S>=-M&&S<this.displayHeight+M)for(aa=z-p,ma=L-l,B=-f/M-ma-M|0,w=f/M-ma+M|0,g=B-1;g<=w+1;g+=1)if(ea=(g+ma)*M+f,ea>=-M&&ea<=this.displayWidth+2*M){if(0>g+I||g+I>=P||0>z+R||z+R>=P)v[d]=(256<<y.og)+k,ea=g-l+.5,ca=g+z&1,t[k]=ea-1,t[k+1]=aa+ca,t[k+2]=ea+1,t[k+3]=aa+ca,t[k+4]=ea,t[k+5]=aa+1-ca,k+=6,d+=1;d===y.Sc&&(this.Vb=d,this.Vc(!0,N,!1),this.jb&&!this.Ya&&(this.oa.strokeStyle="rgb("+this.sa[0]+","+this.qa[0]+","+this.ra[0]+")",this.Vc(!1,!1,!1)),k=d=0)}this.Vb=d;0<d&&(this.Vc(!0,N,!1),this.jb&&!this.Ya&&
(this.oa.strokeStyle="rgb("+this.sa[0]+","+this.qa[0]+","+this.ra[0]+")",this.Vc(!1,!1,!1)),k=0);if(this.Ya){this.oa.strokeStyle="rgb("+(this.Lb>>16)+","+(this.Lb>>8&255)+","+(this.Lb&255)+")";this.oa.lineWidth=1;E=e/M-H+p|0;d=0;for(z=-e/M-H+p|0;z<=E;z+=1)if(S=(z-p+H)*M+e,S>=-M&&S<this.displayHeight+M)for(aa=z-p,ma=L-l,B=-f/M-ma-M|0,w=f/M-ma+M|0,g=B-1;g<=w+1;g+=1)ea=(g+ma)*M+f,ea>=-M&&ea<this.displayWidth+2*M&&(ea=g-l+.5,ca=g+z&1,t[k]=ea-1,t[k+1]=aa+ca,t[k+2]=ea+1,t[k+3]=aa+ca,t[k+4]=ea,t[k+5]=aa+
1-ca,k+=6,d+=1),d===y.Sc&&(this.Vb=d,this.Vc(!1,!1,!1),k=d=0);this.Vb=d;0<d&&this.Vc(!1,!1,!1)}};qa.prototype.Vc=function(a,b,c){var d,f=this.oa,e=this.width/2-this.ma-this.Ma,g=this.height/2-this.ka-this.za,k=this.zoom*this.eb,l=this.sc(this.zoom)*this.eb,p=this.displayWidth/2,n=this.displayHeight/2,q=0,m=0,r=-1,u=this.coords,t=this.Vb,v=this.mc,B=(1<<y.og)-1;if(a&&!c&&v.sort){m=(y.Sc<<y.og)+256;for(d=t;d<y.Sc;d+=1)v[d]=m;v.sort()}f.beginPath();a||(r=m=q=0);for(d=0;d<t;d+=1){a&&(m=v[d],q=m&B,m>>=
y.og);var w=u[q];var z=u[q+1];q+=2;var E=(z+g)*l+n;var H=(w+e)*k+p;var L=(u[q+1]-z)*l;var M=(u[q]-w)*k;q+=2;m!==r&&(r=m,0<d&&(a?(b&&f.stroke(),f.fill()):f.stroke(),f.beginPath()),a&&!c&&(f.fillStyle=this.Ne[m],b&&(f.strokeStyle=this.Ne[m])));f.moveTo(H|0,E|0);f.lineTo(M+H|0,L+E|0);f.lineTo(M+H|0,E|0);L=(u[q+1]-z)*l;M=(u[q]-w)*k;f.lineTo(M+H|0,L+E|0);q+=2}a?(b&&f.stroke(),f.fill()):f.stroke()};qa.prototype.rn=function(a,b,c,d,f,e,g){var k=0,l=this.width/2-F.fp/4,p=this.height/2,n=Math.PI/3,q=1/F.fp,
m=[],r=[],u=this.coords,t=this.mc,v=this.displayWidth/2,B=this.displayHeight/2,w=this.width/2-this.ma-this.Ma,z=this.height/2-this.ka-this.za,E=this.zoom*this.eb,H=this.sc(this.zoom)*this.eb;w=w+z/2+-(this.height>>2)+.5;z+=.5;if(a>c){var L=c;c=a;a=L}b>d&&(L=d,d=b,b=L);a+=f;c+=f;b+=e;d+=e;t.length!==y.Sc&&(this.coords=this.T.h(ra.nd,12*y.Sc,"Life.coords",!1),this.mc=this.T.h(ra.lc,y.Sc,"Life.cellColours",!1),u=this.coords,t=this.mc);e=n/2;for(f=0;5>=f;f+=1)m[f]=Math.cos(e)*q,r[f]=Math.sin(e)*q*1.16,
e+=n;n=m[0];q=r[0];L=m[1];var M=r[1];var N=m[2];var V=r[2];var X=m[3];var I=r[3];var R=m[4];var P=r[4];m=m[5];r=r[5];this.oa.lineWidth=1;this.oa.lineCap="round";this.oa.lineJoin="round";for(e=f=0;b<=d;b+=1){var S=b-p;var aa=(S+z)*H+B;if(aa>=-H&&aa<this.displayHeight+H)for(aa=a;aa<=c;aa+=1){if(0<g[k]){var ma=aa-l;var ea=(ma+w-(S+z)/2)*E+v;ea>=-E&&ea<this.displayWidth+E&&(t[f]=(0<<y.og)+e,u[e]=n+ma,u[e+1]=q+S,u[e+2]=L+ma,u[e+3]=M+S,u[e+4]=N+ma,u[e+5]=V+S,u[e+6]=X+ma,u[e+7]=I+S,u[e+8]=R+ma,u[e+9]=P+
S,u[e+10]=m+ma,u[e+11]=r+S,e+=12,f+=1,f===y.Sc&&(this.Vb=f,this.Tc(!0,!1,!1,!0),e=f=0))}k+=1}else k+=c-a+1}this.Vb=f;0<f&&this.Tc(!0,!1,!1,!0)};qa.prototype.yk=function(a,b,c,d,f,e){var g=this.width/2-F.fp/4,k=this.height/2,l=Math.PI/3,p=1/F.fp,n=[],q=[],m=this.coords,r=this.mc,u=this.displayWidth/2,t=this.displayHeight/2,v=this.width/2-this.ma-this.Ma,B=this.height/2-this.ka-this.za,w=this.zoom*this.eb,z=this.sc(this.zoom)*this.eb;v=v+B/2+-(this.height>>2)+.5;B+=.5;if(a>c){var E=c;c=a;a=E}b>d&&(E=
d,d=b,b=E);a+=f;c+=f;b+=e;d+=e;r.length!==y.Sc&&(this.coords=this.T.h(ra.nd,12*y.Sc,"Life.coords",!1),this.mc=this.T.h(ra.lc,y.Sc,"Life.cellColours",!1),m=this.coords,r=this.mc);e=l/2;for(f=0;5>=f;f+=1)n[f]=Math.cos(e)*p,q[f]=Math.sin(e)*p*1.16,e+=l;l=n[0];p=q[0];E=n[1];var H=q[1];var L=n[2];var M=q[2];var N=n[3];var V=q[3];var X=n[4];var I=q[4];n=n[5];q=q[5];this.oa.lineWidth=1;this.oa.lineCap="round";this.oa.lineJoin="round";for(e=f=0;b<=d;b+=1){var R=b-k;var P=(R+B)*z+t;if(P>=-z&&P<this.displayHeight+
z)for(P=a;P<=c;P+=1){var S=P-g;var aa=(S+v-(R+B)/2)*w+u;aa>=-w&&aa<this.displayWidth+w&&(r[f]=(0<<y.og)+e,m[e]=l+S,m[e+1]=p+R,m[e+2]=E+S,m[e+3]=H+R,m[e+4]=L+S,m[e+5]=M+R,m[e+6]=N+S,m[e+7]=V+R,m[e+8]=X+S,m[e+9]=I+R,m[e+10]=n+S,m[e+11]=q+R,e+=12,f+=1,f===y.Sc&&(this.Vb=f,this.Tc(!0,!1,!1,!0),e=f=0))}}this.Vb=f;0<f&&this.Tc(!0,!1,!1,!0)};qa.prototype.Fj=function(){var a=this.h,b=this.Wa,c=null,d=this.mb,f=this.displayWidth/2,e=this.displayHeight/2,g,k=this.width/2-F.fp/4,l=this.height/2,p=Math.PI/3,
n=1/F.fp,q=[],m=[],r=F.sb[3]+128,u=F.sb[4]+128,t=F.sb[5]+128,v=F.sb[6]+128,B=this.xa,w=this.coords,z=this.mc,E=d.J,H=d.L;var L=d.K;var M=d.N,N=this.height/2-this.ka-this.za+.5,V=this.width/2-this.ma-this.Ma+.5-(this.height>>2)+N/2,X=this.zoom*this.eb,I=this.sc(this.zoom)*this.eb,R=!this.Ya&&!this.jb,P=this.width,S=this.height,aa=0,ma=0,ea=this.ea;(this.v||this.G||this.D)&&0!==(this.counter&1)&&(a=this.P);z.length!==y.Sc&&(this.coords=this.T.h(ra.nd,12*y.Sc,"Life.coords",!1),this.mc=this.T.h(ra.lc,
y.Sc,"Life.cellColours",!1),w=this.coords,z=this.mc);-1!==this.S&&(0!==this.ca?(E=Math.round((this.width-this.ca)/2)-1,H=E+this.ca-1+2):(E=0,H=this.width-1),0!==this.$?(L=Math.round((this.height-this.$)/2)-1,M=L+this.$-1+2):(L=0,M=this.height-1));var ca=p/2;for(d=0;5>=d;d+=1)q[d]=Math.cos(ca)*n,m[d]=Math.sin(ca)*n*1.16,ca+=p;p=q[0];n=m[0];var ia=q[1];var oa=m[1];var ja=q[2];var W=m[2];var na=q[3];var fa=m[3];var Z=q[4];var Y=m[4];q=q[5];m=m[5];this.oa.lineWidth=1;this.oa.lineCap="round";this.oa.lineJoin=
"round";ca=d=0;0<L&&--L;for(M<this.height-1&&(M+=1);L<=M;L+=1){var pa=(L+N-l)*I+e;if(pa>=-I&&pa<this.displayHeight+I){pa=a[L];b&&(c=b[L]);var Q=L-l;var G=V-k-(Q+N)/2;for(g=E;g<=H;g+=1){var A=(g+G)*X+f;if(A>=-X&&A<this.displayWidth+X){A=pa[g];if(c){var K=c[g];if(K===u||K===v)A=A>=B?r:K;else if(K===r||K===t)A=A<B?u:K}0<A&&(z[d]=(A<<y.og)+ca,A=g-k,w[ca]=p+A,w[ca+1]=n+Q,w[ca+2]=ia+A,w[ca+3]=oa+Q,w[ca+4]=ja+A,w[ca+5]=W+Q,w[ca+6]=na+A,w[ca+7]=fa+Q,w[ca+8]=Z+A,w[ca+9]=Y+Q,w[ca+10]=q+A,w[ca+11]=m+Q,ca+=12,
d+=1);d===y.Sc&&(this.Vb=d,this.Tc(!0,R,!1,!1),this.jb&&!this.Ya&&(this.oa.strokeStyle="rgb("+this.sa[0]+","+this.qa[0]+","+this.ra[0]+")",this.Tc(!1,!1,!1,!1)),ca=d=0)}}}}this.Vb=d;0<d&&(this.Tc(!0,R,!1,!1),this.jb&&!this.Ya&&(this.oa.strokeStyle="rgb("+this.sa[0]+","+this.qa[0]+","+this.ra[0]+")",this.Tc(!1,!1,!1,!1)));for(ca=d=0;P<ea;)aa+=P>>1,P<<=1;for(;S<ea;)ma+=S>>1,S<<=1;M=(e/I-N+l|0)+1;for(L=(-e/I-N+l|0)-1;L<=M;L+=1)if(pa=(L+N-l)*I+e,pa>=-I&&pa<this.displayHeight+I)for(Q=L-l,G=V-k-(Q+N)/2,
E=-f/X-G-X|0,H=f/X-G+X|0,g=E;g<=H;g+=1)if(A=(g+G)*X+f,A>=-X&&A<this.displayWidth+X){if(0>g+aa||g+aa>=ea||0>L+ma||L+ma>=ea)z[d]=(256<<y.og)+ca,A=g-k,w[ca]=p+A,w[ca+1]=n+Q,w[ca+2]=ia+A,w[ca+3]=oa+Q,w[ca+4]=ja+A,w[ca+5]=W+Q,w[ca+6]=na+A,w[ca+7]=fa+Q,w[ca+8]=Z+A,w[ca+9]=Y+Q,w[ca+10]=q+A,w[ca+11]=m+Q,ca+=12,d+=1;d===y.Sc&&(this.Vb=d,this.Tc(!0,R,!1,!1),this.jb&&!this.Ya&&(this.oa.strokeStyle="rgb("+this.sa[0]+","+this.qa[0]+","+this.ra[0]+")",this.Tc(!1,!1,!1,!1)),ca=d=0)}this.Vb=d;0<d&&(this.Tc(!0,R,
!1,!1),this.jb&&!this.Ya&&(this.oa.strokeStyle="rgb("+this.sa[0]+","+this.qa[0]+","+this.ra[0]+")",this.Tc(!1,!1,!1,!1)),ca=0);if(this.Ya){this.oa.strokeStyle="rgb("+(this.Lb>>16)+","+(this.Lb>>8&255)+","+(this.Lb&255)+")";this.oa.lineWidth=1;d=0;M=e/I-N+l|0;for(L=-e/I-N+l|0;L<=M;L+=1)if(pa=(L+N-l)*I+e,pa>=-I&&pa<this.displayHeight+I)for(Q=L-l,G=V-k-(Q+N)/2,E=-f/X-G-X|0,H=f/X-G+X|0,g=E;g<=H;g+=1)A=(g+G)*X+f,A>=-X&&A<this.displayWidth+X&&(A=g-k,w[ca]=p+A,w[ca+1]=n+Q,w[ca+2]=ia+A,w[ca+3]=oa+Q,w[ca+
4]=ja+A,w[ca+5]=W+Q,w[ca+6]=na+A,w[ca+7]=fa+Q,ca+=8,d+=1),d===y.Sc&&(this.Vb=d,this.Tc(!1,!1,!0,!1),ca=d=0);this.Vb=d;0<d&&this.Tc(!1,!1,!0,!1)}};qa.prototype.Tc=function(a,b,c,d){var f=this.oa,e=this.width/2-this.ma-this.Ma,g=this.height/2-this.ka-this.za,k=this.zoom*this.eb,l=this.sc(this.zoom)*this.eb,p=this.displayWidth/2,n=this.displayHeight/2,q=0,m=0,r=12,u=0,t=-1,v=this.coords,B=this.Vb,w=this.mc,z=(1<<y.og)-1;e=e+g/2+-(this.height>>2)+.5;g+=.5;a&&!d&&w.sort&&(u=(y.Sc<<y.og)+256,w.fill(u,B),
w.sort());f.beginPath();a||(m=r=c?8:12,t=u=q=0);for(c=0;c<B;c+=1){a&&(u=w[c],q=u&z,m=q+r,u>>=y.og);var E=v[q];var H=v[q+1];var L=H+g;var M=E+e-L/2;q+=2;L=L*l+n;M=M*k+p;var N=(v[q+1]-H)*l;var V=(v[q]-E)*k;q+=2;u!==t&&(t=u,0<c&&(a?(b&&f.stroke(),f.fill()):f.stroke(),f.beginPath()),a&&!d&&(f.fillStyle=this.Ne[u],b&&(f.strokeStyle=this.Ne[u])));f.moveTo(M,L);for(f.lineTo(V+M,N+L);q<m;)N=(v[q+1]-H)*l,V=(v[q]-E)*k,q+=2,f.lineTo(V+M,N+L);m+=r}a?(b&&f.stroke(),f.fill()):f.stroke()};qa.prototype.mh=function(a,
b,c,d,f,e,g){var k="",l=b.O?b.mb:b.Da?b.ya:b.A,p=l.J,n=l.L,q=l.N,m=l.K,r=n-p+1,u=q-m+1;l=0;var t=[],v=this.h,B=null;var w=a.H-a.aa;var z=a.F-a.ba,E=a.fa;2>d&&(d=2);2>f&&(f=2);d===f&&b.O&&(f=d=7);a.P&&(p=E.J+w,m=E.K+z,n=E.L+w,q=E.N+z,p>n&&(w=p,p=n,n=w),m>q&&(w=m,m=q,q=w),r=n-p+1,u=q-m+1,a.mc&&(-1!==b.S?(p-=Math.floor(a.Bd/2)-2*a.ac,n-=Math.floor(a.Bd/2)-2*a.ac,m-=Math.floor(a.Ad/2)-2*a.sc,q-=Math.floor(a.Ad/2)-2*a.sc):(p+=2*a.ac,n+=2*a.ac,m+=2*a.sc,q+=2*a.sc)));b.Z&&(0<p&&0!==(p&1)&&(--p,r+=1),0<m&&
0!==(m&1)&&(--m,u+=1));b.ja&&(0<p&&0===(p&1)&&(--p,r+=1),0<m&&0===(m&1)&&(--m,u+=1));if(0===e.length)for(w=0;w<d;w+=1)e[w]=w;if(2>=f)t[0]="b",t[1]="o";else for(t[0]=".",w=0;w<f-1;w+=1)t[w+1]=24<=w?String.fromCharCode(112+(w/24|0)-1)+String.fromCharCode(65+w%24):String.fromCharCode(65+w);c&&(k+=b.di);w=g&&""!==a.Wa?a.Wa:a.Y;"Conway's Life"===w&&(w="Life");"B3/S23History"===w&&(w="LifeHistory");k=k+("x = "+r+", y = "+u+", rule = "+w)+a.ug;k+="\n";for(a=k.length;m<=q;){w=p;2>=d&&!this.D?(B=v[m],r=B[w],
f=r<=this.ce||r===this.jc?0:1):f=b.nb(w,m,!1);g=1;for(w+=1;w<=n+1;)w>n?r=-1:2>=d&&!this.D?(r=B[w],r=r<=this.ce||r===this.jc?0:1):r=b.nb(w,m,!1),r!==f?((-1!==r||0!==f)&&0<l&&(1<l&&(k+=l),k+="$",69<=k.length-a&&(k+="\n",a=k.length),l=0),0<f?(1<g&&(k+=g),k+=t[e[f]]):w<=n&&(1<g&&(k+=g),k+=t[e[f]]),69<=k.length-a&&(k+="\n",a=k.length),g=1,f=r):g+=1,w+=1;l+=1;m+=1}k+="!\n";c&&(k+=b.wf);return k};qa.prototype.Ee=function(a,b){var c=this.h,d=c[b-1],f=c[b];b=c[b+1];c=y.xa;return 64+(d[a-1]>=c?1:0)+(d[a]>=
c?5:0)+(d[a+1]>=c?1:0)+(f[a-1]>=c?5:0)+(f[a+1]>=c?5:0)+(b[a-1]>=c?1:0)+(b[a]>=c?5:0)+(b[a+1]>=c?1:0)};qa.prototype.Th=function(a,b){var c=this.h;--b;var d=c[b];d[a-1]>=this.xa&&(d[a-1]=this.Ee(a-1,b));d[a]>=this.xa&&(d[a]=this.Ee(a,b));d[a+1]>=this.xa&&(d[a+1]=this.Ee(a+1,b));b+=1;d=c[b];d[a-1]>=this.xa&&(d[a-1]=this.Ee(a-1,b));d[a]>=this.xa&&(d[a]=this.Ee(a,b));d[a+1]>=this.xa&&(d[a+1]=this.Ee(a+1,b));b+=1;d=c[b];d[a-1]>=this.xa&&(d[a-1]=this.Ee(a-1,b));d[a]>=this.xa&&(d[a]=this.Ee(a,b));d[a+1]>=
this.xa&&(d[a+1]=this.Ee(a+1,b))};qa.prototype.Eq=function(a,b,c,d){var f=this.va,e=this.j,g=this.h,k=this.wa,l=this.m,p=this.A,n=this.mb,q,m=!0,r=this.Z?1:0,u=this.Z?14:15;if(a!==(a&this.Ia)||b!==(b&this.Ha)){m=!1;var t=this.width<this.ea&&a!==(a&this.Ia);for(q=this.height<this.ea&&b!==(b&this.Ha);t||q;)(t||q)&&this.Vf(t,q,!0),t&&(a+=this.width>>2),q&&(b+=this.height>>2),t=this.width<this.ea&&a!==(a&this.Ia),q=this.height<this.ea&&b!==(b&this.Ha);a===(a&this.Ia)&&b===(b&this.Ha)&&(m=!0,f=this.va,
e=this.j,g=this.h,k=this.wa,l=this.m)}if(m){0!==(this.counter&1)&&(f=this.Va,e=this.H);t=1<<(~a&15);q=1<<(~(a>>4)&15);if(1===(c&1)){0===(f[b][a>>4]&t)&&(this.B+=1);switch(this.ab){case y.kg:g[b][a]=this.xa;break;case y.vf:g[b][a]=(a+b&127)+64;break;case y.lg:g[b][a]=this.xa;this.Th(a,b);break;case y.Kf:g[b][a]=this.xa}k[b>>4][a>>8]|=q;l[b>>4][a>>8]|=q;f[b][a>>4]|=t;e[b>>4][a>>8]|=q;d=a&15;0<a&&d<=r?(a-=d+1,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a+=d+1):a<this.width-1&&d>=u&&(a+=16-d,e[b>>4][a>>8]|=1<<(~(a>>
4)&15),a-=16-d);0<b&&0===(b&15)?(--b,e[b>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&d<=r?(a-=d+1,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a+=d+1):a<this.width-1&&d>=u&&(a+=16-d,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-d),b+=1):b<this.height-1&&15===(b&15)&&(b+=1,e[b>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&d<=r?(a-=d+1,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a+=d+1):a<this.width-1&&d>=u&&(a+=16-d,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-d),--b)}else 0!==(f[b][a>>4]&t)&&--this.B,g[b][a]=d?0:this.ce,this.ab===y.lg&&this.Th(a,b),k[b>>4][a>>8]|=q,
l[b>>4][a>>8]|=q,f[b][a>>4]&=~t;if(0<c)1===this.B?(p.J=a,p.L=a,p.K=b,p.N=b):(a<p.J&&(p.J=a),a>p.L&&(p.L=a),b<p.K&&(p.K=b),b>p.N&&(p.N=b)),a<n.J&&(n.J=a),a>n.L&&(n.L=a),b<n.K&&(n.K=b),b>n.N&&(n.N=b);else if(a===p.J||a===p.L||b===p.N||b===p.K)this.Nb=!0}return 0};qa.prototype.Gq=function(a,b,c,d){var f=this.va,e=this.j,g=this.h,k=this.wa,l=this.m,p=this.Wa,n=this.A,q=this.mb,m,r=!0,u=0,t=this.Z?1:0,v=this.Z?14:15;if(a!==(a&this.Ia)||b!==(b&this.Ha)){r=!1;var B=this.width<this.ea&&a!==(a&this.Ia);for(m=
this.height<this.ea&&b!==(b&this.Ha);B||m;)(B||m)&&this.Vf(B,m,!0),B&&(a+=this.width>>2),m&&(b+=this.height>>2),B=this.width<this.ea&&a!==(a&this.Ia),m=this.height<this.ea&&b!==(b&this.Ha);a===(a&this.Ia)&&b===(b&this.Ha)&&(r=!0,f=this.va,e=this.j,g=this.h,k=this.wa,l=this.m,p=this.Wa)}if(r){0!==(this.counter&1)&&(f=this.Va,e=this.H);B=1<<(~a&15);m=1<<(~(a>>4)&15);1===(c&1)?(0===(f[b][a>>4]&B)&&(this.B+=1),g[b][a]=this.xa,k[b>>4][a>>8]|=m,l[b>>4][a>>8]|=m,f[b][a>>4]|=B,e[b>>4][a>>8]|=m,d=a&15,0<a&&
d<=t?(a-=d+1,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a+=d+1):a<this.width-1&&d>=v&&(a+=16-d,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-d),0<b&&0===(b&15)?(--b,e[b>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&d<=t?(a-=d+1,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a+=d+1):a<this.width-1&&d>=v&&(a+=16-d,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-d),b+=1):b<this.height-1&&15===(b&15)&&(b+=1,e[b>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&d<=t?(a-=d+1,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a+=d+1):a<this.width-1&&d>=v&&(a+=16-d,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-
d),--b)):(0!==(f[b][a>>4]&B)&&--this.B,g[b][a]=d?0:this.ce,k[b>>4][a>>8]|=m,l[b>>4][a>>8]|=m,f[b][a>>4]&=~B);if(p){e=p[b][a];0<e&&(e=F.sb.indexOf(e-128));if(6===c&&6!==e||6!==c&&6===e)u=1;2===c&&(g[b][a]=y.Jh);p[b][a]=0===c?0:F.sb[c]+128}if(0<c)1===this.B?(n.J=a,n.L=a,n.K=b,n.N=b):(a<n.J&&(n.J=a),a>n.L&&(n.L=a),b<n.K&&(n.K=b),b>n.N&&(n.N=b)),a<q.J&&(q.J=a),a>q.L&&(q.L=a),b<q.K&&(q.K=b),b>q.N&&(q.N=b);else if(a===n.J||a===n.L||b===n.N||b===n.K)this.Nb=!0}return u};qa.prototype.yl=function(a,b,c,d){var f=
this.va,e=this.j,g=this.h,k=this.wa,l=this.m,p=this.Wa,n=this.A,q=this.ya,m=this.mb,r=0,u=c,t=0,v=0,B=this.Z?1:0,w=this.Z?14:15;(this.s||this.D||this.v||this.G)&&0!==(this.counter&1)&&(g=this.P);if(this.s||this.D)t=g[b][a],g[b][a]=d&&0===c?0:this.u+c,l[b>>4][a>>8]=65535,this.D&&(0!==(this.counter&1)&&(e=this.H),r=1<<(~(a>>4)&15),e[b>>4][a>>8]|=r),0===c?t>this.u&&(this.s?this.B-=this.ic[t-this.u]:--this.B):this.s?t<=this.u?this.B+=this.ic[c]:(this.B-=this.ic[t-this.u],this.B+=this.ic[c]):(e[b>>4][a>>
8]|=r,0===t&&(this.B+=1),d=a&15,0<a&&d<=B?(a-=d+1,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a+=d+1):a<this.width-1&&d>=w&&(a+=16-d,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-d),0<b&&0===(b&15)?(--b,e[b>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&d<=B?(a-=d+1,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a+=d+1):a<this.width-1&&d>=w&&(a+=16-d,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-d),b+=1):b<this.height-1&&15===(b&15)&&(b+=1,e[b>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&d<=B?(a-=d+1,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a+=d+1):a<this.width-1&&d>=w&&(a+=16-d,
e[b>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-d),--b));else{0!==(this.counter&1)&&(f=this.Va,e=this.H);var z=1<<(~a&15);r=1<<(~(a>>4)&15);if(this.Da)t=g[b][a],2===this.i?(e=this.xa,1===c&&(c=this.xa),0===c&&t>=e&&(c=d?0:this.u)):(e=this.i-1+this.u,0<c&&(c=this.u+c)),g[b][a]=c,k[b>>4][a>>8]|=r,l[b>>4][a>>8]|=r,t<e&&c>=e?this.B+=1:t>=e&&c<e&&--this.B;else{if(this.G){var E=0<c;t=g[b][a]}else E=2>=this.i||this.v?1===(c&1):c===this.i-1;this.v&&(t=g[b][a],6===c&&6!==t||6!==c&&6===t)&&(v=1);E?(this.G?t||(this.B+=
1):0===(f[b][a>>4]&z)&&(this.B+=1),this.ab===y.vf?g[b][a]=(a+b&127)+64:this.ab===y.lg?(g[b][a]=this.xa,this.Th(a,b)):g[b][a]=this.G||this.v?c:this.xa,k[b>>4][a>>8]|=r,l[b>>4][a>>8]|=r,f[b][a>>4]|=z,e[b>>4][a>>8]|=r,d=a&15,0<a&&d<=B?(a-=d+1,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a+=d+1):a<this.width-1&&d>=w&&(a+=16-d,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-d),0<b&&0===(b&15)?(--b,e[b>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&d<=B?(a-=d+1,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a+=d+1):a<this.width-1&&d>=w&&(a+=16-d,e[b>>4][a>>
8]|=1<<(~(a>>4)&15),a-=16-d),b+=1):b<this.height-1&&15===(b&15)&&(b+=1,e[b>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&d<=B?(a-=d+1,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a+=d+1):a<this.width-1&&d>=w&&(a+=16-d,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-d),--b)):(this.G?0<t&&--this.B:0!==(f[b][a>>4]&z)&&--this.B,g[b][a]=this.G||this.v?c:d?0:this.ce,this.ab===y.lg&&this.Th(a,b),k[b>>4][a>>8]|=r,l[b>>4][a>>8]|=r,f[b][a>>4]&=~z);if(this.O&&p){t=p[b][a];0<t&&(t=F.sb.indexOf(t-128));if(6===c&&6!==t||6!==c&&6===t)v=1;2===c?g[b][a]=
y.Jh:p[b][a]=0===c?0:F.sb[c]+128}2<this.i&&!this.v&&!this.G&&(0<c&&(c=this.u+c),g[b][a]=c)}}if(0<u)1===this.B&&(this.Nb=!0),a<n.J&&(n.J=a),a>n.L&&(n.L=a),b<n.K&&(n.K=b),b>n.N&&(n.N=b),a<m.J&&(m.J=a),a>m.L&&(m.L=a),b<m.K&&(m.K=b),b>m.N&&(m.N=b),this.Da&&c===this.i-1+this.u&&(1===this.B?(q.J=a,q.L=a,q.K=b,q.N=b):(a<q.J&&(q.J=a),a>q.L&&(q.L=a),b<q.K&&(q.K=b),b>q.N&&(q.N=b)));else if(a===n.J||a===n.L||b===n.N||b===n.K)this.Nb=!0;return v};qa.prototype.nb=function(a,b,c){switch(this.sk){case y.Qv:return this.Ck(a,
b,c);case y.Sv:return this.Ck(a,b,!0);case y.Rv:return this.ho(a,b,c);default:return this.jo(a,b,c)}};qa.prototype.Zd=function(a,b,c,d){switch(this.sk){case y.Qv:return this.Eq(a,b,c,d);case y.Sv:return this.yl(a,b,c,d);case y.Rv:return this.Gq(a,b,c,d);default:return this.yl(a,b,c,d)}};qa.prototype.Hq=function(){this.sk=-1!==this.i||-1!==this.S||this.la?this.D&&2===this.i?y.Sv:y.zI:this.O?y.Rv:y.Qv};qa.prototype.Ol=function(a){var b=1<<y.Xj;a?(this.Wc=Array.matrix(ra.lc,1,b,0,this.T,"Life.popGraphData",
!1),this.Of=Array.matrix(ra.lc,1,b,0,this.T,"Life.birthGraphData",!1),this.Uf=Array.matrix(ra.lc,1,b,0,this.T,"Life.deathGraphData",!1),this.Ng=b):(this.Wc=Array.matrix(ra.lc,0,0,0,this.T,"Life.popGraphData",!1),this.Of=Array.matrix(ra.lc,0,0,0,this.T,"Life.birthGraphData",!1),this.Uf=Array.matrix(ra.lc,0,0,0,this.T,"Life.deathGraphData",!1),this.Ng=0)};qa.prototype.Ck=function(a,b,c){var d=0,f=this.h;a===(a&this.Ia)&&b===(b&this.Ha)&&(this.D&&0!==(this.counter&1)&&(f=this.P),a=f[b][a],d=c?a:a<=this.ce?
0:1);return d};qa.prototype.ho=function(a,b,c){var d=0,f=F.sb[3]+128,e=F.sb[4]+128,g=F.sb[5]+128,k=F.sb[6]+128;a===(a&this.Ia)&&b===(b&this.Ha)&&(d=this.h[b][a],c||(this.Wa?(a=this.Wa[b][a],a===e||a===k?(d>=this.xa&&(a=f),d=F.sb.indexOf(a-128)):a===f||a===g?(d<this.xa&&(a=e),d=F.sb.indexOf(a-128)):d=0===d?0:d<=this.ce?2:1):d=d<=this.ce?0:1));return d};qa.prototype.jo=function(a,b,c){var d=0,f=F.sb[3]+128,e=F.sb[4]+128,g=F.sb[5]+128,k=F.sb[6]+128,l=this.ja?-1:0,p=Math.round((this.width-this.ca)/2)+
l;l=Math.round((this.height-this.$)/2)+l;var n=p+this.ca-1,q=l+this.$-1,m=this.h;(this.s||this.D||this.v||this.G)&&0!==(this.counter&1)&&(m=this.P);a===(a&this.Ia)&&b===(b&this.Ha)&&(d=m[b][a],c||2<this.i?2<this.i&&0<d&&!this.la&&(d<=this.u?d=0:(-1!==this.S&&(0===this.ca&&(p=0,n=this.width-1),0===this.$&&(l=0,q=this.height-1)),d=-1===this.S||d!==this.jc||a>=p&&a<=n&&b>=l&&b<=q?this.s||this.D||this.v||this.G?d-this.u:this.i+this.u-d:0)):this.Wa?-1===this.S||d!==this.jc||a>=p&&a<=n&&b>=l&&b<=q?(a=this.Wa[b][a],
a===e||a===k?(d>=this.xa&&(a=f),d=F.sb.indexOf(a-128)):a===f||a===g?(d<this.xa&&(a=e),d=F.sb.indexOf(a-128)):d=0===d?0:d<=this.ce?2:1):d=0:d=d<=this.ce||d===this.jc?0:1);return d};qa.prototype.Md=function(a){var b,c,d,f=a.length,e=a[0].length,g=this.ic,k=0;for(b=0;b<f;b+=1){var l=a[b];for(c=0;c<e;c+=1)(d=l[c])&&(k+=g[d])}return k};qa.prototype.Yl=function(a,b){var c=a.Eb,d=c.length,f=!1;if(this.ja||this.s)for(this.vb=this.Ub=!1,a=0;!f&&a<d;){var e=c[a];e.tg<b?("reverse playback"===e.action&&(this.vb=
!this.vb),a+=1):e.tg>b?f=!0:"reverse playback"===e.action?f=this.Ub=!0:a+=1}};qa.prototype.Gl=function(a,b){var c=this.Zc.h.length,d=null;a<this.counter&&(d=this.Zc.$(a),c!==this.Zc.h.length&&(this.pf-=y.qq*(c-this.Zc.h.length)));d&&(this.tl(d,b),b.hz());for(;this.counter<a;)this.Yl(b,this.counter),this.s&&(1===(this.counter&1)?this.h.o.fill(0):this.P.o.fill(0)),this.gl(!0),b.ja+=b.ec,this.Sf(),this.Oh(),this.eg(b),b.on()};qa.prototype.tl=function(a,b){var c=this.h,d=this.Wa;this.counter=a.counter;
b.ja=a.I;this.Xb=a.B;this.Ke=a.F;if(0!==(this.counter&1)){b=this.Jd;var f=this.grid;var e=this.H;var g=this.j}else b=this.grid,f=this.Jd,e=this.j,g=this.H;b.o.fill(0);f.o.fill(0);this.h.o.fill(0);(this.s||this.D||this.v||this.G)&&this.P.o.fill(0);this.Ba.o.fill(0);a.V(b,e);a.P(c,this.wa,a.H);(this.s||this.D||this.v||this.G)&&Array.Gf(c,this.P);this.Dc?(d.o.fill(0),this.Eb.o.fill(0),a.P(d,this.m,a.v),this.rb()):(this.v&&this.rb(),Array.Gf(this.m,this.wa));Array.Gf(e,g);Array.Gf(b,f);this.A.J=a.i.J;
this.A.K=a.i.K;this.A.L=a.i.L;this.A.N=a.i.N;this.ya.J=a.h.J;this.ya.K=a.h.K;this.ya.L=a.h.L;this.ya.N=a.h.N;this.B=a.G;this.na=a.A;this.ga=a.D};qa.prototype.ii=function(a){if(0!==(this.counter&1)){var b=this.Jd;var c=this.H}else b=this.grid,c=this.j;this.xl(!1,b,c,a)};qa.prototype.Qg=function(a,b){this.tl(this.Yj,a);this.Zc.reset();this.pf=y.qq;b||this.ii(a)};qa.prototype.xl=function(a,b,c,d){var f=this.h;(this.s||this.D||this.v||this.G)&&0!==(this.counter&1)&&(f=this.P);this.Zc.Y(b,c,f,this.m,this.Wa,
this.m,this.A,this.ya,this.B,this.na,this.ga,this.counter,d.ja,this.Xb,this.Ke,(this.F-1>>4)+1,this.I,this,a)};qa.prototype.cp=function(a,b){this.Zc.reset();this.Yj=this.Zc.H((this.F-1>>4)+1,this.I,!0,this.Dc);this.xl(!0,this.grid,this.j,b);a||this.ii(b)};qa.prototype.Io=function(){var a=this.Wa,b=this.bd;this.width=512;this.height=256;this.Da&&this.aa.resize(this.width,this.height);this.grid=Array.matrix(ra.cb,this.height,(this.width-1>>3)+1,0,this.T,"Life.grid",U.R);this.Jd=Array.matrix(ra.cb,this.height,
(this.width-1>>3)+1,0,this.T,"Life.nextGrid",U.R);this.va=Array.pe(ra.Xa,this.grid,"Life.grid16");this.Va=Array.pe(ra.Xa,this.Jd,"Life.nextGrid16");b&&(this.bd=Array.matrix(ra.Xa,this.height,(this.width-1>>4)+1,0,this.T,"Life.state6Mask",!1),this.He=Array.matrix(ra.Xa,this.height,(this.width-1>>4)+1,0,this.T,"Life.state6Alive",!1),this.$d=Array.matrix(ra.Xa,this.height,(this.width-1>>4)+1,0,this.T,"Life.state6Cells",!1));this.F=this.width>>4;this.I=this.height>>4;b&&(this.vd=Array.matrix(ra.Xa,this.I,
(this.F-1>>4)+1,0,this.T,"Life.state6TileGrid",!1));this.j=Array.matrix(ra.Xa,this.I,(this.F-1>>4)+1,0,this.T,"Life.tileGrid",U.R);this.H=Array.matrix(ra.Xa,this.I,(this.F-1>>4)+1,0,this.T,"Life.nextTileGrid",U.R);this.wa=Array.matrix(ra.Xa,this.I,(this.F-1>>4)+1,0,this.T,"Life.colourTileGrid",U.R);this.m=Array.matrix(ra.Xa,this.I,(this.F-1>>4)+1,0,this.T,"Life.colourTileHistoryGrid",U.R);this.ta=Array.matrix(ra.Xa,this.I,(this.F-1>>4)+1,0,this.T,"Life.diedGrid",U.R);this.Bd=this.T.h(ra.Xa,(this.width-
1>>4)+1,"Life.blankRow16",U.R);this.ba=this.T.h(ra.Xa,this.F>>4,"Life.blankTileRow",U.R);this.ia=this.T.h(ra.cb,this.width,"Life.blankColourRow",U.R);this.V=this.T.h(ra.Xa,(this.width-1>>4)+1,"Life.columnOccupied16",U.R);this.Y=this.T.h(ra.Xa,(this.height-1>>4)+1,"Life.rowOccupied16",U.R);this.Ue=this.T.h(ra.Xa,(this.width-1>>4)+1,"Life.columnAliveOccupied16",U.R);this.cf=this.T.h(ra.Xa,(this.height-1>>4)+1,"Life.rowAliveOccupied16",U.R);this.h=Array.matrix(ra.cb,this.height,this.width,0,this.T,"Life.colourGrid",
U.R);this.s||this.D||this.v||this.G?(this.P=Array.matrix(ra.cb,this.height,this.width,0,this.T,"Life.nextColourGrid",U.R),this.nf=Array.pe(ra.Xa,this.P,"Life.nextColourGrid16"),this.Pa=Array.pe(ra.lc,this.P,"Life.nextColourGrid32")):this.Pa=this.nf=this.P=null;this.Ba=Array.matrix(ra.cb,this.height,this.width,0,this.T,"Life.smallColourGrid",U.R);this.le=Array.pe(ra.Xa,this.h,"Life.colourGrid16");this.Ua=Array.pe(ra.lc,this.h,"Life.colourGrid32");a&&(this.Wa=Array.matrix(ra.cb,this.height,this.width,
0,this.T,"Life.overlayGrid",U.R),this.Eb=Array.matrix(ra.cb,this.height,this.width,0,this.T,"Life.smallOverlayGrid",U.R),this.Mg=Array.pe(ra.Xa,this.Wa,"Life.overlayGrid16"),this.vc=Array.pe(ra.lc,this.Wa,"Life.overlayGrid32"));this.Ia=this.width-1;this.Ha=this.height-1;this.Zc.S((this.F-1>>4)+1,this.I,0,0,0,0,this.Dc)};qa.prototype.Ic=function(a,b,c,d,f){var e;for(e=0;e<a;e+=1)d[e+b].set(f[e],c)};qa.prototype.Vf=function(a,b,c){var d=this.height,f=this.grid,e=this.Jd,g=this.h,k=this.P,l=this.Wa,
p=this.bd,n=this.He,q=this.$d,m=this.Ih,r=this.Ye,u=this.vd,t=this.j,v=this.H,B=this.wa,w=this.m,z=this.ta,E=this.Lg,H=this.Zf,L=this.I,M=0,N=0,V=0,X=0;if(this.width<this.ea||d<this.ea||!c)if(a&&(M=this.width>>1,this.width*=2),b&&(N=this.height>>1,this.height*=2),this.Da&&this.aa.resize(this.width,this.height),this.grid=Array.matrix(ra.cb,this.height,(this.width-1>>3)+1,0,this.T,"Life.grid",U.R),this.Jd=Array.matrix(ra.cb,this.height,(this.width-1>>3)+1,0,this.T,"Life.nextGrid",U.R),this.va=Array.pe(ra.Xa,
this.grid,"Life.grid16"),this.Va=Array.pe(ra.Xa,this.Jd,"Life.nextGrid16"),p&&(this.bd=Array.matrix(ra.Xa,this.height,(this.width-1>>4)+1,0,this.T,"Life.state6Mask",!1),this.He=Array.matrix(ra.Xa,this.height,(this.width-1>>4)+1,0,this.T,"Life.state6Alive",!1),this.$d=Array.matrix(ra.Xa,this.height,(this.width-1>>4)+1,0,this.T,"Life.state6Cells",!1)),this.F=this.width>>4,this.I=this.height>>4,p&&(this.vd=Array.matrix(ra.Xa,this.I,(this.F-1>>4)+1,0,this.T,"Life.state6TileGrid",!1)),this.j=Array.matrix(ra.Xa,
this.I,(this.F-1>>4)+1,0,this.T,"Life.tileGrid",U.R),this.H=Array.matrix(ra.Xa,this.I,(this.F-1>>4)+1,0,this.T,"Life.nextTileGrid",U.R),this.wa=Array.matrix(ra.Xa,this.I,(this.F-1>>4)+1,0,this.T,"Life.colourTileGrid",U.R),this.m=Array.matrix(ra.Xa,this.I,(this.F-1>>4)+1,0,this.T,"Life.colourTileHistoryGrid",U.R),this.ta=Array.matrix(ra.Xa,this.I,(this.F-1>>4)+1,0,this.T,"Life.diedGrid",U.R),E&&(this.Lg=Array.matrix(ra.Xa,this.I,(this.F-1>>4)+1,0,this.T,"Life.occTileMap",!1)),H&&(this.Zf=Array.matrix(ra.Xa,
this.I,(this.F-1>>4)+1,0,this.T,"Life.occMergedTileMap",!1)),this.Bd=this.T.h(ra.Xa,(this.width-1>>4)+1,"Life.blankRow16",U.R),this.ba=this.T.h(ra.Xa,this.F>>4,"Life.blankTileRow",U.R),this.ia=this.T.h(ra.cb,this.width,"Life.blankColourRow",U.R),this.V=this.T.h(ra.Xa,(this.width-1>>4)+1,"Life.columnOccupied16",U.R),this.Y=this.T.h(ra.Xa,(this.height-1>>4)+1,"Life.rowOccupied16",U.R),this.Ue=this.T.h(ra.Xa,(this.width-1>>4)+1,"Life.columnAliveOccupied16",U.R),this.cf=this.T.h(ra.Xa,(this.height-1>>
4)+1,"Life.rowAliveOccupied16",U.R),m&&(this.Ih=Array.matrix(ra.cb,this.height,this.width,y.Np,this.T,"Life.countList",!1)),r&&(this.Ye=Array.matrix(ra.cb,this.height,this.width,0,this.T,"Life.initList",!1)),this.h=Array.matrix(ra.cb,this.height,this.width,0,this.T,"Life.colourGrid",U.R),this.Ba=Array.matrix(ra.cb,this.height,this.width,0,this.T,"Life.smallColourGrid",U.R),this.le=Array.pe(ra.Xa,this.h,"Life.colourGrid16"),this.Ua=Array.pe(ra.lc,this.h,"Life.colourGrid32"),this.s||this.D||this.v||
this.G?(this.P=Array.matrix(ra.cb,this.height,this.width,0,this.T,"Life.nextColourGrid",U.R),this.nf=Array.pe(ra.Xa,this.P,"Life.nextColourGrid16"),this.Pa=Array.pe(ra.lc,this.P,"Life.nextColourGrid32")):this.Pa=this.nf=this.P=null,l&&(this.Wa=Array.matrix(ra.cb,this.height,this.width,0,this.T,"Life.overlayGrid",U.R),this.Eb=Array.matrix(ra.cb,this.height,this.width,0,this.T,"Life.smallOverlayGrid",U.R),this.Mg=Array.pe(ra.Xa,this.Wa,"Life.overlayGrid16"),this.vc=Array.pe(ra.lc,this.Wa,"Life.overlayGrid32")),
this.Ia=this.width-1,this.Ha=this.height-1,c&&(this.Ic(d,N,M>>3,this.grid,f),this.Ic(d,N,M>>3,this.Jd,e),this.Ic(d,N,M,this.h,g),(this.s||this.D||this.v||this.G)&&this.Ic(d,N,M,this.P,k),this.Ih&&this.Ic(d,N,M,this.Ih,m),this.Ye&&this.Ic(d,N,M,this.Ye,r),l&&this.Ic(d,N,M,this.Wa,l),p&&n&&q&&(this.Ic(d,N,M>>4,this.bd,p),this.Ic(d,N,M>>4,this.He,n),this.Ic(d,N,M>>4,this.$d,q)),b&&(X=L>>1),a&&(V=this.j[0].length>>2),u&&this.Ic(L,X,V,this.vd,u),this.Ic(L,X,V,this.j,t),this.Ic(L,X,V,this.H,v),this.Ic(L,
X,V,this.wa,B),this.Ic(L,X,V,this.m,w),this.Ic(L,X,V,this.ta,z)),this.Zc.S((this.F-1>>4)+1,this.I,V,X,M,N,this.Dc),this.ma+=M,this.ka+=N,this.ha&&(this.ma-=N/2|0),this.A.J+=M,this.A.L+=M,this.A.N+=N,this.A.K+=N,this.ya.J+=M,this.ya.L+=M,this.ya.N+=N,this.ya.K+=N,this.zb.J+=M,this.zb.L+=M,this.zb.N+=N,this.zb.K+=N,this.mb.J+=M,this.mb.L+=M,this.mb.N+=N,this.mb.K+=N,0<this.pc)for(b=0;b<this.pc;b+=1)c=this.wc[(b<<1)+1],a=(c>>16)+M,c=(c&65535)+N,this.wc[(b<<1)+1]=a<<16|c};qa.prototype.Vl=function(a,b,
c){var d=this.width,f=this.height,e=!1,g=!1,k=!1;if(d<this.ea||f<this.ea)if(d<this.ea&&(b.J<=c||b.L>=d-c)&&(e=!0),f<this.ea&&(b.K<=c||b.N>=f-c)&&(g=!0),e||g)this.Vf(e,g,!0),k=!0,e&&(a.va+=this.width>>2,a.ya+=this.width>>2),g&&(a.Cb+=this.height>>2,a.Ib+=this.height>>2),a.g.ha&&g&&(a.va-=this.height>>3,a.ya-=this.height>>3),e&&(a.H+=this.width>>2),g&&(a.F+=this.height>>2),e&&(b.J+=this.width>>2,b.L+=this.width>>2),g&&(b.K+=this.height>>2,b.N+=this.height>>2);return k};qa.prototype.Ul=function(a,b,
c){for(c=c+1>>1;this.Vl(a,b,c););};qa.prototype.Bo=function(){var a,b,c=this.ic;for(a=0;65536>a;a+=1){var d=a;for(b=0;d;b+=1)d&=d-1;c[a]=b}};qa.prototype.Ho=function(){var a,b,c=this.qh,d=this.xa;for(a=0;256>a;a+=1)for(b=0;8>b;b+=1)c[(a<<3)+b]=a&1<<7-b?d:0};qa.prototype.Oo=function(a,b){U.R&&U.KK&&this.view.i?this.Da||this.s||this.D||this.G||this.la?this.nl(a,b):(this.B=va.MJ(a.o.byteOffset|0,a[0].length|0,this.A.J|0,this.A.K|0,this.A.L|0,this.A.N|0),this.ga=0):this.nl(a,b)};qa.prototype.nl=function(a,
b){var c,d=0,f=this.ic;var e=0;var g=this.A;var k=g.J,l=g.L,p=g.N;g=g.K;this.Da&&(e=2<this.i?this.u+this.i-1:y.xa);if(this.Da||this.s||this.D||this.G||this.la)for(;g<=p;g+=1)for(a=b[g],c=k;c<=l;c+=1){var n=a[c];0<n&&(this.s?d+=f[n-this.u]:this.Da?n===e&&(d+=1):this.G?0<n&&(d+=1):d+=1)}else for(k>>=4,l>>=4;g<=p;g+=1)for(b=a[g],c=k;c<=l;c+=1)e=f[b[c]],d+=e;this.B=d;this.ga=this.na=0};qa.prototype.rl=function(a,b){var c=this.oa,d=!1;var f=this.fc?4278190080:255;if(this.displayWidth!==a||this.displayHeight!==
b)d=!0;this.displayWidth=a;this.displayHeight=b;this.Hg=this.eo=this.Oc=this.Kc=null;U.R&&this.T.I();a=this.T.A(ra.rt,c.canvas.width*c.canvas.height*4,"Life.imageData",U.R);this.Kc=new ImageData(a,c.canvas.width,c.canvas.height);U.R&&(this.Vg=this.T.A(ra.lc,this.displayWidth,"Life.xOffsets",U.R),this.wj=this.T.A(ra.lc,this.displayWidth,"Life.xMaxOffsets",U.R));this.Kc.data.buffer?this.Oc=new Uint32Array(this.Kc.data.buffer,this.Kc.data.byteOffset,c.canvas.width*c.canvas.height):(this.Oc=new Uint32Array(this.Kc.data.length>>
2),this.eo=new Uint8Array(this.Oc.buffer));d&&(this.em(f),this.Ri(),null!==this.Yb&&(this.Yb.width=this.displayWidth+F.Pb,this.Yb.height=this.displayHeight+F.Pb,this.xf=this.Yb.getContext("2d",{alpha:!1}),this.yh=this.xf.createImageData(this.Yb.width,this.Yb.height)))};qa.prototype.sm=function(a,b,c){var d,f,e=this.h,g=a.width,k=a.height,l=this.Ia,p=this.Ha,n=this.Jh,q=F.sb[2];for(f=0;f<k;f+=1){var m=a.ca[f];var r=e[f+c&p];for(d=0;d<g;d+=1)m[d]===q&&(r[d+b&l]=n)}};qa.prototype.zn=function(){this.vc=
this.Mg=this.Eb=this.Wa=null};qa.prototype.Rm=function(){this.Wa=Array.matrix(ra.cb,this.height,this.width,0,this.T,"Life.overlayGrid",U.R);this.Eb=Array.matrix(ra.cb,this.height,this.width,0,this.T,"Life.smallOverlayGrid",U.R);this.Mg=Array.pe(ra.Xa,this.Wa,"Life.overlayGrid16");this.vc=Array.pe(ra.lc,this.Wa,"Life.overlayGrid32")};qa.prototype.Bn=function(){this.vd=this.$d=this.He=this.bd=null};qa.prototype.Cl=function(){this.bd=Array.matrix(ra.Xa,this.height,(this.width-1>>4)+1,0,this.T,"Life.state6Mask",
!1);this.He=Array.matrix(ra.Xa,this.height,(this.width-1>>4)+1,0,this.T,"Life.state6Alive",!1);this.$d=Array.matrix(ra.Xa,this.height,(this.width-1>>4)+1,0,this.T,"Life.state6Cells",!1);this.vd=Array.matrix(ra.Xa,this.I,(this.F-1>>4)+1,0,this.T,"Life.state6TileGrid",!1)};qa.prototype.rb=function(){var a,b,c=this.Ia,d=this.Ha,f=this.vd,e=this.v?6:F.sb[6]+128,g=this.v?this.h:this.Wa,k=this.sj,l=this.width,p=-1,n=this.height,q=-1;if(this.O)for(this.bd.o.fill(0),this.$d.o.fill(0),this.He.o.fill(0),this.vd.o.fill(0),
b=0;b<this.height;b+=1){var m=g[b];if(0<b){var r=this.bd[b-1&d];var u=f[(b-1&d)>>4]}else u=r=null;var t=this.bd[b&d];var v=f[(b&d)>>4];var B=this.$d[b&d];if(b<this.height-1){var w=this.bd[b+1&d];var z=f[(b+1&d)>>4]}else z=w=null;for(a=0;a<this.width;a+=1)if(m[a]===e){a<l&&(l=a);a>p&&(p=a);b<n&&(n=b);b>q&&(q=b);var E=a&c;B[E>>4]|=1<<(~E&15);r&&(r[E>>4]|=1<<(~E&15),u[E>>8]|=1<<(~(E>>4)&15));t[E>>4]|=1<<(~E&15);v[E>>8]|=1<<(~(E>>4)&15);w&&(w[E>>4]|=1<<(~E&15),z[E>>8]|=1<<(~(E>>4)&15));0<a&&(E=a-1&c,
!this.wd&&r&&(r[E>>4]|=1<<(~E&15),u[E>>8]|=1<<(~(E>>4)&15)),t[E>>4]|=1<<(~E&15),v[E>>8]|=1<<(~(E>>4)&15),this.ha||this.wd||!w||(w[E>>4]|=1<<(~E&15),z[E>>8]|=1<<(~(E>>4)&15)));a<this.width-1&&(E=a+1&c,this.ha||this.wd||!r||(r[E>>4]|=1<<(~E&15),u[E>>8]|=1<<(~(E>>4)&15)),t[E>>4]|=1<<(~E&15),v[E>>8]|=1<<(~(E>>4)&15),!this.wd&&w&&(w[E>>4]|=1<<(~E&15),z[E>>8]|=1<<(~(E>>4)&15)))}}else for(b=0;b<this.height;b+=1)for(m=g[b],a=0;a<this.width;a+=1)6===m[a]&&(a<l&&(l=a),a>p&&(p=a),b<n&&(n=b),b>q&&(q=b));k.J=
l;k.K=n;k.L=p;k.N=q};qa.prototype.cg=function(a){if(!(this.s||this.D||this.Da))switch(this.ab){case y.kg:U.R&&U.JK&&this.view.i?va.LJ(a.o.byteOffset|0,a[0].length|0,this.h.o.byteOffset|0,this.h[0].length|0,y.xa|0,this.A.J|0,this.A.K|0,this.A.L|0,this.A.N|0):this.dj(a);break;case y.vf:this.Co(a);break;case y.lg:this.dj(a);this.Hj();break;case y.Kf:this.dj(a)}};qa.prototype.Co=function(a){var b,c=this.h;var d=this.A;var f=d.J>>4,e=d.L>>4,g=d.N;for(b=d.K;b<=g;b+=1){var k=a[b];var l=c[b];var p=f<<4;for(d=
f;d<=e;d+=1){var n=k[d]>>8;l[p]=n&128?(b+p&127)+64:0;p+=1;l[p]=n&64?(b+p&127)+64:0;p+=1;l[p]=n&32?(b+p&127)+64:0;p+=1;l[p]=n&16?(b+p&127)+64:0;p+=1;l[p]=n&8?(b+p&127)+64:0;p+=1;l[p]=n&4?(b+p&127)+64:0;p+=1;l[p]=n&2?(b+p&127)+64:0;p+=1;l[p]=n&1?(b+p&127)+64:0;p+=1;n=k[d]&255;l[p]=n&128?(b+p&127)+64:0;p+=1;l[p]=n&64?(b+p&127)+64:0;p+=1;l[p]=n&32?(b+p&127)+64:0;p+=1;l[p]=n&16?(b+p&127)+64:0;p+=1;l[p]=n&8?(b+p&127)+64:0;p+=1;l[p]=n&4?(b+p&127)+64:0;p+=1;l[p]=n&2?(b+p&127)+64:0;p+=1;l[p]=n&1?(b+p&127)+
64:0;p+=1}}};qa.prototype.dj=function(a){var b,c,d=this.Ua,f=new Uint32Array(this.qh.buffer,this.qh.byteOffset,this.qh.length/4);var e=this.A;var g=e.J>>4,k=e.L>>4,l=e.N;e=e.K;if(!(this.s||this.D||this.Da))for(b=e;b<=l;b+=1){var p=a[b];var n=d[b];var q=g<<2;for(e=g;e<=k;e+=1){if(c=p[e]){var m=c>>8<<1;n[q]=f[m];q+=1;n[q]=f[m+1];q+=1;m=(c&255)<<1;n[q]=f[m];q+=1;n[q]=f[m+1]}else n[q]=0,q+=1,n[q]=0,q+=1,n[q]=0,q+=1,n[q]=0;q+=1}}};qa.prototype.Cc=function(a){var b=[],c,d;for(d=0;7>d;d+=1){var f=[];for(c=
0;7>c;c+=1)f[c]=0;b[d]=f}for(d=0;3>d;d+=1)for(c=0;3>c;c+=1)b[d+2][c+2]=a[d][c];return b};qa.prototype.Am=function(){this.Di=this.Cc(y.tH);this.Ei=this.Cc(y.uH);this.Fi=this.Cc(y.vH);this.Gi=this.Cc(y.wH);this.zi=this.Cc(y.pH);this.Ai=this.Cc(y.qH);this.Bi=this.Cc(y.rH);this.Ci=this.Cc(y.sH);this.Li=this.Cc(y.BH);this.Mi=this.Cc(y.CH);this.Ni=this.Cc(y.DH);this.Oi=this.Cc(y.EH);this.Hi=this.Cc(y.xH);this.Ii=this.Cc(y.yH);this.Ji=this.Cc(y.zH);this.Ki=this.Cc(y.AH)};qa.prototype.No=function(a,b,c){var d=
this.Bd,f=this.ia,e=this.ba;this.Dc=!1;this.Ia=this.width-1;this.Ha=this.height-1;this.A=new Ua(0,0,this.width-1,this.height-1);this.zb=new Ua(0,0,this.width-1,this.height-1);this.ya=new Ua(0,0,this.width-1,this.height-1);this.Pi=new Ua(0,0,this.width-1,this.height-1);this.sj=new Ua(this.width,this.height,-1,-1);this.mb=new Ua(0,0,this.width-1,this.height-1);this.oa=a;this.Ho();this.rl(b,c);d.fill(0);f.fill(0);e.fill(0);this.Am()};qa.prototype.Km=function(){var a=0;this.pa[a]=new Oa("Mono",new xa(new T(0,
0,0),new T(0,0,0)),new xa(new T(255,255,255),new T(255,255,255)),new T(0,0,0),new T(255,255,255),new xa(new T(64,64,64),new T(-1,-1,-1)),new xa(new T(0,0,0),new T(0,0,0)),new T(0,0,0),[new T(64,64,64),new T(64,64,64),new T(128,128,128),new T(64,64,64),new T(128,128,128),new T(128,128,128),new T(192,192,192),new T(64,64,64),new T(128,128,128),new T(128,128,128),new T(192,192,192),new T(128,128,128),new T(192,192,192),new T(192,192,192),new T(255,255,255)]);a+=1;this.pa[a]=new Oa("Blues",new xa(new T(0,
0,47),new T(0,0,255)),new xa(new T(0,255,255),new T(255,255,255)),new T(0,0,0),new T(0,255,255),new xa(new T(0,0,255),new T(-1,-1,-1)),new xa(new T(0,0,47),new T(0,0,128)),new T(0,0,0),[new T(0,128,255),new T(0,255,128),new T(0,192,192),new T(128,0,255),new T(0,0,255),new T(96,128,192),new T(128,255,224),new T(255,0,128),new T(96,96,192),new T(128,128,255),new T(128,224,255),new T(192,0,192),new T(255,128,224),new T(224,128,225),new T(224,224,255)]);a+=1;this.pa[a]=new Oa("Fire",new xa(new T(32,0,
0),new T(160,0,0)),new xa(new T(255,144,0),new T(255,255,0)),new T(0,0,0),new T(255,144,0),new xa(new T(240,0,0),new T(-1,-1,-1)),new xa(new T(32,0,0),new T(160,0,0)),new T(0,0,0),[new T(128,0,0),new T(128,0,48),new T(192,0,48),new T(128,48,48),new T(192,64,0),new T(192,48,64),new T(224,48,64),new T(128,48,0),new T(192,48,0),new T(192,0,64),new T(224,48,64),new T(192,64,48),new T(224,64,48),new T(224,64,64),new T(255,192,0)]);a+=1;this.pa[a]=new Oa("Poison",new xa(new T(0,24,0),new T(0,128,0)),new xa(new T(0,
255,255),new T(255,255,255)),new T(0,0,0),new T(0,255,255),new xa(new T(0,192,0),new T(-1,-1,-1)),new xa(new T(0,24,0),new T(0,128,0)),new T(0,0,0),[new T(0,128,255),new T(0,255,128),new T(0,192,192),new T(64,0,255),new T(0,0,255),new T(48,128,192),new T(64,255,224),new T(0,128,128),new T(48,128,192),new T(64,128,255),new T(64,224,255),new T(0,96,192),new T(64,128,224),new T(56,128,255),new T(224,255,224)]);a+=1;this.pa[a]=new Oa("Yellow",new xa(new T(0,47,0),new T(128,0,128)),new xa(new T(255,255,
0),new T(255,255,255)),new T(0,32,128),new T(255,255,0),new xa(new T(192,64,64),new T(-1,-1,-1)),new xa(new T(0,47,0),new T(128,0,128)),new T(0,32,128),[new T(0,150,0),new T(50,100,0),new T(50,200,0),new T(150,0,0),new T(75,25,0),new T(200,100,0),new T(200,225,0),new T(100,50,0),new T(100,200,0),new T(25,75,0),new T(150,255,0),new T(200,50,0),new T(225,200,0),new T(255,225,0),new T(255,255,0)]);a+=1;this.pa[a]=new Oa("Gray",new xa(new T(16,16,16),new T(104,104,104)),new xa(new T(176,176,176),new T(240,
240,240)),new T(0,0,0),new T(240,240,240),new xa(new T(160,160,160),new T(-1,-1,-1)),new xa(new T(16,16,16),new T(104,104,104)),new T(0,0,0),[new T(128,128,128),new T(128,128,128),new T(144,144,144),new T(128,128,128),new T(144,144,144),new T(144,144,144),new T(160,160,160),new T(128,128,128),new T(144,144,144),new T(144,144,144),new T(160,160,160),new T(144,144,144),new T(160,160,160),new T(160,160,160),new T(192,192,192)]);a+=1;this.pa[a]=new Oa("Inverse",new xa(new T(255,255,255),new T(255,255,
255)),new xa(new T(0,0,0),new T(0,0,0)),new T(255,255,255),new T(0,0,0),new xa(new T(192,192,192),new T(-1,-1,-1)),new xa(new T(255,255,255),new T(255,255,255)),new T(255,255,255),[new T(192,192,192),new T(192,192,192),new T(128,128,128),new T(192,192,192),new T(128,128,128),new T(128,128,128),new T(64,64,64),new T(192,192,192),new T(128,128,128),new T(128,128,128),new T(64,64,64),new T(128,128,128),new T(64,64,64),new T(64,64,64),new T(0,0,0)]);a+=1;this.pa[a]=new Oa("Day",new xa(new T(240,240,240),
new T(0,255,255)),new xa(new T(0,0,255),new T(0,0,0)),new T(255,255,255),new T(0,0,255),new xa(new T(0,255,255),new T(-1,-1,-1)),new xa(new T(240,240,240),new T(0,192,192)),new T(255,255,255),[new T(192,224,255),new T(192,255,224),new T(192,0,192),new T(224,192,255),new T(128,128,255),new T(96,96,192),new T(0,128,32),new T(255,192,224),new T(96,128,192),new T(0,0,255),new T(0,32,128),new T(0,192,192),new T(128,0,32),new T(32,0,128),new T(0,0,32)]);a+=1;this.pa[a]=new Oa("Occupied",new xa(new T(240,
240,240),new T(240,240,240)),new xa(new T(240,240,240),new T(240,240,240)),new T(0,0,0),new T(240,240,240),new xa(new T(240,240,240),new T(240,240,240)),new xa(new T(240,240,240),new T(240,240,240)),new T(0,0,0),[new T(240,240,240),new T(240,240,240),new T(240,240,240),new T(240,240,240),new T(240,240,240),new T(240,240,240),new T(240,240,240),new T(240,240,240),new T(240,240,240),new T(240,240,240),new T(240,240,240),new T(240,240,240),new T(240,240,240),new T(240,240,240),new T(240,240,240)]);a+=
1;this.pa[a]=new Oa("Red",new xa(new T(160,0,0),new T(160,0,0)),new xa(new T(240,240,240),new T(240,240,240)),new T(0,0,0),new T(255,255,255),new xa(new T(160,160,160),new T(160,160,160)),new xa(new T(160,0,0),new T(160,0,0)),new T(0,0,0),[new T(255,255,255),new T(255,255,255),new T(255,255,255),new T(255,255,255),new T(255,255,255),new T(255,255,255),new T(255,255,255),new T(255,255,255),new T(255,255,255),new T(255,255,255),new T(255,255,255),new T(255,255,255),new T(255,255,255),new T(255,255,
255),new T(255,255,255)]);a+=1;this.pa[a]=new Oa("LifeHistory",new xa(new T(0,0,96),new T(0,0,160)),new xa(new T(0,240,0),new T(16,255,16)),new T(0,0,0),new T(16,255,16),new xa(new T(0,128,160),new T(-1,-1,-1)),new xa(new T(0,0,96),new T(0,0,160)),new T(0,0,0),[new T(255,0,0),new T(192,192,0),new T(224,144,0),new T(0,192,192),new T(192,144,144),new T(144,192,144),new T(255,224,192),new T(0,0,255),new T(192,0,192),new T(144,144,192),new T(255,192,255),new T(0,144,224),new T(128,96,224),new T(144,192,
224),new T(224,224,224)]);a+=1;this.pa[a]=new Oa("Generations",new xa(new T(64,0,0),new T(255,0,0)),new xa(new T(255,255,0),new T(255,255,255)),new T(0,0,0),new T(255,255,0),new xa(new T(255,0,0),new T(-1,-1,-1)),new xa(new T(64,0,0),new T(128,0,0)),new T(0,0,0),[new T(255,128,0),new T(224,128,64),new T(192,192,0),new T(255,16,32),new T(255,0,0),new T(192,128,48),new T(255,224,64),new T(128,32,64),new T(192,96,48),new T(255,128,64),new T(255,224,64),new T(192,24,48),new T(224,128,128),new T(255,218,
112),new T(255,255,224)]);a+=1;this.pa[a]=new Oa("Golly",new xa(new T(48,48,48),new T(48,48,48)),new xa(new T(255,255,255),new T(255,255,255)),new T(48,48,48),new T(255,0,0),new xa(new T(255,255,0),new T(-1,-1,-1)),new xa(new T(48,48,48),new T(48,48,48)),new T(48,48,48),[new T(0,255,127),new T(127,0,255),new T(148,148,148),new T(128,255,9),new T(255,0,128),new T(0,128,255),new T(1,159,0),new T(159,0,1),new T(255,254,96),new T(0,1,159),new T(96,255,254),new T(254,96,255),new T(126,125,21),new T(21,
126,125),new T(125,21,126)]);this.pa[a].I(10,new T(80,80,80),new T(112,112,112));a+=1;this.pa[a]=new Oa("MCell",new xa(new T(0,0,0),new T(0,0,0)),new xa(new T(255,255,0),new T(255,255,0)),new T(0,0,0),new T(255,255,0),new xa(new T(0,255,0),new T(-1,-1,-1)),new xa(new T(0,0,0),new T(0,0,0)),new T(0,0,0),[new T(255,255,0),new T(255,219,0),new T(255,183,0),new T(255,147,0),new T(255,111,0),new T(255,75,0),new T(255,39,0),new T(255,0,0),new T(240,0,0),new T(225,0,0),new T(210,0,0),new T(195,0,0),new T(180,
0,0),new T(165,0,0),new T(150,0,0)]);this.pa[a].I(5,new T(64,0,0),new T(99,3,1));a+=1;this.pa[a]=new Oa("Catagolue",new xa(new T(160,221,204),new T(160,221,204)),new xa(new T(0,0,0),new T(0,0,0)),new T(192,255,238),new T(0,0,0),new xa(new T(96,192,139),new T(2,129,2)),new xa(new T(160,221,204),new T(160,221,204)),new T(192,255,238),[new T(0,0,0),new T(0,128,0),new T(0,64,0),new T(255,0,0),new T(128,0,0),new T(128,64,0),new T(85,43,0),new T(0,0,255),new T(0,0,128),new T(0,64,128),new T(0,43,85),new T(128,
0,128),new T(85,0,85),new T(85,43,85),new T(64,32,64)]);this.pa[a].I(0,new T(160,221,204),new T(160,221,204));a+=1;this.pa[a]=new Oa("Caterer",new xa(new T(54,57,62),new T(54,57,62)),new xa(new T(255,255,255),new T(255,255,255)),new T(54,57,62),new T(255,170,0),new xa(new T(255,85,0),new T(-1,-1,-1)),new xa(new T(54,57,62),new T(54,57,62)),new T(54,57,62),[new T(48,93,148),new T(58,73,148),new T(144,137,188),new T(78,72,128),new T(134,137,218),new T(124,147,228),new T(130,151,242),new T(78,93,118),
new T(114,107,218),new T(114,137,238),new T(120,171,242),new T(84,137,188),new T(150,171,212),new T(150,151,222),new T(186,205,255)]);this.pa[a].I(0,new T(0,0,0),new T(0,0,0));a+=1;this.pa[a]=new Oa("Life32",new xa(new T(255,255,255),new T(255,255,255)),new xa(new T(0,0,128),new T(0,0,128)),new T(255,255,255),new T(0,0,128),new xa(new T(0,0,64),new T(-1,-1,-1)),new xa(new T(255,255,255),new T(255,255,255)),new T(255,255,255),[new T(255,128,128),new T(192,192,128),new T(224,144,96),new T(128,192,192),
new T(192,112,112),new T(144,192,144),new T(128,96,64),new T(128,128,255),new T(192,96,192),new T(112,112,192),new T(128,64,128),new T(96,144,224),new T(64,32,160),new T(32,96,128),new T(32,32,32)]);this.pa[a].I(5,new T(192,192,192),new T(128,128,128));a+=1;this.pa[a]=new Oa("Margolus",new xa(new T(0,0,47),new T(0,0,128)),new xa(new T(255,255,0),new T(255,255,255)),new T(0,0,0),new T(255,255,0),new xa(new T(64,64,128),new T(-1,-1,-1)),new xa(new T(0,0,47),new T(0,0,128)),new T(0,0,0),[new T(255,128,
0),new T(224,128,64),new T(192,192,0),new T(255,16,32),new T(255,0,0),new T(192,128,48),new T(224,255,64),new T(128,32,64),new T(192,96,48),new T(255,128,64),new T(255,224,64),new T(192,24,48),new T(224,128,128),new T(255,128,112),new T(255,255,224)]);this.pa[a].I(2,new T(64,64,128),new T(32,32,255));a+=1;this.pa[a]=new Oa("PCA",new xa(new T(24,24,24),new T(64,64,64)),new xa(new T(176,176,176),new T(240,240,240)),new T(0,0,0),new T(240,240,240),new xa(new T(160,160,160),new T(-1,-1,-1)),new xa(new T(24,
24,24),new T(64,64,64)),new T(0,0,0),[new T(255,0,0),new T(0,255,0),new T(128,128,0),new T(16,16,255),new T(128,0,128),new T(0,128,128),new T(96,96,96),new T(255,255,0),new T(255,128,0),new T(128,255,0),new T(170,170,0),new T(144,144,144),new T(170,85,85),new T(85,128,43),new T(128,128,64)]);a+=1;this.pa[a]=new Oa("Book",new xa(new T(255,220,192),new T(192,220,255)),new xa(new T(0,0,0),new T(0,0,0)),new T(255,255,255),new T(0,0,0),new xa(new T(128,128,128),new T(48,48,48)),new xa(new T(255,220,192),
new T(192,220,255)),new T(255,255,255),[new T(255,128,128),new T(192,192,128),new T(224,144,96),new T(128,192,192),new T(192,112,112),new T(144,192,144),new T(128,96,64),new T(128,128,255),new T(192,96,192),new T(112,112,192),new T(128,64,128),new T(96,144,224),new T(64,32,160),new T(32,96,128),new T(32,32,32)]);this.pa[a].I(0,new T(192,192,192),new T(209,209,209));this.pa[a+1]=new Oa(C.mp,new xa(new T(0,0,0),new T(0,0,0)),new xa(new T(0,0,0),new T(0,0,0)),new T(0,0,0),new T(0,0,0),new xa(new T(0,
0,0),new T(0,0,0)),new xa(new T(0,0,0),new T(0,0,0)),new T(0,0,0),[new T(255,0,0),new T(0,255,0),new T(128,128,0),new T(16,16,255),new T(128,0,128),new T(0,128,128),new T(96,96,96),new T(255,255,0),new T(255,128,0),new T(128,255,0),new T(170,170,0),new T(144,144,144),new T(170,85,85),new T(85,128,43),new T(128,128,64)]);this.Mb=this.pa.length-1;this.he=new xa(new T(0,0,0),new T(0,0,0));this.md=new xa(new T(0,0,0),new T(0,0,0));this.Ie=new T(0,0,0);this.Nf=new T(0,0,0);this.ne=new xa(new T(0,0,0),
new T(0,0,0));this.We=new xa(new T(0,0,0),new T(0,0,0));this.gg=new T(0,0,0);this.Ze=[new T(0,0,0),new T(0,0,0),new T(0,0,0),new T(0,0,0),new T(0,0,0),new T(0,0,0),new T(0,0,0),new T(0,0,0),new T(0,0,0),new T(0,0,0),new T(0,0,0),new T(0,0,0),new T(0,0,0),new T(0,0,0),new T(0,0,0)];this.xd=new xa(new T(0,0,0),new T(0,0,0));this.gd=new xa(new T(0,0,0),new T(0,0,0));this.ae=new T(0,0,0);this.zf=new T(0,0,0);this.Wd=new xa(new T(0,0,0),new T(0,0,0));this.me=new xa(new T(0,0,0),new T(0,0,0));this.Ff=new T(0,
0,0);this.Kd=[new T(0,0,0),new T(0,0,0),new T(0,0,0),new T(0,0,0),new T(0,0,0),new T(0,0,0),new T(0,0,0),new T(0,0,0),new T(0,0,0),new T(0,0,0),new T(0,0,0),new T(0,0,0),new T(0,0,0),new T(0,0,0),new T(0,0,0)]};qa.prototype.jj=function(a,b,c){var d=this.pa[a],f;this.qb=a;this.rh();this.he.set(this.xd);this.md.set(this.gd);this.Ie.set(this.ae);this.Nf.set(this.zf);this.We.set(this.me);this.ne.set(this.Wd);this.gg.set(this.Ff);for(f=0;f<this.Kd.length;f+=1)this.Ze[f]=this.Kd[f];12===a&&this.Da?this.xd.set(this.pa[11].i):
this.xd.set(d.i);this.gd.set(d.h);this.ae.set(d.v);this.Ff.set(d.F);for(f=0;f<this.Kd.length;f+=1)this.Kd[f]=d.D[f];this.me.set(d.j);12===a&&this.Da&&(d=this.pa[11]);this.zf.set(d.A);this.Wd.set(d.m);this.Qd=b;this.Lb=d.s;this.xc=d.u;this.lb=a!==this.Mb&&this.ja&&0!==d.B?2:d.B;this.fc?(this.hd=-16777216|(this.Lb&255)<<16|(this.Lb>>8&255)<<8|this.Lb>>16,this.ud=-16777216|(this.xc&255)<<16|(this.xc>>8&255)<<8|this.xc>>16):(this.hd=this.Lb>>16<<24|(this.Lb>>8&255)<<16|(this.Lb&255)<<8|255,this.ud=this.xc>>
16<<24|(this.xc>>8&255)<<16|(this.xc&255)<<8|255);this.O&&(a===this.Mb?this.pi(c.qf,c.Z):this.pi(c.qf,null));c.xn()};qa.prototype.rh=function(){var a=this.ab;a!==y.kg||this.pa[this.qb].H(this.O,this.view)||this.Da||(a=y.Kf);switch(a){case y.kg:this.Qj();break;case y.vf:this.Hm();break;case y.lg:this.Qj();break;case y.Kf:this.Em()}};qa.prototype.Em=function(){var a=this.Te;a[0]=0;a[1]=16384;a[2]=64;a[3]=16448};qa.prototype.Hm=function(){var a=this.Te,b;for(b=0;512>b;b+=1){var c=b&128;var d=b&256;var f=
b&127;var e=0;0!==c&&(e=(f+1&127)+64<<8);0!==d&&(e|=(f&127)+64);a[b]=e}};qa.prototype.Qj=function(){var a=this.Te,b=this.nk,c=this.Me,d=this.xa,f=this.Jh,e=this.ce,g,k=new Uint8Array(256);k[0]=0;k[c+1]=d;for(g=1;g<c+1;g+=1)k[g]=Math.min(Math.max(g-1,f),e),k[g+c+1]=Math.max(Math.min(g+1,c),d);if(0===this.u)for(g=d;g<=c;g+=1)k[g]=0;else this.u<e&&(k[e-this.u]=1);for(g=0;65536>g;g+=1)a[g]=k[g>>8]<<8|k[g&255];for(g=0;131072>g;g+=1)c=g&65407|(g&65536)>>9,b[g]=a[c]};qa.prototype.On=function(){var a;for(a=
0;a<this.pa.length;a+=1){var b=this.pa[a];if(b.G)if(2>=this.i)b.m.i.set(b.A);else{var c=1/(this.i-2);b.m.i.h=b.m.h.h*c+b.A.h*(1-c)|0;b.m.i.j=b.m.h.j*c+b.A.j*(1-c)|0;b.m.i.i=b.m.h.i*c+b.A.i*(1-c)|0}}};qa.prototype.oi=function(){var a;var b=(this.Qd-1)/this.Re;if(!this.la)if(this.G)for(a=0;a<y.Uq.length;a+=1){if(this.sa[a+this.u]=y.Uq[a][0],this.ra[a+this.u]=y.Uq[a][1],this.qa[a+this.u]=y.Uq[a][2],this.rc&&this.rc.length>=a){var c=this.rc[a];-1!==c&&(this.sa[a+this.u]=c>>16,this.ra[a+this.u]=c>>8&255,
this.qa[a+this.u]=c&255)}}else if(this.v)for(a=0;a<y.Vq.length;a+=1)this.sa[a+this.u]=y.Vq[a][0],this.ra[a+this.u]=y.Vq[a][1],this.qa[a+this.u]=y.Vq[a][2],this.rc&&this.rc.length>=a&&(c=this.rc[a],-1!==c&&(this.sa[a+this.u]=c>>16,this.ra[a+this.u]=c>>8&255,this.qa[a+this.u]=c&255));else if(2<this.i||this.D){a=0;this.D?(this.sa[a]=this.Jc[a]>>16,this.ra[a]=this.Jc[a]>>8&255,this.qa[a]=this.Jc[a]&255):(this.sa[a]=Math.round(this.gg.h*b+this.Ff.h*(1-b)),this.ra[a]=Math.round(this.gg.j*b+this.Ff.j*(1-
b)),this.qa[a]=Math.round(this.gg.i*b+this.Ff.i*(1-b)));for(a=1;a<this.i-1;a+=1){c=3>=this.i?0:(a-1)/(this.i-3);if(this.s)this.sa[a+this.u]=Math.round(this.Ze[a-1].h*b+this.Kd[a-1].h*(1-b)),this.ra[a+this.u]=Math.round(this.Ze[a-1].j*b+this.Kd[a-1].j*(1-b)),this.qa[a+this.u]=Math.round(this.Ze[a-1].i*b+this.Kd[a-1].i*(1-b));else if(this.D)this.sa[a]=this.Jc[a]>>16,this.ra[a]=this.Jc[a]>>8&255,this.qa[a]=this.Jc[a]&255;else{var d=Math.round(this.ne.i.h*c+this.ne.h.h*(1-c));var f=Math.round(this.Wd.i.h*
c+this.Wd.h.h*(1-c));this.sa[a+this.u]=Math.round(d*b+f*(1-b));d=Math.round(this.ne.i.j*c+this.ne.h.j*(1-c));f=Math.round(this.Wd.i.j*c+this.Wd.h.j*(1-c));this.ra[a+this.u]=Math.round(d*b+f*(1-b));d=Math.round(this.ne.i.i*c+this.ne.h.i*(1-c));f=Math.round(this.Wd.i.i*c+this.Wd.h.i*(1-c));this.qa[a+this.u]=Math.round(d*b+f*(1-b))}this.rc&&this.rc.length>a&&this.qb===this.Mb&&(c=this.s||this.D?this.rc[a]:this.rc[this.i-a],-1!==c&&(this.sa[a+this.u]=c>>16,this.ra[a+this.u]=c>>8&255,this.qa[a+this.u]=
c&255))}a=this.i-1;this.s?(this.sa[a+this.u]=Math.round(this.Ze[a-1].h*b+this.Kd[a-1].h*(1-b)),this.ra[a+this.u]=Math.round(this.Ze[a-1].j*b+this.Kd[a-1].j*(1-b)),this.qa[a+this.u]=Math.round(this.Ze[a-1].i*b+this.Kd[a-1].i*(1-b))):this.D?(this.sa[a]=this.Jc[a]>>16,this.ra[a]=this.Jc[a]>>8&255,this.qa[a]=this.Jc[a]&255):(this.sa[a+this.u]=Math.round(this.Nf.h*b+this.zf.h*(1-b)),this.ra[a+this.u]=Math.round(this.Nf.j*b+this.zf.j*(1-b)),this.qa[a+this.u]=Math.round(this.Nf.i*b+this.zf.i*(1-b)));this.rc&&
this.rc.length>a&&this.qb===this.Mb&&(c=this.s||this.D?this.rc[a]:this.rc[this.i-a],-1!==c&&(this.sa[a+this.u]=c>>16,this.ra[a+this.u]=c>>8&255,this.qa[a+this.u]=c&255));for(a=0;a<this.u;a+=1)c=1<this.u?1-a/(this.u-1):1,d=Math.round(this.We.h.h*c+this.We.i.h*(1-c)),f=Math.round(this.me.h.h*c+this.me.i.h*(1-c)),this.sa[a+1]=Math.round(d*b+f*(1-b)),d=Math.round(this.We.h.j*c+this.We.i.j*(1-c)),f=Math.round(this.me.h.j*c+this.me.i.j*(1-c)),this.ra[a+1]=Math.round(d*b+f*(1-b)),d=Math.round(this.We.h.i*
c+this.We.i.i*(1-c)),f=Math.round(this.me.h.i*c+this.me.i.i*(1-c)),this.qa[a+1]=Math.round(d*b+f*(1-b));this.rc&&0<this.rc.length&&this.qb===this.Mb&&(c=this.rc[0],-1!==c&&(this.sa[0]=c>>16,this.ra[0]=c>>8&255,this.qa[0]=c&255))}else{a=0;this.sa[a]=Math.round(this.Ie.h*b+this.ae.h*(1-b));this.ra[a]=Math.round(this.Ie.j*b+this.ae.j*(1-b));this.qa[a]=Math.round(this.Ie.i*b+this.ae.i*(1-b));if(0===this.u)for(a=1;a<=this.ce;a+=1)this.sa[a]=Math.round(this.Ie.h*b+this.ae.h*(1-b)),this.ra[a]=Math.round(this.Ie.j*
b+this.ae.j*(1-b)),this.qa[a]=Math.round(this.Ie.i*b+this.ae.i*(1-b));else{var e=this.ce-this.u+1;for(a=1;a<e;a+=1)this.sa[a]=Math.round(this.md.h.h*b+this.gd.h.h*(1-b)),this.ra[a]=Math.round(this.md.h.j*b+this.gd.h.j*(1-b)),this.qa[a]=Math.round(this.md.h.i*b+this.gd.h.i*(1-b));for(a=e;a<=this.ce;a+=1)c=this.ce===e?1:1-(a-e)/(this.ce-e),d=Math.round(this.md.h.h*c+this.md.i.h*(1-c)),f=Math.round(this.gd.h.h*c+this.gd.i.h*(1-c)),this.sa[a]=Math.round(d*b+f*(1-b)),d=Math.round(this.md.h.j*c+this.md.i.j*
(1-c)),f=Math.round(this.gd.h.j*c+this.gd.i.j*(1-c)),this.ra[a]=Math.round(d*b+f*(1-b)),d=Math.round(this.md.h.i*c+this.md.i.i*(1-c)),f=Math.round(this.gd.h.i*c+this.gd.i.i*(1-c)),this.qa[a]=Math.round(d*b+f*(1-b))}for(a=this.xa;a<=this.Me;a+=1)c=0===this.ih?1:a<this.xa+this.ih?1-(a-this.xa)/this.ih:0,d=Math.round(this.he.h.h*c+this.he.i.h*(1-c)),f=Math.round(this.xd.h.h*c+this.xd.i.h*(1-c)),this.sa[a]=Math.round(d*b+f*(1-b)),d=Math.round(this.he.h.j*c+this.he.i.j*(1-c)),f=Math.round(this.xd.h.j*
c+this.xd.i.j*(1-c)),this.ra[a]=Math.round(d*b+f*(1-b)),d=Math.round(this.he.h.i*c+this.he.i.i*(1-c)),f=Math.round(this.xd.h.i*c+this.xd.i.i*(1-c)),this.qa[a]=Math.round(d*b+f*(1-b))}};qa.prototype.Rj=function(a,b){var c=this.sa,d=this.ra,f=this.qa,e;for(e=0;e<a.length;e+=1){var g=b&&-1!==b[e]?b[e]:a[e];c[e]=g>>16;d[e]=g>>8&255;f[e]=g&255}this.Qd=0};qa.prototype.pi=function(a,b){var c=this.sa,d=this.ra,f=this.qa,e=F.sb,g;for(g=0;g<a.length;g+=1)b&&-1!==b[g]?(c[128+e[g]]=b[g]>>16,d[128+e[g]]=b[g]>>
8&255,f[128+e[g]]=b[g]&255):(c[128+e[g]]=a[g]>>16,d[128+e[g]]=a[g]>>8&255,f[128+e[g]]=a[g]&255)};qa.prototype.kb=function(a){this.$a.fill(4294967295);switch(this.ab){case y.kg:this.xk(a);break;case y.vf:this.Xm(a);break;case y.lg:this.Wm(a);break;case y.Kf:this.xk(a)}};qa.prototype.Xm=function(a){var b=this.$a,c,d=255,f=15,e=15,g=0,k=0,l=[[0,1,0],[-1,0,0],[0,0,1],[0,-1,0],[1,0,0],[0,0,-1]],p=this.sa,n=this.ra,q=this.qa,m=this.Ne,r=this.ha&&!this.Fa||this.Z&&!this.Fa,u=this.Lb,t=this.xc;for(c=1;240>=
c;c+=1)b[c]=this.fc?-16777216|e*a<<16|f*a<<8|d*a:d*a<<24|f*a<<16|e*a<<8|255,d+=6*l[k][0],f+=6*l[k][1],e+=6*l[k][2],g+=1,40===g&&(g=0,k+=1);for(c=0;128>c;c+=1)g=240*(c+1)/128|0,b[c]=b[g];for(c=127;0<=c;--c)b[c+64]=b[c],r&&(this.fc?(d=b[c]&255,f=b[c]>>8&255,e=b[c]>>16&255):(d=b[c]>>24,f=b[c]>>16&255,e=b[c]>>8&255),m[c+64]="#"+(16777216+((d<<16)+(f<<8)+e)).toString(16).substring(1));b[0]=this.fc?-16777216|q[0]*a<<16|n[0]*a<<8|p[0]*a:p[0]*a<<24|n[0]*a<<16|q[0]*a<<8|255;this.fc?(this.hd=-16777216|(u&255)<<
16|(u>>8&255)<<8|u>>16,this.ud=-16777216|(t&255)<<16|(t>>8&255)<<8|t>>16):(this.hd=u>>16<<24|(u>>8&255)<<16|(u&255)<<8|255,this.ud=t>>16<<24|(t>>8&255)<<16|(t&255)<<8|255);-1!==this.S&&(c=this.jc,b[c]=this.fc?-16777216|q[c]*a<<16|n[c]*a<<8|p[c]*a:p[c]*a<<24|n[c]*a<<16|q[c]*a<<8|255,r&&(m[c]="#"+(16777216+((p[c]<<16)+(n[c]<<8)+q[c])).toString(16).substring(1)));m[256]=this.ng};qa.prototype.Wm=function(a){var b=this.$a,c=255,d=15,f=15,e=[],g=[[0,1,0],[-1,0,0],[0,0,1],[0,-1,0],[1,0,0],[0,0,-1]];var k=
this.sa;var l=this.ra;var p=this.qa,n=this.Ne,q=this.ha&&!this.Fa||this.Z&&!this.Fa;var m=this.Lb;var r=this.xc;b[0]=this.fc?-16777216|p[0]*a<<16|l[0]*a<<8|k[0]*a:k[0]*a<<24|l[0]*a<<16|p[0]*a<<8|255;this.fc?(this.hd=-16777216|(m&255)<<16|(m>>8&255)<<8|m>>16,this.ud=-16777216|(r&255)<<16|(r>>8&255)<<8|r>>16):(this.hd=m>>16<<24|(m>>8&255)<<16|(m&255)<<8|255,this.ud=r>>16<<24|(r>>8&255)<<16|(r&255)<<8|255);-1!==this.S&&(m=this.jc,b[m]=this.fc?-16777216|p[m]*a<<16|l[m]*a<<8|k[m]*a:k[m]*a<<24|l[m]*a<<
16|p[m]*a<<8|255,q&&(n[m]="#"+(16777216+((k[m]<<16)+(l[m]<<8)+p[m])).toString(16).substring(1)));n[256]=this.ng;k=l=0;for(m=1;240>=m;m+=1)b[m]=this.fc?-16777216|f*a<<16|d*a<<8|c*a:c*a<<24|d*a<<16|f*a<<8|255,c+=6*g[l][0],d+=6*g[l][1],f+=6*g[l][2],k+=1,40===k&&(k=0,l+=1);for(m=0;25>m;m+=1)k=240*(m+1)/25|0,e[m]=b[k-1];for(m=0;25>m;m+=1)b[64+m]=e[m];switch(this.qb){case 0:for(m=0;25>m;m+=1)a=6*m+105,b[64+m]=-16777216|a<<16|a<<8|a;break;case 2:b[64]=4278190131;b[68]=4278203289;b[72]=4278212095;b[76]=4278255615;
b[80]=4294967295;b[84]=4291624959;b[88]=4291624959;for(m=1;4>m;m+=1)b[64+m]=b[64],b[68+m]=b[68],b[72+m]=b[72],b[76+m]=b[76],b[80+m]=b[80],b[84+m]=b[84];break;case 3:b[64]=4284874803;b[68]=4294919168;b[72]=4294967040;b[76]=4294902015;b[80]=4294928127;b[84]=4294967295;b[88]=4294967295;for(m=1;4>m;m+=1)b[64+m]=b[64],b[68+m]=b[68],b[72+m]=b[72],b[76+m]=b[76],b[80+m]=b[80],b[84+m]=b[84];break;case 4:b[64]=4281536768;b[68]=4284892160;b[72]=4278255360;b[76]=4278255615;b[80]=4278233855;b[84]=4294967295;b[88]=
4294967295;for(m=1;4>m;m+=1)b[64+m]=b[64],b[68+m]=b[68],b[72+m]=b[72],b[76+m]=b[76],b[80+m]=b[80],b[84+m]=b[84];break;case 5:for(b[64]=4289331200,b[68]=4278233600,b[72]=4278233770,b[76]=4278220799,b[80]=4278190335,b[84]=4294967295,b[88]=4294967295,m=1;4>m;m+=1)b[64+m]=b[64],b[68+m]=b[68],b[72+m]=b[72],b[76+m]=b[76],b[80+m]=b[80],b[84+m]=b[84]}if(q)for(m=64;89>m;m+=1)this.fc?(c=b[m]&255,d=b[m]>>8&255,f=b[m]>>16&255):(c=b[m]>>24,d=b[m]>>16&255,f=b[m]>>8&255),n[m+64]="#"+(16777216+((c<<16)+(d<<8)+f)).toString(16).substring(1)};
qa.prototype.xk=function(a){var b=this.sa,c=this.ra,d=this.qa,f=this.$a,e=this.Lb,g=this.xc,k=this.Ne,l=this.ha&&!this.Fa||this.Z&&!this.Fa||this.Xd,p=0;if(2<this.i)if(this.fc){f[0]=-16777216|d[0]<<16|c[0]<<8|b[0];l&&(k[p]="#"+(16777216+((b[p]<<16)+(c[p]<<8)+d[p])).toString(16).substring(1));if(this.v||this.G||this.Da||this.s)p=1;else{for(p=1;p<=this.u;p+=1)f[p]=-16777216|d[p]<<16|c[p]<<8|b[p],l&&(k[p]="#"+(16777216+((b[p]<<16)+(c[p]<<8)+d[p])).toString(16).substring(1));p=this.u+1}for(;p<=this.i+
this.u;p+=1)f[p]=-16777216|d[p]*a<<16|c[p]*a<<8|b[p]*a,l&&(k[p]="#"+(16777216+((b[p]<<16)+(c[p]<<8)+d[p])).toString(16).substring(1))}else if(f[0]=b[0]<<24|c[p]<<16|d[p]<<8|255,l&&(k[p]="#"+(16777216+((b[p]<<16)+(c[p]<<8)+d[p])).toString(16).substring(1)),this.v||this.G||this.Da||this.s)for(p=1;p<=this.i+this.u;p+=1)f[p]=b[p]*a<<24|c[p]*a<<16|d[p]*a<<8|255,l&&(k[p]="#"+(16777216+((b[p]<<16)+(c[p]<<8)+d[p])).toString(16).substring(1));else for(p=1;p<=this.u;p+=1)for(f[p]=b[p]<<24|c[p]<<16|d[p]<<8|
255,l&&(k[p]="#"+(16777216+((b[p]<<16)+(c[p]<<8)+d[p])).toString(16).substring(1)),p=this.u+1;p<=this.i+this.u;p+=1)f[p]=b[p]*a<<24|c[p]*a<<16|d[p]*a<<8|255,l&&(k[p]="#"+(16777216+((b[p]<<16)+(c[p]<<8)+d[p])).toString(16).substring(1));else if(this.D)this.fc?(f[0]=-16777216|d[0]<<16|c[0]<<8|b[0],f[1]=-16777216|d[1]*a<<16|c[1]*a<<8|b[1]*a):(f[0]=b[0]<<24|c[0]<<16|d[0]<<8|255,f[1]=b[1]*a<<24|c[1]*a<<16|d[1]*a<<8|255),l&&(k[0]="#"+(16777216+((b[0]<<16)+(c[0]<<8)+d[0])).toString(16).substring(1),k[1]=
"#"+(16777216+((b[1]<<16)+(c[1]<<8)+d[1])).toString(16).substring(1));else if(this.fc){for(p=0;p<this.xa;p+=1)f[p]=-16777216|d[p]<<16|c[p]<<8|b[p],l&&(k[p]="#"+(16777216+((b[p]<<16)+(c[p]<<8)+d[p])).toString(16).substring(1));for(p=this.xa;p<=this.Me;p+=1)f[p]=-16777216|d[p]*a<<16|c[p]*a<<8|b[p]*a,l&&(k[p]="#"+(16777216+((b[p]<<16)+(c[p]<<8)+d[p])).toString(16).substring(1));for(p=this.Me+1;256>p;p+=1)f[p]=-16777216|d[p]*a<<16|c[p]*a<<8|b[p]*a,l&&(k[p]="#"+(16777216+((b[p]<<16)+(c[p]<<8)+d[p])).toString(16).substring(1))}else{for(p=
0;p<this.xa;p+=1)f[p]=b[p]<<24|c[p]<<16|d[p]<<8|255,l&&(k[p]="#"+(16777216+((b[p]<<16)+(c[p]<<8)+d[p])).toString(16).substring(1));for(p=this.xa;p<=this.Me;p+=1)f[p]=b[p]*a<<24|c[p]*a<<16|d[p]*a<<8|255,l&&(k[p]="#"+(16777216+((b[p]<<16)+(c[p]<<8)+d[p])).toString(16).substring(1));for(p=this.Me+1;256>p;p+=1)f[p]=b[p]*a<<24|c[p]*a<<16|d[p]*a<<8|255,l&&(k[p]="#"+(16777216+((b[p]<<16)+(c[p]<<8)+d[p])).toString(16).substring(1))}this.fc?(this.hd=-16777216|(e&255)<<16|(e>>8&255)<<8|e>>16,this.ud=-16777216|
(g&255)<<16|(g>>8&255)<<8|g>>16):(this.hd=e>>16<<24|(e>>8&255)<<16|(e&255)<<8|255,this.ud=g>>16<<24|(g>>8&255)<<16|(g&255)<<8|255);-1!==this.S&&(p=this.jc,f[p]=this.fc?-16777216|d[p]*a<<16|c[p]*a<<8|b[p]*a:b[p]*a<<24|c[p]*a<<16|d[p]*a<<8|255,l&&(k[p]="#"+(16777216+((b[p]<<16)+(c[p]<<8)+d[p])).toString(16).substring(1)),this.v||this.G)&&(f[31]=f[p]);k[256]=this.ng};qa.prototype.Aq=function(){var a=this.sa,b=this.ra,c=this.qa;this.jc=-1!==this.S&&256===this.i+this.u?2:255;-1!==this.S&&256>this.i+this.u&&
(this.fc?(a[this.jc]=this.Le&255,b[this.jc]=this.Le>>8&255,c[this.jc]=this.Le>>16&255):(a[this.jc]=this.Le>>24,b[this.jc]=this.Le>>16&255,c[this.jc]=this.Le>>8&255))};qa.prototype.ni=function(){var a=this.Jd,b=this.h,c=this.P,d=this.Ba,f=this.Wa,e=this.Eb,g=this.j,k=this.wa,l=this.m,p=this.H;this.grid.o.fill(0);a.o.fill(0);b.o.fill(0);c&&c.o.fill(0);d.o.fill(0);f&&(f.o.fill(0),e.o.fill(0));g.o.fill(0);p.o.fill(0);k.o.fill(0);l.o.fill(0)};qa.prototype.Aj=function(a,b){var c=y.HB,d;for(d=0;d<c;d+=1)a[d]=
b[d]};qa.prototype.sh=function(a,b){var c=y.jr,d;for(d=0;d<c;d+=1){var f=b[d>>9&448|d>>6&56|d>>3&7]<<3;f|=b[d>>8&448|d>>5&56|d>>2&7]<<2;f|=b[d>>7&448|d>>4&56|d>>1&7]<<1;f|=b[d>>6&448|d>>3&56|d&7];a[d]=f}};qa.prototype.Tf=function(a,b,c){if(c){var d=new Uint8Array(16);for(c=0;16>c;c+=1){var f=b[c];d[f]=c}for(c=0;c<y.rm;c+=1)f=(d[c>>12]&1)<<2,f|=(d[c>>8&15]&2)<<2,f|=(d[c>>4&15]&4)>>2,f|=(d[c&15]&8)>>2,a[c]=f}else for(c=0;c<y.rm;c+=1)f=(c>>12&1)<<2,f|=(c>>8&2)<<2,f|=(c>>4&4)>>2,f|=(c&8)>>2,a[c]=b[f]};
qa.prototype.Ve=function(a,b){var c,d,f,e;for(c=0;c<y.Xk;c+=1){var g=c>>8;var k=c&255;var l=192;var p=6;for(d=e=f=0;4>d;d+=1){var n=0===p?(k&l)<<2|g&l:(k&l)>>p-2|(g&l)>>p;n=(n&8)>>1|(n&4)<<1|(n&2)>>1|(n&1)<<1;n=b[n];n=(n&8)>>1|(n&4)<<1|(n&2)>>1|(n&1)<<1;f<<=2;e<<=2;f|=n>>2&3;e|=n&3;l>>=2;p-=2}a[c]=e<<8|f}};qa.prototype.Cd=function(a,b){var c,d=0,f=!0,e=new Uint8Array(16);for(c=0;f&&16>c;){var g=1<<a[c];0!==(d&g)?f=!1:(d|=g,c+=1)}if(f){for(c=0;16>c;c+=1)d=a[c],e[d]=c;if(b)for(c=0;c<e.length;c+=1)a[c]=
e[c]}return f};qa.prototype.vk=function(a,b){var c;for(c=0;16>c;c+=1)b[c]=a[15-c];for(c=0;16>c;c+=1)a[c]=15-a[c]};qa.prototype.Zm=function(){var a=this.i,b,c=this.Rd,d=this.yb,f=this.Fc,e,g;var k=a*a;var l=k*a;var p=l*a;var n=p*a;for(b=0;1<<b<a;)b+=1;switch(this.od){case Da.ah:var q=9*b;break;default:q=y.zm+1}if(q<=y.zm){if(null===this.ua&&(this.ua=this.T.h(ra.cb,1<<q,"Life.ruleTreeLookup",U.R),this.Yc=b),this.od===Da.ah){var m=b;var r=m+b;var u=r+b;var t=u+b;var v=t+b;var B=v+b;q=B+b;var w=c[0];
var z=c[1];var E=c[2];var H=c[3];var L=c[4];var M=c[5];var N=c[6];var V=c[7];c=c[8];var X=this.pb/p|0;c=c[X];p=this.pb%p/l|0;E=E[p];l=this.pb%l/k|0;N=N[l];k=this.pb%k/a|0;B=X<<0|p<<B|l<<r|k<<q+b;b=L[k];L=this.pb%a;u=B|L<<u;l=z[L];for(B=0;B<a;B+=1)for(k=u|B<<m,p=V[B],z=0;z<a;z+=1){X=k|z<<q;var I=H[z];for(r=0;r<a;r+=1){var R=M[r];var P=X|r<<v;for(L=0;L<a;L+=1){var S=w[L];var aa=L;for(g=0;g<f;g+=1)if(e=S[g]&l[g])if(e&=E[g]&I[g])if(e&=b[g]&R[g])if(e&=N[g]&p[g]&c[g]){aa=0;for(S=1;!(e&S);)aa+=1,S<<=1;aa=
d[(g<<5)+aa];break}this.ua[P+(L<<t)]=aa}}}this.pb+=1;this.pb===n&&(this.pb=-1)}}else this.ua=null};qa.prototype.Ym=function(){var a=this.i,b,c,d,f,e,g,k,l,p;var n=this.Rd;var q=this.yb,m=this.Fc,r,u;for(b=0;1<<b<a;)b+=1;switch(this.od){case Da.xj:var t=5*b;break;case Da.$g:t=7*b;break;case Da.ah:t=9*b;break;case Da.ak:t=3*b;break;default:t=y.zm+1}if(t<=y.zm)switch(this.ua=this.T.h(ra.cb,1<<t,"Life.ruleTreeLookup",U.R),this.Yc=b,this.od){case Da.xj:var v=0;var B=v+b;var w=B+b;var z=w+b;var E=z+b;b=
n[0];var H=n[1];var L=n[2];var M=n[3];var N=n[4];for(g=0;g<a;g+=1){var V=N[g];for(f=0;f<a;f+=1){var X=L[f];for(c=0;c<a;c+=1){var I=H[c];for(l=0;l<a;l+=1){var R=M[l];var P=g<<E|f<<w|c<<B|l<<v;for(e=0;e<a;e+=1){var S=b[e];var aa=e;for(u=0;u<m;u+=1)if(r=S[u]&I[u])if(r&=X[u]&R[u]&V[u]){aa=0;for(S=1;!(r&S);)aa+=1,S<<=1;aa=q[(u<<5)+aa];break}this.ua[P+(e<<z)]=aa}}}}}break;case Da.ah:t=0;E=t+b;var ma=E+b;B=ma+b;z=B+b;v=z+b;var ea=v+b;w=ea+b;var ca=w+b;b=n[0];H=n[1];L=n[2];M=n[3];N=n[4];var ia=n[5];var oa=
n[6];var ja=n[7];var W=n[8];for(n=0;n<a;n+=1){var na=n<<t;var fa=W[n];for(d=0;d<a;d+=1){var Z=na|d<<ea;var Y=L[d];for(p=0;p<a;p+=1){var pa=Z|p<<ma;var Q=oa[p];for(k=0;k<a;k+=1){var G=pa|k<<ca;var A=N[k];for(c=0;c<a;c+=1){var K=G|c<<B;I=H[c];for(g=0;g<a;g+=1){var O=K|g<<E;V=ja[g];for(f=0;f<a;f+=1){var J=O|f<<w;X=M[f];for(l=0;l<a;l+=1)for(R=ia[l],P=J|l<<v,e=0;e<a;e+=1){S=b[e];aa=e;for(u=0;u<m;u+=1)if(r=S[u]&I[u])if(r&=Y[u]&X[u])if(r&=A[u]&R[u])if(r&=Q[u]&V[u]&fa[u]){aa=0;for(S=1;!(r&S);)aa+=1,S<<=1;
aa=q[(u<<5)+aa];break}this.ua[P+(e<<z)]=aa}}}}}}}}break;case Da.$g:z=0;v=z+b;w=v+b;E=w+b;B=E+b;ca=B+b;t=ca+b;b=n[0];H=n[1];L=n[2];M=n[3];N=n[4];ia=n[5];oa=n[6];for(n=0;n<a;n+=1)for(na=n<<t,fa=oa[n],k=0;k<a;k+=1)for(G=na|k<<ca,A=M[k],c=0;c<a;c+=1)for(K=G|c<<B,I=H[c],g=0;g<a;g+=1)for(O=K|g<<E,V=ia[g],f=0;f<a;f+=1)for(J=O|f<<w,X=L[f],l=0;l<a;l+=1)for(P=J|l<<v,R=N[l],e=0;e<a;e+=1){S=b[e];aa=e;for(u=0;u<m;u+=1)if(r=S[u]&I[u])if(r&=X[u]&A[u])if(r&=R[u]&V[u]&fa[u]){aa=0;for(S=1;!(r&S);)aa+=1,S<<=1;aa=q[(u<<
5)+aa];break}this.ua[P+(e<<z)]=aa}break;case Da.ak:w=0;z=w+b;E=z+b;b=n[0];H=n[1];L=n[2];for(g=0;g<a;g+=1)for(V=H[g],f=0;f<a;f+=1)for(X=L[f],P=g<<E|f<<w,e=0;e<a;e+=1){S=b[e];aa=e;for(u=0;u<m;u+=1)if(r=S[u]&V[u]&X[u]){aa=0;for(S=1;!(r&S);)aa+=1,S<<=1;aa=q[(u<<5)+aa];break}this.ua[P+(e<<z)]=aa}break;default:this.ua=null}else this.ua=null};qa.prototype.Bl=function(){var a=this.fi,b,c,d,f,e,g,k,l,p,n=this.ge,q=this.pd;var m=this.qd;this.Yd=null;for(b=0;1<<b<a;)b+=1;var r=(this.Sd+1)*b;if(r<=y.zm)if(this.ua=
this.T.h(ra.cb,1<<r,"Life.ruleTreeLookup",U.R),this.Yc=b,4===this.Sd){var u=0;var t=u+b;var v=t+b;var B=v+b;var w=B+b;for(g=0;g<a;g+=1)for(f=0;f<a;f+=1)for(c=0;c<a;c+=1)for(l=0;l<a;l+=1){var z=q[q[q[q[n+c]+g]+f]+l];var E=c<<t|f<<v|g<<w|l<<u;for(e=0;e<a;e+=1)this.ua[E+(e<<B)]=m[z+e]}}else if(8===this.Sd){r=0;w=r+b;var H=w+b;t=H+b;B=t+b;u=B+b;var L=u+b;v=L+b;var M=v+b;for(b=0;b<a;b+=1){var N=b<<r;var V=q[n+b];for(d=0;d<a;d+=1){var X=N|d<<L;var I=q[V+d];for(p=0;p<a;p+=1){var R=X|p<<H;var P=q[I+p];for(k=
0;k<a;k+=1){f=R|k<<M;var S=q[P+k];for(c=0;c<a;c+=1){var aa=q[S+c];for(g=0;g<a;g+=1){var ma=q[aa+g];for(f=0;f<a;f+=1){var ea=q[ma+f];for(l=0;l<a;l+=1)for(z=q[ea+l],e=0;e<a;e+=1)E=b<<r|g<<w|p<<H|c<<t|e<<B|l<<u|d<<L|f<<v|k<<M,this.ua[E]=m[z+e]}}}}}}}}else this.ua=null;else if(this.ua=null,8===this.Sd&&r<=y.cC)for(this.Yd=this.T.h(ra.lc,16777216,"Life.ruleTreePartialLookup",U.R),this.Yc=24,w=0,t=w+b,M=t+b,H=M+b,L=H+b,r=L+b,b=0;b<a;b+=1)for(N=b<<r,V=q[n+b],d=0;d<a;d+=1)for(X=N|d<<L,I=q[V+d],p=0;p<a;p+=
1)for(R=X|p<<H,P=q[I+p],k=0;k<a;k+=1)for(f=R|k<<M,S=q[P+k],c=0;c<a;c+=1)for(m=f|c<<t,aa=q[S+c],g=0;g<a;g+=1)v=m|g<<w,ma=q[aa+g],this.Yd[v]=ma};qa.prototype.El=function(){this.Db&&(this.Ef=performance.now(),null===this.yb?this.Bl():this.Ym(),this.Ef=performance.now()-this.Ef)};qa.prototype.dg=function(){var a=!1,b;if(this.D){if(null===this.yb){var c=this.fi;for(b=0;1<<b<c;)b+=1;c=(this.Sd+1)*b}else{c=this.i;for(b=0;1<<b<c;)b+=1;switch(this.od){case Da.xj:c=5*b;break;case Da.ah:c=9*b;break;case Da.$g:c=
7*b;break;default:c=y.zm+1}}c<=y.zm?a=!0:c<=y.cC&&null===this.yb&&8===this.Sd&&(a=!0)}return a};qa.prototype.Dp=function(a){var b=this.Z?this.X.Mb:this.X.m,c=this.Z?this.X.Lb:this.X.ba,d=this.X.ca,f=this.Z?y.HB:y.LH,e=!1,g=null,k=b.length;this.fb=d;if(this.D)this.ua=null,this.pb=-1;else if(this.fb&&this.Da){var l=0;var p=!0;for(k=this.aa.P.length;l<k&&p;)this.aa.P[l]!==this.aa.ja[l]?p=!1:l+=1;if(p){l=0;for(k=this.aa.G.length;l<k&&p;)this.aa.G[l]!==this.aa.ka[l]?p=!1:l+=1;p&&(this.fb=!1,l=a.Y.indexOf("|"),
-1!==l&&(a.Y=a.Y.substring(0,l)),l=a.Wa.indexOf("|"),-1!==l&&(a.Wa=a.Wa.substring(0,l)))}}else{if(this.fb){if(this.ja||this.s)k=16;l=0;for(p=!0;l<k&&p;)b[l]!==c[l]?p=!1:l+=1;p&&(this.fb=!1,l=a.Y.indexOf("|"),-1!==l&&(a.Y=a.Y.substring(0,l)),l=a.Wa.indexOf("|"),-1!==l&&(a.Wa=a.Wa.substring(0,l)));if(this.fb&&(this.ja||this.s))for(l=0;l<k;l+=1)a=b[l],b[l]=c[l],c[l]=a}this.Ae=this.Cb=this.lf=this.ze=this.Bh=this.yg=this.kf=this.Xf=null;if(this.s)this.ze=this.T.h(ra.Xa,y.rm,"Life.PCALookup1",!1),d?(this.lf=
this.T.h(ra.Xa,y.rm,"Life.PCALookup2",!1),this.Tf(this.lf,b,!1),this.Tf(this.ze,c,!1),this.Cd(b,!1)&&this.Cd(c,!1)&&(this.Cb=this.T.h(ra.Xa,y.rm,"Life.PCAReverseLookup1",!1),this.Ae=this.T.h(ra.Xa,y.rm,"Life.PCAReverseLookup2",!1),this.Cd(c,!1),this.Tf(this.Cb,c,!0),this.Cd(b,!1),this.Tf(this.Ae,b,!0))):(this.Tf(this.ze,b,!1),this.Cd(b,!1)&&(this.Cb=this.T.h(ra.Xa,y.rm,"Life.PCAsReverseLookup1",!1),this.Tf(this.Cb,b,!0)));else if(this.ja){this.ze=this.T.h(ra.Xa,y.Xk,"Life.margolusLookup1",!1);if(15===
b[0]&&0===b[15]){d=this.fb=!0;g=new Uint8Array(16);for(l=0;16>l;l+=1)g[l]=b[l];this.vk(b,c)}d?(this.lf=this.T.h(ra.Xa,y.Xk,"Life.margolusLookup2",!1),this.Ve(this.lf,b),this.Ve(this.ze,c),g&&this.Cd(g,!0)?(this.Cb=this.T.h(ra.Xa,y.Xk,"Life.margolusReverseLookup1",!1),this.Ae=this.T.h(ra.Xa,y.Xk,"Life.margolusReverseLookup2",!1),this.vk(g,c),this.Ve(this.Cb,c),this.Ve(this.Ae,g)):this.Cd(b,!1)&&this.Cd(c,!1)&&(this.Cb=this.T.h(ra.Xa,y.Xk,"Life.margolusReverseLookup1",!1),this.Ae=this.T.h(ra.Xa,y.Xk,
"Life.margolusReverseLookup2",!1),this.Cd(b,!0),this.Ve(this.Cb,b),this.Cd(c,!0),this.Ve(this.Ae,c))):(this.Ve(this.ze,b),this.Cd(b,!0)&&(this.Cb=this.T.h(ra.Xa,y.Xk,"Life.margolusReverseLookup1",!1),this.Ve(this.Cb,b)))}else if(this.Z)this.yg=this.T.h(ra.cb,y.GB,"Life.indexLookupTri1",!1),d?(this.Bh=this.T.h(ra.cb,y.GB,"Life.indexLookupTri2",!1),this.Aj(this.Bh,b),this.Aj(this.yg,c)):this.Aj(this.yg,b);else{this.Xf=this.T.h(ra.cb,y.jr,"Life.indexLookup63",U.R);if(-1===this.Td&&b[0])if(b[f-1])for(l=
0;l<f/2;l+=1)a=b[l],b[l]=1-b[f-l-1],b[f-l-1]=1-a;else{for(l=0;l<f/2;l+=1)a=b[l],b[l]=b[f-l-1],b[f-l-1]=a;e=!0;this.kf=this.T.h(ra.cb,y.jr,"Life.indexLookup632",U.R);this.sh(this.kf,b);if(this.G)for(c.set(b),l=0;l<f/2;l+=1)a=c[l],c[l]=1-c[f-l-1],c[f-l-1]=1-a;else for(l=0;l<f/2;l+=1)a=b[l],b[l]=1-b[f-l-1],b[f-l-1]=1-a}this.fb?(this.kf=this.T.h(ra.cb,y.jr,"Life.indexLookup632",U.R),this.sh(this.kf,b),this.sh(this.Xf,c)):(this.sh(this.Xf,b),e&&(this.fb=!0))}}};qa.prototype.Rb=function(a){var b=0;0!==
(a&32768)?b=0:0!==(a&16384)?b=1:0!==(a&8192)?b=2:0!==(a&4096)?b=3:0!==(a&2048)?b=4:0!==(a&1024)?b=5:0!==(a&512)?b=6:0!==(a&256)?b=7:0!==(a&128)?b=8:0!==(a&64)?b=9:0!==(a&32)?b=10:0!==(a&16)?b=11:0!==(a&8)?b=12:0!==(a&4)?b=13:0!==(a&2)?b=14:0!==(a&1)&&(b=15);return b};qa.prototype.Wb=function(a){var b=0;0!==(a&1)?b=15:0!==(a&2)?b=14:0!==(a&4)?b=13:0!==(a&8)?b=12:0!==(a&16)?b=11:0!==(a&32)?b=10:0!==(a&64)?b=9:0!==(a&128)?b=8:0!==(a&256)?b=7:0!==(a&512)?b=6:0!==(a&1024)?b=5:0!==(a&2048)?b=4:0!==(a&4096)?
b=3:0!==(a&8192)?b=2:0!==(a&16384)&&(b=1);return b};qa.prototype.Tm=function(a){var b=this.Wa,c=this.j,d=this.width,f=this.height,e,g=this.A.N,k=this.A.K,l=this.A.J,p=this.A.L,n,q;for(n=0;n<f;n+=1){var m=b[n];var r=c[n>>4];for(q=e=0;q<d;q+=1)0!==m[q]&&(r[q>>8]|=1<<(~(q>>4)&15),e|=m[q],q<l&&(l=q),q>p&&(p=q));e&&(n<k&&(k=n),n>g&&(g=n))}a||(this.A.N=g,this.A.K=k,this.A.J=l,this.A.L=p)};qa.prototype.Yr=function(){U.R&&U.LK&&this.view.i?va.Yr(this.va.o.byteOffset|0,this.va[0].length|0,this.H.o.byteOffset|
0,this.j.o.byteOffset|0,this.j[0].length|0,this.j.o.byteLength|0,this.Z?49152:32768,this.Z?3:1,16,2,this.I|0,this.F|0,this.ba.byteOffset|0,this.ba.length|0,y.Ra|0,y.Oa|0,y.Ka|0,y.La|0,y.Qa|0,y.Sa|0,y.Ja|0,y.Ga|0,this.width|0):this.Jq()};qa.prototype.Jq=function(){var a,b,c,d=this.va,f=this.H,e=this.j,g,k=this.Z?49152:32768,l=this.Z?3:1,p=this.I,n=this.F>>4,q=this.ba;var m=0;var r=m+16;e.o.fill(0);for(b=0;b<p;b+=1){var u=0;var t=f[b];var v=e[b];var B=0<b?e[b-1]:q;var w=b<p-1?e[b+1]:q;for(c=0;c<n;c+=
1)if(g=t[c]){var z=v[c];var E=B[c];var H=w[c];for(a=15;0<=a;--a){if(0!==(g&1<<a)){var L=!1;var M=0;var N=m;var V=d[N];if(V=V[u])L=!0,0!==(V&k)&&(M|=y.Ja,M|=y.Qa),0!==(V&l)&&(M|=y.Ga,M|=y.Ra),M|=y.Oa;for(N+=1;N<r-1;){V=d[N];if(V=V[u])L=!0,0!==(V&k)&&(M|=y.Ja),0!==(V&l)&&(M|=y.Ga);N+=1}V=d[N];if(V=V[u])L=!0,0!==(V&k)&&(M|=y.Ja,M|=y.Sa),0!==(V&l)&&(M|=y.Ga,M|=y.Ka),M|=y.La;L&&(z|=1<<a,M&&(0!==(M&y.Ja)&&(15>a?z|=1<<a+1:0<c&&(v[c-1]|=1)),0!==(M&y.Ga)&&(0<a?z|=1<<a-1:c<n-1&&(v[c+1]|=32768)),0!==(M&y.Oa)&&
(E|=1<<a),0!==(M&y.La)&&(H|=1<<a),0!==(M&y.Qa)&&(15>a?E|=1<<a+1:0<c&&(B[c-1]|=1)),0!==(M&y.Ra)&&(0<a?E|=1<<a-1:c<n-1&&(B[c+1]|=32768)),0!==(M&y.Sa)&&(15>a?H|=1<<a+1:0<c&&(w[c-1]|=1)),0!==(M&y.Ka)&&(0<a?H|=1<<a-1:c<n-1&&(w[c+1]|=32768))))}u+=1}v[c]|=z;0<b&&(B[c]|=E);b<p-1&&(w[c]|=H)}else u+=16;m+=16;r+=16}q.fill(0)};qa.prototype.Iq=function(){var a,b,c,d=this.va,f=this.H,e=this.h,g=this.j,k,l=this.I,p=this.F>>4,n=this.ba;var q=0;var m=q+16;g.o.fill(0);for(b=0;b<l;b+=1){var r=0;var u=f[b];var t=g[b];
var v=0<b?g[b-1]:n;var B=b<l-1?g[b+1]:n;for(c=0;c<p;c+=1)if(k=u[c]){var w=t[c];var z=v[c];var E=B[c];for(a=15;0<=a;--a){if(0!==(k&1<<a)){var H=!1;var L=0;var M=q;var N=d[M];var V=e[M];N=N[r];var X=r<<4;0<V[X]&&(N|=32768);X+=1;0<V[X]&&(N|=16384);X+=1;0<V[X]&&(N|=8192);X+=1;0<V[X]&&(N|=4096);X+=1;0<V[X]&&(N|=2048);X+=1;0<V[X]&&(N|=1024);X+=1;0<V[X]&&(N|=512);X+=1;0<V[X]&&(N|=256);X+=1;0<V[X]&&(N|=128);X+=1;0<V[X]&&(N|=64);X+=1;0<V[X]&&(N|=32);X+=1;0<V[X]&&(N|=16);X+=1;0<V[X]&&(N|=8);X+=1;0<V[X]&&(N|=
4);X+=1;0<V[X]&&(N|=2);X+=1;0<V[X]&&(N|=1);N&&(H=!0,0!==(N&32768)&&(L|=y.Ja,L|=y.Qa),0!==(N&1)&&(L|=y.Ga,L|=y.Ra),L|=y.Oa);for(M+=1;M<m-1;)N=d[M],V=e[M],N=N[r],X=r<<4,0<V[X]&&(N|=32768),X+=1,0<V[X]&&(N|=16384),X+=1,0<V[X]&&(N|=8192),X+=1,0<V[X]&&(N|=4096),X+=1,0<V[X]&&(N|=2048),X+=1,0<V[X]&&(N|=1024),X+=1,0<V[X]&&(N|=512),X+=1,0<V[X]&&(N|=256),X+=1,0<V[X]&&(N|=128),X+=1,0<V[X]&&(N|=64),X+=1,0<V[X]&&(N|=32),X+=1,0<V[X]&&(N|=16),X+=1,0<V[X]&&(N|=8),X+=1,0<V[X]&&(N|=4),X+=1,0<V[X]&&(N|=2),X+=1,0<V[X]&&
(N|=1),N&&(H=!0,0!==(N&32768)&&(L|=y.Ja),0!==(N&1)&&(L|=y.Ga)),M+=1;N=d[M];V=e[M];N=N[r];X=r<<4;0<V[X]&&(N|=32768);X+=1;0<V[X]&&(N|=16384);X+=1;0<V[X]&&(N|=8192);X+=1;0<V[X]&&(N|=4096);X+=1;0<V[X]&&(N|=2048);X+=1;0<V[X]&&(N|=1024);X+=1;0<V[X]&&(N|=512);X+=1;0<V[X]&&(N|=256);X+=1;0<V[X]&&(N|=128);X+=1;0<V[X]&&(N|=64);X+=1;0<V[X]&&(N|=32);X+=1;0<V[X]&&(N|=16);X+=1;0<V[X]&&(N|=8);X+=1;0<V[X]&&(N|=4);X+=1;0<V[X]&&(N|=2);X+=1;0<V[X]&&(N|=1);N&&(H=!0,0!==(N&32768)&&(L|=y.Ja,L|=y.Sa),0!==(N&1)&&(L|=y.Ga,
L|=y.Ka),L|=y.La);H&&(w|=1<<a,L&&(0!==(L&y.Ja)&&(15>a?w|=1<<a+1:0<c&&(t[c-1]|=1)),0!==(L&y.Ga)&&(0<a?w|=1<<a-1:c<p-1&&(t[c+1]|=32768)),0!==(L&y.Oa)&&(z|=1<<a),0!==(L&y.La)&&(E|=1<<a),0!==(L&y.Qa)&&(15>a?z|=1<<a+1:0<c&&(v[c-1]|=1)),0!==(L&y.Ra)&&(0<a?z|=1<<a-1:c<p-1&&(v[c+1]|=32768)),0!==(L&y.Sa)&&(15>a?E|=1<<a+1:0<c&&(B[c-1]|=1)),0!==(L&y.Ka)&&(0<a?E|=1<<a-1:c<p-1&&(B[c+1]|=32768))))}r+=1}t[c]|=w;0<b&&(v[c]|=z);b<l-1&&(B[c]|=E)}else r+=16;q+=16;m+=16}n.fill(0)};qa.prototype.Dn=function(a){var b,c=
this.u+1,d=this.height,f=this.width,e=this.h,g=this.height,k=-1,l=this.width,p=-1;var n=this.ja?-1:0;this.s&&0!==(this.counter&1)&&(e=this.P);if(-1===this.S){var q=0;var m=f-1;var r=0;var u=d-1}else 0===this.ca?(q=0,m=f-1):(q=Math.round((this.width-this.ca)/2)+n,m=q+this.ca),0===this.$?(r=0,u=d-1):(r=Math.round((this.height-this.$)/2)+n,u=r+this.$);for(b=r;b<u;b+=1){var t=e[b];var v=!1;for(n=q;n<m;n+=1){var B=t[n];B>=c&&255>=B&&(v=!0,n<l&&(l=n),n>p&&(p=n))}v&&(b<g&&(g=b),b>k&&(k=b))}if(0>k||g>=d||
l>=f||0>p)g=k=u-r>>1,p=l=m-q>>1;k>d-1&&(k=d-1);0>g&&(g=0);0>l&&(l=0);p>f-1&&(p=f-1);a.N=k;a.K=g;a.J=l;a.L=p};qa.prototype.bc=function(){var a,b,c=this.width>>4,d=this.height,f=this.width,e=this.Wa,g=this.h,k=this.A,l=this.ya,p=this.zb,n=this.height,q=-1,m=this.width,r=-1,u=this.height,t=-1,v=this.width,B=-1,w,z=y.Jh,E=y.ce,H=this.Da?this.view.Ki()>>1:0,L=this.V;if(this.Nb){this.Nb=!1;(this.s||this.D||this.v||this.G)&&0!==(this.counter&1)&&(g=this.P);var M=0!==(this.counter&1)?this.Va:this.va;-1!==
this.S&&this.Df(g,0);if(e)for(b=0;b<d;b+=1){var N=e[b];var V=g[b];for(a=w=0;a<f;a+=1){var X=N[a]||V[a]>=z&&V[a]<=E?1:0;w|=X;X&&(a<v&&(v=a),a>B&&(B=a))}w&&(b<u&&(u=b),b>t&&(t=b))}L.fill(0);if(this.Da&&2===this.i)for(b=0;b<d;b+=1){V=g[b];for(a=w=0;a<f;a+=1)X=V[a]&64,w|=X,X&&(a<m&&(m=a),a>r&&(r=a));w&&(b<n&&(n=b),b>q&&(q=b))}else if(-1!==this.i)for(b=0;b<d;b+=1){V=g[b];for(a=w=0;a<f;a+=1)X=V[a],w|=X,X&&(a<m&&(m=a),a>r&&(r=a));w&&(b<n&&(n=b),b>q&&(q=b))}else{for(b=0;b<d;b+=1){N=M[b];for(a=w=0;a<c;a+=
1)X=N[a],w|=X,L[a]|=X;w&&(b<n&&(n=b),b>q&&(q=b))}for(a=0;a<c;a+=1)L[a]&&(a<m&&(m=a),a>r&&(r=a));m=(m<<4)+this.Rb(L[m]);r=(r<<4)+this.Wb(L[r])}if(0>q||n>=d||m>=f||0>r)n=q=d>>1,r=m=f>>1;e&&(t>q&&(q=t),u<n&&(n=u),v<m&&(m=v),B>r&&(r=B));q>this.height-1-H&&(q=this.height-1-H);n<H&&(n=H);m<H&&(m=H);r>this.width-1-H&&(r=this.width-1-H);this.Da&&2===this.i||(k.N=q,k.K=n,k.J=m,k.L=r);l.N=q;l.K=n;l.J=m;l.L=r;p.N=q;p.K=n;p.J=m;p.L=r}};qa.prototype.bj=function(a){var b=this.A;if(U.R&&U.IK&&this.view.i)if(-1===
this.i&&null===this.Wa){if(0!==(this.counter&1)){var c=this.Va;a=this.H;var d=this.j}else c=this.va,a=this.j,d=this.H;va.KJ(c.o.byteOffset|0,c[0].length|0,a.o.byteOffset|0,d.o.byteOffset|0,a[0].length|0,this.V.byteOffset|0,this.V.length|0,this.Y.byteOffset|0,this.Y.length|0,this.width|0,this.height|0,4,!this.view.Cd||this.view.$a||-1!==this.view.Ta||this.view.Fe?0:1,this.fa.byteOffset|0);var f=this.fa[0];c=this.fa[1];var e=this.fa[2];var g=this.fa[3];b.J=f;b.K=c;b.L=e;b.N=g;(!this.view.Cd||this.view.$a||
-1!==this.view.Ta||this.view.Fe)&&this.Yr();Array.Gf(a,d);Array.Gf(a,this.wa);Array.Gf(a,this.m)}else this.ll(a);else this.ll(a)};qa.prototype.ll=function(a){var b,c,d=this.width>>4,f=this.height,e=this.width,g=this.Wa;var k=this.h;var l=this.A,p=this.ya,n=this.zb,q=this.height,m=-1,r=this.width,u=-1,t=this.height,v=-1,B=this.width,w=-1,z,E=this.V,H=this.wa,L=this.m;if(0!==(this.counter&1)){var M=this.Va;var N=this.H;var V=this.j}else M=this.va,N=this.j,V=this.H;if(g&&!a)for(c=0;c<f;c+=1){var X=g[c];
for(b=z=0;b<e;b+=1){var I=X[b];z|=I;I&&(b<B&&(B=b),b>w&&(w=b))}z&&(c<t&&(t=c),c>v&&(v=c))}E.fill(0);V.o.fill(0);if(-1!==this.i)for(c=0;c<f;c+=1){d=k[c];for(b=z=0;b<e;b+=1)I=d[b],z|=I,I&&(b<r&&(r=b),b>u&&(u=b));z&&(c<q&&(q=c),c>m&&(m=c))}else{for(c=0;c<f;c+=1){k=M[c];for(b=z=0;b<d;b+=1)I=k[b],z|=I,E[b]|=I;z&&(c<q&&(q=c),c>m&&(m=c))}for(b=0;b<d;b+=1)E[b]&&(b<r&&(r=b),b>u&&(u=b));r=(r<<4)+this.Rb(E[r]);u=(u<<4)+this.Wb(E[u])}if(0>m||q>=f||r>=e||0>u)q=m=f>>1,u=r=e>>1,v=m,t=q,B=r,w=u;g&&!a&&-1!==v&&(v<
m&&(m=v),t>q&&(q=t),B<r&&(r=B),w>u&&(u=w));m>this.height-1&&(m=this.height-1);0>q&&(q=0);0>r&&(r=0);u>this.width-1&&(u=this.width-1);l.N=m;l.K=q;l.J=r;l.L=u;p.N=m;p.K=q;p.J=r;p.L=u;n.N=m;n.K=q;n.J=r;n.L=u;0<r&&--r;0<q&&--q;u<this.width-1&&(u+=1);m<this.height-1&&(m+=1);b=q>>4;m>>=4;r>>=8;u>>=8;if(!this.view.Cd||this.view.$a||-1===this.view.Ta||this.view.Fe){for(c=b;c<=m;c+=1)for(I=V[c],b=r;b<=u;b+=1)I[b]=-1;-1!==this.i?this.Iq():this.Yr()}else for(c=b;c<=m;c+=1)for(I=N[c],b=r;b<=u;b+=1)I[b]=-1;g&&
(this.Tm(a),n.N=l.N,n.K=l.K,n.J=l.J,n.L=l.L);Array.Gf(N,V);Array.Gf(N,H);Array.Gf(N,L)};qa.prototype.am=function(){var a=Math.round((this.width-this.ca)/2),b=Math.round((this.height-this.$)/2),c=a+this.ca-1,d=b+this.$-1,f=this.Wa,e=!1,g;--a;c+=1;d+=1;--b;var k=f[d];var l=f[b];if(0===this.ca)for(g=a;g<=c;g+=1)129===l[g]&&(e=!0,l[g]=0),129===k[g]&&(e=!0,k[g]=0);else if(0===this.$)for(b=0;b<this.height;b+=1)129===f[b][a]&&(e=!0,f[b][a]=0),129===f[b][c]&&(e=!0,f[b][c]=0);else{for(g=a;g<=c;g+=1)129===
l[g]&&(e=!0,l[g]=0),129===k[g]&&(e=!0,k[g]=0);for(b+=1;b<=d-1;b+=1)129===f[b][a]&&(e=!0,f[b][a]=0),129===f[b][c]&&(e=!0,f[b][c]=0)}e&&this.rb()};qa.prototype.Al=function(){var a=Math.round((this.width-this.ca)/2),b=Math.round((this.height-this.$)/2),c=a+this.ca-1,d=b+this.$-1,f=a-16,e=b-16,g=c+16,k=d+16,l,p=this.h;0!==(this.counter&1)&&(p=this.P);0>f&&(f=0);g>=this.width&&(g=this.width-1);0>e&&(e=0);e>=this.height&&(e=this.height-1);for(l=e;l<=k;l+=1){var n=p[l];if(l<b||l>d)for(e=f;e<=g;e+=1)0!==
n[e]&&(n[e]=0);else for(e=f;e<=g;e+=1)(e<a||e>c)&&0!==n[e]&&(n[e]=0)}this.j.o.fill(0);this.H.o.fill(0);this.wa.o.fill(0);this.m.o.fill(0);this.Ug();this.B=0;for(l=b;l<=d;l+=1)for(n=p[l],e=a;e<=c;e+=1)0!==n[e]&&(this.B+=1)};qa.prototype.$l=function(a){var b=this.ja?-1:0,c=Math.round((this.width-this.ca)/2)+b;b=Math.round((this.height-this.$)/2)+b;var d=c+this.ca-1,f=b+this.$-1,e=d+a>>4;var g=c-a>>4;var k=d+a>>4;var l=~(1<<(~(c-a)&15)),p=~(1<<(~(d+a)&15)),n,q=this.ic,m=0;if(!(this.s||this.D||this.G)){var r=
0!==(this.counter&1)?this.Va:this.va;var u=r[f+a];var t=r[b-a];if(0===this.ca)for(e=this.width>>4,n=0;n<e;n+=1)m+=q[t[n]],t[n]=0,m+=q[u[n]],u[n]=0;else if(0===this.$)for(b=0,f=this.height,n=0;n<f;n+=1)e=r[n],e[g]&~l&&(m+=1),e[g]&=l,e[k]&~p&&(m+=1),e[k]&=p;else{for(n=c-a>>4;n<=e;n+=1)m+=q[t[n]],t[n]=0,m+=q[u[n]],u[n]=0;for(n=b-a+1;n<=f+a-1;n+=1)e=r[n],e[g]&~l&&(m+=1),e[g]&=l,e[k]&~p&&(m+=1),e[k]&=p}this.B-=m}if(-1!==this.i){r=this.h;(this.s||this.D||this.v||this.G)&&0!==(this.counter&1)&&(r=this.P);
c-=a;d+=a;f+=a;b-=a;g=r[f];k=r[b];if(0===this.ca)for(n=0;n<this.width;n+=1)a=k[n],0!==a&&(k[n]=0,m+=1),a=g[n],0!==a&&(g[n]=0,m+=1);else if(0===this.$)for(n=0;n<this.height;n+=1)a=r[n][c],0!==a&&(r[n][c]=0,m+=1),a=r[n][d],0!==a&&(r[n][d]=0,m+=1);else{for(n=0;n<this.width;n+=1)a=k[n],0!==a&&(k[n]=0,m+=1),a=g[n],0!==a&&(g[n]=0,m+=1);for(n=b+1;n<=f-1;n+=1)a=r[n][c],0!==a&&(r[n][c]=0,m+=1),a=r[n][d],0!==a&&(r[n][d]=0,m+=1)}if(this.D||this.G)this.B-=m}};qa.prototype.Bj=function(a,b,c,d,f){var e=0;this.Da&&
(e=this.view.dj);if(!this.Xo(b,c,d,f))for(this.Ig+=1,f=0;f<a.length;f+=1){var g=a[f];if(this.O)for(d=0;d<g.length;d+=1){if(1===g[d]){var k=this.nb(b+d,c+f,!1);3===k||5===k?this.Zd(b+d,c+f,4,!1):k&1&&this.Zd(b+d,c+f,0,!1);this.ga+=1}}else for(d=0;d<g.length;d+=1)1===g[d]&&(this.Zd(b+d,c+f,e,!1),this.ga+=1)}};qa.prototype.hb=function(a,b,c,d,f,e,g,k){var l,p=0,n=0,q=d+d,m=f+f,r=q+d,u=m+f,t=r+d,v=u+f,B=this.h;var w=this.Da?this.ya:this.A;var z=w.J;var E=w.L;var H=w.K;var L=w.N;var M=this.xa;b-=2;c-=
2;var N=0;for(w=!0;w&&N<a.length;){var V=0;for(l=a[N];w&&V<l.length;){var X=l[V];var I=B[c+N][b+V];I<M&&0===X||I>=M&&1===X||(w=!1);V+=1}N+=1}if(w){V=b+3+d+d;N=c+3+f+f;z+=4*Math.abs(d);E-=4*Math.abs(d);H+=4*Math.abs(d);L-=4*Math.abs(d);for(w=!1;!(w||V<z||V>E||N<H||N>L);)l=B[N],I=l[V],I&64&&(p=V,n=N,w=!0),I=B[N+f][V],I&64&&(p=V,n=N+f,w=!0),I=l[V+d],I&64&&(p=V+d,n=N,w=!0),I=B[N+m][V],I&64&&(p=V,n=N+m,w=!0),I=l[V+q],I&64&&(p=V+q,n=N,w=!0),I=B[N+u][V],I&64&&(p=V,n=N+u,w=!0),I=l[V+r],I&64&&(p=V+r,n=N,w=
!0),I=B[N+v][V],I&64&&(p=V,n=N+v,w=!0),I=l[V+t],I&64&&(p=V+t,n=N,w=!0),I=B[N+v+f][V],I&64&&(p=V,n=N+v+f,w=!0),I=l[V+t+d],I&64&&(p=V+t+d,n=N+f,w=!0),I=B[N+v+f][V],I&64&&(p=V,n=N+v+f,w=!0),I=l[V+t+d],I&64&&(p=V+t+d,n=N,w=!0),I=B[N+v+m][V],I&64&&(p=V,n=N+v+m,w=!0),I=l[V+t+q],I&64&&(p=V+t+q,n=N,w=!0),I=B[N+v+u][V],I&64&&(p=V,n=N+v+u,w=!0),I=l[V+t+r],I&64&&(p=V+t+r,n=N,w=!0),I=B[N-v][V],I&64&&(p=V,n=N-v,w=!0),I=l[V-t],I&64&&(p=V-t,n=N,w=!0),I=B[N-v-f][V],I&64&&(p=V,n=N-v-f,w=!0),I=l[V-t-d],I&64&&(p=V-
t-d,n=N,w=!0),I=B[N-v-m][V],I&64&&(p=V,n=N-v-m,w=!0),l=l[V-t-q],l&64&&(p=V-t-q,n=N,w=!0),V+=d,N+=f;this.$e[this.$e.length]={Lu:a,x:b,y:c,SK:p,XK:n,orientation:e,nB:w,offset:g,xu:k}}return w};qa.prototype.Xo=function(a,b,c,d){var f=!1,e=this.Da?this.ya:this.A,g=e.J,k=e.L,l=e.K;e=e.N;var p=this.h,n=this.xa;switch(c){case y.Ph:if(d===y.gj)for(b+=1,a+=1;b>=l&&!f;){if(p[b][a]>=n||p[b][a+1]>=n||p[b][a+2]>=n)f=!0;--b}else for(b+=5,a+=5;a<=k&&!f;){if(p[b][a]>=n||p[b-1][a]>=n||p[b-2][a]>=n)f=!0;a+=1}break;
case y.Rh:if(d===y.gj)for(b+=5,a+=1;b<=e&&!f;){if(p[b][a]>=n||p[b][a+1]>=n||p[b][a+2]>=n)f=!0;b+=1}else for(b+=1,a+=5;a<=k&&!f;){if(p[b][a]>=n||p[b+1][a]>=n||p[b+2][a]>=n)f=!0;a+=1}break;case y.Sh:if(d===y.hj)for(b+=5,a+=5;b<=e&&!f;){if(p[b][a]>=n||p[b][a-1]>=n||p[b][a-2]>=n)f=!0;b+=1}else for(b+=1,a+=1;a>=g&&!f;){if(p[b][a]>=n||p[b+1][a]>=n||p[b+2][a]>=n)f=!0;--a}break;case y.Qh:if(d===y.hj)for(b+=1,a+=5;b>=l&&!f;){if(p[b][a]>=n||p[b][a-1]>=n||p[b][a-2]>=n)f=!0;--b}else for(b+=5,a+=1;a>=g&&!f;){if(p[b][a]>=
n||p[b-1][a]>=n||p[b-2][a]>=n)f=!0;--a}}return f};qa.prototype.Xl=function(){var a,b=this.$e.length,c;if(1<b)for(a=0;a<b;a+=1){var d=this.$e[a];if(d.nB){var f=d.SK;var e=d.XK;var g=d.orientation;var k=0;for(c=!1;!c&&k<b;){if(k!==a){var l=this.$e[k];var p=l.x+3;var n=l.y+3;f>=p-1&&f<=p+1&&e>=n-1&&e<=n+1&&l.orientation===g&&0===d.offset&&(this.Bj(d.Lu,d.x,d.y,d.orientation,d.xu),c=!0)}k+=1}}else{f=d.x+3;e=d.y+3;g=d.orientation;k=0;for(c=!1;!c&&k<b;){if(k!==a)switch(l=this.$e[k],p=l.x+3,n=l.y+3,l=l.orientation,
g){case y.Qh:l===y.Ph&&e>=n-6&&e<=n+6&&f>=p&&(c=!0);l===y.Sh&&f>=p-6&&f<=p+6&&e>=n&&(c=!0);break;case y.Ph:l===y.Qh&&e>=n-6&&e<=n+6&&f<=p&&(c=!0);l===y.Rh&&f>=p-6&&f<=p+6&&e>=n&&(c=!0);break;case y.Sh:l===y.Rh&&e>=n-6&&e<=n+6&&f>=p&&(c=!0);l===y.Qh&&f>=p-6&&f<=p+6&&e<=n&&(c=!0);break;case y.Rh:l===y.Sh&&e>=n-6&&e<=n+6&&f<=p&&(c=!0),l===y.Ph&&f>=p-6&&f<=p+6&&e<=n&&(c=!0)}k+=1}c||0!==d.offset||this.Bj(d.Lu,d.x,d.y,d.orientation,d.xu)}}else 1===b&&(d=this.$e[0],d.nB||0!==d.offset||this.Bj(d.Lu,d.x,d.y,
d.orientation,d.xu))};qa.prototype.jk=function(){var a=this.Da?this.ya:this.A;var b=a.J;var c=a.L;var d=a.K;var f=a.N,e=new Ua(0,0,0,0),g=this.h,k=this.xa;if(0!==this.B&&!(-1!==this.S||this.Da&&1<this.aa.m)){this.$e=[];16>b&&(b=16);c>=this.width-16&&(c=this.width-16-1);16>d&&(d=16);f>=this.height-16&&(f=this.height-16-1);e.J=b;e.K=d;e.L=c;e.N=f;for(b-=6;b<=c+6;b+=1)for(a=0;5>=a;a+=1){d=e.K+a;f=g[d];f[b]>=k&&(this.hb(this.Di,b,d,-1,1,y.Qh,a,y.Vk)||this.hb(this.Ei,b-1,d,-1,1,y.Qh,a,y.Vk)||this.hb(this.Fi,
b,d,-1,1,y.Qh,a,y.Vk)||this.hb(this.Gi,b-1,d,-1,1,y.Qh,a,y.Vk)||this.hb(this.zi,b,d,1,1,y.Ph,a,y.Vk)||this.hb(this.Ai,b-1,d,1,1,y.Ph,a,y.Vk)||this.hb(this.Bi,b-1,d,1,1,y.Ph,a,y.Vk)||this.hb(this.Ci,b,d,1,1,y.Ph,a,y.Vk));f=e.N-a;var l=g[f];l[b]>=k&&(this.hb(this.Li,b,f-2,-1,-1,y.Sh,a,y.Uk)||this.hb(this.Mi,b-1,f-2,-1,-1,y.Sh,a,y.Uk)||this.hb(this.Ni,b,f-2,-1,-1,y.Sh,a,y.Uk)||this.hb(this.Oi,b-1,f-2,-1,-1,y.Sh,a,y.Uk)||this.hb(this.Hi,b,f-2,1,-1,y.Rh,a,y.Uk)||this.hb(this.Ii,b-1,f-2,1,-1,y.Rh,a,y.Uk)||
this.hb(this.Ji,b-1,f-2,1,-1,y.Rh,a,y.Uk)||this.hb(this.Ki,b,f-2,1,-1,y.Rh,a,y.Uk))}for(d-=6;d<=f+6;d+=1)for(a=0;5>=a;a+=1)l=g[d],b=e.J+a,l[b]>=k&&(this.hb(this.Di,b,d,1,-1,y.Qh,a,y.hj)||this.hb(this.Ei,b,d-1,1,-1,y.Qh,a,y.hj)||this.hb(this.Fi,b,d,1,-1,y.Qh,a,y.hj)||this.hb(this.Gi,b,d-1,1,-1,y.Qh,a,y.hj)||this.hb(this.Li,b,d-1,1,1,y.Sh,a,y.hj)||this.hb(this.Mi,b,d,1,1,y.Sh,a,y.hj)||this.hb(this.Ni,b,d,1,1,y.Sh,a,y.hj)||this.hb(this.Oi,b,d-1,1,1,y.Sh,a,y.hj)),c=e.L-a,l[c]>=k&&(this.hb(this.zi,c-2,
d,-1,-1,y.Ph,a,y.gj)||this.hb(this.Ai,c-2,d-1,-1,-1,y.Ph,a,y.gj)||this.hb(this.Bi,c-2,d,-1,-1,y.Ph,a,y.gj)||this.hb(this.Ci,c-2,d-1,-1,-1,y.Ph,a,y.gj)||this.hb(this.Hi,c-2,d-1,-1,1,y.Rh,a,y.gj)||this.hb(this.Ii,c-2,d,-1,1,y.Rh,a,y.gj)||this.hb(this.Ji,c-2,d,-1,1,y.Rh,a,y.gj)||this.hb(this.Ki,c-2,d-1,-1,1,y.Rh,a,y.gj));this.Xl();this.bc()}};qa.prototype.Ug=function(){var a,b,c=this.ja?-1:0,d=this.ca,f=this.$;for(b=0;1>=b;b+=1){var e=Math.round((this.width-d)/2-1)+c+b>>4;var g=Math.round((this.width+
d)/2)+c-b>>4;var k=Math.round((this.height-f)/2-1+b)+c>>4;var l=Math.round((this.height+f)/2)+c-b>>4;0===f&&(k=0,l=(this.height>>4)-1);0===d&&(e=0,g=(this.width>>4)-1);0>e&&(e=0);0>k&&(k=0);g>=this.width>>4&&(g=(this.width>>4)-1);l>=this.height>>4&&(l=(this.height>>4)-1);if(this.yf)for(;k<=l;k+=1){var p=this.j[k];var n=this.H[k];var q=this.wa[k];var m=this.m[k];for(a=e;a<=g;a+=1){var r=1<<(~a&15);p[a>>4]|=r;n[a>>4]|=r;q[a>>4]|=r;m[a>>4]|=r}}else{for(a=e;a<=g;a+=1)r=1<<(~a&15),this.j[k][a>>4]|=r,this.H[k][a>>
4]|=r,this.wa[k][a>>4]|=r,this.m[k][a>>4]|=r,this.j[l][a>>4]|=r,this.H[l][a>>4]|=r,this.wa[l][a>>4]|=r,this.m[l][a>>4]|=r;for(;k<=l;k+=1)r=1<<(~e&15),this.j[k][e>>4]|=r,this.H[k][e>>4]|=r,this.wa[k][e>>4]|=r,this.m[k][e>>4]|=r,r=1<<(~g&15),this.j[k][g>>4]|=r,this.H[k][g>>4]|=r,this.wa[k][g>>4]|=r,this.m[k][g>>4]|=r}}};qa.prototype.an=function(a){var b=this.ca,c=this.$,d=Math.round((this.width-b)/2),f=Math.round((this.height-c)/2),e=d+b-1,g=f+c-1,k=this.ie,l=this.je,p=this.m,n=!1,q;0===this.ca&&(d=
0,e=this.width-1,b=this.width);0===this.$&&(f=0,g=this.height-1,c=this.height);if(0!==this.$)for(q=0;q<b;q+=1){var m=d+q;var r=d+((q+k)%b+b)%b;var u=a[g][m];129===u&&(n=!0,a[f-1][r]=u,p[f-1>>4][r>>8]|=1<<(~(r>>4)&15),15===(f-1&15)&&(p[(f-1>>4)+1][r>>8]|=1<<(~(r>>4)&15)));r=d+((q-k)%b+b)%b;u=a[f][m];129===u&&(n=!0,a[g+1][r]=u,p[g+1>>4][r>>8]|=1<<(~(r>>4)&15),0===(g+1&15)&&(p[(g+1>>4)-1][r>>8]|=1<<(~(r>>4)&15)))}if(0!==this.ca)for(q=0;q<c;q+=1)m=f+q,r=f+((q-l)%c+c)%c,u=a[m][d],129===u&&(n=!0,a[r][e+
1]=u,p[r>>4][e+1>>8]|=1<<(~(e+1>>4)&15),0===(e+1&15)&&(p[r>>4][e-15>>8]|=1<<(~(e-15>>4)&15))),r=f+((q+l)%c+c)%c,u=a[m][e],129===u&&(n=!0,a[r][d-1]=u,p[r>>4][d-1>>8]|=1<<(~(d-1>>4)&15),15===(d-1&15)&&(p[r>>4][d+15>>8]|=1<<(~(d+15>>4)&15)));0!==this.ca&&0!==this.$&&(u=a[f+(c-1+l+c)%c][d+(-k+b)%b],129===u&&(a[f-1][e+1]=u,n=!0),u=a[f+(c-1-l+c)%c][d+(b-1-k+b)%b],129===u&&(a[f-1][d-1]=u,n=!0),u=a[f+(l+c)%c][d+(k+b)%b],129===u&&(a[g+1][e+1]=u,n=!0),u=a[f+(-l+c)%c][d+(b-1+k+b)%b],129===u&&(a[g+1][d-1]=u,
n=!0));n&&this.rb()};qa.prototype.Kn=function(a){var b=this.m,c=this.ca,d=this.$,f=Math.round((this.width-c)/2),e=Math.round((this.height-d)/2),g=f+c-1,k=e+d-1,l=this.ie,p=this.je,n=this.pg,q=this.nh,m=!1,r;for(r=0;r<c;r+=1){var u=f+r;var t=n?g-(r+l+c)%c:f+(r+l+c)%c;var v=a[k][u];129===v&&(m=!0,a[e-1][t]=v,b[e-1>>4][t>>8]|=1<<(~(t>>4)&15),15===(e-1&15)&&(b[(e-1>>4)+1][t>>8]|=1<<(~(t>>4)&15)));t=n?g-(r+l+c)%c:f+(r+l+c)%c;v=a[e][u];129===v&&(m=!0,a[k+1][t]=v,b[k+1>>4][t>>8]|=1<<(~(t>>4)&15),0===(k+
1&15)&&(b[(k+1>>4)-1][t>>8]|=1<<(~(t>>4)&15)))}for(r=0;r<d;r+=1)c=e+r,u=q?k-(r+p+d)%d:e+(r+p+d)%d,v=a[c][f],129===v&&(m=!0,a[u][g+1]=v,b[u>>4][g+1>>8]|=1<<(~(g+1>>4)&15),0===(g+1&15)&&(b[u>>4][g-15>>8]|=1<<(~(g-15>>4)&15))),u=q?k-(r+p+d)%d:e+(r+p+d)%d,v=a[c][g],129===v&&(m=!0,a[u][f-1]=v,b[u>>4][f-1>>8]|=1<<(~(f-1>>4)&15),15===(f-1&15)&&(b[u>>4][f+15>>8]|=1<<(~(f+15>>4)&15)));0!==this.ca&&0!==this.$&&this.Gn(n,f,e,g,k,l,p,a,b)&&(m=!0);m&&this.rb()};qa.prototype.An=function(a){var b=this.wa,c=this.ca,
d=this.$,f=Math.round((this.width-c)/2),e=Math.round((this.height-d)/2),g=f+c-1,k=e+d-1,l=!1,p;for(p=0;p<c;p+=1){var n=f+p;var q=g-p;var m=a[k][n];129===m&&(l=!0,a[e-1][q]=m,b[e-1>>4][q>>8]|=1<<(~(q>>4)&15),15===(e-1&15)&&(b[(e-1>>4)+1][q>>8]|=1<<(~(q>>4)&15)));m=a[e][n];129===m&&(l=!0,a[k+1][q]=m,b[k+1>>4][q>>8]|=1<<(~(q>>4)&15),0===(k+1&15)&&(b[(k+1>>4)-1][q>>8]|=1<<(~(q>>4)&15)))}for(p=0;p<=d;p+=1)n=e+p,q=k-p,m=a[n][f],129===m&&(l=!0,a[q][g+1]=m,b[q>>4][g+1>>8]|=1<<(~(g+1>>4)&15),0===(g+1&15)&&
(b[q>>4][g-15>>8]|=1<<(~(g-15>>4)&15))),m=a[n][g],129===m&&(l=!0,a[q][f-1]=m,b[q>>4][f-1>>8]|=1<<(~(f-1>>4)&15),15===(f-1&15)&&(b[q>>4][f+15>>8]|=1<<(~(f+15>>4)&15)));m=a[k][f];129===m&&(a[k+1][f-1]=m,l=!0);m=a[k][g];129===m&&(a[k+1][g+1]=m,l=!0);m=a[e][f];129===m&&(a[e-1][f-1]=m,l=!0);m=a[e][g];129===m&&(a[e-1][g+1]=m,l=!0);l&&this.rb()};qa.prototype.Sn=function(a){var b=this.wa,c=this.ca,d=this.$,f=Math.round((this.width-c)/2),e=Math.round((this.height-d)/2),g=f+c-1;d=e+d-1;var k=!1,l;if(this.qg)for(l=
0;l<c;l+=1){var p=e+l;var n=f+l;var q=a[p][f];129===q&&(k=!0,a[e-1][n]=q,b[e-1>>4][n>>8]|=1<<(~(n>>4)&15),15===(e-1&15)&&(b[(e-1>>4)+1][n>>8]|=1<<(~(n>>4)&15)));q=a[p][g];129===q&&(k=!0,a[d+1][n]=q,b[d+1>>4][n>>8]|=1<<(~(n>>4)&15),0===(d+1&15)&&(b[(d+1>>4)-1][n>>8]|=1<<(~(n>>4)&15)));q=a[e][n];129===q&&(k=!0,a[p][f-1]=q,b[p>>4][f-1>>8]|=1<<(~(f-1>>4)&15),15===(f-1&15)&&(b[p>>4][f+15>>8]|=1<<(~(f+15>>4)&15)));q=a[d][n];129===q&&(k=!0,a[p][g+1]=q,b[p>>4][g+1>>8]|=1<<(~(g+1>>4)&15),0===(g+1&15)&&(b[p>>
4][g-15>>8]|=1<<(~(g-15>>4)&15)))}else for(l=0;l<c;l+=1)p=e+l,n=f+(c-l-1),q=a[p][g],129===q&&(k=!0,a[e-1][n]=q,b[e-1>>4][n>>8]|=1<<(~(n>>4)&15),15===(e-1&15)&&(b[(e-1>>4)+1][n>>8]|=1<<(~(n>>4)&15))),q=a[p][f],129===q&&(k=!0,a[d+1][n]=q,b[d+1>>4][n>>8]|=1<<(~(n>>4)&15),0===(d+1&15)&&(b[(d+1>>4)-1][n>>8]|=1<<(~(n>>4)&15))),q=a[e][n],129===q&&(k=!0,a[p][g+1]=q,b[p>>4][f-1>>8]|=1<<(~(f-1>>4)&15),0===(g+1&15)&&(b[p>>4][f+15>>8]|=1<<(~(f+15>>4)&15),b[p>>4][g-15>>8]|=1<<(~(g-15>>4)&15))),q=a[d][n],129===
q&&(k=!0,a[p][f-1]=q,b[p>>4][g+1>>8]|=1<<(~(g+1>>4)&15),15===(f+15&15)&&(b[p>>4][f+15>>8]|=1<<(~(f+15>>4)&15)));q=a[d][f];129===q&&(k=!0,a[d+1][f-1]=q);q=a[d][g];129===q&&(k=!0,a[d+1][g+1]=q);q=a[e][f];129===q&&(k=!0,a[e-1][f-1]=q);q=a[e][g];129===q&&(k=!0,a[e-1][g+1]=q);k&&this.rb()};qa.prototype.Wn=function(a){var b=this.ca,c=this.$,d=this.ja?-1:0,f=Math.round((this.width-b)/2)+d;d=Math.round((this.height-c)/2)+d;var e=f+b-1,g=d+c-1,k=this.ie,l=this.je,p=this.m,n;0===this.ca&&(f=0,e=this.width-
1,b=this.width);0===this.$&&(d=0,g=this.height-1,c=this.height);if(0!==this.$)for(n=0;n<b;n+=1){var q=f+n;var m=f+((n+k)%b+b)%b;var r=a[g][q];0!==r&&(a[d-1][m]=r,p[d-1>>4][m>>8]|=1<<(~(m>>4)&15),15===(d-1&15)&&(p[(d-1>>4)+1][m>>8]|=1<<(~(m>>4)&15)));m=f+((n-k)%b+b)%b;r=a[d][q];0!==r&&(a[g+1][m]=r,p[g+1>>4][m>>8]|=1<<(~(m>>4)&15),0===(g+1&15)&&(p[(g+1>>4)-1][m>>8]|=1<<(~(m>>4)&15)))}if(0!==this.ca)for(n=0;n<c;n+=1)q=d+n,m=d+((n-l)%c+c)%c,r=a[q][f],0!==r&&(a[m][e+1]=r,p[m>>4][e+1>>8]|=1<<(~(e+1>>4)&
15),0===(e+1&15)&&(p[m>>4][e-15>>8]|=1<<(~(e-15>>4)&15))),m=d+((n+l)%c+c)%c,r=a[q][e],0!==r&&(a[m][f-1]=r,p[m>>4][f-1>>8]|=1<<(~(f-1>>4)&15),15===(f-1&15)&&(p[m>>4][f+15>>8]|=1<<(~(f+15>>4)&15)));0!==this.ca&&0!==this.$&&(r=a[d+(c-1+l+c)%c][f+(-k+b)%b],a[d-1][e+1]=r,r=a[d+(c-1-l+c)%c][f+(b-1-k+b)%b],a[d-1][f-1]=r,r=a[d+(l+c)%c][f+(k+b)%b],a[g+1][e+1]=r,r=a[d+(-l+c)%c][f+(b-1+k+b)%b],a[g+1][f-1]=r)};qa.prototype.Mn=function(a){var b=this.m,c=this.ca,d=this.$,f=this.ja?-1:0,e=Math.round((this.width-
c)/2)+f;f=Math.round((this.height-d)/2)+f;var g=e+c-1,k=f+d-1,l=this.ie,p=this.je,n=this.pg,q=this.nh,m;for(m=0;m<c;m+=1){var r=e+m;var u=n?g-(m+l+c)%c:e+(m+l+c)%c;var t=a[k][r];0!==t&&(a[f-1][u]=t,b[f-1>>4][u>>8]|=1<<(~(u>>4)&15),15===(f-1&15)&&(b[(f-1>>4)+1][u>>8]|=1<<(~(u>>4)&15)));u=n?g-(m+l+c)%c:e+(m+l+c)%c;t=a[f][r];0!==t&&(a[k+1][u]=t,b[k+1>>4][u>>8]|=1<<(~(u>>4)&15),0===(k+1&15)&&(b[(k+1>>4)-1][u>>8]|=1<<(~(u>>4)&15)))}for(m=0;m<d;m+=1)c=f+m,r=q?k-(m+p+d)%d:f+(m+p+d)%d,t=a[c][e],0!==t&&(a[r][g+
1]=t,b[r>>4][g+1>>8]|=1<<(~(g+1>>4)&15),0===(g+1&15)&&(b[r>>4][g-15>>8]|=1<<(~(g-15>>4)&15))),r=q?k-(m+p+d)%d:f+(m+p+d)%d,t=a[c][g],0!==t&&(a[r][e-1]=t,b[r>>4][e-1>>8]|=1<<(~(e-1>>4)&15),15===(e-1&15)&&(b[r>>4][e+15>>8]|=1<<(~(e+15>>4)&15)));0!==this.ca&&0!==this.$&&this.In(n,e,f,g,k,l,p,a,b)};qa.prototype.Cn=function(a){var b=this.wa,c=this.ca,d=this.$,f=this.ja?-1:0,e=Math.round((this.width-c)/2)+f;f=Math.round((this.height-d)/2)+f;var g=e+c-1,k=f+d-1,l;for(l=0;l<c;l+=1){var p=e+l;var n=g-l;var q=
a[k][p];0!==q&&(a[f-1][n]=q,b[f-1>>4][n>>8]|=1<<(~(n>>4)&15),15===(f-1&15)&&(b[(f-1>>4)+1][n>>8]|=1<<(~(n>>4)&15)));q=a[f][p];0!==q&&(a[k+1][n]=q,b[k+1>>4][n>>8]|=1<<(~(n>>4)&15),0===(k+1&15)&&(b[(k+1>>4)-1][n>>8]|=1<<(~(n>>4)&15)))}for(l=0;l<=d;l+=1)p=f+l,n=k-l,q=a[p][e],0!==q&&(a[n][g+1]=q,b[n>>4][g+1>>8]|=1<<(~(g+1>>4)&15),0===(g+1&15)&&(b[n>>4][g-15>>8]|=1<<(~(g-15>>4)&15))),q=a[p][g],0!==q&&(a[n][e-1]=q,b[n>>4][e-1>>8]|=1<<(~(e-1>>4)&15),15===(e-1&15)&&(b[n>>4][e+15>>8]|=1<<(~(e+15>>4)&15)));
q=a[k][e];a[k+1][e-1]=q;q=a[k][g];a[k+1][g+1]=q;q=a[f][e];a[f-1][e-1]=q;q=a[f][g];a[f-1][g+1]=q};qa.prototype.Un=function(a){var b=this.wa,c=this.ca,d=this.$,f=this.ja?-1:0,e=Math.round((this.width-c)/2)+f;f=Math.round((this.height-d)/2)+f;var g=e+c-1;d=f+d-1;var k=this.u,l;if(this.qg)for(l=0;l<c;l+=1){var p=f+l;var n=e+l;var q=a[p][e];q>k&&(this.s&&(q-=k,q=(q>>1&15|(q&1)<<3)+k),a[f-1][n]=q,b[f-1>>4][n>>8]|=1<<(~(n>>4)&15),15===(f-1&15)&&(b[(f-1>>4)+1][n>>8]|=1<<(~(n>>4)&15)));q=a[p][g];q>k&&(this.s&&
(q-=k,q=(q>>1&15|(q&1)<<3)+k),a[d+1][n]=q,b[d+1>>4][n>>8]|=1<<(~(n>>4)&15),0===(d+1&15)&&(b[(d+1>>4)-1][n>>8]|=1<<(~(n>>4)&15)));q=a[f][n];q>k&&(this.s&&(q-=k,q=(q<<1&15|(q&8)>>3)+k),a[p][e-1]=q,b[p>>4][e-1>>8]|=1<<(~(e-1>>4)&15),15===(e-1&15)&&(b[p>>4][e+15>>8]|=1<<(~(e+15>>4)&15)));q=a[d][n];q>k&&(this.s&&(q-=k,q=(q<<1&15|(q&8)>>3)+k),a[p][g+1]=q,b[p>>4][g+1>>8]|=1<<(~(g+1>>4)&15),0===(g+1&15)&&(b[p>>4][g-15>>8]|=1<<(~(g-15>>4)&15)))}else for(l=0;l<c;l+=1)p=f+l,n=e+(c-l-1),q=a[p][g],q>k&&(this.s&&
(q-=k,q=(q<<1&15|(q&8)>>3)+k),a[f-1][n]=q,b[f-1>>4][n>>8]|=1<<(~(n>>4)&15),15===(f-1&15)&&(b[(f-1>>4)+1][n>>8]|=1<<(~(n>>4)&15))),q=a[p][e],q>k&&(this.s&&(q-=k,q=(q<<1&15|(q&8)>>3)+k),a[d+1][n]=q,b[d+1>>4][n>>8]|=1<<(~(n>>4)&15),0===(d+1&15)&&(b[(d+1>>4)-1][n>>8]|=1<<(~(n>>4)&15))),q=a[f][n],q>k&&(this.s&&(q-=k,q=(q>>1&15|(q&1)<<3)+k),a[p][g+1]=q,b[p>>4][e-1>>8]|=1<<(~(e-1>>4)&15),0===(g+1&15)&&(b[p>>4][e+15>>8]|=1<<(~(e+15>>4)&15),b[p>>4][g-15>>8]|=1<<(~(g-15>>4)&15))),q=a[d][n],q>k&&(this.s&&(q-=
k,q=(q>>1&15|(q&1)<<3)+k),a[p][e-1]=q,b[p>>4][g+1>>8]|=1<<(~(g+1>>4)&15),15===(e+15&15)&&(b[p>>4][e+15>>8]|=1<<(~(e+15>>4)&15)));q=a[d][e];a[d+1][e-1]=q;q=a[d][g];a[d+1][g+1]=q;q=a[f][e];a[f-1][e-1]=q;q=a[f][g];a[f-1][g+1]=q};qa.prototype.cl=function(){var a=this.wa,b=this.ca,c=this.$;var d=this.ja?-1:0;var f=Math.round((this.width-b)/2)+d,e=Math.round((this.height-c)/2)+d,g=f+b-1,k=e+c-1,l=this.ie,p=this.je,n=this.Z&&0<f&&g<this.width-1,q;if(0!==(this.counter&1)){d=this.Va;var m=this.H}else d=this.va,
m=this.j;0===this.ca&&(f=0,g=this.width-1,b=this.width);0===this.$&&(e=0,k=this.height-1,c=this.height);if(0!==this.$)for(q=0;q<b;q+=1){var r=f+q;var u=f+((q+l)%b+b)%b;0!==(d[k][r>>4]&1<<(~r&15))&&(d[e-1][u>>4]|=1<<(~u&15),m[e-1>>4][u>>8]|=1<<(~(u>>4)&15),a[e-1>>4][u>>8]|=1<<(~(u>>4)&15),15===(e-1&15)&&(m[(e-1>>4)+1][u>>8]|=1<<(~(u>>4)&15),a[(e-1>>4)+1][u>>8]|=1<<(~(u>>4)&15)));u=f+((q-l)%b+b)%b;0!==(d[e][r>>4]&1<<(~r&15))&&(d[k+1][u>>4]|=1<<(~u&15),m[k+1>>4][u>>8]|=1<<(~(u>>4)&15),a[k+1>>4][u>>8]|=
1<<(~(u>>4)&15),0===(k+1&15)&&(m[(k+1>>4)-1][u>>8]|=1<<(~(u>>4)&15),a[(k+1>>4)-1][u>>8]|=1<<(~(u>>4)&15)))}if(0!==this.ca)for(q=0;q<c;q+=1)r=e+q,u=e+((q-p)%c+c)%c,0!==(d[r][f>>4]&1<<(~f&15))&&(d[u][g+1>>4]|=1<<(~(g+1)&15),m[u>>4][g+1>>8]|=1<<(~(g+1>>4)&15),a[u>>4][g+1>>8]|=1<<(~(g+1>>4)&15),0===(g+1&15)&&(m[u>>4][g-15>>8]|=1<<(~(g-15>>4)&15),a[u>>4][g-15>>8]|=1<<(~(g-15>>4)&15))),n&&(f+=1,g+=1,0!==(d[r][f>>4]&1<<(~f&15))&&(d[u][g+1>>4]|=1<<(~(g+1)&15),m[u>>4][g+1>>8]|=1<<(~(g+1>>4)&15),a[u>>4][g+
1>>8]|=1<<(~(g+1>>4)&15),0===(g+1&15)&&(m[u>>4][g-15>>8]|=1<<(~(g-15>>4)&15),a[u>>4][g-15>>8]|=1<<(~(g-15>>4)&15))),--f,--g),u=e+((q+p)%c+c)%c,0!==(d[r][g>>4]&1<<(~g&15))&&(d[u][f-1>>4]|=1<<(~(f-1)&15),m[u>>4][f-1>>8]|=1<<(~(f-1>>4)&15),a[u>>4][f-1>>8]|=1<<(~(f-1>>4)&15),15===(f-1&15)&&(m[u>>4][f+15>>8]|=1<<(~(f+15>>4)&15),a[u>>4][f+15>>8]|=1<<(~(f+15>>4)&15))),n&&(--f,--g,0!==(d[r][g>>4]&1<<(~g&15))&&(d[u][f-1>>4]|=1<<(~(f-1)&15),m[u>>4][f-1>>8]|=1<<(~(f-1>>4)&15),a[u>>4][f-1>>8]|=1<<(~(f-1>>4)&
15),15===(f-1&15)&&(m[u>>4][f+15>>8]|=1<<(~(f+15>>4)&15),a[u>>4][f+15>>8]|=1<<(~(f+15>>4)&15))),f+=1,g+=1);0!==this.ca&&0!==this.$&&(r=f+(-l+b)%b,d[e-1][g+1>>4]=0!==(d[e+(c-1+p+c)%c][r>>4]&1<<(~r&15))?d[e-1][g+1>>4]|1<<(~(g+1)&15):d[e-1][g+1>>4]&~(1<<(~(g+1)&15)),r=f+(b-1-l+b)%b,d[e-1][f-1>>4]=0!==(d[e+(c-1-p+c)%c][r>>4]&1<<(~r&15))?d[e-1][f-1>>4]|1<<(~(f-1)&15):d[e-1][f-1>>4]&~(1<<(~(f-1)&15)),r=f+(l+b)%b,d[k+1][g+1>>4]=0!==(d[e+(p+c)%c][r>>4]&1<<(~r&15))?d[k+1][g+1>>4]|1<<(~(g+1)&15):d[k+1][g+1>>
4]&~(1<<(~(g+1)&15)),r=f+(b-1+l+b)%b,d[k+1][f-1>>4]=0!==(d[e+(-p+c)%c][r>>4]&1<<(~r&15))?d[k+1][f-1>>4]|1<<(~(f-1)&15):d[k+1][f-1>>4]&~(1<<(~(f-1)&15)),n&&(f+=1,g+=1,r=f+(-l+b)%b,d[e-1][g+1>>4]=0!==(d[e+(c-1+p+c)%c][r>>4]&1<<(~r&15))?d[e-1][g+1>>4]|1<<(~(g+1)&15):d[e-1][g+1>>4]&~(1<<(~(g+1)&15)),r=f+(b-1-l+b)%b,d[e-1][f-1>>4]=0!==(d[e+(c-1-p+c)%c][r>>4]&1<<(~r&15))?d[e-1][f-1>>4]|1<<(~(f-1)&15):d[e-1][f-1>>4]&~(1<<(~(f-1)&15)),r=f+(l+b)%b,d[k+1][g+1>>4]=0!==(d[e+(p+c)%c][r>>4]&1<<(~r&15))?d[k+1][g+
1>>4]|1<<(~(g+1)&15):d[k+1][g+1>>4]&~(1<<(~(g+1)&15)),r=f+(b-1+l+b)%b,d[k+1][f-1>>4]=0!==(d[e+(-p+c)%c][r>>4]&1<<(~r&15))?d[k+1][f-1>>4]|1<<(~(f-1)&15):d[k+1][f-1>>4]&~(1<<(~(f-1)&15)),f-=2,g-=2,r=f+(-l+b)%b,d[e-1][g+1>>4]=0!==(d[e+(c-1+p+c)%c][r>>4]&1<<(~r&15))?d[e-1][g+1>>4]|1<<(~(g+1)&15):d[e-1][g+1>>4]&~(1<<(~(g+1)&15)),r=f+(b-1-l+b)%b,d[e-1][f-1>>4]=0!==(d[e+(c-1-p+c)%c][r>>4]&1<<(~r&15))?d[e-1][f-1>>4]|1<<(~(f-1)&15):d[e-1][f-1>>4]&~(1<<(~(f-1)&15)),r=f+(l+b)%b,d[k+1][g+1>>4]=0!==(d[e+(p+c)%
c][r>>4]&1<<(~r&15))?d[k+1][g+1>>4]|1<<(~(g+1)&15):d[k+1][g+1>>4]&~(1<<(~(g+1)&15)),r=f+(b-1+l+b)%b,d[k+1][f-1>>4]=0!==(d[e+(-p+c)%c][r>>4]&1<<(~r&15))?d[k+1][f-1>>4]|1<<(~(f-1)&15):d[k+1][f-1>>4]&~(1<<(~(f-1)&15))))};qa.prototype.Gn=function(a,b,c,d,f,e,g,k,l){var p=!1;if(a){g=d-e;g<b&&(g=d);var n=d+1;var q=c-1;a=k[f][g];129===a&&(p=!0,k[q][n]=a,l[q>>4][n>>8]|=1<<(~(n>>4)&15),15===(q&15)&&(l[(q>>4)+1][n>>8]|=1<<(~(n>>4)&15)));g=b-e;g<b&&(g=d);var m=f;n=b-1;q=c-1;a=k[m][g];129===a&&(p=!0,k[q][n]=
a,l[q>>4][n>>8]|=1<<(~(n>>4)&15),15===(q&15)&&(l[(q>>4)+1][n>>8]|=1<<(~(n>>4)&15)));0!==(k[m][g>>4]&1<<(~g&15))&&(k[c-1][b-1>>4]|=1<<(~(b-1)&15));g=d-e;g<b&&(g=d);n=d+1;q=f+1;a=k[c][g];129===a&&(p=!0,k[q][n]=a,l[q>>4][n>>8]|=1<<(~(n>>4)&15),15===(q&15)&&(l[(q>>4)-1][n>>8]|=1<<(~(n>>4)&15)));g=b-e;g<b&&(g=d);n=b-1;q=f+1;a=k[c][g];129===a&&(p=!0,k[q][n]=a,l[q>>4][n>>8]|=1<<(~(n>>4)&15),15===(q&15)&&(l[(q>>4)-1][n>>8]|=1<<(~(n>>4)&15)))}else m=c-g,m<c&&(m=f),n=d+1,q=c-1,a=k[m][b],129===a&&(p=!0,k[q][n]=
a,l[q>>4][n>>8]|=1<<(~(n>>4)&15),15===(q&15)&&(l[(q>>4)+1][n>>8]|=1<<(~(n>>4)&15))),m=c-g,m<c&&(m=f),n=b-1,q=c-1,a=k[m][d],129===a&&(p=!0,k[q][n]=a,l[q>>4][n>>8]|=1<<(~(n>>4)&15),15===(q&15)&&(l[(q>>4)+1][n>>8]|=1<<(~(n>>4)&15))),m=f-g,m<c&&(m=f),n=d+1,q=f+1,a=k[m][b],129===a&&(p=!0,k[q][n]=a,l[q>>4][n>>8]|=1<<(~(n>>4)&15),15===(q&15)&&(l[(q>>4)+1][n>>8]|=1<<(~(n>>4)&15))),m=f-g,m<c&&(m=f),n=b-1,q=f+1,a=k[m][d],129===a&&(p=!0,k[q][n]=a,l[q>>4][n>>8]|=1<<(~(n>>4)&15),15===(q&15)&&(l[(q>>4)+1][n>>8]|=
1<<(~(n>>4)&15)));return p};qa.prototype.In=function(a,b,c,d,f,e,g,k,l){if(a){g=d-e;g<b&&(g=d);a=c-1;var p=k[f][g];0!==p&&(k[a][d+1]=p,l[a>>4][b-1>>8]|=1<<(~(b-1>>4)&15));g=b-e;g<b&&(g=d);a=c-1;p=k[f][g];0!==p&&(k[a][b-1]=p,l[a>>4][b-1>>8]|=1<<(~(b-1>>4)&15));g=d-e;g<b&&(g=d);a=f+1;p=k[c][g];0!==p&&(k[a][d+1]=p,l[a>>4][b-1>>8]|=1<<(~(b-1>>4)&15));g=b-e;g<b&&(g=d);e=b-1;a=f+1;p=k[c][g]}else p=c-g,p<c&&(p=f),a=c-1,p=k[p][b],0!==p&&(k[a][d+1]=p,l[a>>4][b-1>>8]|=1<<(~(b-1>>4)&15)),p=c-g,p<c&&(p=f),a=
c-1,p=k[p][d],0!==p&&(k[a][b-1]=p,l[a>>4][b-1>>8]|=1<<(~(b-1>>4)&15)),p=f-g,p<c&&(p=f),a=f+1,p=k[p][b],0!==p&&(k[a][d+1]=p,l[a>>4][b-1>>8]|=1<<(~(b-1>>4)&15)),p=f-g,p<c&&(p=f),e=b-1,a=f+1,p=k[p][d];0!==p&&(k[a][e]=p,l[a>>4][b-1>>8]|=1<<(~(b-1>>4)&15))};qa.prototype.Wi=function(a,b,c,d,f,e,g,k){a?(a=d-e,a<b&&(a=d),0!==(k[f][a>>4]&1<<(~a&15))&&(k[c-1][d+1>>4]|=1<<(~(d+1)&15)),a=b-e,a<b&&(a=d),0!==(k[f][a>>4]&1<<(~a&15))&&(k[c-1][b-1>>4]|=1<<(~(b-1)&15)),a=d-e,a<b&&(a=d),0!==(k[c][a>>4]&1<<(~a&15))&&
(k[f+1][d+1>>4]|=1<<(~(d+1)&15)),a=b-e,a<b&&(a=d),0!==(k[c][a>>4]&1<<(~a&15))&&(k[f+1][b-1>>4]|=1<<(~(b-1)&15))):(a=b,e=c-g,e<c&&(e=f),0!==(k[e][a>>4]&1<<(~a&15))&&(k[c-1][d+1>>4]|=1<<(~(d+1)&15)),a=d,e=c-g,e<c&&(e=f),0!==(k[e][a>>4]&1<<(~a&15))&&(k[c-1][b-1>>4]|=1<<(~(b-1)&15)),a=b,e=f-g,e<c&&(e=f),0!==(k[e][a>>4]&1<<(~a&15))&&(k[f+1][d+1>>4]|=1<<(~(d+1)&15)),a=d,e=f-g,e<c&&(e=f),0!==(k[e][a>>4]&1<<(~a&15))&&(k[f+1][b-1>>4]|=1<<(~(b-1)&15)))};qa.prototype.al=function(){var a=this.wa,b=this.ca,c=
this.$;var d=this.ja?-1:0;var f=Math.round((this.width-b)/2)+d,e=Math.round((this.height-c)/2)+d,g=f+b-1,k=e+c-1,l=this.ie,p=this.je,n=this.pg,q=this.nh,m=this.Z&&0<f&&g<this.width-1,r;if(0!==(this.counter&1)){d=this.Va;var u=this.H}else d=this.va,u=this.j;for(r=0;r<b;r+=1){var t=f+r;var v=n?g-(r+l)%b:t;0!==(d[k][v>>4]&1<<(~v&15))&&(d[e-1][t>>4]|=1<<(~t&15),u[e-1>>4][t>>8]|=1<<(~(t>>4)&15),a[e-1>>4][t>>8]|=1<<(~(t>>4)&15),15===(e-1&15)&&(u[(e-1>>4)+1][t>>8]|=1<<(~(t>>4)&15),a[(e-1>>4)+1][t>>8]|=1<<
(~(t>>4)&15)));0!==(d[e][v>>4]&1<<(~v&15))&&(d[k+1][t>>4]|=1<<(~t&15),u[k+1>>4][t>>8]|=1<<(~(t>>4)&15),a[k+1>>4][t>>8]|=1<<(~(t>>4)&15),0===(k+1&15)&&(u[(k+1>>4)-1][t>>8]|=1<<(~(t>>4)&15),a[(k+1>>4)-1][t>>8]|=1<<(~(t>>4)&15)))}for(r=0;r<c;r+=1)v=e+r,b=q?k-(r+p)%c:v,0!==(d[b][f>>4]&1<<(~f&15))&&(d[v][g+1>>4]|=1<<(~(g+1)&15),u[v>>4][g+1>>8]|=1<<(~(g+1>>4)&15),a[v>>4][g+1>>8]|=1<<(~(g+1>>4)&15),0===(g+1&15)&&(u[v>>4][g-15>>8]|=1<<(~(g-15>>4)&15),a[v>>4][g-15>>8]|=1<<(~(g-15>>4)&15))),m&&(f+=1,g+=1,0!==
(d[b][f>>4]&1<<(~f&15))&&(d[v][g+1>>4]|=1<<(~(g+1)&15),u[v>>4][g+1>>8]|=1<<(~(g+1>>4)&15),a[v>>4][g+1>>8]|=1<<(~(g+1>>4)&15),0===(g+1&15)&&(u[v>>4][g-15>>8]|=1<<(~(g-15>>4)&15),a[v>>4][g-15>>8]|=1<<(~(g-15>>4)&15))),--f,--g),0!==(d[b][g>>4]&1<<(~g&15))&&(d[v][f-1>>4]|=1<<(~(f-1)&15),u[v>>4][f-1>>8]|=1<<(~(f-1>>4)&15),a[v>>4][f-1>>8]|=1<<(~(f-1>>4)&15),15===(f-1&15)&&(u[v>>4][f+15>>8]|=1<<(~(f+15>>4)&15),a[v>>4][f+15>>8]|=1<<(~(f+15>>4)&15))),m&&(--f,--g,0!==(d[b][g>>4]&1<<(~g&15))&&(d[v][f-1>>4]|=
1<<(~(f-1)&15),u[v>>4][f-1>>8]|=1<<(~(f-1>>4)&15),a[v>>4][f-1>>8]|=1<<(~(f-1>>4)&15),15===(f-1&15)&&(u[v>>4][f+15>>8]|=1<<(~(f+15>>4)&15),a[v>>4][f+15>>8]|=1<<(~(f+15>>4)&15))),f+=1,g+=1);0!==this.ca&&0!==this.$&&(this.Wi(n,f,e,g,k,l,p,d),m&&(f+=1,g+=1,this.Wi(n,f,e,g,k,l,p,d),this.Wi(n,f-2,e,g-2,k,l,p,d)))};qa.prototype.$k=function(){var a=this.wa,b=this.ca,c=this.$;var d=this.ja?-1:0;var f=Math.round((this.width-b)/2)+d,e=Math.round((this.height-c)/2)+d,g=f+b-1,k=e+c-1,l=this.Z&&0<f&&g<this.width-
1,p;if(0!==(this.counter&1)){d=this.Va;var n=this.H}else d=this.va,n=this.j;for(p=0;p<b;p+=1){var q=f+p;var m=g-p;0!==(d[k][q>>4]&1<<(~q&15))&&(d[e-1][m>>4]|=1<<(~m&15),n[e-1>>4][m>>8]|=1<<(~(m>>4)&15),a[e-1>>4][m>>8]|=1<<(~(m>>4)&15),15===(e-1&15)&&(n[(e-1>>4)+1][m>>8]|=1<<(~(m>>4)&15),a[(e-1>>4)+1][m>>8]|=1<<(~(m>>4)&15)));0!==(d[e][q>>4]&1<<(~q&15))&&(d[k+1][m>>4]|=1<<(~m&15),n[k+1>>4][m>>8]|=1<<(~(m>>4)&15),a[k+1>>4][m>>8]|=1<<(~(m>>4)&15),0===(k+1&15)&&(n[(k+1>>4)-1][m>>8]|=1<<(~(m>>4)&15),a[(k+
1>>4)-1][m>>8]|=1<<(~(m>>4)&15)))}for(p=0;p<c;p+=1)q=e+p,m=k-p,0!==(d[q][f>>4]&1<<(~f&15))&&(d[m][g+1>>4]|=1<<(~(g+1)&15),n[m>>4][g+1>>8]|=1<<(~(g+1>>4)&15),a[m>>4][g+1>>8]|=1<<(~(g+1>>4)&15),0===(g+1&15)&&(n[m>>4][g-15>>8]|=1<<(~(g-15>>4)&15),a[m>>4][g-15>>8]|=1<<(~(g-15>>4)&15))),l&&(f+=1,g+=1,0!==(d[q][f>>4]&1<<(~f&15))&&(d[m][g+1>>4]|=1<<(~(g+1)&15),n[m>>4][g+1>>8]|=1<<(~(g+1>>4)&15),a[m>>4][g+1>>8]|=1<<(~(g+1>>4)&15),0===(g+1&15)&&(n[m>>4][g-15>>8]|=1<<(~(g-15>>4)&15),a[m>>4][g-15>>8]|=1<<(~(g-
15>>4)&15))),--f,--g),0!==(d[q][g>>4]&1<<(~g&15))&&(d[m][f-1>>4]|=1<<(~(f-1)&15),n[m>>4][f-1>>8]|=1<<(~(f-1>>4)&15),a[m>>4][f-1>>8]|=1<<(~(f-1>>4)&15),15===(f-1&15)&&(n[m>>4][f+15>>8]|=1<<(~(f+15>>4)&15),a[m>>4][f+15>>8]|=1<<(~(f+15>>4)&15))),l&&(--f,--g,0!==(d[q][g>>4]&1<<(~g&15))&&(d[m][f-1>>4]|=1<<(~(f-1)&15),n[m>>4][f-1>>8]|=1<<(~(f-1>>4)&15),a[m>>4][f-1>>8]|=1<<(~(f-1>>4)&15),15===(f-1&15)&&(n[m>>4][f+15>>8]|=1<<(~(f+15>>4)&15),a[m>>4][f+15>>8]|=1<<(~(f+15>>4)&15))),f+=1,g+=1);0!==this.ca&&0!==
this.$&&(0!==(d[k][f>>4]&1<<(~f&15))&&(d[k+1][f-1>>4]|=1<<(~(f-1)&15)),0!==(d[k][g>>4]&1<<(~g&15))&&(d[k+1][g+1>>4]|=1<<(~(g+1)&15)),0!==(d[e][f>>4]&1<<(~f&15))&&(d[e-1][f-1>>4]|=1<<(~(f-1)&15)),0!==(d[e][g>>4]&1<<(~g&15))&&(d[e-1][g+1>>4]|=1<<(~(g+1)&15)),l&&(f+=1,g+=1,0!==(d[k][f>>4]&1<<(~f&15))&&(d[k+1][f-1>>4]|=1<<(~(f-1)&15)),0!==(d[k][g>>4]&1<<(~g&15))&&(d[k+1][g+1>>4]|=1<<(~(g+1)&15)),0!==(d[e][f>>4]&1<<(~f&15))&&(d[e-1][f-1>>4]|=1<<(~(f-1)&15)),0!==(d[e][g>>4]&1<<(~g&15))&&(d[e-1][g+1>>4]|=
1<<(~(g+1)&15)),f-=2,g-=2,0!==(d[k][f>>4]&1<<(~f&15))&&(d[k+1][f-1>>4]|=1<<(~(f-1)&15)),0!==(d[k][g>>4]&1<<(~g&15))&&(d[k+1][g+1>>4]|=1<<(~(g+1)&15)),0!==(d[e][f>>4]&1<<(~f&15))&&(d[e-1][f-1>>4]|=1<<(~(f-1)&15)),0!==(d[e][g>>4]&1<<(~g&15))&&(d[e-1][g+1>>4]|=1<<(~(g+1)&15))))};qa.prototype.bl=function(){var a=this.wa,b=this.ca;var c=this.$;var d=this.ja?-1:0,f=Math.round((this.width-b)/2)+d;d=Math.round((this.height-c)/2)+d;var e=f+b-1,g=d+c-1,k;if(0!==(this.counter&1)){c=this.Va;var l=this.H}else c=
this.va,l=this.j;if(this.qg)for(k=0;k<b;k+=1){var p=d+k;var n=f+k;0!==(c[p][f>>4]&1<<(~f&15))&&(c[d-1][n>>4]|=1<<(~n&15),l[d-1>>4][n>>8]|=1<<(~(n>>4)&15),a[d-1>>4][n>>8]|=1<<(~(n>>4)&15),15===(d-1&15)&&(l[(d-1>>4)+1][n>>8]|=1<<(~(n>>4)&15),a[(d-1>>4)+1][n>>8]|=1<<(~(n>>4)&15)));0!==(c[p][e>>4]&1<<(~e&15))&&(c[g+1][n>>4]|=1<<(~n&15),l[g+1>>4][n>>8]|=1<<(~(n>>4)&15),a[g+1>>4][n>>8]|=1<<(~(n>>4)&15),0===(g+1&15)&&(l[(g+1>>4)-1][n>>8]|=1<<(~(n>>4)&15),a[(g+1>>4)-1][n>>8]|=1<<(~(n>>4)&15)));0!==(c[d][n>>
4]&1<<(~n&15))&&(c[p][f-1>>4]|=1<<(~(f-1)&15),l[p>>4][f-1>>8]|=1<<(~(f-1>>4)&15),a[p>>4][f-1>>8]|=1<<(~(f-1>>4)&15),15===(f-1&15)&&(l[p>>4][f+15>>8]|=1<<(~(f+15>>4)&15),a[p>>4][f+15>>8]|=1<<(~(f+15>>4)&15)));0!==(c[g][n>>4]&1<<(~n&15))&&(c[p][e+1>>4]|=1<<(~(e+1)&15),l[p>>4][e+1>>8]|=1<<(~(e+1>>4)&15),a[p>>4][e+1>>8]|=1<<(~(e+1>>4)&15),0===(e+1&15)&&(l[p>>4][e-15>>8]|=1<<(~(e-15>>4)&15),a[p>>4][e-15>>8]|=1<<(~(e-15>>4)&15)))}else for(k=0;k<b;k+=1)p=d+k,n=f+(b-k-1),0!==(c[p][e>>4]&1<<(~e&15))&&(c[d-
1][n>>4]|=1<<(~n&15),l[d-1>>4][n>>8]|=1<<(~(n>>4)&15),a[d-1>>4][n>>8]|=1<<(~(n>>4)&15),15===(d-1&15)&&(l[(d-1>>4)+1][n>>8]|=1<<(~(n>>4)&15),a[(d-1>>4)+1][n>>8]|=1<<(~(n>>4)&15))),0!==(c[p][f>>4]&1<<(~f&15))&&(c[g+1][n>>4]|=1<<(~n&15),l[g+1>>4][n>>8]|=1<<(~(n>>4)&15),a[g+1>>4][n>>8]|=1<<(~(n>>4)&15),0===(g+1&15)&&(l[(g+1>>4)-1][n>>8]|=1<<(~(n>>4)&15),a[(g+1>>4)-1][n>>8]|=1<<(~(n>>4)&15))),0!==(c[d][n>>4]&1<<(~n&15))&&(c[p][e+1>>4]|=1<<(~(e+1)&15),l[p>>4][e+1>>8]|=1<<(~(e+1>>4)&15),a[p>>4][e+1>>8]|=
1<<(~(e+1>>4)&15),15===(e+1&15)&&(l[p>>4][e-15>>8]|=1<<(~(e-15>>4)&15),a[p>>4][e-15>>8]|=1<<(~(e-15>>4)&15))),0!==(c[g][n>>4]&1<<(~n&15))&&(c[p][f-1>>4]|=1<<(~(f-1)&15),l[p>>4][f-1>>8]|=1<<(~(f-1>>4)&15),a[p>>4][f-1>>8]|=1<<(~(f-1>>4)&15),0===(f-1&15)&&(l[p>>4][f+15>>8]|=1<<(~(f+15>>4)&15),a[p>>4][f+15>>8]|=1<<(~(f+15>>4)&15)));0!==(c[g][f>>4]&1<<(~f&15))&&(c[g+1][f-1>>4]|=1<<(~(f-1)&15));0!==(c[g][e>>4]&1<<(~e&15))&&(c[g+1][e+1>>4]|=1<<(~(e+1)&15));0!==(c[d][f>>4]&1<<(~f&15))&&(c[d-1][f-1>>4]|=1<<
(~(f-1)&15));0!==(c[d][e>>4]&1<<(~e&15))&&(c[d-1][e+1>>4]|=1<<(~(e+1)&15))};qa.prototype.wn=function(){var a,b=1;0!==this.S&&(b=2);this.Z&&(b+=1);for(a=1;a<=b+1;a+=1)this.$l(a);this.O&&this.am();this.yf&&this.Al()};qa.prototype.yn=function(){var a=this.h,b=this.Wa;(this.s||this.D||this.v||this.G)&&0!==(this.counter&1)&&(a=this.P);this.Df(a,0);this.Ug();switch(this.S){case 1:this.s||this.D||this.v||this.G?(this.Wn(a),(this.v||this.G)&&this.cl()):(this.cl(),this.O&&this.an(b));break;case 2:this.s||
this.D||this.v||this.G?(this.Mn(a),(this.v||this.G)&&this.al()):(this.al(),this.O&&this.Kn(b));break;case 3:this.s||this.D||this.v||this.G?(this.Cn(a),(this.v||this.G)&&this.$k()):(this.$k(),this.O&&this.An(b));break;case 4:this.s||this.D||this.v||this.G?(this.Un(a),(this.v||this.G)&&this.bl()):(this.bl(),this.O&&this.Sn(b))}this.Ug()};qa.prototype.eg=function(a){this.kj&&(this.pf+=y.qq,this.ii(a),this.kj=!1)};qa.prototype.gl=function(a){this.la?this.counter+=1:this.Qn(a)};qa.prototype.Zl=function(){var a=
this.A;var b=a.J>>4,c=a.L>>4,d,f=0,e=this.ic;for(a=(this.counter&1?this.va:this.Va)[a.K];b<=c;b+=1)if(d=a[b])f+=e[d],a[b]=0;this.B-=f;this.ga+=f};qa.prototype.Qn=function(a){var b=this.A,c=this.mb;this.kj=this.counter!==this.pf-1||a?!1:!0;-1===this.S||this.Da||this.yn();this.bd&&this.Bp();this.D?null===this.yb?this.en():this.bn():this.s?this.vp():this.Da?this.aa.Ea(this.counter):this.ja?this.sp():this.Z?this.sn():this.G||(this.on(),this.fb&&-1!==this.Td&&this.Zl());this.counter+=1;if(this.ja||this.s)this.vb?
--this.Xb:this.Xb+=1,this.Xb>this.Ke&&(this.Ke=this.Xb);-1===this.i||this.Da||this.s||this.D||this.v||this.G||(a=performance.now(),U.R&&U.XD&&this.view.i?(0!==(this.counter&1)?va.Gr(this.h.o.byteOffset|0,this.m.o.byteOffset|0,this.wa.o.byteOffset|0,16,2,this.I|0,this.F|0,this.Jd.o.byteOffset|0,this.H.o.byteOffset|0,this.h[0].length|0,this.fa.byteOffset|0,this.u|0,this.i+this.u-1|0,(0<this.u?1:0)|0,this.width|0,this.height|0):va.Gr(this.h.o.byteOffset|0,this.m.o.byteOffset|0,this.wa.o.byteOffset|0,
16,2,this.I|0,this.F|0,this.grid.o.byteOffset|0,this.j.o.byteOffset|0,this.h[0].length|0,this.fa.byteOffset|0,this.u|0,this.i+this.u-1|0,(0<this.u?1:0)|0,this.width|0,this.height|0),this.B=this.fa[0],this.na=this.fa[1],this.ga=this.fa[2],this.A.J=this.fa[3],this.A.K=this.fa[4],this.A.L=this.fa[5],this.A.N=this.fa[6]):this.Gr(),a=performance.now()-a,U.xb&&this.view.C.h("nextGenerations",a,U.R&&U.XD&&this.view.i));this.v&&this.gn();this.G&&this.$o();this.bd&&this.Ap();-1===this.S||this.Da||this.wn();
if(this.width===this.ea||this.height===this.ea)if(a=this.Da?this.aa.type===this.X.j?(b.N+2*this.aa.m-(b.K-2*this.aa.m)+1+(b.L+2*this.aa.m-(b.J-2*this.aa.m)+1-1)/2|0)>this.height?b.K>this.height-b.N?b.K+1:this.height-b.N:2*this.aa.m:2*this.aa.m:this.G||this.D?1:16,b.J<a||b.L>=this.ea-a||b.K<a||b.N>=this.ea-a){var d=this.B;this.Da?this.dm(2*this.aa.m+1,a+1):this.D||this.s?this.fm():this.G?this.bm():this.cm();d!==this.B&&(this.Nb=!0,this.bc(),this.view.Vc&&this.view.C.notification.notify("Cells killed after hitting boundary",
15,120,15,!0))}0<this.B&&(b.J<c.J&&(c.J=b.J),b.L>c.L&&(c.L=b.L),b.K<c.K&&(c.K=b.K),b.N>c.N&&(c.N=b.N))};qa.prototype.Oh=function(){var a=this.counter>>y.Xj,b=this.counter&(1<<y.Xj)-1;this.counter<y.vr&&(this.B>this.Gg&&(this.Gg=this.B),this.na>this.Ch&&(this.Ch=this.na),this.ga>this.Eg&&(this.Eg=this.ga),this.Wc&&0<this.Wc.length&&(this.counter>=this.Ng&&(Array.Jp(this.Wc,"Life.popGraphData"),Array.Jp(this.Of,"Life.birthGraphData"),Array.Jp(this.Uf,"Life.deathGraphData"),this.Ng+=1<<y.Xj),this.Wc[a][b]=
this.B,this.Of[a][b]=this.na,this.Uf[a][b]=this.ga))};qa.prototype.$i=function(a,b,c,d,f,e,g,k){var l=1,p,n=(1<<y.Xj)-1,q=y.vr;var m=this.counter;m>q&&(m=q);m>c&&(l=c/m);if(k){a.strokeStyle=b;a.beginPath();var r=d-g[0][0]/this.Id*d|0;a.moveTo(e+.5,r+f+e+.5)}else a.fillStyle=b;g.length<<y.Xj<q&&(q=g.length<<y.Xj);var u=0;for(b=m=1;b<c;b+=1){if(m<q){var t=m>>y.Xj;r=m&n;var v=p=g[t][r];u+=l;for(m+=1;0===(u|0)&&m<q;)t=m>>y.Xj,r=m&n,t=g[t][r],m+=1,t>v&&(v=t),t<p&&(p=t),u+=l;--u}else v=p=0;b<=this.counter&&
(t=e+1+b,r=d-p/this.Id*d|0,k?(a.lineTo(t+.5,r+f+e+.5),p!==v&&(r=d-v/this.Id*d|0,a.lineTo(t+.5,r+f+e+.5))):0<p&&0<v&&(p!==v&&(r=d-v/this.Id*d|0),a.fillRect(t+.5,r+f+e+.5,1,1)))}k&&a.stroke()};qa.prototype.zk=function(a,b,c,d,f){var e=this.oa,g=f.h.s,k=40*f.h.B,l=40*g,p=this.displayWidth-l,n=this.displayHeight-k-l,q=this.counter,m="rgb("+this.Fd[0]+","+this.Fd[1]+","+this.Fd[2]+")",r="rgb("+this.Ed[0]+","+this.Ed[1]+","+this.Ed[2]+")",u="rgb("+this.Dd[0]+","+this.Dd[1]+","+this.Dd[2]+")",t="rgb("+this.Gd[0]+
","+this.Gd[1]+","+this.Gd[2]+")",v="rgb("+this.Hd[0]+","+this.Hd[1]+","+this.Hd[2]+")";this.Oh();if(this.Wc&&0<this.Wc.length){c?(n=this.displayHeight,k=0):d&&(n=this.displayHeight,k=0,p=this.displayWidth,l=0);var B=p-l;q>y.vr&&(q=y.vr);this.Id=0;-1===this.S&&(f.ph&&(this.Id=this.Ch),f.qh&&this.Eg>this.Id&&(this.Id=this.Eg));f.rh&&this.Gg>this.Id&&(this.Id=this.Gg);e.save();e.fillStyle=m;e.globalAlpha=b;e.fillRect(0,k,p+l,n);e.globalAlpha=1;c&&(n-=l);if(!d){e.font=(16*g|0)+"px Arial";e.textAlign=
"center";e.fillStyle=f.C.cc;for(b=2;0<=b;b-=2)e.save(),e.translate(this.displayWidth/2,n+l/2-(6*g|0)),e.fillText("Generation",b,b),e.restore(),e.save(),e.translate(l/2+(6*g|0),this.displayHeight/2),e.rotate(-90*Math.PI/180),320>this.displayHeight?e.fillText("Pop",b,b):e.fillText("Population",b,b),e.restore(),e.fillStyle=r;e.fillStyle=f.C.cc;for(b=2;0<=b;b-=2)e.save(),e.translate(l-l/2+(6*g|0),k+l),e.rotate(-90*Math.PI/180),e.fillText(String(this.Id),b,b),e.restore(),e.save(),e.translate(l-l/2+(6*
g|0),n),e.rotate(-90*Math.PI/180),e.fillText("0",b,b),e.restore(),e.save(),e.translate(l,n+l/2-(6*g|0)),e.fillText("0",b,b),e.restore(),e.save(),e.translate(p,n+l/2-(6*g|0)),e.fillText(String(q>B?q:B|0),b,b),e.restore(),e.fillStyle=r}-1===this.S&&(f.qh&&this.$i(e,v,B,n-k-l,k,l,this.Uf,a),f.ph&&this.$i(e,t,B,n-k-l,k,l,this.Of,a));(-1!==this.S||f.rh)&&this.$i(e,u,B,n-k-l,k,l,this.Wc,a);-1!==this.S||f.qh||f.ph||f.rh||(e.save(),e.font=(24*g|0)+"px Arial",e.translate(this.displayWidth/2,this.displayHeight/
2),e.fillStyle=f.C.cc,e.fillText("Select Data",2,2),e.fillStyle=r,e.fillText("Select Data",0,0),e.restore());e.strokeStyle=r;e.lineWidth=1;e.beginPath();e.moveTo(l+.5,k+l+.5);e.lineTo(l+.5,n+.5);e.lineTo(p+.5,n+.5);e.lineTo(p+.5,n+2.5);e.moveTo(l+.5,n+.5);e.lineTo(l+.5,n+2.5);e.moveTo(l+.5,n+.5);e.lineTo(l+.5-2,n+.5);e.moveTo(l+.5,k+l+.5);e.lineTo(l+.5-2,k+l+.5);e.stroke();e.restore()}};qa.prototype.Mh=function(){var a;if(this.Wc&&0<this.Wc.length){if(0<this.counter)for(a=0;a<this.Wc.length;a+=1)this.Wc[a].fill(0),
this.Of[a].fill(0),this.Uf[a].fill(0);this.Wc[0][0]=this.B}this.Gg=this.B;this.Ch=this.na;this.Eg=this.ga};qa.prototype.Lh=function(){var a=this.A,b=this.mb;b.J=a.J;b.L=a.L;b.N=a.N;b.K=a.K};qa.prototype.Bp=function(){var a,b,c,d,f=this.bd,e=this.He,g=this.$d,k=this.vd,l=this.I,p=this.F>>4,n;var q=0;var m=0!==(this.counter&1)?this.Va:this.va;for(a=0;a<l;a+=1){var r=0;var u=k[a];for(b=0;b<p;b+=1)if(n=u[b])for(c=15;0<=c;--c){if(0!==(n&1<<c))for(d=q;d<q+16;d+=1)e[d][r]=(m[d][r]|g[d][r])&f[d][r];r+=1}else r+=
16;q+=16}};qa.prototype.Ap=function(){var a,b,c,d,f,e=this.ic,g=this.He,k=this.$d,l=this.vd,p=this.I,n=this.F>>4,q;var m=0!==(this.counter&1)?this.Va:this.va;for(a=f=0;a<p;a+=1){var r=0;var u=l[a];for(b=0;b<n;b+=1)if(q=u[b])for(c=15;0<=c;--c){if(0!==(q&1<<c))for(d=f;d<f+16;d+=1){var t=m[d][r];var v=t&~g[d][r];var B=t&~k[d][r];v!==t&&(m[d][r]=v,v=e[t]-e[v],t=e[t]-e[B],this.B-=v,this.na-=t,this.ga+=v-t)}r+=1}else r+=16;f+=16}};qa.prototype.Xi=function(a,b,c,d){var f,e,g=this.Ud,k=0,l=this.Zb[k],p=this.$b[k],
n=0,q=y.Jm,m=q-1,r=0,u=q,t=this.bf,v=this.Ia,B=this.Ha,w=this.i+this.u-2,z=0;l[n]=a;p[n]=b;n+=1;-1===this.i&&(w=this.xa);if(c[b][a>>4]&1<<(~a&15)){c[b][a>>4]&=~(1<<(~a&15));z+=1;if(this.v)switch(d[b][a]){case 3:case 4:w=4;break;case 7:case 8:w=8;break;case 9:w=10;break;case 11:w=12;break;case 13:case 15:case 17:case 19:case 21:case 23:case 25:w=0;break;default:w=2}d[b][a]=w}for(;0<n;)for(--n,n<r&&(--k,r-=q,u-=q,l=this.Zb[k],p=this.$b[k]),a=l[n&m],b=p[n&m],e=b-t;e<=b+t;){for(f=a-t;f<=a+t;){if(f===
(f&v)&&e===(e&B)&&0!==(c[e][f>>4]&1<<(~f&15))){c[e][f>>4]&=~(1<<(~f&15));z+=1;if(this.v)switch(d[e][f]){case 3:case 4:w=4;break;case 7:case 8:w=8;break;case 9:w=10;break;case 11:w=12;break;case 13:case 15:case 17:case 19:case 21:case 23:case 25:w=0;break;default:w=2}d[e][f]=w;n===u&&(k+=1,r+=q,u+=q,k>g&&(this.Zb[k]=this.T.h(ra.be,q,"Life.boundaryX"+k,!1),this.$b[k]=this.T.h(ra.be,q,"Life.boundaryY"+k,!1),this.Ud=g+=1),l=this.Zb[k],p=this.$b[k]);l[n&m]=f;p[n&m]=e;n+=1}f+=1}e+=1}this.B-=z;this.ga+=
z};qa.prototype.hl=function(a,b,c,d){for(var f=c[b][a],e=15;0<=e;)0!==(f&1<<e)&&this.Xi((a<<4)+(~e&15),b,c,d),--e};qa.prototype.Yn=function(a,b,c){this.Xi(0,a,b,c)};qa.prototype.$n=function(a,b,c,d){this.Xi((a<<4)+15,b,c,d)};qa.prototype.cm=function(){var a=this.h,b;this.v&&0!==(this.counter&1)&&(a=this.P);var c=0!==(this.counter&1)?this.Va:this.va;var d=c.length;var f=c[0].length;var e=c[0];var g=c[d-1];for(b=0;b<f;)e[b]&&this.hl(b,0,c,a),g[b]&&this.hl(b,d-1,c,a),b+=1;for(b=0;b<d;)0!==(c[b][0]&32768)&&
this.Yn(b,c,a),0!==(c[b][f-1]&1)&&this.$n(f-1,b,c,a),b+=1};qa.prototype.Hh=function(a,b){var c,d=this.h,f,e=this.Ud,g=0,k=this.Zb[g],l=this.$b[g],p=0,n=y.Jm,q=n-1,m=0,r=n,u=this.Ia,t=this.Ha,v=this.bf,B=this.s?this.u:0,w=0;0!==(this.counter&1)&&(d=this.P);k[p]=a;l[p]=b;p+=1;d[b][a]>B&&(w=this.s?w+this.ic[d[b][a]-this.u]:w+1,d[b][a]=B);for(;0<p;)for(--p,p<m&&(--g,m-=n,r-=n,k=this.Zb[g],l=this.$b[g]),a=k[p&q],b=l[p&q],c=b-v;c<=b+v;){var z=a-v;for(f=d[c];z<=a+v;)z===(z&u)&&c===(c&t)&&f[z]>B&&(w=this.s?
w+this.ic[f[z]-this.u]:w+1,f[z]=B,p===r&&(g+=1,m+=n,r+=n,g>e&&(this.Zb[g]=this.T.h(ra.be,n,"Life.boundaryX"+g,!1),this.$b[g]=this.T.h(ra.be,n,"Life.boundaryY"+g,!1),this.Ud=e+=1),k=this.Zb[g],l=this.$b[g]),k[p&q]=z,l[p&q]=c,p+=1),z+=1;c+=1}this.B-=w;this.ga+=w};qa.prototype.hh=function(a,b){var c,d=this.h,f,e=this.Ud,g=0,k=this.Zb[g],l=this.$b[g],p=0,n=y.Jm,q=n-1,m=0,r=n,u=this.Ia,t=this.Ha,v=this.bf,B=0;0!==(this.counter&1)&&(d=this.P);k[p]=a;l[p]=b;p+=1;1===d[b][a]&&(d[b][a]=0,B+=1);for(;0<p;)for(--p,
p<m&&(--g,m-=n,r-=n,k=this.Zb[g],l=this.$b[g]),a=k[p&q],b=l[p&q],c=b-v;c<=b+v;){var w=a-v;for(f=d[c];w<=a+v;)w===(w&u)&&c===(c&t)&&1===f[w]&&(f[w]=0,B+=1,p===r&&(g+=1,m+=n,r+=n,g>e&&(this.Zb[g]=this.T.h(ra.be,n,"Life.boundaryX"+g,!1),this.$b[g]=this.T.h(ra.be,n,"Life.boundaryY"+g,!1),this.Ud=e+=1),k=this.Zb[g],l=this.$b[g]),k[p&q]=w,l[p&q]=c,p+=1),w+=1;c+=1}this.B-=B;this.ga+=B};qa.prototype.Fh=function(a,b){var c,d=this.h,f,e=this.Ud,g=0,k=this.Zb[g],l=this.$b[g],p=0,n=y.Jm,q=n-1,m=0,r=n,u=this.Ia,
t=this.Ha,v=y.xa,B=y.ce,w=this.bf,z=0;k[p]=a;l[p]=b;p+=1;d[b][a]>=v&&(d[b][a]=B,z+=1);for(;0<p;)for(--p,p<m&&(--g,m-=n,r-=n,k=this.Zb[g],l=this.$b[g]),a=k[p&q],b=l[p&q],c=b-w;c<=b+w;){var E=a-w;for(f=d[c];E<=a+w;)E===(E&u)&&c===(c&t)&&f[E]>=v&&(f[E]=B,z+=1,p===r&&(g+=1,m+=n,r+=n,g>e&&(this.Zb[g]=this.T.h(ra.be,n,"Life.boundaryX"+g,!1),this.$b[g]=this.T.h(ra.be,n,"Life.boundaryY"+g,!1),this.Ud=e+=1),k=this.Zb[g],l=this.$b[g]),k[p&q]=E,l[p&q]=c,p+=1),E+=1;c+=1}this.B-=z;this.ga+=z};qa.prototype.Gh=
function(a,b){var c,d=this.h,f,e=this.Ud,g=0,k=this.Zb[g],l=this.$b[g],p=0,n=y.Jm,q=n-1,m=0,r=n,u=this.Ia,t=this.Ha,v=this.i+this.u-1,B=this.i+this.u-2,w=this.bf,z=0;k[p]=a;l[p]=b;p+=1;d[b][a]===v&&(d[b][a]=B,z+=1);for(;0<p;)for(--p,p<m&&(--g,m-=n,r-=n,k=this.Zb[g],l=this.$b[g]),a=k[p&q],b=l[p&q],c=b-w;c<=b+w;){var E=a-w;for(f=d[c];E<=a+w;)E===(E&u)&&c===(c&t)&&f[E]===v&&(f[E]=B,z+=1,p===r&&(g+=1,m+=n,r+=n,g>e&&(this.Zb[g]=this.T.h(ra.be,n,"Life.boundaryX"+g,!1),this.$b[g]=this.T.h(ra.be,n,"Life.boundaryY"+
g,!1),this.Ud=e+=1),k=this.Zb[g],l=this.$b[g]),k[p&q]=E,l[p&q]=c,p+=1),E+=1;c+=1}this.B-=z;this.ga+=z};qa.prototype.fm=function(){var a=this.h,b=a.length,c=a[0].length,d=this.A,f=d.J,e=d.L,g=d.K,k=d.N,l=this.s?this.u:0,p,n;0!==(this.counter&1)&&(a=this.P);if(1>=b-k-1){for(n=b-1-1;n<=k;n+=1){var q=a[n];for(p=f;p<=e;p+=1)q[p]>l&&this.Hh(p,n)}d.N=b-1}if(1>=g){for(n=g;1>=n;n+=1)for(q=a[n],p=f;p<=e;p+=1)q[p]>l&&this.Hh(p,n);d.K=1}if(1>=f){for(n=g;n<=k;n+=1)for(q=a[n],p=f;1>=p;p+=1)q[p]>l&&this.Hh(p,n);
d.J=1}if(1>=c-e-1){for(n=g;n<=k;n+=1)for(q=a[n],p=c-1-1;p<=e;p+=1)q[p]>l&&this.Hh(p,n);d.L=c-1}};qa.prototype.bm=function(){var a=this.h,b=a.length,c=a[0].length,d=this.A,f=d.J,e=d.L,g=d.K,k=d.N,l,p;0!==(this.counter&1)&&(a=this.P);if(1>=b-k-1){for(p=b-1-1;p<=k;p+=1){var n=a[p];for(l=f;l<=e;l+=1)0<n[l]&&this.hh(l,p)}d.N=b-1}if(1>=g){for(p=g;1>=p;p+=1)for(n=a[p],l=f;l<=e;l+=1)0<n[l]&&this.hh(l,p);d.K=1}if(1>=f){for(p=g;p<=k;p+=1)for(n=a[p],l=f;1>=l;l+=1)0<n[l]&&this.hh(l,p);d.J=1}if(1>=c-e-1){for(p=
g;p<=k;p+=1)for(n=a[p],l=c-1-1;l<=e;l+=1)0<n[l]&&this.hh(l,p);d.L=c-1}};qa.prototype.dm=function(a,b){var c=this.h,d=c.length,f=c[0].length,e=this.A,g=e.J,k=e.L,l=e.K,p=e.N,n=2<this.i?this.i+this.u-1:y.xa,q,m;if(d-p-1<=b){for(m=d-b-1;m<=p;m+=1){var r=c[m];for(q=g;q<=k;q+=1)r[q]>=n&&(2===this.i?this.Fh(q,m):this.Gh(q,m))}e.N=d-b}if(l<=b){for(m=l;m<=b;m+=1)for(r=c[m],q=g;q<=k;q+=1)r[q]>=n&&(2===this.i?this.Fh(q,m):this.Gh(q,m));e.K=b}if(g<=a){for(m=l;m<=p;m+=1)for(r=c[m],q=g;q<=a;q+=1)r[q]>=n&&(2===
this.i?this.Fh(q,m):this.Gh(q,m));e.J=a}if(f-k-1<=a){for(m=l;m<=p;m+=1)for(r=c[m],q=f-a-1;q<=k;q+=1)r[q]>=n&&(2===this.i?this.Fh(q,m):this.Gh(q,m));e.L=f-a}};qa.prototype.sn=function(){var a=this.yg,b,c,d,f,e,g=this.V,k,l=this.height,p=this.width,n=p>>4,q=this.A,m=l,r=-1,u=p,t=-1,v=this.I,B=this.F>>4,w=this.ba;var z=0;var E=v,H=this.ic,L=0,M=0,N=0;if(0!==(this.counter&1)){var V=this.Va;var X=this.va;var I=this.H;var R=this.j;this.fb&&(a=this.Bh)}else V=this.va,X=this.Va,I=this.j,R=this.H;g.fill(0);
0>z&&(z=0);E>v&&(E=v);var P=z<<4;var S=P+16;R.o.fill(0);for(c=z;c<E;c+=1){var aa=0;var ma=I[c];var ea=R[c];var ca=0<c?R[c-1]:w;var ia=c<v-1?R[c+1]:w;for(d=0;d<B;d+=1)if(f=ma[d]){var oa=ea[d];var ja=ca[d];var W=ia[d];for(b=15;0<=b;--b){if(0!==(f&1<<b)){var na=k=0;var fa=P;var Z=0===fa?this.Bd:V[fa-1];var Y=V[fa];z=V[fa+1];var pa=e=Y[aa];Z=Z[aa-1]<<18|Z[aa]<<2|Z[aa+1]>>14;var Q=Y[aa-1]<<18|e<<2|Y[aa+1]>>14;var G=z[aa-1]<<18|z[aa]<<2|z[aa+1]>>14;var A=a[Z>>7&7936|G>>11&224|Q>>15&31]<<15;A|=a[G>>6&7936|
Z>>10&224|Q>>14&31]<<14;A|=a[Z>>5&7936|G>>9&224|Q>>13&31]<<13;A|=a[G>>4&7936|Z>>8&224|Q>>12&31]<<12;A|=a[Z>>3&7936|G>>7&224|Q>>11&31]<<11;A|=a[G>>2&7936|Z>>6&224|Q>>10&31]<<10;A|=a[Z>>1&7936|G>>5&224|Q>>9&31]<<9;A|=a[G>>0&7936|Z>>4&224|Q>>8&31]<<8;A|=a[Z<<1&7936|G>>3&224|Q>>7&31]<<7;A|=a[G<<2&7936|Z>>2&224|Q>>6&31]<<6;A|=a[Z<<3&7936|G>>1&224|Q>>5&31]<<5;A|=a[G<<4&7936|Z>>0&224|Q>>4&31]<<4;A|=a[Z<<5&7936|G<<1&224|Q>>3&31]<<3;A|=a[G<<6&7936|Z<<2&224|Q>>2&31]<<2;A|=a[Z<<7&7936|G<<3&224|Q>>1&31]<<1;A|=
a[G<<8&7936|Z<<4&224|Q>>0&31]<<0;X[fa][aa]=A;L+=H[A];M+=H[A&~e];N+=H[e&~A];A&&(k|=A,fa<m&&(m=fa),fa>r&&(r=fa),0!==(A&49152)&&(na|=y.Qa),0!==(A&3)&&(na|=y.Ra),na|=y.Oa);for(fa+=1;fa<S-1;){e=z[aa];pa|=e;z=V[fa+1];Z=Q;Q=G;G=z[aa-1]<<18|z[aa]<<2|z[aa+1]>>14;0!==(fa&1)&&(Y=Z,Z=G,G=Y);A=a[Z>>7&7936|G>>11&224|Q>>15&31]<<15;A|=a[G>>6&7936|Z>>10&224|Q>>14&31]<<14;A|=a[Z>>5&7936|G>>9&224|Q>>13&31]<<13;A|=a[G>>4&7936|Z>>8&224|Q>>12&31]<<12;A|=a[Z>>3&7936|G>>7&224|Q>>11&31]<<11;A|=a[G>>2&7936|Z>>6&224|Q>>10&
31]<<10;A|=a[Z>>1&7936|G>>5&224|Q>>9&31]<<9;A|=a[G>>0&7936|Z>>4&224|Q>>8&31]<<8;A|=a[Z<<1&7936|G>>3&224|Q>>7&31]<<7;A|=a[G<<2&7936|Z>>2&224|Q>>6&31]<<6;A|=a[Z<<3&7936|G>>1&224|Q>>5&31]<<5;A|=a[G<<4&7936|Z>>0&224|Q>>4&31]<<4;A|=a[Z<<5&7936|G<<1&224|Q>>3&31]<<3;A|=a[G<<6&7936|Z<<2&224|Q>>2&31]<<2;A|=a[Z<<7&7936|G<<3&224|Q>>1&31]<<1;A|=a[G<<8&7936|Z<<4&224|Q>>0&31]<<0;L+=H[A];M+=H[A&~e];N+=H[e&~A];0!==(fa&1)&&(G=Y=Z);if(X[fa][aa]=A)k|=A,fa<m&&(m=fa),fa>r&&(r=fa);fa+=1}e=z[aa];pa|=e;z=fa===this.height-
1?this.Bd:V[fa+1];Z=Q;Q=G;G=z[aa-1]<<18|z[aa]<<2|z[aa+1]>>14;0!==(fa&1)&&(Y=Z,Z=G,G=Y);A=a[Z>>7&7936|G>>11&224|Q>>15&31]<<15;A|=a[G>>6&7936|Z>>10&224|Q>>14&31]<<14;A|=a[Z>>5&7936|G>>9&224|Q>>13&31]<<13;A|=a[G>>4&7936|Z>>8&224|Q>>12&31]<<12;A|=a[Z>>3&7936|G>>7&224|Q>>11&31]<<11;A|=a[G>>2&7936|Z>>6&224|Q>>10&31]<<10;A|=a[Z>>1&7936|G>>5&224|Q>>9&31]<<9;A|=a[G>>0&7936|Z>>4&224|Q>>8&31]<<8;A|=a[Z<<1&7936|G>>3&224|Q>>7&31]<<7;A|=a[G<<2&7936|Z>>2&224|Q>>6&31]<<6;A|=a[Z<<3&7936|G>>1&224|Q>>5&31]<<5;A|=a[G<<
4&7936|Z>>0&224|Q>>4&31]<<4;A|=a[Z<<5&7936|G<<1&224|Q>>3&31]<<3;A|=a[G<<6&7936|Z<<2&224|Q>>2&31]<<2;A|=a[Z<<7&7936|G<<3&224|Q>>1&31]<<1;A|=a[G<<8&7936|Z<<4&224|Q>>0&31]<<0;L+=H[A];M+=H[A&~e];N+=H[e&~A];if(X[fa][aa]=A)k|=A,fa<m&&(m=fa),fa>r&&(r=fa),0!==(A&49152)&&(na|=y.Sa),0!==(A&3)&&(na|=y.Ka),na|=y.La;k&&(0!==(k&49152)&&(na|=y.Ja),0!==(k&3)&&(na|=y.Ga));g[aa]|=k;if(k||pa)oa|=1<<b,na&&(0!==(na&y.Ja)&&(15>b?oa|=1<<b+1:0<d&&0<aa&&(ea[d-1]|=1)),0!==(na&y.Ga)&&(0<b?oa|=1<<b-1:d<B-1&&aa<n-1&&(ea[d+1]|=
32768)),0!==(na&y.Oa)&&(ja|=1<<b),0!==(na&y.La)&&(W|=1<<b),0!==(na&y.Qa)&&(15>b?ja|=1<<b+1:0<d&&0<aa&&(ca[d-1]|=1)),0!==(na&y.Ra)&&(0<b?ja|=1<<b-1:d<B-1&&aa<n-1&&(ca[d+1]|=32768)),0!==(na&y.Sa)&&(15>b?W|=1<<b+1:0<d&&0<aa&&(ia[d-1]|=1)),0!==(na&y.Ka)&&(0<b?W|=1<<b-1:d<B-1&&aa<n-1&&(ia[d+1]|=32768)))}aa+=1}ea[d]|=oa;0<c&&(ca[d]|=ja);c<v-1&&(ia[d]|=W)}else aa+=16;P+=16;S+=16}for(d=0;d<n;d+=1)g[d]&&(d<u&&(u=d),d>t&&(t=d));u=(u<<4)+this.Rb(g[u]);t=(t<<4)+this.Wb(g[t]);0>r&&(r=l-1);m>=l&&(m=0);u>=p&&(u=
0);0>t&&(t=p-1);r>l-1&&(r=l-1);0>m&&(m=0);0>u&&(u=0);t>p-1&&(t=p-1);q.N=r;q.K=m;q.J=u;q.L=t;w.fill(0);this.B=L;this.na=M;this.ga=N};qa.prototype.sp=function(){var a=this.ze,b,c,d,f=this.ta,e=this.V,g,k=this.height,l=this.width,p=l>>4,n=this.A,q=k,m=-1,r=l,u=-1,t=this.I,v=this.F>>4,B=this.ba,w=this.ic,z=0,E=0,H=0,L=this.counter&1;this.Ub&&(this.vb=!this.vb,this.Ub=!1);if(0!==L){var M=this.Va;var N=this.va;var V=this.H;var X=this.j;this.vb&&(a=this.Cb)}else M=this.va,N=this.Va,V=this.j,X=this.H,this.fb&&
(a=this.lf),this.vb&&(a=this.fb?this.Ae:this.Cb);this.vb&&(L=1-L);e.fill(0);var I=1-L;var R=I+16;X.o.fill(0);for(c=0;c<V.length;c+=1){var P=0;var S=V[c];var aa=X[c];var ma=f[c];var ea=0<c?X[c-1]:B;var ca=c<t-1?X[c+1]:B;for(d=0;d<v;d+=1){var ia=S[d];var oa=0;if(ia){var ja=aa[d];var W=ea[d];var na=ca[d];for(b=15;0<=b;--b){var fa=0===b&&d===v-1?!0:!1;if(0!==(ia&1<<b)){var Z=g=0;if(0!==L){var Y=I;var pa=M[Y][P];var Q=M[Y+1][P];var G=pa|Q;var A=a[pa&65280|Q>>8];var K=A&65280;var O=(A&255)<<8;A=a[(pa&255)<<
8|Q&255];K|=A>>8;O|=A&255;N[Y][P]=K;N[Y+1][P]=O;z+=w[K];E+=w[K&~pa];H+=w[pa&~K];z+=w[O];E+=w[O&~Q];H+=w[Q&~O];if(A=K|O)g|=A,K&&(Y<q&&(q=Y),Y>m&&(m=Y)),O&&(Y+1<q&&(q=Y+1),Y+1>m&&(m=Y+1)),0!==(A&49152)&&(Z|=y.Qa),0!==(A&3)&&(Z|=y.Ra),Z|=y.Oa;for(Y+=2;Y<R-2;){pa=M[Y][P];Q=M[Y+1][P];G|=pa|Q;A=a[pa&65280|Q>>8];K=A&65280;O=(A&255)<<8;A=a[(pa&255)<<8|Q&255];K|=A>>8;O|=A&255;N[Y][P]=K;N[Y+1][P]=O;z+=w[K];E+=w[K&~pa];H+=w[pa&~K];z+=w[O];E+=w[O&~Q];H+=w[Q&~O];if(A=K|O)g|=A,K&&(Y<q&&(q=Y),Y>m&&(m=Y)),O&&(Y+
1<q&&(q=Y+1),Y+1>m&&(m=Y+1));Y+=2}pa=M[Y][P];Q=M[Y+1][P];G|=pa|Q;A=a[pa&65280|Q>>8];K=A&65280;O=(A&255)<<8;A=a[(pa&255)<<8|Q&255];K|=A>>8;O|=A&255;N[Y][P]=K;N[Y+1][P]=O;z+=w[K];E+=w[K&~pa];H+=w[pa&~K];z+=w[O];E+=w[O&~Q];H+=w[Q&~O];if(A=K|O)g|=A,K&&(Y<q&&(q=Y),Y>m&&(m=Y)),O&&(Y+1<q&&(q=Y+1),Y+1>m&&(m=Y+1)),A&&(0!==(A&49152)&&(Z|=y.Sa),0!==(A&3)&&(Z|=y.Ka),Z|=y.La);g&&(0!==(g&49152)&&(Z|=y.Ja),0!==(g&3)&&(Z|=y.Ga),e[P]|=g);if(g||G)Z|=y.Ka,Z|=y.Ga}else{Y=I;fa?(pa=M[Y][P]<<1&65535,Q=M[Y+1][P]<<1&65535):
(pa=(M[Y][P]<<1|M[Y][P+1]>>15)&65535,Q=(M[Y+1][P]<<1|M[Y+1][P+1]>>15)&65535);G=pa|Q;A=a[pa&65280|Q>>8];K=A&65280;O=(A&255)<<8;A=a[(pa&255)<<8|Q&255];K|=A>>8;O|=A&255;fa?(N[Y][P]=N[Y][P]&32768|K>>1,N[Y+1][P]=N[Y+1][P]&32768|O>>1):(N[Y][P]=N[Y][P]&32768|K>>1,N[Y][P+1]=N[Y][P+1]&32767|(K&1)<<15,N[Y+1][P]=N[Y+1][P]&32768|O>>1,N[Y+1][P+1]=N[Y+1][P+1]&32767|(O&1)<<15);z+=w[K];E+=w[K&~pa];H+=w[pa&~K];z+=w[O];E+=w[O&~Q];H+=w[Q&~O];if(A=K|O)g|=A,K&&(Y<q&&(q=Y),Y>m&&(m=Y)),O&&(Y+1<q&&(q=Y+1),Y+1>m&&(m=Y+1));
for(Y+=2;Y<R-2;){fa?(pa=M[Y][P]<<1&65535,Q=M[Y+1][P]<<1&65535):(pa=(M[Y][P]<<1|M[Y][P+1]>>15)&65535,Q=(M[Y+1][P]<<1|M[Y+1][P+1]>>15)&65535);G|=pa|Q;A=a[pa&65280|Q>>8];K=A&65280;O=(A&255)<<8;A=a[(pa&255)<<8|Q&255];K|=A>>8;O|=A&255;fa?(N[Y][P]=N[Y][P]&32768|K>>1,N[Y+1][P]=N[Y+1][P]&32768|O>>1):(N[Y][P]=N[Y][P]&32768|K>>1,N[Y][P+1]=N[Y][P+1]&32767|(K&1)<<15,N[Y+1][P]=N[Y+1][P]&32768|O>>1,N[Y+1][P+1]=N[Y+1][P+1]&32767|(O&1)<<15);z+=w[K];E+=w[K&~pa];H+=w[pa&~K];z+=w[O];E+=w[O&~Q];H+=w[Q&~O];if(A=K|O)g|=
A,K&&(Y<q&&(q=Y),Y>m&&(m=Y)),O&&(Y+1<q&&(q=Y+1),Y+1>m&&(m=Y+1));Y+=2}fa?(pa=M[Y][P]<<1&65535,Q=M[Y+1][P]<<1&65535):(pa=(M[Y][P]<<1|M[Y][P+1]>>15)&65535,Q=(M[Y+1][P]<<1|M[Y+1][P+1]>>15)&65535);G|=pa|Q;A=a[pa&65280|Q>>8];K=A&65280;O=(A&255)<<8;A=a[(pa&255)<<8|Q&255];K|=A>>8;O|=A&255;fa?(N[Y][P]=N[Y][P]&32768|K>>1,N[Y+1][P]=N[Y+1][P]&32768|O>>1):(N[Y][P]=N[Y][P]&32768|K>>1,N[Y][P+1]=N[Y][P+1]&32767|(K&1)<<15,N[Y+1][P]=N[Y+1][P]&32768|O>>1,N[Y+1][P+1]=N[Y+1][P+1]&32767|(O&1)<<15);z+=w[K];E+=w[K&~pa];
H+=w[pa&~K];z+=w[O];E+=w[O&~Q];H+=w[Q&~O];if(A=K|O)g|=A,K&&(Y<q&&(q=Y),Y>m&&(m=Y)),O&&(Y+1<q&&(q=Y+1),Y+1>m&&(m=Y+1)),0!==(A&3)&&(Z|=y.Ka),Z|=y.La;pa|Q&&(0!==((pa|Q)&3)&&(Z|=y.Ka),Z|=y.La);g&&(0!==(g&3)&&(Z|=y.Ga),e[P]|=g>>1,e[P+1]|=(g&1)<<15);0!==(G&3)&&(Z|=y.Ga)}if(g||G)ja|=1<<b,Z&&(0!==(Z&y.Ja)&&(15>b?ja|=1<<b+1:0<d&&0<P&&(aa[d-1]|=1)),0!==(Z&y.Ga)&&(0<b?ja|=1<<b-1:d<v-1&&P<p-1&&(aa[d+1]|=32768)),0!==(Z&y.Oa)&&(W|=1<<b),0!==(Z&y.La)&&(na|=1<<b),0!==(Z&y.Qa)&&(15>b?W|=1<<b+1:0<d&&0<P&&(ea[d-1]|=
1)),0!==(Z&y.Ra)&&(0<b?W|=1<<b-1:d<v-1&&P<p-1&&(ea[d+1]|=32768)),0!==(Z&y.Sa)&&(15>b?na|=1<<b+1:0<d&&0<P&&(ca[d-1]|=1)),0!==(Z&y.Ka)&&(0<b?na|=1<<b-1:d<v-1&&P<p-1&&(ca[d+1]|=32768)));0===g&&G&&(oa|=1<<b)}P+=1}aa[d]|=ja;0<c&&(ea[d]|=W);c<t-1&&(ca[d]|=na)}else P+=16;ma[d]=oa}I+=16;R+=16;R>=k&&(R=k-1)}for(d=0;d<p;d+=1)e[d]&&(d<r&&(r=d),d>u&&(u=d));r=(r<<4)+this.Rb(e[r]);u=(u<<4)+this.Wb(e[u]);0>m&&(m=k-1);q>=k&&(q=0);r>=l&&(r=0);0>u&&(u=l-1);m>k-1&&(m=k-1);0>q&&(q=0);0>r&&(r=0);u>l-1&&(u=l-1);n.N=m;
n.K=q;n.J=r;n.L=u;B.fill(0);this.hm(M);this.B=z;this.na=E;this.ga=H};qa.prototype.on=function(){var a=performance.now();U.R&&U.WD&&this.view.i?(va.gl(this.va.o.byteOffset|0,this.Va.o.byteOffset|0,this.va[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|0,this.j[0].length|0,this.Xf.byteOffset|0,(this.fb?this.kf.byteOffset:0)|0,(this.fb?1:0)|0,this.V.byteOffset|0,this.V.length|0,this.Y.byteOffset|0,this.Y.length|0,this.width|0,this.height|0,2,16,this.I|0,this.F|0,this.ba.byteOffset|0,this.ba.length|
0,this.Bd.byteOffset|0,this.ca|0,this.$|0,this.S|0,this.counter|0,y.Ra|0,y.Oa|0,y.Ka|0,y.La|0,y.Qa|0,y.Sa|0,y.Ja|0,y.Ga|0,this.j.o.byteLength|0,this.fa.byteOffset|0),this.B=this.fa[0],this.na=this.fa[1],this.ga=this.fa[2],this.A.J=this.fa[3],this.A.K=this.fa[4],this.A.L=this.fa[5],this.A.N=this.fa[6]):this.qn();a=performance.now()-a;U.xb&&this.view.C.h("nextGeneration",a,U.R&&U.WD&&this.view.i)};qa.prototype.qn=function(){var a=this.Xf,b,c,d,f,e,g,k=this.V,l,p=this.Y,n,q=this.ic,m=0,r=0,u=0,t=this.height,
v=this.width,B=v>>4,w=this.A,z=t,E=-1,H=v,L=-1,M=this.I,N=this.F>>4,V=this.ba,X=this.ca,I=this.$,R=Math.round((this.width-X)/2),P=Math.round((this.height-I)/2),S=R+X-1,aa=P+I-1;if(0!==(this.counter&1)){var ma=this.Va;var ea=this.va;var ca=this.H;var ia=this.j;this.fb&&(a=this.kf)}else ma=this.va,ea=this.Va,ca=this.j,ia=this.H;k.fill(0);p.fill(0);var oa=0;var ja=oa+16;ia.o.fill(0);for(d=0;d<ca.length;d+=1){var W=0;var na=ca[d];var fa=ia[d];var Z=0<d?ia[d-1]:V;var Y=d<M-1?ia[d+1]:V;for(f=0;f<N;f+=1)if(e=
na[f]){var pa=fa[f];var Q=Z[f];var G=Y[f];for(b=15;0<=b;--b){if(0!==(e&1<<b)){var A=n=l=0;var K=oa;var O=32768;var J=0===K?this.Bd:ma[K-1];var x=ma[K];var D=ma[K+1];var la=g=x[W];if(W)if(W>=B-1){J=(J[W-1]&1)<<17|J[W]<<1;x=(x[W-1]&1)<<17|g<<1;var ba=(D[W-1]&1)<<17|D[W]<<1;if(c=J|x|ba)if(c=a[J>>12|x>>12<<6|ba&258048]<<12,c|=a[J>>8&63|x>>2&4032|ba<<4&258048]<<8,c|=a[J>>4&63|x<<2&4032|ba<<8&258048]<<4,c|=a[J&63|(x&63)<<6|(ba&63)<<12])l|=c,n|=O,m+=q[c],0!==(c&32768)&&(A|=y.Qa),A|=y.Oa;ea[K][W]=c;c|g&&
(r+=q[c&~g],u+=q[g&~c]);K+=1;for(O>>=1;K<ja-1;){g=D[W];la|=g;D=ma[K+1];J=x;x=ba;ba=(D[W-1]&1)<<17|D[W]<<1;if(c=J|x|ba)if(c=a[J>>12|x>>12<<6|ba&258048]<<12,c|=a[J>>8&63|x>>2&4032|ba<<4&258048]<<8,c|=a[J>>4&63|x<<2&4032|ba<<8&258048]<<4,c|=a[J&63|(x&63)<<6|(ba&63)<<12])l|=c,n|=O,m+=q[c];ea[K][W]=c;c|g&&(r+=q[c&~g],u+=q[g&~c]);K+=1;O>>=1}g=D[W];la|=g;D=K===this.height-1?this.Bd:ma[K+1];J=x;x=ba;ba=(D[W-1]&1)<<17|D[W]<<1;if(c=J|x|ba)if(c=a[J>>12|x>>12<<6|ba&258048]<<12,c|=a[J>>8&63|x>>2&4032|ba<<4&258048]<<
8,c|=a[J>>4&63|x<<2&4032|ba<<8&258048]<<4,c|=a[J&63|(x&63)<<6|(ba&63)<<12])l|=c,n|=O,m+=q[c],0!==(c&32768)&&(A|=y.Sa),A|=y.La}else{J=(J[W-1]&1)<<17|J[W]<<1|J[W+1]>>15;x=(x[W-1]&1)<<17|g<<1|x[W+1]>>15;ba=(D[W-1]&1)<<17|D[W]<<1|D[W+1]>>15;if(c=J|x|ba)if(c=a[J>>12|x>>12<<6|ba&258048]<<12,c|=a[J>>8&63|x>>2&4032|ba<<4&258048]<<8,c|=a[J>>4&63|x<<2&4032|ba<<8&258048]<<4,c|=a[J&63|(x&63)<<6|(ba&63)<<12])l|=c,n|=O,m+=q[c],0!==(c&32768)&&(A|=y.Qa),0!==(c&1)&&(A|=y.Ra),A|=y.Oa;ea[K][W]=c;c|g&&(r+=q[c&~g],u+=
q[g&~c]);K+=1;O>>=1;g=D[W];la|=g;D=ma[K+1];J=x;x=ba;ba=(D[W-1]&1)<<17|D[W]<<1|D[W+1]>>15;if(c=J|x|ba)if(c=a[J>>12|x>>12<<6|ba&258048]<<12,c|=a[J>>8&63|x>>2&4032|ba<<4&258048]<<8,c|=a[J>>4&63|x<<2&4032|ba<<8&258048]<<4,c|=a[J&63|(x&63)<<6|(ba&63)<<12])l|=c,n|=O,m+=q[c];ea[K][W]=c;c|g&&(r+=q[c&~g],u+=q[g&~c]);K+=1;O>>=1;g=D[W];la|=g;D=ma[K+1];J=x;x=ba;ba=(D[W-1]&1)<<17|D[W]<<1|D[W+1]>>15;if(c=J|x|ba)if(c=a[J>>12|x>>12<<6|ba&258048]<<12,c|=a[J>>8&63|x>>2&4032|ba<<4&258048]<<8,c|=a[J>>4&63|x<<2&4032|
ba<<8&258048]<<4,c|=a[J&63|(x&63)<<6|(ba&63)<<12])l|=c,n|=O,m+=q[c];ea[K][W]=c;c|g&&(r+=q[c&~g],u+=q[g&~c]);K+=1;O>>=1;g=D[W];la|=g;D=ma[K+1];J=x;x=ba;ba=(D[W-1]&1)<<17|D[W]<<1|D[W+1]>>15;if(c=J|x|ba)if(c=a[J>>12|x>>12<<6|ba&258048]<<12,c|=a[J>>8&63|x>>2&4032|ba<<4&258048]<<8,c|=a[J>>4&63|x<<2&4032|ba<<8&258048]<<4,c|=a[J&63|(x&63)<<6|(ba&63)<<12])l|=c,n|=O,m+=q[c];ea[K][W]=c;c|g&&(r+=q[c&~g],u+=q[g&~c]);K+=1;O>>=1;g=D[W];la|=g;D=ma[K+1];J=x;x=ba;ba=(D[W-1]&1)<<17|D[W]<<1|D[W+1]>>15;if(c=J|x|ba)if(c=
a[J>>12|x>>12<<6|ba&258048]<<12,c|=a[J>>8&63|x>>2&4032|ba<<4&258048]<<8,c|=a[J>>4&63|x<<2&4032|ba<<8&258048]<<4,c|=a[J&63|(x&63)<<6|(ba&63)<<12])l|=c,n|=O,m+=q[c];ea[K][W]=c;c|g&&(r+=q[c&~g],u+=q[g&~c]);K+=1;O>>=1;g=D[W];la|=g;D=ma[K+1];J=x;x=ba;ba=(D[W-1]&1)<<17|D[W]<<1|D[W+1]>>15;if(c=J|x|ba)if(c=a[J>>12|x>>12<<6|ba&258048]<<12,c|=a[J>>8&63|x>>2&4032|ba<<4&258048]<<8,c|=a[J>>4&63|x<<2&4032|ba<<8&258048]<<4,c|=a[J&63|(x&63)<<6|(ba&63)<<12])l|=c,n|=O,m+=q[c];ea[K][W]=c;c|g&&(r+=q[c&~g],u+=q[g&~c]);
K+=1;O>>=1;g=D[W];la|=g;D=ma[K+1];J=x;x=ba;ba=(D[W-1]&1)<<17|D[W]<<1|D[W+1]>>15;if(c=J|x|ba)if(c=a[J>>12|x>>12<<6|ba&258048]<<12,c|=a[J>>8&63|x>>2&4032|ba<<4&258048]<<8,c|=a[J>>4&63|x<<2&4032|ba<<8&258048]<<4,c|=a[J&63|(x&63)<<6|(ba&63)<<12])l|=c,n|=O,m+=q[c];ea[K][W]=c;c|g&&(r+=q[c&~g],u+=q[g&~c]);K+=1;O>>=1;g=D[W];la|=g;D=ma[K+1];J=x;x=ba;ba=(D[W-1]&1)<<17|D[W]<<1|D[W+1]>>15;if(c=J|x|ba)if(c=a[J>>12|x>>12<<6|ba&258048]<<12,c|=a[J>>8&63|x>>2&4032|ba<<4&258048]<<8,c|=a[J>>4&63|x<<2&4032|ba<<8&258048]<<
4,c|=a[J&63|(x&63)<<6|(ba&63)<<12])l|=c,n|=O,m+=q[c];ea[K][W]=c;c|g&&(r+=q[c&~g],u+=q[g&~c]);K+=1;O>>=1;g=D[W];la|=g;D=ma[K+1];J=x;x=ba;ba=(D[W-1]&1)<<17|D[W]<<1|D[W+1]>>15;if(c=J|x|ba)if(c=a[J>>12|x>>12<<6|ba&258048]<<12,c|=a[J>>8&63|x>>2&4032|ba<<4&258048]<<8,c|=a[J>>4&63|x<<2&4032|ba<<8&258048]<<4,c|=a[J&63|(x&63)<<6|(ba&63)<<12])l|=c,n|=O,m+=q[c];ea[K][W]=c;c|g&&(r+=q[c&~g],u+=q[g&~c]);K+=1;O>>=1;g=D[W];la|=g;D=ma[K+1];J=x;x=ba;ba=(D[W-1]&1)<<17|D[W]<<1|D[W+1]>>15;if(c=J|x|ba)if(c=a[J>>12|x>>
12<<6|ba&258048]<<12,c|=a[J>>8&63|x>>2&4032|ba<<4&258048]<<8,c|=a[J>>4&63|x<<2&4032|ba<<8&258048]<<4,c|=a[J&63|(x&63)<<6|(ba&63)<<12])l|=c,n|=O,m+=q[c];ea[K][W]=c;c|g&&(r+=q[c&~g],u+=q[g&~c]);K+=1;O>>=1;g=D[W];la|=g;D=ma[K+1];J=x;x=ba;ba=(D[W-1]&1)<<17|D[W]<<1|D[W+1]>>15;if(c=J|x|ba)if(c=a[J>>12|x>>12<<6|ba&258048]<<12,c|=a[J>>8&63|x>>2&4032|ba<<4&258048]<<8,c|=a[J>>4&63|x<<2&4032|ba<<8&258048]<<4,c|=a[J&63|(x&63)<<6|(ba&63)<<12])l|=c,n|=O,m+=q[c];ea[K][W]=c;c|g&&(r+=q[c&~g],u+=q[g&~c]);K+=1;O>>=
1;g=D[W];la|=g;D=ma[K+1];J=x;x=ba;ba=(D[W-1]&1)<<17|D[W]<<1|D[W+1]>>15;if(c=J|x|ba)if(c=a[J>>12|x>>12<<6|ba&258048]<<12,c|=a[J>>8&63|x>>2&4032|ba<<4&258048]<<8,c|=a[J>>4&63|x<<2&4032|ba<<8&258048]<<4,c|=a[J&63|(x&63)<<6|(ba&63)<<12])l|=c,n|=O,m+=q[c];ea[K][W]=c;c|g&&(r+=q[c&~g],u+=q[g&~c]);K+=1;O>>=1;g=D[W];la|=g;D=ma[K+1];J=x;x=ba;ba=(D[W-1]&1)<<17|D[W]<<1|D[W+1]>>15;if(c=J|x|ba)if(c=a[J>>12|x>>12<<6|ba&258048]<<12,c|=a[J>>8&63|x>>2&4032|ba<<4&258048]<<8,c|=a[J>>4&63|x<<2&4032|ba<<8&258048]<<4,c|=
a[J&63|(x&63)<<6|(ba&63)<<12])l|=c,n|=O,m+=q[c];ea[K][W]=c;c|g&&(r+=q[c&~g],u+=q[g&~c]);K+=1;O>>=1;g=D[W];la|=g;D=ma[K+1];J=x;x=ba;ba=(D[W-1]&1)<<17|D[W]<<1|D[W+1]>>15;if(c=J|x|ba)if(c=a[J>>12|x>>12<<6|ba&258048]<<12,c|=a[J>>8&63|x>>2&4032|ba<<4&258048]<<8,c|=a[J>>4&63|x<<2&4032|ba<<8&258048]<<4,c|=a[J&63|(x&63)<<6|(ba&63)<<12])l|=c,n|=O,m+=q[c];ea[K][W]=c;c|g&&(r+=q[c&~g],u+=q[g&~c]);K+=1;O>>=1;g=D[W];la|=g;D=ma[K+1];J=x;x=ba;ba=(D[W-1]&1)<<17|D[W]<<1|D[W+1]>>15;if(c=J|x|ba)if(c=a[J>>12|x>>12<<6|
ba&258048]<<12,c|=a[J>>8&63|x>>2&4032|ba<<4&258048]<<8,c|=a[J>>4&63|x<<2&4032|ba<<8&258048]<<4,c|=a[J&63|(x&63)<<6|(ba&63)<<12])l|=c,n|=O,m+=q[c];ea[K][W]=c;c|g&&(r+=q[c&~g],u+=q[g&~c]);K+=1;O>>=1;g=D[W];la|=g;D=K===this.height-1?this.Bd:ma[K+1];J=x;x=ba;ba=(D[W-1]&1)<<17|D[W]<<1|D[W+1]>>15;if(c=J|x|ba)if(c=a[J>>12|x>>12<<6|ba&258048]<<12,c|=a[J>>8&63|x>>2&4032|ba<<4&258048]<<8,c|=a[J>>4&63|x<<2&4032|ba<<8&258048]<<4,c|=a[J&63|(x&63)<<6|(ba&63)<<12])l|=c,n|=O,m+=q[c],0!==(c&32768)&&(A|=y.Sa),0!==
(c&1)&&(A|=y.Ka),A|=y.La}else{J=J[W]<<1|J[W+1]>>15;x=g<<1|x[W+1]>>15;ba=D[W]<<1|D[W+1]>>15;if(c=J|x|ba)if(c=a[J>>12|x>>12<<6|ba&258048]<<12,c|=a[J>>8&63|x>>2&4032|ba<<4&258048]<<8,c|=a[J>>4&63|x<<2&4032|ba<<8&258048]<<4,c|=a[J&63|(x&63)<<6|(ba&63)<<12])l|=c,n|=O,0!==(c&1)&&(A|=y.Ra),A|=y.Oa,m+=q[c];ea[K][W]=c;c|g&&(r+=q[c&~g],u+=q[g&~c]);K+=1;for(O>>=1;K<ja-1;){g=D[W];la|=g;D=ma[K+1];J=x;x=ba;ba=D[W]<<1|D[W+1]>>15;if(c=J|x|ba)if(c=a[J>>12|x>>12<<6|ba&258048]<<12,c|=a[J>>8&63|x>>2&4032|ba<<4&258048]<<
8,c|=a[J>>4&63|x<<2&4032|ba<<8&258048]<<4,c|=a[J&63|(x&63)<<6|(ba&63)<<12])l|=c,n|=O,m+=q[c];ea[K][W]=c;c|g&&(r+=q[c&~g],u+=q[g&~c]);K+=1;O>>=1}g=D[W];la|=g;D=K===this.height-1?this.Bd:ma[K+1];J=x;x=ba;ba=D[W]<<1|D[W+1]>>15;if(c=J|x|ba)if(c=a[J>>12|x>>12<<6|ba&258048]<<12,c|=a[J>>8&63|x>>2&4032|ba<<4&258048]<<8,c|=a[J>>4&63|x<<2&4032|ba<<8&258048]<<4,c|=a[J&63|(x&63)<<6|(ba&63)<<12])l|=c,n|=O,m+=q[c],0!==(c&1)&&(A|=y.Ka),A|=y.La}ea[K][W]=c;c|g&&(r+=q[c&~g],u+=q[g&~c]);l&&(0!==(l&32768)&&(A|=y.Ja),
0!==(l&1)&&(A|=y.Ga));k[W]|=l;if(l||la)pa|=1<<b,A&&(0!==(A&y.Ja)&&(15>b?pa|=1<<b+1:0<f&&0<W&&(fa[f-1]|=1)),0!==(A&y.Ga)&&(0<b?pa|=1<<b-1:f<N-1&&W<B-1&&(fa[f+1]|=32768)),0!==(A&y.Oa)&&(Q|=1<<b),0!==(A&y.La)&&(G|=1<<b),0!==(A&y.Qa)&&(15>b?Q|=1<<b+1:0<f&&0<W&&(Z[f-1]|=1)),0!==(A&y.Ra)&&(0<b?Q|=1<<b-1:f<N-1&&W<B-1&&(Z[f+1]|=32768)),0!==(A&y.Sa)&&(15>b?G|=1<<b+1:0<f&&0<W&&(Y[f-1]|=1)),0!==(A&y.Ka)&&(0<b?G|=1<<b-1:f<N-1&&W<B-1&&(Y[f+1]|=32768)));p[d]|=n}W+=1}fa[f]|=pa;0<d&&(Z[f]|=Q);d<M-1&&(Y[f]|=G)}else W+=
16;oa+=16;ja+=16}-1!==this.S&&(0!==X&&(k[R-1>>4]&=~(1<<(~(R-1)&15)),k[S+1>>4]&=~(1<<(~(S+1)&15)),k[R-2>>4]&=~(1<<(~(R-2)&15)),k[S+2>>4]&=~(1<<(~(S+2)&15))),0!==I&&(p[P-1>>4]&=~(1<<(~(P-1)&15)),p[aa+1>>4]&=~(1<<(~(aa+1)&15)),p[P-2>>4]&=~(1<<(~(P-2)&15)),p[aa+2>>4]&=~(1<<(~(aa+2)&15))));for(f=0;f<B;f+=1)k[f]&&(f<H&&(H=f),f>L&&(L=f));for(d=0;d<p.length;d+=1)p[d]&&(d<z&&(z=d),d>E&&(E=d));H=(H<<4)+this.Rb(k[H]);L=(L<<4)+this.Wb(k[L]);z=(z<<4)+this.Rb(p[z]);E=(E<<4)+this.Wb(p[E]);0>E&&(E=t-1);z>=t&&(z=
0);H>=v&&(H=0);0>L&&(L=v-1);E>t-1&&(E=t-1);0>z&&(z=0);0>H&&(H=0);L>v-1&&(L=v-1);w.N=E;w.K=z;w.J=H;w.L=L;V.fill(0);this.B=m;this.na=r;this.ga=u};qa.prototype.vm=function(a,b){var c,d=this.m,f,e,g,k,l=this.I,p=this.F>>4;var n=0;var q=n+16;for(f=0;f<l;f+=1){var m=0;var r=d[f];for(e=0;e<p;e+=1)if(k=r[e])for(g=15;0<=g;--g){if(0!==(k&1<<g))for(c=n;c<q;c+=2){var u=b[c];var t=a[c];var v=a[c+1];var B=m<<3;var w=t[B];w|=(w&257)<<5;var z=w&255;var E=z-(w>>8);z-=E&E>>255;w=v[B];w|=(w&257)<<5;E=z-(w&255);z-=E&
E>>255;E=z-(w>>8);u[B+B]=z-(E&E>>255)&31;B+=1;w=t[B];w|=(w&257)<<5;z=w&255;E=z-(w>>8);z-=E&E>>255;w=v[B];w|=(w&257)<<5;E=z-(w&255);z-=E&E>>255;E=z-(w>>8);u[B+B]=z-(E&E>>255)&31;B+=1;w=t[B];w|=(w&257)<<5;z=w&255;E=z-(w>>8);z-=E&E>>255;w=v[B];w|=(w&257)<<5;E=z-(w&255);z-=E&E>>255;E=z-(w>>8);u[B+B]=z-(E&E>>255)&31;B+=1;w=t[B];w|=(w&257)<<5;z=w&255;E=z-(w>>8);z-=E&E>>255;w=v[B];w|=(w&257)<<5;E=z-(w&255);z-=E&E>>255;E=z-(w>>8);u[B+B]=z-(E&E>>255)&31;B+=1;w=t[B];w|=(w&257)<<5;z=w&255;E=z-(w>>8);z-=E&E>>
255;w=v[B];w|=(w&257)<<5;E=z-(w&255);z-=E&E>>255;E=z-(w>>8);u[B+B]=z-(E&E>>255)&31;B+=1;w=t[B];w|=(w&257)<<5;z=w&255;E=z-(w>>8);z-=E&E>>255;w=v[B];w|=(w&257)<<5;E=z-(w&255);z-=E&E>>255;E=z-(w>>8);u[B+B]=z-(E&E>>255)&31;B+=1;w=t[B];w|=(w&257)<<5;z=w&255;E=z-(w>>8);z-=E&E>>255;w=v[B];w|=(w&257)<<5;E=z-(w&255);z-=E&E>>255;E=z-(w>>8);u[B+B]=z-(E&E>>255)&31;B+=1;w=t[B];w|=(w&257)<<5;z=w&255;E=z-(w>>8);z-=E&E>>255;w=v[B];w|=(w&257)<<5;E=z-(w&255);z-=E&E>>255;E=z-(w>>8);u[B+B]=z-(E&E>>255)&31}m+=1}else m+=
16;n+=16;q+=16}};qa.prototype.Jj=function(a,b){var c,d=this.m,f,e,g,k,l=this.I,p=this.F>>4;var n=0;var q=n+16;for(f=0;f<l;f+=1){var m=0;var r=d[f];for(e=0;e<p;e+=1)if(k=r[e])for(g=15;0<=g;--g){if(0!==(k&1<<g))for(c=n;c<q;c+=2){var u=b[c];var t=a[c];var v=a[c+1];var B=m<<3;var w=t[B];var z=w&255;var E=z-(w>>8);z-=E&E>>255;w=v[B];E=z-(w&255);z-=E&E>>255;E=z-(w>>8);u[B+B]=z-(E&E>>255);B+=1;w=t[B];z=w&255;E=z-(w>>8);z-=E&E>>255;w=v[B];E=z-(w&255);z-=E&E>>255;E=z-(w>>8);u[B+B]=z-(E&E>>255);B+=1;w=t[B];
z=w&255;E=z-(w>>8);z-=E&E>>255;w=v[B];E=z-(w&255);z-=E&E>>255;E=z-(w>>8);u[B+B]=z-(E&E>>255);B+=1;w=t[B];z=w&255;E=z-(w>>8);z-=E&E>>255;w=v[B];E=z-(w&255);z-=E&E>>255;E=z-(w>>8);u[B+B]=z-(E&E>>255);B+=1;w=t[B];z=w&255;E=z-(w>>8);z-=E&E>>255;w=v[B];E=z-(w&255);z-=E&E>>255;E=z-(w>>8);u[B+B]=z-(E&E>>255);B+=1;w=t[B];z=w&255;E=z-(w>>8);z-=E&E>>255;w=v[B];E=z-(w&255);z-=E&E>>255;E=z-(w>>8);u[B+B]=z-(E&E>>255);B+=1;w=t[B];z=w&255;E=z-(w>>8);z-=E&E>>255;w=v[B];E=z-(w&255);z-=E&E>>255;E=z-(w>>8);u[B+B]=z-
(E&E>>255);B+=1;w=t[B];z=w&255;E=z-(w>>8);z-=E&E>>255;w=v[B];E=z-(w&255);z-=E&E>>255;E=z-(w>>8);u[B+B]=z-(E&E>>255)}m+=1}else m+=16;n+=16;q+=16}};qa.prototype.ym=function(a,b){var c,d,f=this.m,e,g,k,l,p,n=this.I,q=this.F>>4;var m=0;var r=m+16;for(g=0;g<n;g+=1){var u=0;var t=f[g];for(k=0;k<q;k+=1)if(p=t[k])for(l=15;0<=l;--l){if(0!==(p&1<<l))for(c=m;c<r;c+=4){var v=b[c];var B=a[c];var w=a[c+1];var z=a[c+2];var E=a[c+3];var H=u<<2;var L=u<<4;for(d=0;4>d;d+=1){var M=0;if(e=B[H]){var N=M-(e&255|(e&1)<<
5);M-=N&N>>255;e>>=8;N=M-(e&255|(e&1)<<5);M-=N&N>>255;e>>=8;N=M-(e&255|(e&1)<<5);M-=N&N>>255;e>>=8;N=M-(e&255|(e&1)<<5);M-=N&N>>255}if(e=w[H])N=M-(e&255|(e&1)<<5),M-=N&N>>255,e>>=8,N=M-(e&255|(e&1)<<5),M-=N&N>>255,e>>=8,N=M-(e&255|(e&1)<<5),M-=N&N>>255,e>>=8,N=M-(e&255|(e&1)<<5),M-=N&N>>255;if(e=z[H])N=M-(e&255|(e&1)<<5),M-=N&N>>255,e>>=8,N=M-(e&255|(e&1)<<5),M-=N&N>>255,e>>=8,N=M-(e&255|(e&1)<<5),M-=N&N>>255,e>>=8,N=M-(e&255|(e&1)<<5),M-=N&N>>255;if(e=E[H])N=M-(e&255|(e&1)<<5),M-=N&N>>255,e>>=8,
N=M-(e&255|(e&1)<<5),M-=N&N>>255,e>>=8,N=M-(e&255|(e&1)<<5),M-=N&N>>255,e>>=8,N=M-(e&255|(e&1)<<5),M-=N&N>>255;v[L]=M&31;H+=1;L+=4}}u+=1}else u+=16;m+=16;r+=16}};qa.prototype.Lj=function(a,b){var c,d,f=this.m,e,g,k,l,p,n=this.I,q=this.F>>4;var m=0;var r=m+16;for(g=0;g<n;g+=1){var u=0;var t=f[g];for(k=0;k<q;k+=1)if(p=t[k])for(l=15;0<=l;--l){if(0!==(p&1<<l))for(c=m;c<r;c+=4){var v=b[c];var B=a[c];var w=a[c+1];var z=a[c+2];var E=a[c+3];var H=u<<2;var L=u<<4;for(d=0;4>d;d+=1){var M=0;if(e=B[H])M-=M-(e&
255)&M-(e&255)>>255,e>>=8,M-=M-(e&255)&M-(e&255)>>255,e>>=8,M-=M-(e&255)&M-(e&255)>>255,e>>=8,M-=M-(e&255)&M-(e&255)>>255;if(e=w[H])M-=M-(e&255)&M-(e&255)>>255,e>>=8,M-=M-(e&255)&M-(e&255)>>255,e>>=8,M-=M-(e&255)&M-(e&255)>>255,e>>=8,M-=M-(e&255)&M-(e&255)>>255;if(e=z[H])M-=M-(e&255)&M-(e&255)>>255,e>>=8,M-=M-(e&255)&M-(e&255)>>255,e>>=8,M-=M-(e&255)&M-(e&255)>>255,e>>=8,M-=M-(e&255)&M-(e&255)>>255;if(e=E[H])M-=M-(e&255)&M-(e&255)>>255,e>>=8,M-=M-(e&255)&M-(e&255)>>255,e>>=8,M-=M-(e&255)&M-(e&255)>>
255,e>>=8,M-=M-(e&255)&M-(e&255)>>255;v[L]=M;H+=1;L+=4}}u+=1}else u+=16;m+=16;r+=16}};qa.prototype.Cm=function(a,b){var c,d,f=this.m,e,g,k,l,p,n=this.I,q=this.F>>4;var m=0;var r=m+16;for(g=0;g<n;g+=1){var u=0;var t=f[g];for(k=0;k<q;k+=1)if(p=t[k])for(l=15;0<=l;--l){if(0!==(p&1<<l))for(c=m;c<r;c+=8){var v=b[c];var B=a[c];var w=a[c+1];var z=a[c+2];var E=a[c+3];var H=a[c+4];var L=a[c+5];var M=a[c+6];var N=a[c+7];var V=u<<2;var X=u<<4;for(d=0;2>d;d+=1){var I=0;if(e=B[V]){var R=I-(e&255|(e&1)<<5);I-=R&
R>>255;e>>=8;R=I-(e&255|(e&1)<<5);I-=R&R>>255;e>>=8;R=I-(e&255|(e&1)<<5);I-=R&R>>255;e>>=8;R=I-(e&255|(e&1)<<5);I-=R&R>>255}if(e=B[V+1])R=I-(e&255|(e&1)<<5),I-=R&R>>255,e>>=8,R=I-(e&255|(e&1)<<5),I-=R&R>>255,e>>=8,R=I-(e&255|(e&1)<<5),I-=R&R>>255,e>>=8,R=I-(e&255|(e&1)<<5),I-=R&R>>255;if(e=w[V])R=I-(e&255|(e&1)<<5),I-=R&R>>255,e>>=8,R=I-(e&255|(e&1)<<5),I-=R&R>>255,e>>=8,R=I-(e&255|(e&1)<<5),I-=R&R>>255,e>>=8,R=I-(e&255|(e&1)<<5),I-=R&R>>255;if(e=w[V+1])R=I-(e&255|(e&1)<<5),I-=R&R>>255,e>>=8,R=I-
(e&255|(e&1)<<5),I-=R&R>>255,e>>=8,R=I-(e&255|(e&1)<<5),I-=R&R>>255,e>>=8,R=I-(e&255|(e&1)<<5),I-=R&R>>255;if(e=z[V])R=I-(e&255|(e&1)<<5),I-=R&R>>255,e>>=8,R=I-(e&255|(e&1)<<5),I-=R&R>>255,e>>=8,R=I-(e&255|(e&1)<<5),I-=R&R>>255,e>>=8,R=I-(e&255|(e&1)<<5),I-=R&R>>255;if(e=z[V+1])R=I-(e&255|(e&1)<<5),I-=R&R>>255,e>>=8,R=I-(e&255|(e&1)<<5),I-=R&R>>255,e>>=8,R=I-(e&255|(e&1)<<5),I-=R&R>>255,e>>=8,R=I-(e&255|(e&1)<<5),I-=R&R>>255;if(e=E[V])R=I-(e&255|(e&1)<<5),I-=R&R>>255,e>>=8,R=I-(e&255|(e&1)<<5),I-=
R&R>>255,e>>=8,R=I-(e&255|(e&1)<<5),I-=R&R>>255,e>>=8,R=I-(e&255|(e&1)<<5),I-=R&R>>255;if(e=E[V+1])R=I-(e&255|(e&1)<<5),I-=R&R>>255,e>>=8,R=I-(e&255|(e&1)<<5),I-=R&R>>255,e>>=8,R=I-(e&255|(e&1)<<5),I-=R&R>>255,e>>=8,R=I-(e&255|(e&1)<<5),I-=R&R>>255;if(e=H[V])R=I-(e&255|(e&1)<<5),I-=R&R>>255,e>>=8,R=I-(e&255|(e&1)<<5),I-=R&R>>255,e>>=8,R=I-(e&255|(e&1)<<5),I-=R&R>>255,e>>=8,R=I-(e&255|(e&1)<<5),I-=R&R>>255;if(e=H[V+1])R=I-(e&255|(e&1)<<5),I-=R&R>>255,e>>=8,R=I-(e&255|(e&1)<<5),I-=R&R>>255,e>>=8,R=
I-(e&255|(e&1)<<5),I-=R&R>>255,e>>=8,R=I-(e&255|(e&1)<<5),I-=R&R>>255;if(e=L[V])R=I-(e&255|(e&1)<<5),I-=R&R>>255,e>>=8,R=I-(e&255|(e&1)<<5),I-=R&R>>255,e>>=8,R=I-(e&255|(e&1)<<5),I-=R&R>>255,e>>=8,R=I-(e&255|(e&1)<<5),I-=R&R>>255;if(e=L[V+1])R=I-(e&255|(e&1)<<5),I-=R&R>>255,e>>=8,R=I-(e&255|(e&1)<<5),I-=R&R>>255,e>>=8,R=I-(e&255|(e&1)<<5),I-=R&R>>255,e>>=8,R=I-(e&255|(e&1)<<5),I-=R&R>>255;if(e=M[V])R=I-(e&255|(e&1)<<5),I-=R&R>>255,e>>=8,R=I-(e&255|(e&1)<<5),I-=R&R>>255,e>>=8,R=I-(e&255|(e&1)<<5),
I-=R&R>>255,e>>=8,R=I-(e&255|(e&1)<<5),I-=R&R>>255;if(e=M[V+1])R=I-(e&255|(e&1)<<5),I-=R&R>>255,e>>=8,R=I-(e&255|(e&1)<<5),I-=R&R>>255,e>>=8,R=I-(e&255|(e&1)<<5),I-=R&R>>255,e>>=8,R=I-(e&255|(e&1)<<5),I-=R&R>>255;if(e=N[V])R=I-(e&255|(e&1)<<5),I-=R&R>>255,e>>=8,R=I-(e&255|(e&1)<<5),I-=R&R>>255,e>>=8,R=I-(e&255|(e&1)<<5),I-=R&R>>255,e>>=8,R=I-(e&255|(e&1)<<5),I-=R&R>>255;if(e=N[V+1])R=I-(e&255|(e&1)<<5),I-=R&R>>255,e>>=8,R=I-(e&255|(e&1)<<5),I-=R&R>>255,e>>=8,R=I-(e&255|(e&1)<<5),I-=R&R>>255,e>>=8,
R=I-(e&255|(e&1)<<5),I-=R&R>>255;v[X]=I&31;V+=2;X+=8}}u+=1}else u+=16;m+=16;r+=16}};qa.prototype.Mj=function(a,b){var c,d,f=this.m,e,g,k,l,p,n=this.I,q=this.F>>4;var m=0;var r=m+16;for(g=0;g<n;g+=1){var u=0;var t=f[g];for(k=0;k<q;k+=1)if(p=t[k])for(l=15;0<=l;--l){if(0!==(p&1<<l))for(c=m;c<r;c+=8){var v=b[c];var B=a[c];var w=a[c+1];var z=a[c+2];var E=a[c+3];var H=a[c+4];var L=a[c+5];var M=a[c+6];var N=a[c+7];var V=u<<2;var X=u<<4;for(d=0;2>d;d+=1){var I=0;if(e=B[V])I-=I-(e&255)&I-(e&255)>>255,e>>=
8,I-=I-(e&255)&I-(e&255)>>255,e>>=8,I-=I-(e&255)&I-(e&255)>>255,e>>=8,I-=I-(e&255)&I-(e&255)>>255;if(e=B[V+1])I-=I-(e&255)&I-(e&255)>>255,e>>=8,I-=I-(e&255)&I-(e&255)>>255,e>>=8,I-=I-(e&255)&I-(e&255)>>255,e>>=8,I-=I-(e&255)&I-(e&255)>>255;if(e=w[V])I-=I-(e&255)&I-(e&255)>>255,e>>=8,I-=I-(e&255)&I-(e&255)>>255,e>>=8,I-=I-(e&255)&I-(e&255)>>255,e>>=8,I-=I-(e&255)&I-(e&255)>>255;if(e=w[V+1])I-=I-(e&255)&I-(e&255)>>255,e>>=8,I-=I-(e&255)&I-(e&255)>>255,e>>=8,I-=I-(e&255)&I-(e&255)>>255,e>>=8,I-=I-(e&
255)&I-(e&255)>>255;if(e=z[V])I-=I-(e&255)&I-(e&255)>>255,e>>=8,I-=I-(e&255)&I-(e&255)>>255,e>>=8,I-=I-(e&255)&I-(e&255)>>255,e>>=8,I-=I-(e&255)&I-(e&255)>>255;if(e=z[V+1])I-=I-(e&255)&I-(e&255)>>255,e>>=8,I-=I-(e&255)&I-(e&255)>>255,e>>=8,I-=I-(e&255)&I-(e&255)>>255,e>>=8,I-=I-(e&255)&I-(e&255)>>255;if(e=E[V])I-=I-(e&255)&I-(e&255)>>255,e>>=8,I-=I-(e&255)&I-(e&255)>>255,e>>=8,I-=I-(e&255)&I-(e&255)>>255,e>>=8,I-=I-(e&255)&I-(e&255)>>255;if(e=E[V+1])I-=I-(e&255)&I-(e&255)>>255,e>>=8,I-=I-(e&255)&
I-(e&255)>>255,e>>=8,I-=I-(e&255)&I-(e&255)>>255,e>>=8,I-=I-(e&255)&I-(e&255)>>255;if(e=H[V])I-=I-(e&255)&I-(e&255)>>255,e>>=8,I-=I-(e&255)&I-(e&255)>>255,e>>=8,I-=I-(e&255)&I-(e&255)>>255,e>>=8,I-=I-(e&255)&I-(e&255)>>255;if(e=H[V+1])I-=I-(e&255)&I-(e&255)>>255,e>>=8,I-=I-(e&255)&I-(e&255)>>255,e>>=8,I-=I-(e&255)&I-(e&255)>>255,e>>=8,I-=I-(e&255)&I-(e&255)>>255;if(e=L[V])I-=I-(e&255)&I-(e&255)>>255,e>>=8,I-=I-(e&255)&I-(e&255)>>255,e>>=8,I-=I-(e&255)&I-(e&255)>>255,e>>=8,I-=I-(e&255)&I-(e&255)>>
255;if(e=L[V+1])I-=I-(e&255)&I-(e&255)>>255,e>>=8,I-=I-(e&255)&I-(e&255)>>255,e>>=8,I-=I-(e&255)&I-(e&255)>>255,e>>=8,I-=I-(e&255)&I-(e&255)>>255;if(e=M[V])I-=I-(e&255)&I-(e&255)>>255,e>>=8,I-=I-(e&255)&I-(e&255)>>255,e>>=8,I-=I-(e&255)&I-(e&255)>>255,e>>=8,I-=I-(e&255)&I-(e&255)>>255;if(e=M[V+1])I-=I-(e&255)&I-(e&255)>>255,e>>=8,I-=I-(e&255)&I-(e&255)>>255,e>>=8,I-=I-(e&255)&I-(e&255)>>255,e>>=8,I-=I-(e&255)&I-(e&255)>>255;if(e=N[V])I-=I-(e&255)&I-(e&255)>>255,e>>=8,I-=I-(e&255)&I-(e&255)>>255,e>>=
8,I-=I-(e&255)&I-(e&255)>>255,e>>=8,I-=I-(e&255)&I-(e&255)>>255;if(e=N[V+1])I-=I-(e&255)&I-(e&255)>>255,e>>=8,I-=I-(e&255)&I-(e&255)>>255,e>>=8,I-=I-(e&255)&I-(e&255)>>255,e>>=8,I-=I-(e&255)&I-(e&255)>>255;v[X]=I;V+=2;X+=8}}u+=1}else u+=16;m+=16;r+=16}};qa.prototype.tm=function(a,b){var c=this.m,d,f,e,g,k,l,p=this.I,n=this.F>>4;var q=0;var m=q+16;for(f=0;f<p;f+=1){var r=0;var u=c[f];for(e=0;e<n;e+=1)if(l=u[e])for(g=15;0<=g;--g){if(0!==(l&1<<g)){var t=0;for(k=q;k<m;k+=1){var v=a[k];var B=r<<2;if(d=
v[B]){var w=t-(d&255|(d&1)<<5);t-=w&w>>255;d>>=8;w=t-(d&255|(d&1)<<5);t-=w&w>>255;d>>=8;w=t-(d&255|(d&1)<<5);t-=w&w>>255;d>>=8;w=t-(d&255|(d&1)<<5);t-=w&w>>255}if(d=v[B+1])w=t-(d&255|(d&1)<<5),t-=w&w>>255,d>>=8,w=t-(d&255|(d&1)<<5),t-=w&w>>255,d>>=8,w=t-(d&255|(d&1)<<5),t-=w&w>>255,d>>=8,w=t-(d&255|(d&1)<<5),t-=w&w>>255;if(d=v[B+2])w=t-(d&255|(d&1)<<5),t-=w&w>>255,d>>=8,w=t-(d&255|(d&1)<<5),t-=w&w>>255,d>>=8,w=t-(d&255|(d&1)<<5),t-=w&w>>255,d>>=8,w=t-(d&255|(d&1)<<5),t-=w&w>>255;if(d=v[B+3])w=t-(d&
255|(d&1)<<5),t-=w&w>>255,d>>=8,w=t-(d&255|(d&1)<<5),t-=w&w>>255,d>>=8,w=t-(d&255|(d&1)<<5),t-=w&w>>255,d>>=8,w=t-(d&255|(d&1)<<5),t-=w&w>>255}v=b[q];B=r<<4;v[B]=t&31}r+=1}else r+=16;q+=16;m+=16}};qa.prototype.Ij=function(a,b){var c=this.m,d,f,e,g,k,l,p=this.I,n=this.F>>4;var q=0;var m=q+16;for(f=0;f<p;f+=1){var r=0;var u=c[f];for(e=0;e<n;e+=1)if(l=u[e])for(g=15;0<=g;--g){if(0!==(l&1<<g)){var t=0;for(k=q;k<m;k+=1){var v=a[k];var B=r<<2;if(d=v[B])t-=t-(d&255)&t-(d&255)>>255,d>>=8,t-=t-(d&255)&t-(d&
255)>>255,d>>=8,t-=t-(d&255)&t-(d&255)>>255,d>>=8,t-=t-(d&255)&t-(d&255)>>255;if(d=v[B+1])t-=t-(d&255)&t-(d&255)>>255,d>>=8,t-=t-(d&255)&t-(d&255)>>255,d>>=8,t-=t-(d&255)&t-(d&255)>>255,d>>=8,t-=t-(d&255)&t-(d&255)>>255;if(d=v[B+2])t-=t-(d&255)&t-(d&255)>>255,d>>=8,t-=t-(d&255)&t-(d&255)>>255,d>>=8,t-=t-(d&255)&t-(d&255)>>255,d>>=8,t-=t-(d&255)&t-(d&255)>>255;if(d=v[B+3])t-=t-(d&255)&t-(d&255)>>255,d>>=8,t-=t-(d&255)&t-(d&255)>>255,d>>=8,t-=t-(d&255)&t-(d&255)>>255,d>>=8,t-=t-(d&255)&t-(d&255)>>255}v=
b[q];B=r<<4;v[B]=t}r+=1}else r+=16;q+=16;m+=16}};qa.prototype.wm=function(a,b){var c=this.m,d,f,e,g,k,l=this.I,p=this.F>>4;var n=0;var q=n+32;for(f=0;f<l;f+=2){var m=0;var r=c[f];var u=c[f+1];for(e=0;e<p;e+=1){var t=r[e]|u[e];if(0!==t)for(g=49152;0<g;g>>=2){if(0!==(t&g)){var v=0;for(k=n;k<q;k+=1){var B=a[k];var w=m<<2;if(d=B[w]){var z=v-(d&255|(d&1)<<5);v-=z&z>>255;d>>=8;z=v-(d&255|(d&1)<<5);v-=z&z>>255;d>>=8;z=v-(d&255|(d&1)<<5);v-=z&z>>255;d>>=8;z=v-(d&255|(d&1)<<5);v-=z&z>>255}if(d=B[w+1])z=v-
(d&255|(d&1)<<5),v-=z&z>>255,d>>=8,z=v-(d&255|(d&1)<<5),v-=z&z>>255,d>>=8,z=v-(d&255|(d&1)<<5),v-=z&z>>255,d>>=8,z=v-(d&255|(d&1)<<5),v-=z&z>>255;if(d=B[w+2])z=v-(d&255|(d&1)<<5),v-=z&z>>255,d>>=8,z=v-(d&255|(d&1)<<5),v-=z&z>>255,d>>=8,z=v-(d&255|(d&1)<<5),v-=z&z>>255,d>>=8,z=v-(d&255|(d&1)<<5),v-=z&z>>255;if(d=B[w+3])z=v-(d&255|(d&1)<<5),v-=z&z>>255,d>>=8,z=v-(d&255|(d&1)<<5),v-=z&z>>255,d>>=8,z=v-(d&255|(d&1)<<5),v-=z&z>>255,d>>=8,z=v-(d&255|(d&1)<<5),v-=z&z>>255;if(d=B[w+4])z=v-(d&255|(d&1)<<5),
v-=z&z>>255,d>>=8,z=v-(d&255|(d&1)<<5),v-=z&z>>255,d>>=8,z=v-(d&255|(d&1)<<5),v-=z&z>>255,d>>=8,z=v-(d&255|(d&1)<<5),v-=z&z>>255;if(d=B[w+5])z=v-(d&255|(d&1)<<5),v-=z&z>>255,d>>=8,z=v-(d&255|(d&1)<<5),v-=z&z>>255,d>>=8,z=v-(d&255|(d&1)<<5),v-=z&z>>255,d>>=8,z=v-(d&255|(d&1)<<5),v-=z&z>>255;if(d=B[w+6])z=v-(d&255|(d&1)<<5),v-=z&z>>255,d>>=8,z=v-(d&255|(d&1)<<5),v-=z&z>>255,d>>=8,z=v-(d&255|(d&1)<<5),v-=z&z>>255,d>>=8,z=v-(d&255|(d&1)<<5),v-=z&z>>255;if(d=B[w+7])z=v-(d&255|(d&1)<<5),v-=z&z>>255,d>>=
8,z=v-(d&255|(d&1)<<5),v-=z&z>>255,d>>=8,z=v-(d&255|(d&1)<<5),v-=z&z>>255,d>>=8,z=v-(d&255|(d&1)<<5),v-=z&z>>255}B=b[n];w=m<<4;B[w]=v&31}m+=2}else m+=16}n+=32;q+=32}};qa.prototype.Kj=function(a,b){var c=this.m,d,f,e,g,k,l=this.I,p=this.F>>4;var n=0;var q=n+32;for(f=0;f<l;f+=2){var m=0;var r=c[f];var u=c[f+1];for(e=0;e<p;e+=1){var t=r[e]|u[e];if(0!==t)for(g=49152;0<g;g>>=2){if(0!==(t&g)){var v=0;for(k=n;k<q;k+=1){var B=a[k];var w=m<<2;if(d=B[w])v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>
255,d>>=8,v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255;if(d=B[w+1])v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255;if(d=B[w+2])v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255;if(d=B[w+3])v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255;if(d=
B[w+4])v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255;if(d=B[w+5])v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255;if(d=B[w+6])v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255;if(d=B[w+7])v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255,d>>=8,
v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255}B=b[n];w=m<<4;B[w]=v}m+=2}else m+=16}n+=32;q+=32}};qa.prototype.Qe=function(a){this.Si&&a.o.fill(0)};qa.prototype.yj=function(a,b,c){var d=performance.now();if(.5<=c&&1>c){var f="max02x02";this.Qe(this.Ba);this.v?U.R&&U.Lf&&this.view.i?va.JG(b.o.byteOffset|0,this.Ba.o.byteOffset|0,this.m.o.byteOffset|0,2,this.I|0,this.F|0,b[0].length|0):this.vm(a,this.Ba):U.R&&U.Lf&&this.view.i?va.IA(b.o.byteOffset|0,this.Ba.o.byteOffset|0,this.m.o.byteOffset|
0,2,this.I|0,this.F|0,b[0].length|0):this.Jj(a,this.Ba)}else.25<=c&&.5>c?(f="max04x04",this.Qe(this.Ba),this.v?U.R&&U.Lf&&this.view.i?va.LG(b.o.byteOffset|0,this.Ba.o.byteOffset|0,this.m.o.byteOffset|0,16,2,this.I|0,this.F|0,b[0].length|0):this.ym(b,this.Ba):U.R&&U.Lf&&this.view.i?va.KA(b.o.byteOffset|0,this.Ba.o.byteOffset|0,this.m.o.byteOffset|0,16,2,this.I|0,this.F|0,b[0].length|0):this.Lj(b,this.Ba)):.125<=c&&.25>c?(f="max08x08",this.Qe(this.Ba),this.v?U.R&&U.Lf&&this.view.i?va.MG(b.o.byteOffset|
0,this.Ba.o.byteOffset|0,this.m.o.byteOffset|0,16,2,this.I|0,this.F|0,b[0].length|0):this.Cm(b,this.Ba):U.R&&U.Lf&&this.view.i?va.LA(b.o.byteOffset|0,this.Ba.o.byteOffset|0,this.m.o.byteOffset|0,16,2,this.I|0,this.F|0,b[0].length|0):this.Mj(b,this.Ba)):.0625<=c&&.125>c?(f="max16x16",this.Qe(this.Ba),this.v?U.R&&U.Lf&&this.view.i?va.IG(b.o.byteOffset|0,this.Ba.o.byteOffset|0,this.m.o.byteOffset|0,2,this.I|0,this.F|0,b[0].length|0):this.tm(b,this.Ba):U.R&&U.Lf&&this.view.i?va.HA(b.o.byteOffset|0,this.Ba.o.byteOffset|
0,this.m.o.byteOffset|0,2,this.I|0,this.F|0,b[0].length|0):this.Ij(b,this.Ba)):(f="max32x32",this.v?U.R&&U.Lf&&this.view.i?va.KG(b.o.byteOffset|0,this.Ba.o.byteOffset|0,this.m.o.byteOffset|0,16,2,this.I|0,this.F|0,b[0].length|0):this.wm(b,this.Ba):U.R&&U.Lf&&this.view.i?va.JA(b.o.byteOffset|0,this.Ba.o.byteOffset|0,this.m.o.byteOffset|0,16,2,this.I|0,this.F|0,b[0].length|0):this.Kj(b,this.Ba));this.Dc&&(.5<=c&&1>c?(this.Qe(this.Eb),U.R&&U.Lf&&this.view.i?va.IA(this.vc.o.byteOffset|0,this.Eb.o.byteOffset|
0,this.m.o.byteOffset|0,16,2,this.I|0,this.F|0,this.vc[0].length|0):this.Jj(this.Mg,this.Eb)):.25<=c&&.5>c?(this.Qe(this.Eb),U.R&&U.Lf&&this.view.i?va.KA(this.vc.o.byteOffset|0,this.Eb.o.byteOffset|0,this.m.o.byteOffset|0,16,2,this.I|0,this.F|0,this.vc[0].length|0):this.Lj(this.vc,this.Eb)):.125<=c&&.25>c?(this.Qe(this.Eb),U.R&&U.Lf&&this.view.i?va.LA(this.vc.o.byteOffset|0,this.Eb.o.byteOffset|0,this.m.o.byteOffset|0,16,2,this.I|0,this.F|0,this.vc[0].length|0):this.Mj(this.vc,this.Eb)):.0625<=c&&
.125>c?(this.Qe(this.Eb),U.R&&U.Lf&&this.view.i?va.HA(this.vc.o.byteOffset|0,this.Eb.o.byteOffset|0,this.m.o.byteOffset|0,16,2,this.I|0,this.F|0,this.vc[0].length|0):this.Ij(this.vc,this.Eb)):U.R&&U.Lf&&this.view.i?va.JA(this.vc.o.byteOffset|0,this.Eb.o.byteOffset|0,this.m.o.byteOffset|0,16,2,this.I|0,this.F|0,this.vc[0].length|0):this.Kj(this.vc,this.Eb));d=performance.now()-d;U.xb&&this.view.C.h(f,d,U.R&&U.Lf&&this.view.i);this.Si=.0625>c?!0:!1};qa.prototype.dc=function(a,b,c,d,f){var e=-1,g=-1,
k,l=this.width,p=this.height;for(k=0;k<a.length;k+=1)a[k]&&(k<c&&(c=k),k>e&&(e=k));for(k=0;k<b.length;k+=1)b[k]&&(k<d&&(d=k),k>g&&(g=k));c=(c<<4)+this.Rb(a[c]);e=(e<<4)+this.Wb(a[e]);d=(d<<4)+this.Rb(b[d]);g=(g<<4)+this.Wb(b[g]);0>g&&(g=p-1);d>=p&&(d=0);c>=l&&(c=0);0>e&&(e=l-1);g>p-1&&(g=p-1);0>d&&(d=0);0>c&&(c=0);e>l-1&&(e=l-1);f.N=g;f.K=d;f.J=c;f.L=e};qa.prototype.ac=function(a){var b,c,d,f=this.F>>4,e=this.ta,g,k;var l=0;var p=l+16;for(b=0;b<e.length;b+=1){var n=0;var q=e[b];for(c=0;c<f;c+=1)if(g=
q[c])for(k=15;0<=k;--k){if(g&1<<k){var m=n>>2;for(d=l;d<p;d+=1){var r=a[d];r[m]=0;r[m+1]=0;r[m+2]=0;r[m+3]=0}}n+=16}else n+=256;l+=16;p+=16}};qa.prototype.hm=function(a){var b,c,d,f=this.F>>4,e=this.ta,g,k;var l=0;var p=l+16;for(b=0;b<e.length;b+=1){var n=0;var q=e[b];for(c=0;c<f;c+=1)if(g=q[c])for(k=15;0<=k;--k){if(g&1<<k){var m=n;for(d=l;d<p;d+=1){var r=a[d];r[m]=0}}n+=1}else n+=16;l+=16;p+=16}};qa.prototype.rp=function(){var a=this.ta,b,c,d,f=this.width,e=this.height,g=this.A,k=0,l=0,p=0,n,q,m=
this.V,r,u=this.Y,t,v,B=this.I,w=this.F>>4,z=this.ba,E=this.X.m,H=this.Ui;if(0===(this.counter&1)){var L=this.P;var M=this.Pa;var N=this.h;var V=this.H;var X=this.j;this.fb&&(E=this.X.ba)}else L=this.h,M=this.Ua,N=this.P,V=this.j,X=this.H;m.fill(0);u.fill(0);var I=0;var R=I+16;X.o.fill(0);for(b=0;b<V.length;b+=1){var P=0;var S=P+16;var aa=V[b];var ma=X[b];var ea=a[b];var ca=0<b?X[b-1]:z;var ia=b<B-1?X[b+1]:z;for(c=0;c<w;c+=1){var oa=aa[c];var ja=0;if(oa){var W=ma[c];var na=ca[c];var fa=ia[c];for(d=
15;0<=d;--d){if(0!==(oa&1<<d)){var Z=t=r=n=0;var Y=I;for(v=32768;Y<R;){var pa=0===Y?this.ia:L[Y-1];var Q=L[Y];var G=Y===this.height-1?this.ia:L[Y+1];var A=N[Y];var K=32768;var O=P;var J=0===O?0:Q[O-1];for(q=Q[O];O<S-1;){var x=pa[O];var D=J;J=q;q=Q[O+1];var la=G[O];if(2<=J)x=H[J];else{var ba=1<<x|1<<D|1<<q|1<<la;1===ba&&0===J?x=0:ba&(J?82124:29440)?x=1-J:J||!(ba&98304)||ba&2?(ba=J?1414486:759126,x=E[(ba>>la&1)<<7|(ba>>D&1)<<5|J<<4|(ba>>q&1)<<3|(ba>>x&1)<<1]):x=0}A[O]=x;D=J?1:0;0<x?(p+=1,k+=1-D):l+=
D;0<x&&(t|=v,r|=K);n|=J;K>>=1;O+=1}x=pa[O];D=J;J=q;q=O===f-1?0:Q[O+1];la=G[O];2<=J?x=H[J]:(ba=1<<x|1<<D|1<<q|1<<la,1===ba&&0===J?x=0:ba&(J?82124:29440)?x=1-J:J||!(ba&98304)||ba&2?(ba=J?1414486:759126,x=E[(ba>>la&1)<<7|(ba>>D&1)<<5|J<<4|(ba>>q&1)<<3|(ba>>x&1)<<1]):x=0);A[O]=x;D=J?1:0;0<x?(p+=1,k+=1-D):l+=D;0<x&&(t|=v,r|=K);n|=J;Y+=1;v>>=1}m[P>>4]|=r;r?(W|=1<<d,t&1&&(Z|=y.La,r&32768&&(Z|=y.Sa),r&1&&(Z|=y.Ka)),t&32768&&(Z|=y.Oa,r&32768&&(Z|=y.Qa),r&1&&(Z|=y.Ra)),r&32768&&(Z|=y.Ja),r&1&&(Z|=y.Ga),Z&&
(0!==(Z&y.Ja)&&(15>d?W|=1<<d+1:0<c&&0<P&&(ma[c-1]|=1)),0!==(Z&y.Ga)&&(0<d?W|=1<<d-1:c<w-1&&P<f-1&&(ma[c+1]|=32768)),0!==(Z&y.Oa)&&(na|=1<<d),0!==(Z&y.La)&&(fa|=1<<d),0!==(Z&y.Qa)&&(15>d?na|=1<<d+1:0<c&&0<P&&(ca[c-1]|=1)),0!==(Z&y.Ra)&&(0<d?na|=1<<d-1:c<w-1&&P<f-1&&(ca[c+1]|=32768)),0!==(Z&y.Sa)&&(15>d?fa|=1<<d+1:0<c&&0<P&&(ia[c-1]|=1)),0!==(Z&y.Ka)&&(0<d?fa|=1<<d-1:c<w-1&&P<f-1&&(ia[c+1]|=32768)))):n&&(ja|=1<<d);u[b]|=t}P+=16;S+=16}ma[c]|=W;0<b&&(ca[c]|=na);b<B-1&&(ia[c]|=fa)}else P+=256,S+=256;ea[c]=
ja}I+=16;R+=16}this.dc(m,u,f,e,g);z.fill(0);this.ac(M);for(Y=0;Y<this.m.o.length;Y+=1)this.m.o[Y]=this.m.o[Y]|V.o[Y]|X.o[Y];this.B=p;this.na=k;this.ga=l};qa.prototype.bp=function(){var a=this.ta,b,c,d,f=this.width,e=this.height,g=this.A,k=0,l=0,p=0,n,q,m,r=this.V,u,t=this.Y,v,B,w=this.I,z=this.F>>4,E=this.ba,H=this.X.m,L=[0,1,2,3,4,5,7,6,8,9,11,10,13,12,14,15,16,17,18,20,19];if(0===(this.counter&1)){var M=this.P;var N=this.Pa;var V=this.h;var X=this.H;var I=this.j;this.fb&&(H=this.X.m)}else M=this.h,
N=this.Ua,V=this.P,X=this.j,I=this.H,this.fb&&(H=this.X.ba);r.fill(0);t.fill(0);var R=0;var P=R+16;I.o.fill(0);for(b=0;b<X.length;b+=1){var S=0;var aa=S+16;var ma=X[b];var ea=I[b];var ca=a[b];var ia=0<b?I[b-1]:E;var oa=b<w-1?I[b+1]:E;for(c=0;c<z;c+=1){var ja=ma[c];var W=0;if(ja){var na=ea[c];var fa=ia[c];var Z=oa[c];for(d=15;0<=d;--d){if(0!==(ja&1<<d)){var Y=v=u=n=0;var pa=R;for(B=32768;pa<P;){var Q=0===pa?this.ia:M[pa-1];var G=M[pa];var A=pa===this.height-1?this.ia:M[pa+1];var K=V[pa];var O=32768;
var J=S;if(0===J)var x=q=0;else q=G[J-1],x=Q[J-1];var D=A[J];for(m=G[J];J<aa-1;){var la=x;x=Q[J];var ba=q;q=m;m=G[J+1];var sa=D;D=A[J+1];if(2<=q)la=L[q];else{var ta=1<<la|1<<x|1<<ba|1<<m|1<<sa|1<<D;1===ta&&0===q?la=0:ta&(q?82124:29440)?la=1-q:q||!(ta&98304)||ta&2?(ta=q?1414486:759126,la=H[(ta>>sa&1)<<7|(ta>>D&1)<<6|(ta>>ba&1)<<5|q<<4|(ta>>m&1)<<3|(ta>>la&1)<<2|(ta>>x&1)<<1]):la=0}K[J]=la;ba=q?1:0;0<la?(p+=1,k+=1-ba):l+=ba;0<la&&(v|=B,u|=O);n|=q;O>>=1;J+=1}la=x;x=Q[J];ba=q;q=m;sa=D;J===f-1?D=m=0:(m=
G[J+1],D=A[J+1]);2<=q?la=L[q]:(ta=1<<la|1<<x|1<<ba|1<<m|1<<sa|1<<D,1===ta&&0===q?la=0:ta&(q?82124:29440)?la=1-q:q||!(ta&98304)||ta&2?(ta=q?1414486:759126,la=H[(ta>>sa&1)<<7|(ta>>D&1)<<6|(ta>>ba&1)<<5|q<<4|(ta>>m&1)<<3|(ta>>la&1)<<2|(ta>>x&1)<<1]):la=0);K[J]=la;ba=q?1:0;0<la?(p+=1,k+=1-ba):l+=ba;0<la&&(v|=B,u|=O);n|=q;pa+=1;B>>=1}r[S>>4]|=u;u?(na|=1<<d,v&1&&(Y|=y.La,u&32768&&(Y|=y.Sa),u&1&&(Y|=y.Ka)),v&32768&&(Y|=y.Oa,u&32768&&(Y|=y.Qa),u&1&&(Y|=y.Ra)),u&32768&&(Y|=y.Ja),u&1&&(Y|=y.Ga),Y&&(0!==(Y&
y.Ja)&&(15>d?na|=1<<d+1:0<c&&0<S&&(ea[c-1]|=1)),0!==(Y&y.Ga)&&(0<d?na|=1<<d-1:c<z-1&&S<f-1&&(ea[c+1]|=32768)),0!==(Y&y.Oa)&&(fa|=1<<d),0!==(Y&y.La)&&(Z|=1<<d),0!==(Y&y.Qa)&&(15>d?fa|=1<<d+1:0<c&&0<S&&(ia[c-1]|=1)),0!==(Y&y.Ra)&&(0<d?fa|=1<<d-1:c<z-1&&S<f-1&&(ia[c+1]|=32768)),0!==(Y&y.Sa)&&(15>d?Z|=1<<d+1:0<c&&0<S&&(oa[c-1]|=1)),0!==(Y&y.Ka)&&(0<d?Z|=1<<d-1:c<z-1&&S<f-1&&(oa[c+1]|=32768)))):n&&(W|=1<<d);t[b]|=v}S+=16;aa+=16}ea[c]|=na;0<b&&(ia[c]|=fa);b<w-1&&(oa[c]|=Z)}else S+=256,aa+=256;ca[c]=W}R+=
16;P+=16}this.dc(r,t,f,e,g);E.fill(0);this.ac(N);for(pa=0;pa<this.m.o.length;pa+=1)this.m.o[pa]=this.m.o[pa]|X.o[pa]|I.o[pa];this.B=p;this.na=k;this.ga=l};qa.prototype.qp=function(){var a=this.ta,b,c,d,f=this.width,e=this.height,g=this.A,k=0,l=0,p=0,n,q,m,r,u=this.V,t,v=this.Y,B,w,z=this.I,E=this.F>>4,H=this.ba,L=this.X.m,M=[0,1,2,3,4,5,7,6,8,9,11,10,13,12,14,15,16,17,18,20,19];if(0===(this.counter&1)){var N=this.P;var V=this.Pa;var X=this.h;var I=this.H;var R=this.j;this.fb&&(L=this.X.m)}else N=
this.h,V=this.Ua,X=this.P,I=this.j,R=this.H,this.fb&&(L=this.X.ba);u.fill(0);v.fill(0);var P=0;var S=P+16;R.o.fill(0);for(b=0;b<I.length;b+=1){var aa=0;var ma=aa+16;var ea=I[b];var ca=R[b];var ia=a[b];var oa=0<b?R[b-1]:H;var ja=b<z-1?R[b+1]:H;for(c=0;c<E;c+=1){var W=ea[c];var na=0;if(W){var fa=ca[c];var Z=oa[c];var Y=ja[c];for(d=15;0<=d;--d){if(0!==(W&1<<d)){var pa=B=t=n=0;var Q=P;for(w=32768;Q<S;){var G=0===Q?this.ia:N[Q-1];var A=N[Q];var K=Q===this.height-1?this.ia:N[Q+1];var O=X[Q];var J=32768;
var x=aa;if(0===x)var D=m=q=0;else q=G[x-1],m=A[x-1],D=K[x-1];var la=G[x];var ba=A[x];for(r=K[x];x<ma-1;){var sa=q;var ta=m;var ka=D;q=la;m=ba;D=r;la=G[x+1];ba=A[x+1];r=K[x+1];if(2<=m)sa=M[m];else{var ua=1<<sa|1<<q|1<<la|1<<ta|1<<ba|1<<ka|1<<D|1<<r;1===ua&&0===m?sa=0:ua&(m?82124:29440)?sa=1-m:m||!(ua&98304)||ua&2?(ua=m?1414486:759126,sa=L[(ua>>ka&1)<<8|(ua>>D&1)<<7|(ua>>r&1)<<6|(ua>>ta&1)<<5|m<<4|(ua>>ba&1)<<3|(ua>>sa&1)<<2|(ua>>q&1)<<1|ua>>la&1]):sa=0}O[x]=sa;ta=m?1:0;0<sa?(p+=1,k+=1-ta):l+=ta;0<
sa&&(B|=w,t|=J);n|=m;J>>=1;x+=1}sa=q;ta=m;ka=D;q=la;m=ba;D=r;x===f-1?r=ba=la=0:(la=G[x+1],ba=A[x+1],r=K[x+1]);2<=m?sa=M[m]:(ua=1<<sa|1<<q|1<<la|1<<ta|1<<ba|1<<ka|1<<D|1<<r,1===ua&&0===m?sa=0:ua&(m?82124:29440)?sa=1-m:m||!(ua&98304)||ua&2?(ua=m?1414486:759126,sa=L[(ua>>ka&1)<<8|(ua>>D&1)<<7|(ua>>r&1)<<6|(ua>>ta&1)<<5|m<<4|(ua>>ba&1)<<3|(ua>>sa&1)<<2|(ua>>q&1)<<1|ua>>la&1]):sa=0);O[x]=sa;ta=m?1:0;0<sa?(p+=1,k+=1-ta):l+=ta;0<sa&&(B|=w,t|=J);n|=m;Q+=1;w>>=1}u[aa>>4]|=t;t?(fa|=1<<d,B&1&&(pa|=y.La,t&32768&&
(pa|=y.Sa),t&1&&(pa|=y.Ka)),B&32768&&(pa|=y.Oa,t&32768&&(pa|=y.Qa),t&1&&(pa|=y.Ra)),t&32768&&(pa|=y.Ja),t&1&&(pa|=y.Ga),pa&&(0!==(pa&y.Ja)&&(15>d?fa|=1<<d+1:0<c&&0<aa&&(ca[c-1]|=1)),0!==(pa&y.Ga)&&(0<d?fa|=1<<d-1:c<E-1&&aa<f-1&&(ca[c+1]|=32768)),0!==(pa&y.Oa)&&(Z|=1<<d),0!==(pa&y.La)&&(Y|=1<<d),0!==(pa&y.Qa)&&(15>d?Z|=1<<d+1:0<c&&0<aa&&(oa[c-1]|=1)),0!==(pa&y.Ra)&&(0<d?Z|=1<<d-1:c<E-1&&aa<f-1&&(oa[c+1]|=32768)),0!==(pa&y.Sa)&&(15>d?Y|=1<<d+1:0<c&&0<aa&&(ja[c-1]|=1)),0!==(pa&y.Ka)&&(0<d?Y|=1<<d-1:
c<E-1&&aa<f-1&&(ja[c+1]|=32768)))):n&&(na|=1<<d);v[b]|=B}aa+=16;ma+=16}ca[c]|=fa;0<b&&(oa[c]|=Z);b<z-1&&(ja[c]|=Y)}else aa+=256,ma+=256;ia[c]=na}P+=16;S+=16}this.dc(u,v,f,e,g);H.fill(0);this.ac(V);for(Q=0;Q<this.m.o.length;Q+=1)this.m.o[Q]=this.m.o[Q]|I.o[Q]|R.o[Q];this.B=p;this.na=k;this.ga=l};qa.prototype.hn=function(){var a=this.m,b=this.wa,c=this.ia,d,f,e,g,k=this.width,l=k>>4,p=this.height,n=k,q=-1,m=-1,r=p,u=this.A,t=k,v=-1,B=-1,w=p,z=this.Je,E,H=this.V,L=this.Ue,M,N,V,X=this.Y,I=this.cf,R;
var P=this.I;var S=this.F>>4;var aa=0;var ma=P,ea=this.ic;if(0!==(this.counter&1)){var ca=this.Va;var ia=this.H;var oa=this.h;var ja=this.P}else ca=this.va,ia=this.j,oa=this.P,ja=this.h;0>aa&&(aa=0);ma>P&&(ma=P);H.fill(0);L.fill(0);X.fill(0);I.fill(0);P=aa<<4;var W=P+16;for(d=aa;d<ma;d+=1){var na=0;var fa=ia[d];var Z=b[d];var Y=a[d];for(f=0;f<S;f+=1){if(g=fa[f]|Z[f])for(e=15;0<=e;--e){if(0!==(g&1<<e)){var pa=R=N=M=0;var Q=32768;for(aa=P;aa<W;aa+=1){var G=ca[aa];var A=oa[aa];var K=0===aa?c:oa[aa-1];
var O=aa===this.height-1?c:oa[aa+1];var J=ja[aa];var x=na<<4;if(0===x)var D=E=0;else E=A[x-1],D=K[x-1];var la=O[x];var ba=A[x];var sa=G[na];for(V=32768;0<V;){var ta=D;D=K[x];var ka=E;E=ba;ba=A[x+1];var ua=la;la=O[x+1];var Ba=E;ta=1<<ta|1<<D|1<<ba|1<<ka|1<<ua|1<<la;ka=!0;if(0!==(ta&64)){ka=!1;if(7===E||8===E||13<=E)Ba=0;else switch(E){case 1:Ba=2;break;case 3:case 5:Ba=4;break;case 9:Ba=10;break;case 11:Ba=12;break;default:ka=!0}!ka&&0!==(E&1)&&sa&V&&(G[na]&=~V,this.ga+=1,--this.B)}if(ka)if(0!==(sa&
V)){if(0===(E&1))switch(E){case 4:Ba=3;break;case 6:G[na]&=~V;--this.na;--this.B;break;case 8:Ba=7;break;default:Ba=1,ka=ta&44739072,0===(ta&170)&&1===ea[ka&65535]+ea[ka>>16]?(Ba=0,65535<ka&&(ka>>=16,Ba+=16),255<ka&&(ka>>=8,Ba+=8),15<ka&&(ka>>=4,Ba+=4),3<ka&&(ka>>=2,Ba+=2),Ba+=ka>>1):(ka=ta&44736512,0!==(ta&8)&&0===(ta&2722)&&1===ea[ka&65535]+ea[ka>>16]?(Ba=0,65535<ka&&(ka>>=16,Ba+=16),255<ka&&(ka>>=8,Ba+=8),15<ka&&(ka>>=4,Ba+=4),3<ka&&(ka>>=2,Ba+=2),Ba+=ka>>1):(ka=ta&2560,0!==(ta&128)&&0===(ta&44736554)&&
1===ea[ka&65535]+ea[ka>>16]?(Ba=0,65535<ka&&(ka>>=16,Ba+=16),255<ka&&(ka>>=8,Ba+=8),15<ka&&(ka>>=4,Ba+=4),3<ka&&(ka>>=2,Ba+=2),Ba+=ka>>1):(ka=ta&44736640)&&0===(ta&2602)&&(Ba=13)))}}else if(0!==(E&1))Ba=11>=E?5===E?4:E+1:0;else if(14===E)Ba=0;else if(14<E)switch(E){case 16:0!==(ta&44755626)&&(Ba=14);break;case 18:0!==(ta&4194304)&&(Ba=22);break;case 20:0!==(ta&262144)&&(Ba=18);break;case 22:0!==(ta&1048576)&&(Ba=20);break;case 24:0!==(ta&45017770)&&(Ba=18)}J[x]=Ba;0<Ba&&(M|=V,R|=Q,Ba&1&&(N|=V,pa|=
Q));V>>=1;x+=1}Q>>=1}H[na]|=M;X[d]|=R;L[na]|=N;I[d]|=pa}na+=1}else na+=16;Z[f]=g|0;Y[f]=Y[f]|g|0}P+=16;W+=16}for(f=0;f<l;f+=1)H[f]&&(f<n&&(n=f),f>q&&(q=f)),L[f]&&(f<t&&(t=f),f>v&&(v=f));for(d=0;d<X.length;d+=1)X[d]&&(d<r&&(r=d),d>m&&(m=d)),I[d]&&(d<w&&(w=d),d>B&&(B=d));n=(n<<4)+this.Rb(H[n]);q=(q<<4)+this.Wb(H[q]);r=(r<<4)+this.Rb(X[r]);m=(m<<4)+this.Wb(X[m]);0>m&&(m=p-1);r>=p&&(r=0);n>=k&&(n=0);0>q&&(q=k-1);m>p-1&&(m=p-1);0>r&&(r=0);0>n&&(n=0);q>k-1&&(q=k-1);u.N=m;u.K=r;u.J=n;u.L=q;t=(t<<4)+this.Rb(L[t]);
v=(v<<4)+this.Wb(L[v]);w=(w<<4)+this.Rb(I[w]);B=(B<<4)+this.Wb(I[B]);0>B&&(B=p-1);w>=p&&(w=0);t>=k&&(t=0);0>v&&(v=k-1);B>p-1&&(B=p-1);0>w&&(w=0);0>t&&(t=0);v>k-1&&(v=k-1);z.N=B;z.K=w;z.J=t;z.L=v};qa.prototype.mn=function(){var a=this.m,b=this.wa,c=this.ia,d,f,e,g,k=this.width,l=k>>4,p=this.height,n=k,q=-1,m=-1,r=p,u=this.A,t=k,v=-1,B=-1,w=p,z=this.Je,E=this.V,H=this.Ue,L,M,N,V=this.Y,X=this.cf,I;var R=this.I;var P=this.F>>4;var S=0;var aa=R,ma=this.ic;if(0!==(this.counter&1)){var ea=this.Va;var ca=
this.H;var ia=this.h;var oa=this.P}else ea=this.va,ca=this.j,ia=this.P,oa=this.h;0>S&&(S=0);aa>R&&(aa=R);E.fill(0);H.fill(0);V.fill(0);X.fill(0);R=S<<4;var ja=R+16;for(d=S;d<aa;d+=1){var W=0;var na=ca[d];var fa=b[d];var Z=a[d];for(f=0;f<P;f+=1){if(g=na[f]|fa[f])for(e=15;0<=e;--e){if(0!==(g&1<<e)){var Y=I=M=L=0;var pa=32768;for(S=R;S<ja;S+=1){var Q=ea[S];var G=ia[S];var A=0===S?c:ia[S-1];var K=S===this.height-1?c:ia[S+1];var O=oa[S];var J=W<<4;var x=0===J?0:G[J-1];var D=G[J];var la=Q[W];for(N=32768;0<
N;){var ba=A[J];var sa=x;x=D;D=G[J+1];var ta=K[J];var ka=x;ba=1<<ba|1<<D|1<<sa|1<<ta;sa=!0;if(0!==(ba&64)){sa=!1;if(7===x||8===x||13<=x)ka=0;else switch(x){case 1:ka=2;break;case 3:case 5:ka=4;break;case 9:ka=10;break;case 11:ka=12;break;default:sa=!0}!sa&&0!==(x&1)&&la&N&&(Q[W]&=~N,this.ga+=1,--this.B)}if(sa)if(0!==(la&N)){if(0===(x&1))switch(x){case 4:ka=3;break;case 6:Q[W]&=~N;--this.na;--this.B;break;case 8:ka=7;break;default:ka=1,sa=ba&44739072,0===(ba&170)&&1===ma[sa&65535]+ma[sa>>16]?(ka=0,
65535<sa&&(sa>>=16,ka+=16),255<sa&&(sa>>=8,ka+=8),15<sa&&(sa>>=4,ka+=4),3<sa&&(sa>>=2,ka+=2),ka+=sa>>1):(sa=ba&44736512,0!==(ba&8)&&0===(ba&2722)&&1===ma[sa&65535]+ma[sa>>16]?(ka=0,65535<sa&&(sa>>=16,ka+=16),255<sa&&(sa>>=8,ka+=8),15<sa&&(sa>>=4,ka+=4),3<sa&&(sa>>=2,ka+=2),ka+=sa>>1):(sa=ba&2560,0!==(ba&128)&&0===(ba&44736554)&&1===ma[sa&65535]+ma[sa>>16]?(ka=0,65535<sa&&(sa>>=16,ka+=16),255<sa&&(sa>>=8,ka+=8),15<sa&&(sa>>=4,ka+=4),3<sa&&(sa>>=2,ka+=2),ka+=sa>>1):(sa=ba&44736640)&&0===(ba&2602)&&
(ka=13)))}}else if(0!==(x&1))ka=11>=x?5===x?4:x+1:0;else if(14===x)ka=0;else if(14<x)switch(x){case 16:0!==(ba&44755626)&&(ka=14);break;case 18:0!==(ba&4194304)&&(ka=22);break;case 20:0!==(ba&262144)&&(ka=18);break;case 22:0!==(ba&1048576)&&(ka=20);break;case 24:0!==(ba&45017770)&&(ka=18)}O[J]=ka;0<ka&&(L|=N,I|=pa,ka&1&&(M|=N,Y|=pa));N>>=1;J+=1}pa>>=1}E[W]|=L;V[d]|=I;H[W]|=M;X[d]|=Y}W+=1}else W+=16;fa[f]=g|0;Z[f]=Z[f]|g|0}R+=16;ja+=16}for(f=0;f<l;f+=1)E[f]&&(f<n&&(n=f),f>q&&(q=f)),H[f]&&(f<t&&(t=
f),f>v&&(v=f));for(d=0;d<V.length;d+=1)V[d]&&(d<r&&(r=d),d>m&&(m=d)),X[d]&&(d<w&&(w=d),d>B&&(B=d));n=(n<<4)+this.Rb(E[n]);q=(q<<4)+this.Wb(E[q]);r=(r<<4)+this.Rb(V[r]);m=(m<<4)+this.Wb(V[m]);0>m&&(m=p-1);r>=p&&(r=0);n>=k&&(n=0);0>q&&(q=k-1);m>p-1&&(m=p-1);0>r&&(r=0);0>n&&(n=0);q>k-1&&(q=k-1);u.N=m;u.K=r;u.J=n;u.L=q;t=(t<<4)+this.Rb(H[t]);v=(v<<4)+this.Wb(H[v]);w=(w<<4)+this.Rb(X[w]);B=(B<<4)+this.Wb(X[B]);0>B&&(B=p-1);w>=p&&(w=0);t>=k&&(t=0);0>v&&(v=k-1);B>p-1&&(B=p-1);0>w&&(w=0);0>t&&(t=0);v>k-1&&
(v=k-1);z.N=B;z.K=w;z.J=t;z.L=v};qa.prototype.kn=function(){var a=this.m,b=this.wa,c=this.ia,d,f,e,g,k=this.width,l=k>>4,p=this.height,n=k,q=-1,m=-1,r=p,u=this.A,t=k,v=-1,B=-1,w=p,z=this.Je,E=this.V,H=this.Ue,L,M,N,V=this.Y,X=this.cf,I;var R=this.I;var P=this.F>>4;var S=0;var aa=R;if(0!==(this.counter&1)){var ma=this.Va;var ea=this.H;var ca=this.h;var ia=this.P}else ma=this.va,ea=this.j,ca=this.P,ia=this.h;0>S&&(S=0);aa>R&&(aa=R);E.fill(0);H.fill(0);V.fill(0);X.fill(0);R=S<<4;var oa=R+16;for(d=S;d<
aa;d+=1){var ja=0;var W=ea[d];var na=b[d];var fa=a[d];for(f=0;f<P;f+=1){if(g=W[f]|na[f])for(e=15;0<=e;--e){if(0!==(g&1<<e)){var Z=I=M=L=0;var Y=32768;for(S=R;S<oa;S+=1){var pa=ma[S];var Q=ca[S];var G=0===S?c:ca[S-1];var A=S===this.height-1?c:ca[S+1];var K=ia[S];var O=ja<<4;if(0===O)var J=0;else{var x=Q[O-1];J=1<<G[O-1]|1<<x|1<<A[O-1]}var D=Q[O];var la=1<<D|1<<A[O]|1<<G[O];var ba=pa[ja];for(N=32768;0<N;){O+=1;x=D;D=Q[O];var sa=J;J=la;la=1<<D|1<<A[O]|1<<G[O];var ta=x;sa=sa|J|la;var ka=!0;if(0!==(sa&
64)){ka=!1;if(7===x||8===x||13<=x)ta=0;else switch(x){case 1:ta=2;break;case 3:case 5:ta=4;break;case 9:ta=10;break;case 11:ta=12;break;default:ka=!0}!ka&&0!==(x&1)&&ba&N&&(pa[ja]&=~N,this.ga+=1,--this.B)}if(ka)if(0!==(ba&N)){if(0===(x&1))switch(x){case 4:ta=3;break;case 6:pa[ja]&=~N;--this.na;--this.B;break;case 8:ta=7;break;default:ta=1,x=sa&44739072,0===(sa&170)&&x&&0===(x&x-1)?ta=31-Math.clz32(x):(x=sa&44736512,0!==(sa&8)&&0===(sa&2722)&&x&&0===(x&x-1)?ta=31-Math.clz32(x):(x=sa&2560,0!==(sa&128)&&
0===(sa&44736554)&&x&&0===(x&x-1)?ta=31-Math.clz32(x):(x=sa&44736640)&&0===(sa&2602)&&(ta=13)))}}else if(0!==(x&1))ta=11>=x?5===x?4:x+1:0;else if(14<=x)switch(x){case 14:ta=0;break;case 16:0!==(sa&44755626)&&(ta=14);break;case 18:0!==(sa&4194304)&&(ta=22);break;case 20:0!==(sa&262144)&&(ta=18);break;case 22:0!==(sa&1048576)&&(ta=20);break;case 24:0!==(sa&45017770)&&(ta=18)}K[O-1]=ta;0<ta&&(L|=N,I|=Y,ta&1&&(M|=N,Z|=Y));N>>=1}Y>>=1}E[ja]|=L;V[d]|=I;H[ja]|=M;X[d]|=Z}ja+=1}else ja+=16;na[f]=g|0;fa[f]=
fa[f]|g|0}R+=16;oa+=16}for(f=0;f<l;f+=1)E[f]&&(f<n&&(n=f),f>q&&(q=f)),H[f]&&(f<t&&(t=f),f>v&&(v=f));for(d=0;d<V.length;d+=1)V[d]&&(d<r&&(r=d),d>m&&(m=d)),X[d]&&(d<w&&(w=d),d>B&&(B=d));n=(n<<4)+this.Rb(E[n]);q=(q<<4)+this.Wb(E[q]);r=(r<<4)+this.Rb(V[r]);m=(m<<4)+this.Wb(V[m]);0>m&&(m=p-1);r>=p&&(r=0);n>=k&&(n=0);0>q&&(q=k-1);m>p-1&&(m=p-1);0>r&&(r=0);0>n&&(n=0);q>k-1&&(q=k-1);u.N=m;u.K=r;u.J=n;u.L=q;t=(t<<4)+this.Rb(H[t]);v=(v<<4)+this.Wb(H[v]);w=(w<<4)+this.Rb(X[w]);B=(B<<4)+this.Wb(X[B]);0>B&&(B=
p-1);w>=p&&(w=0);t>=k&&(t=0);0>v&&(v=k-1);B>p-1&&(B=p-1);0>w&&(w=0);0>t&&(t=0);v>k-1&&(v=k-1);z.N=B;z.K=w;z.J=t;z.L=v};qa.prototype.Gr=function(){var a=this.h,b=this.m,c=this.wa,d,f,e,g,k,l=0,p=0,n=0,q=this.width,m=q>>4,r=this.height,u=q,t=-1,v=-1,B=r,w=this.A,z=this.V,E,H,L=this.Y;var M=this.I;var N=this.F>>4;var V=0;var X=M,I=this.i+this.u-1,R=this.u,P=0<this.u?1:0;if(0!==(this.counter&1)){var S=this.Va;var aa=this.H}else S=this.va,aa=this.j;0>V&&(V=0);X>M&&(X=M);z.fill(0);L.fill(0);M=V<<4;var ma=
M+16;for(f=V;f<X;f+=1){var ea=0;var ca=aa[f];var ia=c[f];var oa=b[f];for(e=0;e<N;e+=1){var ja=ca[e]|ia[e];var W=0;if(ja)for(g=15;0<=g;--g){if(0!==(ja&1<<g)){var na=E=0;var fa=32768;var Z=0;for(V=M;V<ma;V+=1){var Y=S[V];var pa=a[V];var Q=ea<<4;var G=Y[ea];for(k=H=32768;0<k;){var A=d=pa[Q];(d<=R||d===I)&&0!==(G&k)?d=I:(G&=~k,d>P&&--d);pa[Q]=d;d>P&&(Z=1,d>R&&(E|=H,na|=fa),d===I&&(l+=1,A!==I&&(p+=1)));A===I&&d!==I&&(n+=1);H>>=1;Q+=1;k>>=1;A=d=pa[Q];(d<=R||d===I)&&0!==(G&k)?d=I:(G&=~k,d>P&&--d);pa[Q]=
d;d>P&&(Z=1,d>R&&(E|=H,na|=fa),d===I&&(l+=1,A!==I&&(p+=1)));A===I&&d!==I&&(n+=1);H>>=1;Q+=1;k>>=1;A=d=pa[Q];(d<=R||d===I)&&0!==(G&k)?d=I:(G&=~k,d>P&&--d);pa[Q]=d;d>P&&(Z=1,d>R&&(E|=H,na|=fa),d===I&&(l+=1,A!==I&&(p+=1)));A===I&&d!==I&&(n+=1);H>>=1;Q+=1;k>>=1;A=d=pa[Q];(d<=R||d===I)&&0!==(G&k)?d=I:(G&=~k,d>P&&--d);pa[Q]=d;d>P&&(Z=1,d>R&&(E|=H,na|=fa),d===I&&(l+=1,A!==I&&(p+=1)));A===I&&d!==I&&(n+=1);H>>=1;Q+=1;k>>=1}Y[ea]=G;fa>>=1}z[ea]|=E;L[f]|=na;Z&&(W|=1<<g)}ea+=1}else ea+=16;ia[e]=W;oa[e]|=W}M+=
16;ma+=16}for(e=0;e<m;e+=1)z[e]&&(e<u&&(u=e),e>t&&(t=e));for(f=0;f<L.length;f+=1)L[f]&&(f<B&&(B=f),f>v&&(v=f));u=(u<<4)+this.Rb(z[u]);t=(t<<4)+this.Wb(z[t]);B=(B<<4)+this.Rb(L[B]);v=(v<<4)+this.Wb(L[v]);0>v&&(v=r-1);B>=r&&(B=0);u>=q&&(u=0);0>t&&(t=q-1);v>r-1&&(v=r-1);0>B&&(B=0);0>u&&(u=0);t>q-1&&(t=q-1);w.N=v;w.K=B;w.J=u;w.L=t;this.B=l;this.na=p;this.ga=n};qa.prototype.Sf=function(){var a=performance.now(),b=this.ab;if(!(this.la||this.s||this.D||this.v||this.G||-1!==this.i)){b!==y.kg||this.pa[this.qb].H(this.O,
this.view)||(b=y.Kf);switch(b){case y.kg:U.R&&U.ls&&this.view.i?0!==(this.counter&1)?va.FA(this.h.o.byteOffset|0,this.m.o.byteOffset|0,this.wa.o.byteOffset|0,16,2,this.I|0,this.F|0,this.Va.o.byteOffset|0,this.H.o.byteOffset|0,this.h[0].length|0):va.FA(this.h.o.byteOffset|0,this.m.o.byteOffset|0,this.wa.o.byteOffset|0,16,2,this.I|0,this.F|0,this.va.o.byteOffset|0,this.j.o.byteOffset|0,this.h[0].length|0):this.pm();break;case y.vf:this.om();break;case y.lg:U.R&&U.ls&&this.view.i?0!==(this.counter&1)?
va.GA(this.h.o.byteOffset|0,this.m.o.byteOffset|0,this.wa.o.byteOffset|0,16,2,this.I|0,this.F|0,this.Va.o.byteOffset|0,this.H.o.byteOffset|0,this.h[0].length|0):va.GA(this.h.o.byteOffset|0,this.m.o.byteOffset|0,this.wa.o.byteOffset|0,16,2,this.I|0,this.F|0,this.va.o.byteOffset|0,this.j.o.byteOffset|0,this.h[0].length|0):this.Hj();break;case y.Kf:U.R&&U.ls&&this.view.i?0!==(this.counter&1)?va.EA(this.h.o.byteOffset|0,this.m.o.byteOffset|0,this.wa.o.byteOffset|0,16,2,this.I|0,this.F|0,this.Va.o.byteOffset|
0,this.H.o.byteOffset|0,this.h[0].length|0):va.EA(this.h.o.byteOffset|0,this.m.o.byteOffset|0,this.wa.o.byteOffset|0,16,2,this.I|0,this.F|0,this.va.o.byteOffset|0,this.j.o.byteOffset|0,this.h[0].length|0):this.nm()}a=performance.now()-a;U.xb&&this.view.C.h("convertToPens",a,U.R&&U.ls&&this.view.i);this.sd&&this.jk()}this.sd&&this.Da&&1===this.aa.m&&this.jk()};qa.prototype.lk=function(){var a,b,c=this.le,d=this.m,f,e,g,k=0,l,p=this.I,n=this.F>>4;var q=16;for(f=0;f<p;f+=1){var m=0;var r=d[f];for(e=
0;e<n;e+=1)if(l=r[e])for(g=15;0<=g;--g){if(0!==(l&1<<g))if(-1===this.i)for(a=k;a<q;){var u=c[a];var t=m<<3;u[t]&=16448;t+=1;u[t]&=16448;t+=1;u[t]&=16448;t+=1;u[t]&=16448;t+=1;u[t]&=16448;t+=1;u[t]&=16448;t+=1;u[t]&=16448;t+=1;u[t]&=16448;a+=1}else for(a=k;a<q;){u=c[a];t=m<<3;for(b=0;8>b;b+=1){var v=u[t];var B=0;(v&255)>this.u&&(B=v&255);v>>8>this.u&&(B|=v&65280);u[t]=B;t+=1}a+=1}m+=1}else m+=16;k+=16;q+=16}};qa.prototype.$o=function(){var a=this.ca,b=this.$,c=this.A;var d=performance.now();this.ha?
U.R&&U.xs&&this.view.i?va.JI(this.h.o.byteOffset|0,this.P.o.byteOffset|0,this.h[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|0,this.j.o.length|0,this.ta.o.byteOffset|0,this.V.byteOffset|0,this.V.length|0,this.Y.byteOffset|0,this.Y.length|0,this.X.m.byteOffset|0,this.fb?this.X.ba.byteOffset|0:0,this.width|0,this.height|0,16,this.I|0,this.F|0,this.ba.byteOffset|0,this.ba.length|0,this.ia.byteOffset|0,this.counter|0,this.fb?1:0,this.Dh.byteOffset|0,y.Ra|
0,y.Oa|0,y.Ka|0,y.La|0,y.Qa|0,y.Sa|0,y.Ja|0,y.Ga|0,this.fa.byteOffset|0):this.bp():this.wd?U.R&&U.xs&&this.view.i?va.LI(this.h.o.byteOffset|0,this.P.o.byteOffset|0,this.h[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|0,this.j.o.length|0,this.ta.o.byteOffset|0,this.V.byteOffset|0,this.V.length|0,this.Y.byteOffset|0,this.Y.length|0,this.X.m.byteOffset|0,this.fb?this.X.ba.byteOffset|0:0,this.width|0,this.height|0,16,this.I|0,this.F|0,this.ba.byteOffset|
0,this.ba.length|0,this.ia.byteOffset|0,this.counter|0,this.fb?1:0,this.Dh.byteOffset|0,y.Ra|0,y.Oa|0,y.Ka|0,y.La|0,y.Qa|0,y.Sa|0,y.Ja|0,y.Ga|0,this.fa.byteOffset|0):this.rp():U.R&&U.xs&&this.view.i?va.KI(this.h.o.byteOffset|0,this.P.o.byteOffset|0,this.h[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|0,this.j.o.length|0,this.ta.o.byteOffset|0,this.V.byteOffset|0,this.V.length|0,this.Y.byteOffset|0,this.Y.length|0,this.X.m.byteOffset|0,this.fb?this.X.ba.byteOffset|
0:0,this.width|0,this.height|0,16,this.I|0,this.F|0,this.ba.byteOffset|0,this.ba.length|0,this.ia.byteOffset|0,this.counter|0,this.fb?1:0,this.Dh.byteOffset|0,y.Ra|0,y.Oa|0,y.Ka|0,y.La|0,y.Qa|0,y.Sa|0,y.Ja|0,y.Ga|0,this.fa.byteOffset|0):this.qp();U.R&&U.tp&&this.view.i&&(this.B=this.fa[0],this.na=this.fa[1],this.ga=this.fa[2],this.A.J=this.fa[3],this.A.K=this.fa[4],this.A.L=this.fa[5],this.A.N=this.fa[6]);d=performance.now()-d;U.xb&&this.view.C.h("nextInvestigator",d,U.R&&U.xs&&this.view.i);if(-1!==
this.S){d=Math.round((this.width-a)/2);var f=Math.round((this.height-b)/2);a=d+a-1;b=f+b-1;c.J<d&&(c.J=d);c.L>a&&(c.L=a);c.K<f&&(c.K=f);c.N>b&&(c.N=b)}};qa.prototype.gn=function(){var a=this.ca,b=this.$,c=this.A;var d=performance.now();this.ha?U.R&&U.tp&&this.view.i?va.RI(this.va.o.byteOffset|0,this.Va.o.byteOffset|0,this.va[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|0,this.wa.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|0,this.h.o.byteOffset|0,this.P.o.byteOffset|0,this.h[0].length|
0,this.V.byteOffset|0,this.Ue.byteOffset|0,this.V.length|0,this.Y.byteOffset|0,this.cf.byteOffset|0,this.Y.length|0,this.width|0,this.height|0,2,16,this.F|0,this.ia.byteOffset|0,this.counter|0,this.B|0,this.na|0,this.ga|0,this.fa.byteOffset|0):this.hn():this.wd?U.R&&U.tp&&this.view.i?va.TI(this.va.o.byteOffset|0,this.Va.o.byteOffset|0,this.va[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|0,this.wa.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|0,this.h.o.byteOffset|0,this.P.o.byteOffset|
0,this.h[0].length|0,this.V.byteOffset|0,this.Ue.byteOffset|0,this.V.length|0,this.Y.byteOffset|0,this.cf.byteOffset|0,this.Y.length|0,this.width|0,this.height|0,2,16,this.F|0,this.ia.byteOffset|0,this.counter|0,this.B|0,this.na|0,this.ga|0,this.fa.byteOffset|0):this.mn():U.R&&U.tp&&this.view.i?va.SI(this.va.o.byteOffset|0,this.Va.o.byteOffset|0,this.va[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|0,this.wa.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|0,this.h.o.byteOffset|0,this.P.o.byteOffset|
0,this.h[0].length|0,this.V.byteOffset|0,this.Ue.byteOffset|0,this.V.length|0,this.Y.byteOffset|0,this.cf.byteOffset|0,this.Y.length|0,this.width|0,this.height|0,2,16,this.F|0,this.ia.byteOffset|0,this.counter|0,this.B|0,this.na|0,this.ga|0,this.fa.byteOffset|0):this.kn();U.R&&U.tp&&this.view.i&&(this.B=this.fa[0],this.na=this.fa[1],this.ga=this.fa[2],this.A.J=this.fa[3],this.A.K=this.fa[4],this.A.L=this.fa[5],this.A.N=this.fa[6],this.Je.J=this.fa[7],this.Je.K=this.fa[8],this.Je.L=this.fa[9],this.Je.N=
this.fa[10]);d=performance.now()-d;U.xb&&this.view.C.h("nextSuper",d,U.R&&U.tp&&this.view.i);if(-1!==this.S){d=Math.round((this.width-a)/2);var f=Math.round((this.height-b)/2);a=d+a-1;b=f+b-1;c.J<d&&(c.J=d);c.L>a&&(c.L=a);c.K<f&&(c.K=f);c.N>b&&(c.N=b)}};qa.prototype.bn=function(){var a=performance.now();switch(this.od){case Da.xj:if(U.R&&U.ik&&this.view.i)if(null!==this.ua&&this.Db&&-1===this.pb)switch(this.Yc){case 1:va.vC(this.h.o.byteOffset|0,this.P.o.byteOffset|0,this.h[0].length|0,this.j.o.byteOffset|
0,this.H.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|0,this.j.o.length|0,this.ta.o.byteOffset|0,this.V.byteOffset|0,this.V.length|0,this.Y.byteOffset|0,this.Y.length|0,this.ua.byteOffset|0,this.width|0,this.height|0,16,this.I|0,this.F|0,this.ba.byteOffset|0,this.ba.length|0,this.ia.byteOffset|0,this.counter|0,y.Ra|0,y.Oa|0,y.Ka|0,y.La|0,y.Qa|0,y.Sa|0,y.Ja|0,y.Ga|0,this.fa.byteOffset|0);break;case 2:va.wC(this.h.o.byteOffset|0,this.P.o.byteOffset|0,this.h[0].length|0,this.j.o.byteOffset|
0,this.H.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|0,this.j.o.length|0,this.ta.o.byteOffset|0,this.V.byteOffset|0,this.V.length|0,this.Y.byteOffset|0,this.Y.length|0,this.ua.byteOffset|0,this.width|0,this.height|0,16,this.I|0,this.F|0,this.ba.byteOffset|0,this.ba.length|0,this.ia.byteOffset|0,this.counter|0,y.Ra|0,y.Oa|0,y.Ka|0,y.La|0,y.Qa|0,y.Sa|0,y.Ja|0,y.Ga|0,this.fa.byteOffset|0);break;case 3:va.xC(this.h.o.byteOffset|0,this.P.o.byteOffset|0,this.h[0].length|0,this.j.o.byteOffset|
0,this.H.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|0,this.j.o.length|0,this.ta.o.byteOffset|0,this.V.byteOffset|0,this.V.length|0,this.Y.byteOffset|0,this.Y.length|0,this.ua.byteOffset|0,this.width|0,this.height|0,16,this.I|0,this.F|0,this.ba.byteOffset|0,this.ba.length|0,this.ia.byteOffset|0,this.counter|0,y.Ra|0,y.Oa|0,y.Ka|0,y.La|0,y.Qa|0,y.Sa|0,y.Ja|0,y.Ga|0,this.fa.byteOffset|0);break;case 4:va.yC(this.h.o.byteOffset|0,this.P.o.byteOffset|0,this.h[0].length|0,this.j.o.byteOffset|
0,this.H.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|0,this.j.o.length|0,this.ta.o.byteOffset|0,this.V.byteOffset|0,this.V.length|0,this.Y.byteOffset|0,this.Y.length|0,this.ua.byteOffset|0,this.width|0,this.height|0,16,this.I|0,this.F|0,this.ba.byteOffset|0,this.ba.length|0,this.ia.byteOffset|0,this.counter|0,y.Ra|0,y.Oa|0,y.Ka|0,y.La|0,y.Qa|0,y.Sa|0,y.Ja|0,y.Ga|0,this.fa.byteOffset|0);break;case 5:va.zC(this.h.o.byteOffset|0,this.P.o.byteOffset|0,this.h[0].length|0,this.j.o.byteOffset|
0,this.H.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|0,this.j.o.length|0,this.ta.o.byteOffset|0,this.V.byteOffset|0,this.V.length|0,this.Y.byteOffset|0,this.Y.length|0,this.ua.byteOffset|0,this.width|0,this.height|0,16,this.I|0,this.F|0,this.ba.byteOffset|0,this.ba.length|0,this.ia.byteOffset|0,this.counter|0,y.Ra|0,y.Oa|0,y.Ka|0,y.La|0,y.Qa|0,y.Sa|0,y.Ja|0,y.Ga|0,this.fa.byteOffset|0);break;default:va.CC(this.h.o.byteOffset|0,this.P.o.byteOffset|0,this.h[0].length|0,this.j.o.byteOffset|
0,this.H.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|0,this.j.o.length|0,this.ta.o.byteOffset|0,this.V.byteOffset|0,this.V.length|0,this.Y.byteOffset|0,this.Y.length|0,this.ed.byteOffset|0,this.ed.length|0,this.yb.byteOffset|0,this.Fc|0,this.width|0,this.height|0,16,this.I|0,this.F|0,this.ba.byteOffset|0,this.ba.length|0,this.ia.byteOffset|0,this.counter|0,y.Ra|0,y.Oa|0,y.Ka|0,y.La|0,y.Qa|0,y.Sa|0,y.Ja|0,y.Ga|0,this.fa.byteOffset|0)}else va.CC(this.h.o.byteOffset|0,this.P.o.byteOffset|0,
this.h[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|0,this.j.o.length|0,this.ta.o.byteOffset|0,this.V.byteOffset|0,this.V.length|0,this.Y.byteOffset|0,this.Y.length|0,this.ed.byteOffset|0,this.ed.length|0,this.yb.byteOffset|0,this.Fc|0,this.width|0,this.height|0,16,this.I|0,this.F|0,this.ba.byteOffset|0,this.ba.length|0,this.ia.byteOffset|0,this.counter|0,y.Ra|0,y.Oa|0,y.Ka|0,y.La|0,y.Qa|0,y.Sa|0,y.Ja|0,y.Ga|0,this.fa.byteOffset|0);else if(null!==
this.ua&&this.Db&&-1===this.pb)switch(this.Yc){case 1:this.Kk();break;case 2:this.Mk();break;case 3:this.Pk();break;case 4:this.Qk();break;case 5:this.Rk();break;default:this.Ti()}else this.dn();break;case Da.ah:if(U.R&&U.ik&&this.view.i)if(null!==this.ua&&this.Db&&-1===this.pb)switch(this.Yc){case 1:va.sC(this.h.o.byteOffset|0,this.P.o.byteOffset|0,this.h[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|0,this.j.o.length|0,this.ta.o.byteOffset|0,this.V.byteOffset|
0,this.V.length|0,this.Y.byteOffset|0,this.Y.length|0,this.ua.byteOffset|0,this.width|0,this.height|0,16,this.I|0,this.F|0,this.ba.byteOffset|0,this.ba.length|0,this.ia.byteOffset|0,this.counter|0,y.Ra|0,y.Oa|0,y.Ka|0,y.La|0,y.Qa|0,y.Sa|0,y.Ja|0,y.Ga|0,this.fa.byteOffset|0);break;case 2:va.tC(this.h.o.byteOffset|0,this.P.o.byteOffset|0,this.h[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|0,this.j.o.length|0,this.ta.o.byteOffset|0,this.V.byteOffset|
0,this.V.length|0,this.Y.byteOffset|0,this.Y.length|0,this.ua.byteOffset|0,this.width|0,this.height|0,16,this.I|0,this.F|0,this.ba.byteOffset|0,this.ba.length|0,this.ia.byteOffset|0,this.counter|0,y.Ra|0,y.Oa|0,y.Ka|0,y.La|0,y.Qa|0,y.Sa|0,y.Ja|0,y.Ga|0,this.fa.byteOffset|0);break;case 3:va.uC(this.h.o.byteOffset|0,this.P.o.byteOffset|0,this.h[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|0,this.j.o.length|0,this.ta.o.byteOffset|0,this.V.byteOffset|
0,this.V.length|0,this.Y.byteOffset|0,this.Y.length|0,this.ua.byteOffset|0,this.width|0,this.height|0,16,this.I|0,this.F|0,this.ba.byteOffset|0,this.ba.length|0,this.ia.byteOffset|0,this.counter|0,y.Ra|0,y.Oa|0,y.Ka|0,y.La|0,y.Qa|0,y.Sa|0,y.Ja|0,y.Ga|0,this.fa.byteOffset|0);break;default:va.BC(this.h.o.byteOffset|0,this.P.o.byteOffset|0,this.h[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|0,this.j.o.length|0,this.ta.o.byteOffset|0,this.V.byteOffset|
0,this.V.length|0,this.Y.byteOffset|0,this.Y.length|0,this.ed.byteOffset|0,this.ed.length|0,this.yb.byteOffset|0,this.Fc|0,this.width|0,this.height|0,16,this.I|0,this.F|0,this.ba.byteOffset|0,this.ba.length|0,this.ia.byteOffset|0,this.counter|0,y.Ra|0,y.Oa|0,y.Ka|0,y.La|0,y.Qa|0,y.Sa|0,y.Ja|0,y.Ga|0,this.fa.byteOffset|0)}else va.BC(this.h.o.byteOffset|0,this.P.o.byteOffset|0,this.h[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|0,this.j.o.length|0,this.ta.o.byteOffset|
0,this.V.byteOffset|0,this.V.length|0,this.Y.byteOffset|0,this.Y.length|0,this.ed.byteOffset|0,this.ed.length|0,this.yb.byteOffset|0,this.Fc|0,this.width|0,this.height|0,16,this.I|0,this.F|0,this.ba.byteOffset|0,this.ba.length|0,this.ia.byteOffset|0,this.counter|0,y.Ra|0,y.Oa|0,y.Ka|0,y.La|0,y.Qa|0,y.Sa|0,y.Ja|0,y.Ga|0,this.fa.byteOffset|0);else if(null!==this.ua&&this.Db&&-1===this.pb)switch(this.Yc){case 1:this.Ik();break;case 2:this.Jk();break;case 3:this.rk();break;default:this.Yk()}else this.Yk();
break;case Da.$g:if(U.R&&U.ik&&this.view.i)if(null!==this.ua&&this.Db&&-1===this.pb)switch(this.Yc){case 1:va.MI(this.h.o.byteOffset|0,this.P.o.byteOffset|0,this.h[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|0,this.j.o.length|0,this.ta.o.byteOffset|0,this.V.byteOffset|0,this.V.length|0,this.Y.byteOffset|0,this.Y.length|0,this.ua.byteOffset|0,this.width|0,this.height|0,16,this.I|0,this.F|0,this.ba.byteOffset|0,this.ba.length|0,this.ia.byteOffset|0,
this.counter|0,y.Ra|0,y.Oa|0,y.Ka|0,y.La|0,y.Qa|0,y.Sa|0,y.Ja|0,y.Ga|0,this.fa.byteOffset|0);break;case 2:va.NI(this.h.o.byteOffset|0,this.P.o.byteOffset|0,this.h[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|0,this.j.o.length|0,this.ta.o.byteOffset|0,this.V.byteOffset|0,this.V.length|0,this.Y.byteOffset|0,this.Y.length|0,this.ua.byteOffset|0,this.width|0,this.height|0,16,this.I|0,this.F|0,this.ba.byteOffset|0,this.ba.length|0,this.ia.byteOffset|0,
this.counter|0,y.Ra|0,y.Oa|0,y.Ka|0,y.La|0,y.Qa|0,y.Sa|0,y.Ja|0,y.Ga|0,this.fa.byteOffset|0);break;case 3:va.OI(this.h.o.byteOffset|0,this.P.o.byteOffset|0,this.h[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|0,this.j.o.length|0,this.ta.o.byteOffset|0,this.V.byteOffset|0,this.V.length|0,this.Y.byteOffset|0,this.Y.length|0,this.ua.byteOffset|0,this.width|0,this.height|0,16,this.I|0,this.F|0,this.ba.byteOffset|0,this.ba.length|0,this.ia.byteOffset|0,
this.counter|0,y.Ra|0,y.Oa|0,y.Ka|0,y.La|0,y.Qa|0,y.Sa|0,y.Ja|0,y.Ga|0,this.fa.byteOffset|0);break;default:va.AC(this.h.o.byteOffset|0,this.P.o.byteOffset|0,this.h[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|0,this.j.o.length|0,this.ta.o.byteOffset|0,this.V.byteOffset|0,this.V.length|0,this.Y.byteOffset|0,this.Y.length|0,this.ed.byteOffset|0,this.ed.length|0,this.yb.byteOffset|0,this.Fc|0,this.width|0,this.height|0,16,this.I|0,this.F|0,this.ba.byteOffset|
0,this.ba.length|0,this.ia.byteOffset|0,this.counter|0,y.Ra|0,y.Oa|0,y.Ka|0,y.La|0,y.Qa|0,y.Sa|0,y.Ja|0,y.Ga|0,this.fa.byteOffset|0)}else va.AC(this.h.o.byteOffset|0,this.P.o.byteOffset|0,this.h[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|0,this.j.o.length|0,this.ta.o.byteOffset|0,this.V.byteOffset|0,this.V.length|0,this.Y.byteOffset|0,this.Y.length|0,this.ed.byteOffset|0,this.ed.length|0,this.yb.byteOffset|0,this.Fc|0,this.width|0,this.height|0,
16,this.I|0,this.F|0,this.ba.byteOffset|0,this.ba.length|0,this.ia.byteOffset|0,this.counter|0,y.Ra|0,y.Oa|0,y.Ka|0,y.La|0,y.Qa|0,y.Sa|0,y.Ja|0,y.Ga|0,this.fa.byteOffset|0);else if(null!==this.ua&&this.Db&&-1===this.pb)switch(this.Yc){case 1:this.wp();break;case 2:this.xp();break;case 3:this.yp();break;default:this.Tk()}else this.Tk();break;case Da.ak:this.cn()}U.R&&U.ik&&this.view.i&&(this.B=this.fa[0],this.na=this.fa[1],this.ga=this.fa[2],this.A.J=this.fa[3],this.A.K=this.fa[4],this.A.L=this.fa[5],
this.A.N=this.fa[6]);a=performance.now()-a;U.xb&&this.view.C.h("nextRuleTable",a,U.R&&U.ik&&this.view.i)};qa.prototype.cn=function(){var a=this.Rd;var b=a[0],c=a[1],d=a[2],f=this.yb,e=this.Fc,g,k,l,p,n,q=this.ta,m,r=this.V,u,t=this.Y,v,B,w=0,z=0,E=0,H=this.width,L=this.A,M=this.height,N=this.I,V=this.F>>4,X=this.ba;if(0!==(this.counter&1)){var I=this.P;var R=this.Pa;var P=this.h;var S=this.H;var aa=this.j}else I=this.h,R=this.Ua,P=this.P,S=this.j,aa=this.H;r.fill(0);t.fill(0);var ma=0;var ea=ma+16;
aa.o.fill(0);for(p=0;p<S.length;p+=1){var ca=0;var ia=ca+16;var oa=S[p];var ja=aa[p];var W=q[p];var na=0<p?aa[p-1]:X;var fa=p<N-1?aa[p+1]:X;for(n=0;n<V;n+=1){var Z=oa[n];var Y=0;if(Z){var pa=ja[n];var Q=na[n];var G=fa[n];for(l=15;0<=l;--l){if(0!==(Z&1<<l)){var A=v=u=m=0;var K=ma;for(B=32768;K<ea;){a=I[K];var O=P[K];var J=32768;var x=ca;var D=0===x?0:a[x-1];for(k=a[x];x<ia-1;){var la=D;D=k;k=a[x+1];var ba=b[D];var sa=c[la];var ta=d[k];var ka=D;for(g=0;g<e;g+=1)if(la=ba[g]&sa[g]&ta[g]){ba=0;for(ta=
1;!(la&ta);)ba+=1,ta<<=1;ka=f[(g<<5)+ba];break}O[x]=ka;0<ka?(w+=1,0===D&&(z+=1),v|=B,u|=J):0<D&&(E+=1);m|=D;J>>=1;x+=1}la=D;D=k;k=x===H-1?0:a[x+1];ba=b[D];sa=c[la];ta=d[k];ka=D;for(g=0;g<e;g+=1)if(la=ba[g]&sa[g]&ta[g]){ba=0;for(ta=1;!(la&ta);)ba+=1,ta<<=1;ka=f[(g<<5)+ba];break}O[x]=ka;0<ka?(w+=1,0===D&&(z+=1),v|=B,u|=J):0<D&&(E+=1);m|=D;K+=1;B>>=1}r[ca>>4]|=u;u?(pa|=1<<l,v&1&&(A|=y.La,u&32768&&(A|=y.Sa),u&1&&(A|=y.Ka)),v&32768&&(A|=y.Oa,u&32768&&(A|=y.Qa),u&1&&(A|=y.Ra)),u&32768&&(A|=y.Ja),u&1&&(A|=
y.Ga),A&&(0!==(A&y.Ja)&&(15>l?pa|=1<<l+1:0<n&&0<ca&&(ja[n-1]|=1)),0!==(A&y.Ga)&&(0<l?pa|=1<<l-1:n<V-1&&ca<H-1&&(ja[n+1]|=32768)),0!==(A&y.Oa)&&(Q|=1<<l),0!==(A&y.La)&&(G|=1<<l),0!==(A&y.Qa)&&(15>l?Q|=1<<l+1:0<n&&0<ca&&(na[n-1]|=1)),0!==(A&y.Ra)&&(0<l?Q|=1<<l-1:n<V-1&&ca<H-1&&(na[n+1]|=32768)),0!==(A&y.Sa)&&(15>l?G|=1<<l+1:0<n&&0<ca&&(fa[n-1]|=1)),0!==(A&y.Ka)&&(0<l?G|=1<<l-1:n<V-1&&ca<H-1&&(fa[n+1]|=32768)))):m&&(Y|=1<<l);t[p]|=v}ca+=16;ia+=16}ja[n]|=pa;0<p&&(na[n]|=Q);p<N-1&&(fa[n]|=G)}else ca+=
256,ia+=256;W[n]=Y}ma+=16;ea+=16}this.dc(r,t,H,M,L);X.fill(0);this.ac(R);for(K=0;K<this.m.o.length;K+=1)this.m.o[K]=this.m.o[K]|S.o[K]|aa.o[K];this.B=w;this.na=z;this.ga=E};qa.prototype.dn=function(){var a=this.Rd;var b=a[0],c=a[1],d=a[2],f=a[3],e=a[4],g=this.yb,k=this.Fc,l,p,n,q,m=this.ta,r,u=this.V,t,v=this.Y,B,w,z=0,E=0,H=0,L=this.width,M=this.A,N=this.height,V=this.I,X=this.F>>4,I=this.ba;if(0!==(this.counter&1)){var R=this.P;var P=this.Pa;var S=this.h;var aa=this.H;var ma=this.j}else R=this.h,
P=this.Ua,S=this.P,aa=this.j,ma=this.H;u.fill(0);v.fill(0);var ea=0;var ca=ea+16;ma.o.fill(0);for(n=0;n<aa.length;n+=1){var ia=0;var oa=ia+16;var ja=aa[n];var W=ma[n];var na=m[n];var fa=0<n?ma[n-1]:I;var Z=n<V-1?ma[n+1]:I;for(q=0;q<X;q+=1){var Y=ja[q];var pa=0;if(Y){var Q=W[q];var G=fa[q];var A=Z[q];for(p=15;0<=p;--p){if(0!==(Y&1<<p)){var K=B=t=r=0;var O=ea;for(w=32768;O<ca;){a=0===O?this.ia:R[O-1];var J=R[O];var x=O===this.height-1?this.ia:R[O+1];var D=S[O];var la=32768;var ba=ia;var sa=0===ba?0:
J[ba-1];for(l=J[ba];ba<oa-1;){var ta=sa;sa=l;var ka=a[ba];l=J[ba+1];var ua=x[ba];var Ba=b[sa];ka=c[ka];var Ja=d[l];var Fa=f[ua];var Ra=e[ta];var Sa=sa;for(ua=0;ua<k;ua+=1)if(ta=Ba[ua]&ka[ua])if(ta&=Ja[ua]&Fa[ua]&Ra[ua]){Ba=0;for(ka=1;!(ta&ka);)Ba+=1,ka<<=1;Sa=g[(ua<<5)+Ba];break}D[ba]=Sa;0<Sa?(z+=1,0===sa&&(E+=1),B|=w,t|=la):0<sa&&(H+=1);r|=sa;la>>=1;ba+=1}ta=sa;sa=l;ka=a[ba];l=ba===L-1?0:J[ba+1];ua=x[ba];Ba=b[sa];ka=c[ka];Ja=d[l];Fa=f[ua];Ra=e[ta];Sa=sa;for(ua=0;ua<k;ua+=1)if(ta=Ba[ua]&ka[ua])if(ta&=
Ja[ua]&Fa[ua]&Ra[ua]){Ba=0;for(ka=1;!(ta&ka);)Ba+=1,ka<<=1;Sa=g[(ua<<5)+Ba];break}D[ba]=Sa;0<Sa?(z+=1,0===sa&&(E+=1),B|=w,t|=la):0<sa&&(H+=1);r|=sa;O+=1;w>>=1}u[ia>>4]|=t;t?(Q|=1<<p,B&1&&(K|=y.La,t&32768&&(K|=y.Sa),t&1&&(K|=y.Ka)),B&32768&&(K|=y.Oa,t&32768&&(K|=y.Qa),t&1&&(K|=y.Ra)),t&32768&&(K|=y.Ja),t&1&&(K|=y.Ga),K&&(0!==(K&y.Ja)&&(15>p?Q|=1<<p+1:0<q&&0<ia&&(W[q-1]|=1)),0!==(K&y.Ga)&&(0<p?Q|=1<<p-1:q<X-1&&ia<L-1&&(W[q+1]|=32768)),0!==(K&y.Oa)&&(G|=1<<p),0!==(K&y.La)&&(A|=1<<p),0!==(K&y.Qa)&&(15>
p?G|=1<<p+1:0<q&&0<ia&&(fa[q-1]|=1)),0!==(K&y.Ra)&&(0<p?G|=1<<p-1:q<X-1&&ia<L-1&&(fa[q+1]|=32768)),0!==(K&y.Sa)&&(15>p?A|=1<<p+1:0<q&&0<ia&&(Z[q-1]|=1)),0!==(K&y.Ka)&&(0<p?A|=1<<p-1:q<X-1&&ia<L-1&&(Z[q+1]|=32768)))):r&&(pa|=1<<p);v[n]|=B}ia+=16;oa+=16}W[q]|=Q;0<n&&(fa[q]|=G);n<V-1&&(Z[q]|=A)}else ia+=256,oa+=256;na[q]=pa}ea+=16;ca+=16}this.dc(u,v,L,N,M);I.fill(0);this.ac(P);for(O=0;O<this.m.o.length;O+=1)this.m.o[O]=this.m.o[O]|aa.o[O]|ma.o[O];this.B=z;this.na=E;this.ga=H};qa.prototype.Yk=function(){var a=
this.Rd;var b=a[0],c=a[1],d=a[2],f=a[3],e=a[4],g=a[5],k=a[6],l=a[7],p=a[8],n=this.yb,q=this.Fc,m,r,u,t,v,B,w=this.ta,z,E=this.V,H,L=this.Y,M,N,V=0,X=0,I=0,R=this.width,P=this.A,S=this.height,aa=this.I,ma=this.F>>4,ea=this.ba;if(0!==(this.counter&1)){var ca=this.P;var ia=this.Pa;var oa=this.h;var ja=this.H;var W=this.j}else ca=this.h,ia=this.Ua,oa=this.P,ja=this.j,W=this.H;E.fill(0);L.fill(0);var na=0;var fa=na+16;W.o.fill(0);for(v=0;v<ja.length;v+=1){var Z=0;var Y=Z+16;var pa=ja[v];var Q=W[v];var G=
w[v];var A=0<v?W[v-1]:ea;var K=v<aa-1?W[v+1]:ea;for(B=0;B<ma;B+=1){var O=pa[B];var J=0;if(O){var x=Q[B];var D=A[B];var la=K[B];for(t=15;0<=t;--t){if(0!==(O&1<<t)){var ba=M=H=z=0;var sa=na;for(N=32768;sa<fa;){a=0===sa?this.ia:ca[sa-1];var ta=ca[sa];var ka=sa===this.height-1?this.ia:ca[sa+1];var ua=oa[sa];var Ba=32768;var Ja=Z;if(0===Ja)var Fa=u=m=0;else m=a[Ja-1],u=ka[Ja-1],Fa=ta[Ja-1];var Ra=a[Ja];var Sa=ka[Ja];for(r=ta[Ja];Ja<Y-1;){var Na=m;m=Ra;Ra=a[Ja+1];var Ia=Fa;Fa=r;r=ta[Ja+1];var ab=u;u=Sa;
Sa=ka[Ja+1];var bb=Fa;var kb=b[Fa];var Wa=c[m];var eb=d[Ra];var rb=f[r];var sb=e[Sa];var ob=g[u];ab=k[ab];var lb=l[Ia];var Ta=p[Na];for(Ia=0;Ia<q;Ia+=1)if(Na=kb[Ia]&Wa[Ia])if(Na&=eb[Ia]&rb[Ia])if(Na&=sb[Ia]&ob[Ia])if(Na&=ab[Ia]&lb[Ia]&Ta[Ia]){Wa=0;for(eb=1;!(Na&eb);)Wa+=1,eb<<=1;bb=n[(Ia<<5)+Wa];break}ua[Ja]=bb;0<bb?(V+=1,0===Fa&&(X+=1),M|=N,H|=Ba):0<Fa&&(I+=1);z|=Fa;Ba>>=1;Ja+=1}Na=m;m=Ra;Ia=Fa;Fa=r;ab=u;u=Sa;Ja===R-1?Sa=r=Ra=0:(Ra=a[Ja+1],r=ta[Ja+1],Sa=ka[Ja+1]);kb=b[Fa];Wa=c[m];eb=d[Ra];rb=f[r];
sb=e[Sa];ob=g[u];ab=k[ab];lb=l[Ia];Ta=p[Na];bb=Fa;for(Ia=0;Ia<q;Ia+=1)if(Na=kb[Ia]&Wa[Ia])if(Na&=eb[Ia]&rb[Ia])if(Na&=sb[Ia]&ob[Ia])if(Na&=ab[Ia]&lb[Ia]&Ta[Ia]){Wa=0;for(eb=1;!(Na&eb);)Wa+=1,eb<<=1;bb=n[(Ia<<5)+Wa];break}ua[Ja]=bb;0<bb?(V+=1,0===Fa&&(X+=1),M|=N,H|=Ba):0<Fa&&(I+=1);z|=Fa;sa+=1;N>>=1}E[Z>>4]|=H;H?(x|=1<<t,M&1&&(ba|=y.La,H&32768&&(ba|=y.Sa),H&1&&(ba|=y.Ka)),M&32768&&(ba|=y.Oa,H&32768&&(ba|=y.Qa),H&1&&(ba|=y.Ra)),H&32768&&(ba|=y.Ja),H&1&&(ba|=y.Ga),ba&&(0!==(ba&y.Ja)&&(15>t?x|=1<<t+1:
0<B&&0<Z&&(Q[B-1]|=1)),0!==(ba&y.Ga)&&(0<t?x|=1<<t-1:B<ma-1&&Z<R-1&&(Q[B+1]|=32768)),0!==(ba&y.Oa)&&(D|=1<<t),0!==(ba&y.La)&&(la|=1<<t),0!==(ba&y.Qa)&&(15>t?D|=1<<t+1:0<B&&0<Z&&(A[B-1]|=1)),0!==(ba&y.Ra)&&(0<t?D|=1<<t-1:B<ma-1&&Z<R-1&&(A[B+1]|=32768)),0!==(ba&y.Sa)&&(15>t?la|=1<<t+1:0<B&&0<Z&&(K[B-1]|=1)),0!==(ba&y.Ka)&&(0<t?la|=1<<t-1:B<ma-1&&Z<R-1&&(K[B+1]|=32768)))):z&&(J|=1<<t);L[v]|=M}Z+=16;Y+=16}Q[B]|=x;0<v&&(A[B]|=D);v<aa-1&&(K[B]|=la)}else Z+=256,Y+=256;G[B]=J}na+=16;fa+=16}this.dc(E,L,R,
S,P);ea.fill(0);this.ac(ia);for(sa=0;sa<this.m.o.length;sa+=1)this.m.o[sa]=this.m.o[sa]|ja.o[sa]|W.o[sa];this.B=V;this.na=X;this.ga=I};qa.prototype.Tk=function(){var a=this.Rd;var b=a[0],c=a[1],d=a[2],f=a[3],e=a[4],g=a[5],k=a[6],l=this.yb,p=this.Fc,n,q,m,r,u,t=this.ta,v,B=this.V,w,z=this.Y,E,H,L=0,M=0,N=0,V=this.width,X=this.A,I=this.height,R=this.I,P=this.F>>4,S=this.ba;if(0!==(this.counter&1)){var aa=this.P;var ma=this.Pa;var ea=this.h;var ca=this.H;var ia=this.j}else aa=this.h,ma=this.Ua,ea=this.P,
ca=this.j,ia=this.H;B.fill(0);z.fill(0);var oa=0;var ja=oa+16;ia.o.fill(0);for(r=0;r<ca.length;r+=1){var W=0;var na=W+16;var fa=ca[r];var Z=ia[r];var Y=t[r];var pa=0<r?ia[r-1]:S;var Q=r<R-1?ia[r+1]:S;for(u=0;u<P;u+=1){var G=fa[u];var A=0;if(G){var K=Z[u];var O=pa[u];var J=Q[u];for(m=15;0<=m;--m){if(0!==(G&1<<m)){var x=E=w=v=0;var D=oa;for(H=32768;D<ja;){a=0===D?this.ia:aa[D-1];var la=aa[D];var ba=D===this.height-1?this.ia:aa[D+1];var sa=ea[D];var ta=32768;var ka=W;if(0===ka)var ua=n=0;else n=a[ka-
1],ua=la[ka-1];var Ba=ba[ka];for(q=la[ka];ka<na-1;){var Ja=n;n=a[ka];var Fa=ua;ua=q;q=la[ka+1];var Ra=Ba;Ba=ba[ka+1];var Sa=b[ua];var Na=c[n];var Ia=d[q];var ab=f[Ba];Ra=e[Ra];var bb=g[Fa];var kb=k[Ja];var Wa=ua;for(Fa=0;Fa<p;Fa+=1)if(Ja=Sa[Fa]&Na[Fa])if(Ja&=Ia[Fa]&ab[Fa])if(Ja&=Ra[Fa]&bb[Fa]&kb[Fa]){Na=0;for(Ia=1;!(Ja&Ia);)Na+=1,Ia<<=1;Wa=l[(Fa<<5)+Na];break}sa[ka]=Wa;0<Wa?(L+=1,0===ua&&(M+=1),E|=H,w|=ta):0<ua&&(N+=1);v|=ua;ta>>=1;ka+=1}Ja=n;n=a[ka];Fa=ua;ua=q;Ra=Ba;ka===V-1?Ba=q=0:(q=la[ka+1],Ba=
ba[ka+1]);Sa=b[ua];Na=c[n];Ia=d[q];ab=f[Ba];Ra=e[Ra];bb=g[Fa];kb=k[Ja];Wa=ua;for(Fa=0;Fa<p;Fa+=1)if(Ja=Sa[Fa]&Na[Fa])if(Ja&=Ia[Fa]&ab[Fa])if(Ja&=Ra[Fa]&bb[Fa]&kb[Fa]){Na=0;for(Ia=1;!(Ja&Ia);)Na+=1,Ia<<=1;Wa=l[(Fa<<5)+Na];break}sa[ka]=Wa;0<Wa?(L+=1,0===ua&&(M+=1),E|=H,w|=ta):0<ua&&(N+=1);v|=ua;D+=1;H>>=1}B[W>>4]|=w;w?(K|=1<<m,E&1&&(x|=y.La,w&32768&&(x|=y.Sa),w&1&&(x|=y.Ka)),E&32768&&(x|=y.Oa,w&32768&&(x|=y.Qa),w&1&&(x|=y.Ra)),w&32768&&(x|=y.Ja),w&1&&(x|=y.Ga),x&&(0!==(x&y.Ja)&&(15>m?K|=1<<m+1:0<u&&
0<W&&(Z[u-1]|=1)),0!==(x&y.Ga)&&(0<m?K|=1<<m-1:u<P-1&&W<V-1&&(Z[u+1]|=32768)),0!==(x&y.Oa)&&(O|=1<<m),0!==(x&y.La)&&(J|=1<<m),0!==(x&y.Qa)&&(15>m?O|=1<<m+1:0<u&&0<W&&(pa[u-1]|=1)),0!==(x&y.Ra)&&(0<m?O|=1<<m-1:u<P-1&&W<V-1&&(pa[u+1]|=32768)),0!==(x&y.Sa)&&(15>m?J|=1<<m+1:0<u&&0<W&&(Q[u-1]|=1)),0!==(x&y.Ka)&&(0<m?J|=1<<m-1:u<P-1&&W<V-1&&(Q[u+1]|=32768)))):v&&(A|=1<<m);z[r]|=E}W+=16;na+=16}Z[u]|=K;0<r&&(pa[u]|=O);r<R-1&&(Q[u]|=J)}else W+=256,na+=256;Y[u]=A}oa+=16;ja+=16}this.dc(B,z,V,I,X);S.fill(0);
this.ac(ma);for(D=0;D<this.m.o.length;D+=1)this.m.o[D]=this.m.o[D]|ca.o[D]|ia.o[D];this.B=L;this.na=M;this.ga=N};qa.prototype.en=function(){var a=performance.now();if(4===this.Sd)if(U.R&&U.ik&&this.view.i)if(null!==this.ua&&this.Db&&-1===this.pb)switch(this.Yc){case 1:va.vC(this.h.o.byteOffset|0,this.P.o.byteOffset|0,this.h[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|0,this.j.o.length|0,this.ta.o.byteOffset|0,this.V.byteOffset|0,this.V.length|0,this.Y.byteOffset|
0,this.Y.length|0,this.ua.byteOffset|0,this.width|0,this.height|0,16,this.I|0,this.F|0,this.ba.byteOffset|0,this.ba.length|0,this.ia.byteOffset|0,this.counter|0,y.Ra|0,y.Oa|0,y.Ka|0,y.La|0,y.Qa|0,y.Sa|0,y.Ja|0,y.Ga|0,this.fa.byteOffset|0);break;case 2:va.wC(this.h.o.byteOffset|0,this.P.o.byteOffset|0,this.h[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|0,this.j.o.length|0,this.ta.o.byteOffset|0,this.V.byteOffset|0,this.V.length|0,this.Y.byteOffset|
0,this.Y.length|0,this.ua.byteOffset|0,this.width|0,this.height|0,16,this.I|0,this.F|0,this.ba.byteOffset|0,this.ba.length|0,this.ia.byteOffset|0,this.counter|0,y.Ra|0,y.Oa|0,y.Ka|0,y.La|0,y.Qa|0,y.Sa|0,y.Ja|0,y.Ga|0,this.fa.byteOffset|0);break;case 3:va.xC(this.h.o.byteOffset|0,this.P.o.byteOffset|0,this.h[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|0,this.j.o.length|0,this.ta.o.byteOffset|0,this.V.byteOffset|0,this.V.length|0,this.Y.byteOffset|
0,this.Y.length|0,this.ua.byteOffset|0,this.width|0,this.height|0,16,this.I|0,this.F|0,this.ba.byteOffset|0,this.ba.length|0,this.ia.byteOffset|0,this.counter|0,y.Ra|0,y.Oa|0,y.Ka|0,y.La|0,y.Qa|0,y.Sa|0,y.Ja|0,y.Ga|0,this.fa.byteOffset|0);break;case 4:va.yC(this.h.o.byteOffset|0,this.P.o.byteOffset|0,this.h[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|0,this.j.o.length|0,this.ta.o.byteOffset|0,this.V.byteOffset|0,this.V.length|0,this.Y.byteOffset|
0,this.Y.length|0,this.ua.byteOffset|0,this.width|0,this.height|0,16,this.I|0,this.F|0,this.ba.byteOffset|0,this.ba.length|0,this.ia.byteOffset|0,this.counter|0,y.Ra|0,y.Oa|0,y.Ka|0,y.La|0,y.Qa|0,y.Sa|0,y.Ja|0,y.Ga|0,this.fa.byteOffset|0);break;case 5:va.zC(this.h.o.byteOffset|0,this.P.o.byteOffset|0,this.h[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|0,this.j.o.length|0,this.ta.o.byteOffset|0,this.V.byteOffset|0,this.V.length|0,this.Y.byteOffset|
0,this.Y.length|0,this.ua.byteOffset|0,this.width|0,this.height|0,16,this.I|0,this.F|0,this.ba.byteOffset|0,this.ba.length|0,this.ia.byteOffset|0,this.counter|0,y.Ra|0,y.Oa|0,y.Ka|0,y.La|0,y.Qa|0,y.Sa|0,y.Ja|0,y.Ga|0,this.fa.byteOffset|0);break;default:va.EC(this.h.o.byteOffset|0,this.P.o.byteOffset|0,this.h[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|0,this.j.o.length|0,this.ta.o.byteOffset|0,this.V.byteOffset|0,this.V.length|0,this.Y.byteOffset|
0,this.Y.length|0,this.pd.byteOffset|0,this.qd.byteOffset|0,this.ge|0,this.width|0,this.height|0,16,this.I|0,this.F|0,this.ba.byteOffset|0,this.ba.length|0,this.ia.byteOffset|0,this.counter|0,y.Ra|0,y.Oa|0,y.Ka|0,y.La|0,y.Qa|0,y.Sa|0,y.Ja|0,y.Ga|0,this.fa.byteOffset|0)}else va.EC(this.h.o.byteOffset|0,this.P.o.byteOffset|0,this.h[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|0,this.j.o.length|0,this.ta.o.byteOffset|0,this.V.byteOffset|0,this.V.length|
0,this.Y.byteOffset|0,this.Y.length|0,this.pd.byteOffset|0,this.qd.byteOffset|0,this.ge|0,this.width|0,this.height|0,16,this.I|0,this.F|0,this.ba.byteOffset|0,this.ba.length|0,this.ia.byteOffset|0,this.counter|0,y.Ra|0,y.Oa|0,y.Ka|0,y.La|0,y.Qa|0,y.Sa|0,y.Ja|0,y.Ga|0,this.fa.byteOffset|0);else if(null!==this.ua&&this.Db&&-1===this.pb)switch(this.Yc){case 1:this.Kk();break;case 2:this.Mk();break;case 3:this.Pk();break;case 4:this.Qk();break;case 5:this.Rk();break;default:this.Ti()}else this.Ti();else if(U.R&&
U.ik&&this.view.i)if(null!==this.ua&&this.Db&&-1===this.pb)switch(this.Yc){case 1:va.sC(this.h.o.byteOffset|0,this.P.o.byteOffset|0,this.h[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|0,this.j.o.length|0,this.ta.o.byteOffset|0,this.V.byteOffset|0,this.V.length|0,this.Y.byteOffset|0,this.Y.length|0,this.ua.byteOffset|0,this.width|0,this.height|0,16,this.I|0,this.F|0,this.ba.byteOffset|0,this.ba.length|0,this.ia.byteOffset|0,this.counter|0,y.Ra|0,y.Oa|
0,y.Ka|0,y.La|0,y.Qa|0,y.Sa|0,y.Ja|0,y.Ga|0,this.fa.byteOffset|0);break;case 2:va.tC(this.h.o.byteOffset|0,this.P.o.byteOffset|0,this.h[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|0,this.j.o.length|0,this.ta.o.byteOffset|0,this.V.byteOffset|0,this.V.length|0,this.Y.byteOffset|0,this.Y.length|0,this.ua.byteOffset|0,this.width|0,this.height|0,16,this.I|0,this.F|0,this.ba.byteOffset|0,this.ba.length|0,this.ia.byteOffset|0,this.counter|0,y.Ra|0,y.Oa|
0,y.Ka|0,y.La|0,y.Qa|0,y.Sa|0,y.Ja|0,y.Ga|0,this.fa.byteOffset|0);break;case 3:va.uC(this.h.o.byteOffset|0,this.P.o.byteOffset|0,this.h[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|0,this.j.o.length|0,this.ta.o.byteOffset|0,this.V.byteOffset|0,this.V.length|0,this.Y.byteOffset|0,this.Y.length|0,this.ua.byteOffset|0,this.width|0,this.height|0,16,this.I|0,this.F|0,this.ba.byteOffset|0,this.ba.length|0,this.ia.byteOffset|0,this.counter|0,y.Ra|0,y.Oa|
0,y.Ka|0,y.La|0,y.Qa|0,y.Sa|0,y.Ja|0,y.Ga|0,this.fa.byteOffset|0);break;default:va.DC(this.h.o.byteOffset|0,this.P.o.byteOffset|0,this.h[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|0,this.j.o.length|0,this.ta.o.byteOffset|0,this.V.byteOffset|0,this.V.length|0,this.Y.byteOffset|0,this.Y.length|0,this.pd.byteOffset|0,this.qd.byteOffset|0,this.ge|0,this.width|0,this.height|0,16,this.I|0,this.F|0,this.ba.byteOffset|0,this.ba.length|0,this.ia.byteOffset|
0,this.counter|0,y.Ra|0,y.Oa|0,y.Ka|0,y.La|0,y.Qa|0,y.Sa|0,y.Ja|0,y.Ga|0,this.fa.byteOffset|0)}else null!==this.Yd&&this.Db?va.QI(this.h.o.byteOffset|0,this.P.o.byteOffset|0,this.h[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|0,this.j.o.length|0,this.ta.o.byteOffset|0,this.V.byteOffset|0,this.V.length|0,this.Y.byteOffset|0,this.Y.length|0,this.pd.byteOffset|0,this.qd.byteOffset|0,this.Yd.byteOffset|0,this.width|0,this.height|0,16,this.I|0,this.F|0,
this.ba.byteOffset|0,this.ba.length|0,this.ia.byteOffset|0,this.counter|0,y.Ra|0,y.Oa|0,y.Ka|0,y.La|0,y.Qa|0,y.Sa|0,y.Ja|0,y.Ga|0,this.fa.byteOffset|0):va.DC(this.h.o.byteOffset|0,this.P.o.byteOffset|0,this.h[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|0,this.j.o.length|0,this.ta.o.byteOffset|0,this.V.byteOffset|0,this.V.length|0,this.Y.byteOffset|0,this.Y.length|0,this.pd.byteOffset|0,this.qd.byteOffset|0,this.ge|0,this.width|0,this.height|0,16,
this.I|0,this.F|0,this.ba.byteOffset|0,this.ba.length|0,this.ia.byteOffset|0,this.counter|0,y.Ra|0,y.Oa|0,y.Ka|0,y.La|0,y.Qa|0,y.Sa|0,y.Ja|0,y.Ga|0,this.fa.byteOffset|0);else if(null!==this.ua&&this.Db&&-1===this.pb)switch(this.Yc){case 1:this.Ik();break;case 2:this.Jk();break;case 3:this.rk();break;default:this.Zk()}else null!==this.Yd&&this.Db?this.fn():this.Zk();U.R&&U.ik&&this.view.i&&(this.B=this.fa[0],this.na=this.fa[1],this.ga=this.fa[2],this.A.J=this.fa[3],this.A.K=this.fa[4],this.A.L=this.fa[5],
this.A.N=this.fa[6]);a=performance.now()-a;U.xb&&this.view.C.h("nextRuleTree",a,U.R&&U.ik&&this.view.i)};qa.prototype.Ti=function(){var a=this.pd,b=this.qd,c=this.ge,d,f,e,g=this.ta,k,l=this.V,p,n=this.Y,q,m,r=0,u=0,t=0,v=this.width,B=this.A,w=this.height,z=this.I,E=this.F>>4,H=this.ba;if(0!==(this.counter&1)){var L=this.P;var M=this.Pa;var N=this.Ua;var V=this.H;var X=this.j}else L=this.h,M=this.Ua,N=this.Pa,V=this.j,X=this.H;l.fill(0);n.fill(0);var I=0;var R=I+16;X.o.fill(0);for(f=0;f<V.length;f+=
1){var P=0;var S=V[f];var aa=X[f];var ma=g[f];var ea=0<f?X[f-1]:H;var ca=f<z-1?X[f+1]:H;for(e=0;e<E;e+=1){var ia=S[e];var oa=0;if(ia){var ja=aa[e];var W=ea[e];var na=ca[e];for(d=15;0<=d;--d){if(0!==(ia&1<<d)){var fa=q=p=k=0;var Z=I;for(m=32768;Z<R;){var Y=0===Z?this.ia:L[Z-1];var pa=L[Z];var Q=Z===this.height-1?this.ia:L[Z+1];var G=N[Z];var A=32768;var K=0;var O=P;var J=0===O?0:pa[O-1];var x=pa[O];var D=J;J=x;var la=Y[O];x=pa[O+1];var ba=Q[O];var sa=la=b[a[a[a[a[c+la]+D]+x]+ba]+J];0<la?(r+=1,0===
J&&(u+=1),K|=A):0<J&&(t+=1);k|=J;A>>=1;O+=1;D=J;J=x;la=Y[O];x=pa[O+1];ba=Q[O];la=b[a[a[a[a[c+la]+D]+x]+ba]+J];sa|=la<<8;0<la?(r+=1,0===J&&(u+=1),K|=A):0<J&&(t+=1);k|=J;A>>=1;O+=1;D=J;J=x;la=Y[O];x=pa[O+1];ba=Q[O];la=b[a[a[a[a[c+la]+D]+x]+ba]+J];sa|=la<<16;0<la?(r+=1,0===J&&(u+=1),K|=A):0<J&&(t+=1);k|=J;A>>=1;O+=1;D=J;J=x;la=Y[O];x=pa[O+1];ba=Q[O];la=b[a[a[a[a[c+la]+D]+x]+ba]+J];sa|=la<<24;G[O>>2]=sa;0<la?(r+=1,0===J&&(u+=1),K|=A):0<J&&(t+=1);k|=J;A>>=1;O+=1;D=J;J=x;la=Y[O];x=pa[O+1];ba=Q[O];sa=la=
b[a[a[a[a[c+la]+D]+x]+ba]+J];0<la?(r+=1,0===J&&(u+=1),K|=A):0<J&&(t+=1);k|=J;A>>=1;O+=1;D=J;J=x;la=Y[O];x=pa[O+1];ba=Q[O];la=b[a[a[a[a[c+la]+D]+x]+ba]+J];sa|=la<<8;0<la?(r+=1,0===J&&(u+=1),K|=A):0<J&&(t+=1);k|=J;A>>=1;O+=1;D=J;J=x;la=Y[O];x=pa[O+1];ba=Q[O];la=b[a[a[a[a[c+la]+D]+x]+ba]+J];sa|=la<<16;0<la?(r+=1,0===J&&(u+=1),K|=A):0<J&&(t+=1);k|=J;A>>=1;O+=1;D=J;J=x;la=Y[O];x=pa[O+1];ba=Q[O];la=b[a[a[a[a[c+la]+D]+x]+ba]+J];sa|=la<<24;G[O>>2]=sa;0<la?(r+=1,0===J&&(u+=1),K|=A):0<J&&(t+=1);k|=J;A>>=1;
O+=1;D=J;J=x;la=Y[O];x=pa[O+1];ba=Q[O];sa=la=b[a[a[a[a[c+la]+D]+x]+ba]+J];0<la?(r+=1,0===J&&(u+=1),K|=A):0<J&&(t+=1);k|=J;A>>=1;O+=1;D=J;J=x;la=Y[O];x=pa[O+1];ba=Q[O];la=b[a[a[a[a[c+la]+D]+x]+ba]+J];sa|=la<<8;0<la?(r+=1,0===J&&(u+=1),K|=A):0<J&&(t+=1);k|=J;A>>=1;O+=1;D=J;J=x;la=Y[O];x=pa[O+1];ba=Q[O];la=b[a[a[a[a[c+la]+D]+x]+ba]+J];sa|=la<<16;0<la?(r+=1,0===J&&(u+=1),K|=A):0<J&&(t+=1);k|=J;A>>=1;O+=1;D=J;J=x;la=Y[O];x=pa[O+1];ba=Q[O];la=b[a[a[a[a[c+la]+D]+x]+ba]+J];sa|=la<<24;G[O>>2]=sa;0<la?(r+=
1,0===J&&(u+=1),K|=A):0<J&&(t+=1);k|=J;A>>=1;O+=1;D=J;J=x;la=Y[O];x=pa[O+1];ba=Q[O];sa=la=b[a[a[a[a[c+la]+D]+x]+ba]+J];0<la?(r+=1,0===J&&(u+=1),K|=A):0<J&&(t+=1);k|=J;A>>=1;O+=1;D=J;J=x;la=Y[O];x=pa[O+1];ba=Q[O];la=b[a[a[a[a[c+la]+D]+x]+ba]+J];sa|=la<<8;0<la?(r+=1,0===J&&(u+=1),K|=A):0<J&&(t+=1);k|=J;A>>=1;O+=1;D=J;J=x;la=Y[O];x=pa[O+1];ba=Q[O];la=b[a[a[a[a[c+la]+D]+x]+ba]+J];sa|=la<<16;0<la?(r+=1,0===J&&(u+=1),K|=A):0<J&&(t+=1);k|=J;A>>=1;O+=1;D=J;J=x;la=Y[O];x=O===v-1?0:pa[O+1];ba=Q[O];la=b[a[a[a[a[c+
la]+D]+x]+ba]+J];sa|=la<<24;G[O>>2]=sa;0<la?(r+=1,0===J&&(u+=1),K|=A):0<J&&(t+=1);k|=J;K&&(p|=K,q|=m);Z+=1;m>>=1}l[P>>4]|=p;p?(ja|=1<<d,q&1&&(fa|=y.La,p&32768&&(fa|=y.Sa),p&1&&(fa|=y.Ka)),q&32768&&(fa|=y.Oa,p&32768&&(fa|=y.Qa),p&1&&(fa|=y.Ra)),p&32768&&(fa|=y.Ja),p&1&&(fa|=y.Ga),fa&&(0!==(fa&y.Ja)&&(15>d?ja|=1<<d+1:0<e&&0<P&&(aa[e-1]|=1)),0!==(fa&y.Ga)&&(0<d?ja|=1<<d-1:e<E-1&&P<v-1&&(aa[e+1]|=32768)),0!==(fa&y.Oa)&&(W|=1<<d),0!==(fa&y.La)&&(na|=1<<d),0!==(fa&y.Qa)&&(15>d?W|=1<<d+1:0<e&&0<P&&(ea[e-
1]|=1)),0!==(fa&y.Ra)&&(0<d?W|=1<<d-1:e<E-1&&P<v-1&&(ea[e+1]|=32768)),0!==(fa&y.Sa)&&(15>d?na|=1<<d+1:0<e&&0<P&&(ca[e-1]|=1)),0!==(fa&y.Ka)&&(0<d?na|=1<<d-1:e<E-1&&P<v-1&&(ca[e+1]|=32768)))):k&&(oa|=1<<d);n[f]|=q}P+=16}aa[e]|=ja;0<f&&(ea[e]|=W);f<z-1&&(ca[e]|=na)}else P+=256;ma[e]=oa}I+=16;R+=16}this.dc(l,n,v,w,B);H.fill(0);this.ac(M);for(Z=0;Z<this.m.o.length;Z+=1)this.m.o[Z]=this.m.o[Z]|V.o[Z]|X.o[Z];this.B=r;this.na=u;this.ga=t};qa.prototype.Yo=function(){var a="MAP",b=this.Rd,c=this.yb,d=this.Fc,
f,e=0;switch(this.od){case Da.ah:var g=b[0];var k=b[1];var l=b[2];var p=b[3];var n=b[4];var q=b[5];var m=b[6];var r=b[7];b=b[8];for(f=0;512>f;f+=1){var u=(f&256)>>8;var t=(f&128)>>7;var v=(f&64)>>6;var B=(f&32)>>5;var w=(f&16)>>4;var z=(f&8)>>3;var E=(f&4)>>2;var H=(f&2)>>1;var L=f&1;var M=w;w=g[w];t=k[t];v=l[v];z=p[z];L=n[L];H=q[H];E=m[E];var N=r[B];var V=b[u];for(B=0;B<d;B+=1)if(u=w[B]&t[B])if(u&=v[B]&z[B])if(u&=L[B]&H[B])if(u&=E[B]&N[B]&V[B]){M=0;for(w=1;!(u&w);)M+=1,w<<=1;M=c[(B<<5)+M];break}e=
e<<1|M&1;5===f%6&&(a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e],e=0)}a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e<<6-f%6];break;case Da.xj:g=b[0];k=b[1];l=b[2];p=b[3];n=b[4];for(f=0;32>f;f+=1){t=(f&16)>>4;B=(f&8)>>3;w=(f&4)>>2;z=(f&2)>>1;H=f&1;M=w;w=g[w];t=k[t];z=l[z];H=p[H];N=n[B];for(B=0;B<d;B+=1)if(u=w[B]&t[B])if(u&=z[B]&H[B]&N[B]){M=0;for(w=1;!(u&w);)M+=1,w<<=1;M=c[(B<<5)+M];break}e=e<<1|M&1;5===f%6&&(a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e],
e=0)}a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e<<6-f%6];break;case Da.$g:g=b[0];k=b[1];l=b[2];p=b[3];n=b[4];q=b[5];m=b[6];for(f=0;128>f;f+=1){H=(f&64)>>6;L=(f&32)>>5;B=(f&16)>>4;w=(f&8)>>3;z=(f&4)>>2;u=(f&2)>>1;t=f&1;M=w;w=g[w];t=k[t];z=l[z];L=p[L];H=n[H];N=q[B];V=m[u];for(B=0;B<d;B+=1)if(u=w[B]&t[B])if(u&=z[B]&L[B])if(u&=H[B]&N[B]&V[B]){M=0;for(w=1;!(u&w);)M+=1,w<<=1;M=c[(B<<5)+M];break}e=e<<1|M&1;5===f%6&&(a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e],
e=0)}a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e<<6-f%6]}return a};qa.prototype.ap=function(){var a="MAP",b=this.pd,c=this.qd,d=this.ge,f,e=0;if(8===this.Sd)for(f=0;512>f;f+=1){var g=(f&256)>>8;var k=(f&128)>>7;var l=(f&64)>>6;var p=(f&32)>>5;var n=(f&16)>>4;var q=(f&8)>>3;var m=(f&4)>>2;var r=(f&2)>>1;var u=f&1;k=c[b[b[b[b[b[b[b[b[d+g]+l]+m]+u]+k]+p]+q]+r]+n];e=e<<1|k&1;5===f%6&&(a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e],e=0)}else for(f=
0;32>f;f+=1)k=(f&16)>>4,p=(f&8)>>3,n=(f&4)>>2,q=(f&2)>>1,r=f&1,k=c[b[b[b[b[d+k]+p]+q]+r]+n],e=e<<1|k&1,5===f%6&&(a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e],e=0);return a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e<<6-f%6]};qa.prototype.Uo=function(){return null===this.yb?this.ap():this.Yo()};qa.prototype.fn=function(){var a=this.pd,b=this.qd,c=this.Yd,d,f,e,g,k,l=this.ta,p,n=this.V,q,m=this.Y,r,u,t=0,v=0,B=0,w=this.width,z=this.A,E=this.height,
H=this.I,L=this.F>>4,M=this.ba;if(0!==(this.counter&1)){var N=this.P;var V=this.Pa;var X=this.h;var I=this.H;var R=this.j}else N=this.h,V=this.Ua,X=this.P,I=this.j,R=this.H;n.fill(0);m.fill(0);var P=0;var S=P+16;R.o.fill(0);for(g=0;g<I.length;g+=1){var aa=0;var ma=I[g];var ea=R[g];var ca=l[g];var ia=0<g?R[g-1]:M;var oa=g<H-1?R[g+1]:M;for(k=0;k<L;k+=1){var ja=ma[k];var W=0;if(ja){var na=ea[k];var fa=ia[k];var Z=oa[k];for(e=15;0<=e;--e){if(0!==(ja&1<<e)){var Y=r=q=p=0;var pa=P;for(u=32768;pa<S;){var Q=
0===pa?this.ia:N[pa-1];var G=N[pa];var A=pa===this.height-1?this.ia:N[pa+1];var K=X[pa];var O=32768;var J=0;var x=aa;if(0===x)var D=f=d=0;else d=Q[x-1],f=A[x-1],D=G[x-1];var la=Q[x];var ba=A[x];var sa=G[x];var ta=d;d=la;la=Q[x+1];var ka=D;D=sa;sa=G[x+1];var ua=f;f=ba;ba=A[x+1];ka=ka|d<<4|ba<<8|ua<<12|la<<16|ta<<20;ka=b[a[a[c[ka]+sa]+f]+D];K[x]=ka;0<ka?(t+=1,0===D&&(v+=1),J|=O):0<D&&(B+=1);p|=D;O>>=1;x+=1;ta=d;d=la;la=Q[x+1];ka=D;D=sa;sa=G[x+1];ua=f;f=ba;ba=A[x+1];ka=ka|d<<4|ba<<8|ua<<12|la<<16|ta<<
20;ka=b[a[a[c[ka]+sa]+f]+D];K[x]=ka;0<ka?(t+=1,0===D&&(v+=1),J|=O):0<D&&(B+=1);p|=D;O>>=1;x+=1;ta=d;d=la;la=Q[x+1];ka=D;D=sa;sa=G[x+1];ua=f;f=ba;ba=A[x+1];ka=ka|d<<4|ba<<8|ua<<12|la<<16|ta<<20;ka=b[a[a[c[ka]+sa]+f]+D];K[x]=ka;0<ka?(t+=1,0===D&&(v+=1),J|=O):0<D&&(B+=1);p|=D;O>>=1;x+=1;ta=d;d=la;la=Q[x+1];ka=D;D=sa;sa=G[x+1];ua=f;f=ba;ba=A[x+1];ka=ka|d<<4|ba<<8|ua<<12|la<<16|ta<<20;ka=b[a[a[c[ka]+sa]+f]+D];K[x]=ka;0<ka?(t+=1,0===D&&(v+=1),J|=O):0<D&&(B+=1);p|=D;O>>=1;x+=1;ta=d;d=la;la=Q[x+1];ka=D;D=
sa;sa=G[x+1];ua=f;f=ba;ba=A[x+1];ka=ka|d<<4|ba<<8|ua<<12|la<<16|ta<<20;ka=b[a[a[c[ka]+sa]+f]+D];K[x]=ka;0<ka?(t+=1,0===D&&(v+=1),J|=O):0<D&&(B+=1);p|=D;O>>=1;x+=1;ta=d;d=la;la=Q[x+1];ka=D;D=sa;sa=G[x+1];ua=f;f=ba;ba=A[x+1];ka=ka|d<<4|ba<<8|ua<<12|la<<16|ta<<20;ka=b[a[a[c[ka]+sa]+f]+D];K[x]=ka;0<ka?(t+=1,0===D&&(v+=1),J|=O):0<D&&(B+=1);p|=D;O>>=1;x+=1;ta=d;d=la;la=Q[x+1];ka=D;D=sa;sa=G[x+1];ua=f;f=ba;ba=A[x+1];ka=ka|d<<4|ba<<8|ua<<12|la<<16|ta<<20;ka=b[a[a[c[ka]+sa]+f]+D];K[x]=ka;0<ka?(t+=1,0===D&&
(v+=1),J|=O):0<D&&(B+=1);p|=D;O>>=1;x+=1;ta=d;d=la;la=Q[x+1];ka=D;D=sa;sa=G[x+1];ua=f;f=ba;ba=A[x+1];ka=ka|d<<4|ba<<8|ua<<12|la<<16|ta<<20;ka=b[a[a[c[ka]+sa]+f]+D];K[x]=ka;0<ka?(t+=1,0===D&&(v+=1),J|=O):0<D&&(B+=1);p|=D;O>>=1;x+=1;ta=d;d=la;la=Q[x+1];ka=D;D=sa;sa=G[x+1];ua=f;f=ba;ba=A[x+1];ka=ka|d<<4|ba<<8|ua<<12|la<<16|ta<<20;ka=b[a[a[c[ka]+sa]+f]+D];K[x]=ka;0<ka?(t+=1,0===D&&(v+=1),J|=O):0<D&&(B+=1);p|=D;O>>=1;x+=1;ta=d;d=la;la=Q[x+1];ka=D;D=sa;sa=G[x+1];ua=f;f=ba;ba=A[x+1];ka=ka|d<<4|ba<<8|ua<<
12|la<<16|ta<<20;ka=b[a[a[c[ka]+sa]+f]+D];K[x]=ka;0<ka?(t+=1,0===D&&(v+=1),J|=O):0<D&&(B+=1);p|=D;O>>=1;x+=1;ta=d;d=la;la=Q[x+1];ka=D;D=sa;sa=G[x+1];ua=f;f=ba;ba=A[x+1];ka=ka|d<<4|ba<<8|ua<<12|la<<16|ta<<20;ka=b[a[a[c[ka]+sa]+f]+D];K[x]=ka;0<ka?(t+=1,0===D&&(v+=1),J|=O):0<D&&(B+=1);p|=D;O>>=1;x+=1;ta=d;d=la;la=Q[x+1];ka=D;D=sa;sa=G[x+1];ua=f;f=ba;ba=A[x+1];ka=ka|d<<4|ba<<8|ua<<12|la<<16|ta<<20;ka=b[a[a[c[ka]+sa]+f]+D];K[x]=ka;0<ka?(t+=1,0===D&&(v+=1),J|=O):0<D&&(B+=1);p|=D;O>>=1;x+=1;ta=d;d=la;la=
Q[x+1];ka=D;D=sa;sa=G[x+1];ua=f;f=ba;ba=A[x+1];ka=ka|d<<4|ba<<8|ua<<12|la<<16|ta<<20;ka=b[a[a[c[ka]+sa]+f]+D];K[x]=ka;0<ka?(t+=1,0===D&&(v+=1),J|=O):0<D&&(B+=1);p|=D;O>>=1;x+=1;ta=d;d=la;la=Q[x+1];ka=D;D=sa;sa=G[x+1];ua=f;f=ba;ba=A[x+1];ka=ka|d<<4|ba<<8|ua<<12|la<<16|ta<<20;ka=b[a[a[c[ka]+sa]+f]+D];K[x]=ka;0<ka?(t+=1,0===D&&(v+=1),J|=O):0<D&&(B+=1);p|=D;O>>=1;x+=1;ta=d;d=la;la=Q[x+1];ka=D;D=sa;sa=G[x+1];ua=f;f=ba;ba=A[x+1];ka=ka|d<<4|ba<<8|ua<<12|la<<16|ta<<20;ka=b[a[a[c[ka]+sa]+f]+D];K[x]=ka;0<ka?
(t+=1,0===D&&(v+=1),J|=O):0<D&&(B+=1);p|=D;O>>=1;x+=1;ta=d;d=la;ka=D;D=sa;ua=f;f=ba;x===w-1?ba=sa=la=0:(la=Q[x+1],sa=G[x+1],ba=A[x+1]);ka=ka|d<<4|ba<<8|ua<<12|la<<16|ta<<20;ka=b[a[a[c[ka]+sa]+f]+D];K[x]=ka;0<ka?(t+=1,0===D&&(v+=1),J|=O):0<D&&(B+=1);p|=D;J&&(q|=J,r|=u);pa+=1;u>>=1}n[aa>>4]|=q;q?(na|=1<<e,r&1&&(Y|=y.La,q&32768&&(Y|=y.Sa),q&1&&(Y|=y.Ka)),r&32768&&(Y|=y.Oa,q&32768&&(Y|=y.Qa),q&1&&(Y|=y.Ra)),q&32768&&(Y|=y.Ja),q&1&&(Y|=y.Ga),Y&&(0!==(Y&y.Ja)&&(15>e?na|=1<<e+1:0<k&&0<aa&&(ea[k-1]|=1)),
0!==(Y&y.Ga)&&(0<e?na|=1<<e-1:k<L-1&&aa<w-1&&(ea[k+1]|=32768)),0!==(Y&y.Oa)&&(fa|=1<<e),0!==(Y&y.La)&&(Z|=1<<e),0!==(Y&y.Qa)&&(15>e?fa|=1<<e+1:0<k&&0<aa&&(ia[k-1]|=1)),0!==(Y&y.Ra)&&(0<e?fa|=1<<e-1:k<L-1&&aa<w-1&&(ia[k+1]|=32768)),0!==(Y&y.Sa)&&(15>e?Z|=1<<e+1:0<k&&0<aa&&(oa[k-1]|=1)),0!==(Y&y.Ka)&&(0<e?Z|=1<<e-1:k<L-1&&aa<w-1&&(oa[k+1]|=32768)))):p&&(W|=1<<e);m[g]|=r}aa+=16}ea[k]|=na;0<g&&(ia[k]|=fa);g<H-1&&(oa[k]|=Z)}else aa+=256;ca[k]=W}P+=16;S+=16}this.dc(n,m,w,E,z);M.fill(0);this.ac(V);for(pa=
0;pa<this.m.o.length;pa+=1)this.m.o[pa]=this.m.o[pa]|I.o[pa]|R.o[pa];this.B=t;this.na=v;this.ga=B};qa.prototype.Zk=function(){var a=this.pd,b=this.qd,c=this.ge,d,f,e,g,k,l=this.ta,p,n=this.V,q,m=this.Y,r,u,t=0,v=0,B=0,w=this.width,z=this.A,E=this.height,H=this.I,L=this.F>>4,M=this.ba;if(0!==(this.counter&1)){var N=this.P;var V=this.Pa;var X=this.h;var I=this.H;var R=this.j}else N=this.h,V=this.Ua,X=this.P,I=this.j,R=this.H;n.fill(0);m.fill(0);var P=0;var S=P+16;R.o.fill(0);for(g=0;g<I.length;g+=1){var aa=
0;var ma=I[g];var ea=R[g];var ca=l[g];var ia=0<g?R[g-1]:M;var oa=g<H-1?R[g+1]:M;for(k=0;k<L;k+=1){var ja=ma[k];var W=0;if(ja){var na=ea[k];var fa=ia[k];var Z=oa[k];for(e=15;0<=e;--e){if(0!==(ja&1<<e)){var Y=r=q=p=0;var pa=P;for(u=32768;pa<S;){var Q=0===pa?this.ia:N[pa-1];var G=N[pa];var A=pa===this.height-1?this.ia:N[pa+1];var K=X[pa];var O=32768;var J=0;var x=aa;if(0===x)var D=f=d=0;else d=Q[x-1],f=A[x-1],D=G[x-1];var la=Q[x];var ba=A[x];var sa=G[x];var ta=d;d=la;la=Q[x+1];var ka=D;D=sa;sa=G[x+1];
var ua=f;f=ba;ba=A[x+1];ka=b[a[a[a[a[a[a[a[a[c+ta]+la]+ua]+ba]+d]+ka]+sa]+f]+D];K[x]=ka;0<ka?(t+=1,0===D&&(v+=1),J|=O):0<D&&(B+=1);p|=D;O>>=1;x+=1;ta=d;d=la;la=Q[x+1];ka=D;D=sa;sa=G[x+1];ua=f;f=ba;ba=A[x+1];ka=b[a[a[a[a[a[a[a[a[c+ta]+la]+ua]+ba]+d]+ka]+sa]+f]+D];K[x]=ka;0<ka?(t+=1,0===D&&(v+=1),J|=O):0<D&&(B+=1);p|=D;O>>=1;x+=1;ta=d;d=la;la=Q[x+1];ka=D;D=sa;sa=G[x+1];ua=f;f=ba;ba=A[x+1];ka=b[a[a[a[a[a[a[a[a[c+ta]+la]+ua]+ba]+d]+ka]+sa]+f]+D];K[x]=ka;0<ka?(t+=1,0===D&&(v+=1),J|=O):0<D&&(B+=1);p|=D;
O>>=1;x+=1;ta=d;d=la;la=Q[x+1];ka=D;D=sa;sa=G[x+1];ua=f;f=ba;ba=A[x+1];ka=b[a[a[a[a[a[a[a[a[c+ta]+la]+ua]+ba]+d]+ka]+sa]+f]+D];K[x]=ka;0<ka?(t+=1,0===D&&(v+=1),J|=O):0<D&&(B+=1);p|=D;O>>=1;x+=1;ta=d;d=la;la=Q[x+1];ka=D;D=sa;sa=G[x+1];ua=f;f=ba;ba=A[x+1];ka=b[a[a[a[a[a[a[a[a[c+ta]+la]+ua]+ba]+d]+ka]+sa]+f]+D];K[x]=ka;0<ka?(t+=1,0===D&&(v+=1),J|=O):0<D&&(B+=1);p|=D;O>>=1;x+=1;ta=d;d=la;la=Q[x+1];ka=D;D=sa;sa=G[x+1];ua=f;f=ba;ba=A[x+1];ka=b[a[a[a[a[a[a[a[a[c+ta]+la]+ua]+ba]+d]+ka]+sa]+f]+D];K[x]=ka;
0<ka?(t+=1,0===D&&(v+=1),J|=O):0<D&&(B+=1);p|=D;O>>=1;x+=1;ta=d;d=la;la=Q[x+1];ka=D;D=sa;sa=G[x+1];ua=f;f=ba;ba=A[x+1];ka=b[a[a[a[a[a[a[a[a[c+ta]+la]+ua]+ba]+d]+ka]+sa]+f]+D];K[x]=ka;0<ka?(t+=1,0===D&&(v+=1),J|=O):0<D&&(B+=1);p|=D;O>>=1;x+=1;ta=d;d=la;la=Q[x+1];ka=D;D=sa;sa=G[x+1];ua=f;f=ba;ba=A[x+1];ka=b[a[a[a[a[a[a[a[a[c+ta]+la]+ua]+ba]+d]+ka]+sa]+f]+D];K[x]=ka;0<ka?(t+=1,0===D&&(v+=1),J|=O):0<D&&(B+=1);p|=D;O>>=1;x+=1;ta=d;d=la;la=Q[x+1];ka=D;D=sa;sa=G[x+1];ua=f;f=ba;ba=A[x+1];ka=b[a[a[a[a[a[a[a[a[c+
ta]+la]+ua]+ba]+d]+ka]+sa]+f]+D];K[x]=ka;0<ka?(t+=1,0===D&&(v+=1),J|=O):0<D&&(B+=1);p|=D;O>>=1;x+=1;ta=d;d=la;la=Q[x+1];ka=D;D=sa;sa=G[x+1];ua=f;f=ba;ba=A[x+1];ka=b[a[a[a[a[a[a[a[a[c+ta]+la]+ua]+ba]+d]+ka]+sa]+f]+D];K[x]=ka;0<ka?(t+=1,0===D&&(v+=1),J|=O):0<D&&(B+=1);p|=D;O>>=1;x+=1;ta=d;d=la;la=Q[x+1];ka=D;D=sa;sa=G[x+1];ua=f;f=ba;ba=A[x+1];ka=b[a[a[a[a[a[a[a[a[c+ta]+la]+ua]+ba]+d]+ka]+sa]+f]+D];K[x]=ka;0<ka?(t+=1,0===D&&(v+=1),J|=O):0<D&&(B+=1);p|=D;O>>=1;x+=1;ta=d;d=la;la=Q[x+1];ka=D;D=sa;sa=G[x+
1];ua=f;f=ba;ba=A[x+1];ka=b[a[a[a[a[a[a[a[a[c+ta]+la]+ua]+ba]+d]+ka]+sa]+f]+D];K[x]=ka;0<ka?(t+=1,0===D&&(v+=1),J|=O):0<D&&(B+=1);p|=D;O>>=1;x+=1;ta=d;d=la;la=Q[x+1];ka=D;D=sa;sa=G[x+1];ua=f;f=ba;ba=A[x+1];ka=b[a[a[a[a[a[a[a[a[c+ta]+la]+ua]+ba]+d]+ka]+sa]+f]+D];K[x]=ka;0<ka?(t+=1,0===D&&(v+=1),J|=O):0<D&&(B+=1);p|=D;O>>=1;x+=1;ta=d;d=la;la=Q[x+1];ka=D;D=sa;sa=G[x+1];ua=f;f=ba;ba=A[x+1];ka=b[a[a[a[a[a[a[a[a[c+ta]+la]+ua]+ba]+d]+ka]+sa]+f]+D];K[x]=ka;0<ka?(t+=1,0===D&&(v+=1),J|=O):0<D&&(B+=1);p|=D;
O>>=1;x+=1;ta=d;d=la;la=Q[x+1];ka=D;D=sa;sa=G[x+1];ua=f;f=ba;ba=A[x+1];ka=b[a[a[a[a[a[a[a[a[c+ta]+la]+ua]+ba]+d]+ka]+sa]+f]+D];K[x]=ka;0<ka?(t+=1,0===D&&(v+=1),J|=O):0<D&&(B+=1);p|=D;O>>=1;x+=1;ta=d;d=la;ka=D;D=sa;ua=f;f=ba;x===w-1?ba=sa=la=0:(la=Q[x+1],sa=G[x+1],ba=A[x+1]);ka=b[a[a[a[a[a[a[a[a[c+ta]+la]+ua]+ba]+d]+ka]+sa]+f]+D];K[x]=ka;0<ka?(t+=1,0===D&&(v+=1),J|=O):0<D&&(B+=1);p|=D;J&&(q|=J,r|=u);pa+=1;u>>=1}n[aa>>4]|=q;q?(na|=1<<e,r&1&&(Y|=y.La,q&32768&&(Y|=y.Sa),q&1&&(Y|=y.Ka)),r&32768&&(Y|=y.Oa,
q&32768&&(Y|=y.Qa),q&1&&(Y|=y.Ra)),q&32768&&(Y|=y.Ja),q&1&&(Y|=y.Ga),Y&&(0!==(Y&y.Ja)&&(15>e?na|=1<<e+1:0<k&&0<aa&&(ea[k-1]|=1)),0!==(Y&y.Ga)&&(0<e?na|=1<<e-1:k<L-1&&aa<w-1&&(ea[k+1]|=32768)),0!==(Y&y.Oa)&&(fa|=1<<e),0!==(Y&y.La)&&(Z|=1<<e),0!==(Y&y.Qa)&&(15>e?fa|=1<<e+1:0<k&&0<aa&&(ia[k-1]|=1)),0!==(Y&y.Ra)&&(0<e?fa|=1<<e-1:k<L-1&&aa<w-1&&(ia[k+1]|=32768)),0!==(Y&y.Sa)&&(15>e?Z|=1<<e+1:0<k&&0<aa&&(oa[k-1]|=1)),0!==(Y&y.Ka)&&(0<e?Z|=1<<e-1:k<L-1&&aa<w-1&&(oa[k+1]|=32768)))):p&&(W|=1<<e);m[g]|=r}aa+=
16}ea[k]|=na;0<g&&(ia[k]|=fa);g<H-1&&(oa[k]|=Z)}else aa+=256;ca[k]=W}P+=16;S+=16}this.dc(n,m,w,E,z);M.fill(0);this.ac(V);for(pa=0;pa<this.m.o.length;pa+=1)this.m.o[pa]=this.m.o[pa]|I.o[pa]|R.o[pa];this.B=t;this.na=v;this.ga=B};qa.prototype.wp=function(){var a=this.ua,b,c,d,f=this.ta,e,g=this.V,k,l=this.Y,p,n,q=0,m=0,r=0,u=this.width,t=this.A,v=this.height,B=this.I,w=this.F>>4,z=this.ba;if(0!==(this.counter&1)){var E=this.P;var H=this.Pa;var L=this.Ua;var M=this.H;var N=this.j}else E=this.h,H=this.Ua,
L=this.Pa,M=this.j,N=this.H;g.fill(0);l.fill(0);var V=0;var X=V+16;N.o.fill(0);for(c=0;c<M.length;c+=1){var I=0;var R=M[c];var P=N[c];var S=f[c];var aa=0<c?N[c-1]:z;var ma=c<B-1?N[c+1]:z;for(d=0;d<w;d+=1){var ea=R[d];var ca=0;if(ea){var ia=P[d];var oa=aa[d];var ja=ma[d];for(b=15;0<=b;--b){if(0!==(ea&1<<b)){var W=p=k=e=0;var na=V;for(n=32768;na<X;){var fa=0===na?this.ia:E[na-1];var Z=E[na];var Y=na===this.height-1?this.ia:E[na+1];var pa=L[na];var Q=32768;var G=I;var A=Z[G+1];var K=Y[G+1];var O=fa[G];
var J=Z[G];var x=Y[G];var D=0===G?J|x<<1|A<<2|O<<4|K<<5:fa[G-1]<<6|Z[G-1]<<3|J|x<<1|A<<2|O<<4|K<<5;var la=a[D];0<la?(q+=1,0===(D&1)&&(m+=1),p|=n,k|=Q):0!==(D&1)&&(r+=1);e|=J;Q>>=1;G+=1;D=O;O=fa[G];var ba=J;J=A;A=Z[G+1];x=K;K=Y[G+1];D=J|x<<1|A<<2|ba<<3|O<<4|K<<5|D<<6;x=a[D];la|=x<<8;0<x?(q+=1,0===(D&1)&&(m+=1),p|=n,k|=Q):0!==(D&1)&&(r+=1);e|=J;Q>>=1;G+=1;D=O;O=fa[G];ba=J;J=A;A=Z[G+1];x=K;K=Y[G+1];D=J|x<<1|A<<2|ba<<3|O<<4|K<<5|D<<6;x=a[D];la|=x<<16;0<x?(q+=1,0===(D&1)&&(m+=1),p|=n,k|=Q):0!==(D&1)&&
(r+=1);e|=J;Q>>=1;G+=1;D=O;O=fa[G];ba=J;J=A;A=Z[G+1];x=K;K=Y[G+1];D=J|x<<1|A<<2|ba<<3|O<<4|K<<5|D<<6;x=a[D];la|=x<<24;pa[G>>2]=la;0<x?(q+=1,0===(D&1)&&(m+=1),p|=n,k|=Q):0!==(D&1)&&(r+=1);e|=J;Q>>=1;G+=1;D=O;O=fa[G];ba=J;J=A;A=Z[G+1];x=K;K=Y[G+1];D=J|x<<1|A<<2|ba<<3|O<<4|K<<5|D<<6;la=a[D];0<la?(q+=1,0===(D&1)&&(m+=1),p|=n,k|=Q):0!==(D&1)&&(r+=1);e|=J;Q>>=1;G+=1;D=O;O=fa[G];ba=J;J=A;A=Z[G+1];x=K;K=Y[G+1];D=J|x<<1|A<<2|ba<<3|O<<4|K<<5|D<<6;x=a[D];la|=x<<8;0<x?(q+=1,0===(D&1)&&(m+=1),p|=n,k|=Q):0!==(D&
1)&&(r+=1);e|=J;Q>>=1;G+=1;D=O;O=fa[G];ba=J;J=A;A=Z[G+1];x=K;K=Y[G+1];D=J|x<<1|A<<2|ba<<3|O<<4|K<<5|D<<6;x=a[D];la|=x<<16;0<x?(q+=1,0===(D&1)&&(m+=1),p|=n,k|=Q):0!==(D&1)&&(r+=1);e|=J;Q>>=1;G+=1;D=O;O=fa[G];ba=J;J=A;A=Z[G+1];x=K;K=Y[G+1];D=J|x<<1|A<<2|ba<<3|O<<4|K<<5|D<<6;x=a[D];la|=x<<24;pa[G>>2]=la;0<x?(q+=1,0===(D&1)&&(m+=1),p|=n,k|=Q):0!==(D&1)&&(r+=1);e|=J;Q>>=1;G+=1;D=O;O=fa[G];ba=J;J=A;A=Z[G+1];x=K;K=Y[G+1];D=J|x<<1|A<<2|ba<<3|O<<4|K<<5|D<<6;la=a[D];0<la?(q+=1,0===(D&1)&&(m+=1),p|=n,k|=Q):
0!==(D&1)&&(r+=1);e|=J;Q>>=1;G+=1;D=O;O=fa[G];ba=J;J=A;A=Z[G+1];x=K;K=Y[G+1];D=J|x<<1|A<<2|ba<<3|O<<4|K<<5|D<<6;x=a[D];la|=x<<8;0<x?(q+=1,0===(D&1)&&(m+=1),p|=n,k|=Q):0!==(D&1)&&(r+=1);e|=J;Q>>=1;G+=1;D=O;O=fa[G];ba=J;J=A;A=Z[G+1];x=K;K=Y[G+1];D=J|x<<1|A<<2|ba<<3|O<<4|K<<5|D<<6;x=a[D];la|=x<<16;0<x?(q+=1,0===(D&1)&&(m+=1),p|=n,k|=Q):0!==(D&1)&&(r+=1);e|=J;Q>>=1;G+=1;D=O;O=fa[G];ba=J;J=A;A=Z[G+1];x=K;K=Y[G+1];D=J|x<<1|A<<2|ba<<3|O<<4|K<<5|D<<6;x=a[D];la|=x<<24;pa[G>>2]=la;0<x?(q+=1,0===(D&1)&&(m+=
1),p|=n,k|=Q):0!==(D&1)&&(r+=1);e|=J;Q>>=1;G+=1;D=O;O=fa[G];ba=J;J=A;A=Z[G+1];x=K;K=Y[G+1];D=J|x<<1|A<<2|ba<<3|O<<4|K<<5|D<<6;la=a[D];0<la?(q+=1,0===(D&1)&&(m+=1),p|=n,k|=Q):0!==(D&1)&&(r+=1);e|=J;Q>>=1;G+=1;D=O;O=fa[G];ba=J;J=A;A=Z[G+1];x=K;K=Y[G+1];D=J|x<<1|A<<2|ba<<3|O<<4|K<<5|D<<6;x=a[D];la|=x<<8;0<x?(q+=1,0===(D&1)&&(m+=1),p|=n,k|=Q):0!==(D&1)&&(r+=1);e|=J;Q>>=1;G+=1;D=O;O=fa[G];ba=J;J=A;A=Z[G+1];x=K;K=Y[G+1];D=J|x<<1|A<<2|ba<<3|O<<4|K<<5|D<<6;x=a[D];la|=x<<16;0<x?(q+=1,0===(D&1)&&(m+=1),p|=
n,k|=Q):0!==(D&1)&&(r+=1);e|=J;Q>>=1;G+=1;D=O;O=fa[G];ba=J;J=A;x=K;G===u-1?K=A=0:(A=Z[G+1],K=Y[G+1]);D=J|x<<1|A<<2|ba<<3|O<<4|K<<5|D<<6;x=a[D];la|=x<<24;pa[G>>2]=la;0<x?(q+=1,0===(D&1)&&(m+=1),p|=n,k|=Q):0!==(D&1)&&(r+=1);e|=J;na+=1;n>>=1}g[I>>4]|=k;k?(ia|=1<<b,p&1&&(W|=y.La,k&32768&&(W|=y.Sa),k&1&&(W|=y.Ka)),p&32768&&(W|=y.Oa,k&32768&&(W|=y.Qa),k&1&&(W|=y.Ra)),k&32768&&(W|=y.Ja),k&1&&(W|=y.Ga),W&&(0!==(W&y.Ja)&&(15>b?ia|=1<<b+1:0<d&&0<I&&(P[d-1]|=1)),0!==(W&y.Ga)&&(0<b?ia|=1<<b-1:d<w-1&&I<u-1&&(P[d+
1]|=32768)),0!==(W&y.Oa)&&(oa|=1<<b),0!==(W&y.La)&&(ja|=1<<b),0!==(W&y.Qa)&&(15>b?oa|=1<<b+1:0<d&&0<I&&(aa[d-1]|=1)),0!==(W&y.Ra)&&(0<b?oa|=1<<b-1:d<w-1&&I<u-1&&(aa[d+1]|=32768)),0!==(W&y.Sa)&&(15>b?ja|=1<<b+1:0<d&&0<I&&(ma[d-1]|=1)),0!==(W&y.Ka)&&(0<b?ja|=1<<b-1:d<w-1&&I<u-1&&(ma[d+1]|=32768)))):e&&(ca|=1<<b);l[c]|=p}I+=16}P[d]|=ia;0<c&&(aa[d]|=oa);c<B-1&&(ma[d]|=ja)}else I+=256;S[d]=ca}V+=16;X+=16}this.dc(g,l,u,v,t);z.fill(0);this.ac(H);for(na=0;na<this.m.o.length;na+=1)this.m.o[na]=this.m.o[na]|
M.o[na]|N.o[na];this.B=q;this.na=m;this.ga=r};qa.prototype.xp=function(){var a=this.ua,b,c,d,f=this.ta,e,g=this.V,k,l=this.Y,p,n,q=0,m=0,r=0,u=this.width,t=this.A,v=this.height,B=this.I,w=this.F>>4,z=this.ba;if(0!==(this.counter&1)){var E=this.P;var H=this.Pa;var L=this.Ua;var M=this.H;var N=this.j}else E=this.h,H=this.Ua,L=this.Pa,M=this.j,N=this.H;g.fill(0);l.fill(0);var V=0;var X=V+16;N.o.fill(0);for(c=0;c<M.length;c+=1){var I=0;var R=M[c];var P=N[c];var S=f[c];var aa=0<c?N[c-1]:z;var ma=c<B-1?
N[c+1]:z;for(d=0;d<w;d+=1){var ea=R[d];var ca=0;if(ea){var ia=P[d];var oa=aa[d];var ja=ma[d];for(b=15;0<=b;--b){if(0!==(ea&1<<b)){var W=p=k=e=0;var na=V;for(n=32768;na<X;){var fa=0===na?this.ia:E[na-1];var Z=E[na];var Y=na===this.height-1?this.ia:E[na+1];var pa=L[na];var Q=32768;var G=I;var A=Z[G+1];var K=Y[G+1];var O=fa[G];var J=Z[G];var x=Y[G];var D=0===G?J|x<<2|A<<4|O<<8|K<<10:fa[G-1]<<12|Z[G-1]<<6|J|x<<2|A<<4|O<<8|K<<10;var la=a[D];0<la?(q+=1,0===(D&3)&&(m+=1),p|=n,k|=Q):0!==(D&3)&&(r+=1);e|=
J;Q>>=1;G+=1;D=O;O=fa[G];var ba=J;J=A;A=Z[G+1];x=K;K=Y[G+1];D=J|x<<2|A<<4|ba<<6|O<<8|K<<10|D<<12;x=a[D];la|=x<<8;0<x?(q+=1,0===(D&3)&&(m+=1),p|=n,k|=Q):0!==(D&3)&&(r+=1);e|=J;Q>>=1;G+=1;D=O;ba=J;J=A;x=K;O=fa[G];A=Z[G+1];K=Y[G+1];D=J|x<<2|A<<4|ba<<6|O<<8|K<<10|D<<12;x=a[D];la|=x<<16;0<x?(q+=1,0===(D&3)&&(m+=1),p|=n,k|=Q):0!==(D&3)&&(r+=1);e|=J;Q>>=1;G+=1;D=O;ba=J;J=A;x=K;O=fa[G];A=Z[G+1];K=Y[G+1];D=J|x<<2|A<<4|ba<<6|O<<8|K<<10|D<<12;x=a[D];la|=x<<24;pa[G>>2]=la;0<x?(q+=1,0===(D&3)&&(m+=1),p|=n,k|=
Q):0!==(D&3)&&(r+=1);e|=J;Q>>=1;G+=1;D=O;ba=J;J=A;x=K;O=fa[G];A=Z[G+1];K=Y[G+1];D=J|x<<2|A<<4|ba<<6|O<<8|K<<10|D<<12;la=a[D];0<la?(q+=1,0===(D&3)&&(m+=1),p|=n,k|=Q):0!==(D&3)&&(r+=1);e|=J;Q>>=1;G+=1;D=O;ba=J;J=A;x=K;O=fa[G];A=Z[G+1];K=Y[G+1];D=J|x<<2|A<<4|ba<<6|O<<8|K<<10|D<<12;x=a[D];la|=x<<8;0<x?(q+=1,0===(D&3)&&(m+=1),p|=n,k|=Q):0!==(D&3)&&(r+=1);e|=J;Q>>=1;G+=1;D=O;ba=J;J=A;x=K;O=fa[G];A=Z[G+1];K=Y[G+1];D=J|x<<2|A<<4|ba<<6|O<<8|K<<10|D<<12;x=a[D];la|=x<<16;0<x?(q+=1,0===(D&3)&&(m+=1),p|=n,k|=
Q):0!==(D&3)&&(r+=1);e|=J;Q>>=1;G+=1;D=O;ba=J;J=A;x=K;O=fa[G];A=Z[G+1];K=Y[G+1];D=J|x<<2|A<<4|ba<<6|O<<8|K<<10|D<<12;x=a[D];la|=x<<24;pa[G>>2]=la;0<x?(q+=1,0===(D&3)&&(m+=1),p|=n,k|=Q):0!==(D&3)&&(r+=1);e|=J;Q>>=1;G+=1;D=O;ba=J;J=A;x=K;O=fa[G];A=Z[G+1];K=Y[G+1];D=J|x<<2|A<<4|ba<<6|O<<8|K<<10|D<<12;la=a[D];0<la?(q+=1,0===(D&3)&&(m+=1),p|=n,k|=Q):0!==(D&3)&&(r+=1);e|=J;Q>>=1;G+=1;D=O;ba=J;J=A;x=K;O=fa[G];A=Z[G+1];K=Y[G+1];D=J|x<<2|A<<4|ba<<6|O<<8|K<<10|D<<12;x=a[D];la|=x<<8;0<x?(q+=1,0===(D&3)&&(m+=
1),p|=n,k|=Q):0!==(D&3)&&(r+=1);e|=J;Q>>=1;G+=1;D=O;ba=J;J=A;x=K;O=fa[G];A=Z[G+1];K=Y[G+1];D=J|x<<2|A<<4|ba<<6|O<<8|K<<10|D<<12;x=a[D];la|=x<<16;0<x?(q+=1,0===(D&3)&&(m+=1),p|=n,k|=Q):0!==(D&3)&&(r+=1);e|=J;Q>>=1;G+=1;D=O;ba=J;J=A;x=K;O=fa[G];A=Z[G+1];K=Y[G+1];D=J|x<<2|A<<4|ba<<6|O<<8|K<<10|D<<12;x=a[D];la|=x<<24;pa[G>>2]=la;0<x?(q+=1,0===(D&3)&&(m+=1),p|=n,k|=Q):0!==(D&3)&&(r+=1);e|=J;Q>>=1;G+=1;D=O;ba=J;J=A;x=K;O=fa[G];A=Z[G+1];K=Y[G+1];D=J|x<<2|A<<4|ba<<6|O<<8|K<<10|D<<12;la=a[D];0<la?(q+=1,0===
(D&3)&&(m+=1),p|=n,k|=Q):0!==(D&3)&&(r+=1);e|=J;Q>>=1;G+=1;D=O;ba=J;J=A;x=K;O=fa[G];A=Z[G+1];K=Y[G+1];D=J|x<<2|A<<4|ba<<6|O<<8|K<<10|D<<12;x=a[D];la|=x<<8;0<x?(q+=1,0===(D&3)&&(m+=1),p|=n,k|=Q):0!==(D&3)&&(r+=1);e|=J;Q>>=1;G+=1;D=O;ba=J;J=A;x=K;O=fa[G];A=Z[G+1];K=Y[G+1];D=J|x<<2|A<<4|ba<<6|O<<8|K<<10|D<<12;x=a[D];la|=x<<16;0<x?(q+=1,0===(D&3)&&(m+=1),p|=n,k|=Q):0!==(D&3)&&(r+=1);e|=J;Q>>=1;G+=1;D=O;O=fa[G];ba=J;J=A;x=K;G===u-1?K=A=0:(A=Z[G+1],K=Y[G+1]);D=J|x<<2|A<<4|ba<<6|O<<8|K<<10|D<<12;x=a[D];
la|=x<<24;pa[G>>2]=la;0<x?(q+=1,0===(D&3)&&(m+=1),p|=n,k|=Q):0!==(D&3)&&(r+=1);e|=J;na+=1;n>>=1}g[I>>4]|=k;k?(ia|=1<<b,p&1&&(W|=y.La,k&32768&&(W|=y.Sa),k&1&&(W|=y.Ka)),p&32768&&(W|=y.Oa,k&32768&&(W|=y.Qa),k&1&&(W|=y.Ra)),k&32768&&(W|=y.Ja),k&1&&(W|=y.Ga),W&&(0!==(W&y.Ja)&&(15>b?ia|=1<<b+1:0<d&&0<I&&(P[d-1]|=1)),0!==(W&y.Ga)&&(0<b?ia|=1<<b-1:d<w-1&&I<u-1&&(P[d+1]|=32768)),0!==(W&y.Oa)&&(oa|=1<<b),0!==(W&y.La)&&(ja|=1<<b),0!==(W&y.Qa)&&(15>b?oa|=1<<b+1:0<d&&0<I&&(aa[d-1]|=1)),0!==(W&y.Ra)&&(0<b?oa|=
1<<b-1:d<w-1&&I<u-1&&(aa[d+1]|=32768)),0!==(W&y.Sa)&&(15>b?ja|=1<<b+1:0<d&&0<I&&(ma[d-1]|=1)),0!==(W&y.Ka)&&(0<b?ja|=1<<b-1:d<w-1&&I<u-1&&(ma[d+1]|=32768)))):e&&(ca|=1<<b);l[c]|=p}I+=16}P[d]|=ia;0<c&&(aa[d]|=oa);c<B-1&&(ma[d]|=ja)}else I+=256;S[d]=ca}V+=16;X+=16}this.dc(g,l,u,v,t);z.fill(0);this.ac(H);for(na=0;na<this.m.o.length;na+=1)this.m.o[na]=this.m.o[na]|M.o[na]|N.o[na];this.B=q;this.na=m;this.ga=r};qa.prototype.yp=function(){var a=this.ua,b,c,d,f=this.ta,e,g=this.V,k,l=this.Y,p,n,q=0,m=0,r=
0,u=this.width,t=this.A,v=this.height,B=this.I,w=this.F>>4,z=this.ba;if(0!==(this.counter&1)){var E=this.P;var H=this.Pa;var L=this.Ua;var M=this.H;var N=this.j}else E=this.h,H=this.Ua,L=this.Pa,M=this.j,N=this.H;g.fill(0);l.fill(0);var V=0;var X=V+16;N.o.fill(0);for(c=0;c<M.length;c+=1){var I=0;var R=M[c];var P=N[c];var S=f[c];var aa=0<c?N[c-1]:z;var ma=c<B-1?N[c+1]:z;for(d=0;d<w;d+=1){var ea=R[d];var ca=0;if(ea){var ia=P[d];var oa=aa[d];var ja=ma[d];for(b=15;0<=b;--b){if(0!==(ea&1<<b)){var W=p=
k=e=0;var na=V;for(n=32768;na<X;){var fa=0===na?this.ia:E[na-1];var Z=E[na];var Y=na===this.height-1?this.ia:E[na+1];var pa=L[na];var Q=32768;var G=I;var A=Z[G+1];var K=Y[G+1];var O=fa[G];var J=Z[G];var x=Y[G];var D=0===G?J|x<<3|A<<6|O<<12|K<<15:fa[G-1]<<18|Z[G-1]<<9|J|x<<3|A<<6|O<<12|K<<15;var la=a[D];0<la?(q+=1,0===(D&7)&&(m+=1),p|=n,k|=Q):0!==(D&7)&&(r+=1);e|=J;Q>>=1;G+=1;D=O;O=fa[G];var ba=J;J=A;A=Z[G+1];x=K;K=Y[G+1];D=J|x<<3|A<<6|ba<<9|O<<12|K<<15|D<<18;x=a[D];la|=x<<8;0<x?(q+=1,0===(D&7)&&(m+=
1),p|=n,k|=Q):0!==(D&7)&&(r+=1);e|=J;Q>>=1;G+=1;D=O;ba=J;J=A;x=K;O=fa[G];A=Z[G+1];K=Y[G+1];D=J|x<<3|A<<6|ba<<9|O<<12|K<<15|D<<18;x=a[D];la|=x<<16;0<x?(q+=1,0===(D&7)&&(m+=1),p|=n,k|=Q):0!==(D&7)&&(r+=1);e|=J;Q>>=1;G+=1;D=O;ba=J;J=A;x=K;O=fa[G];A=Z[G+1];K=Y[G+1];D=J|x<<3|A<<6|ba<<9|O<<12|K<<15|D<<18;x=a[D];la|=x<<24;pa[G>>2]=la;0<x?(q+=1,0===(D&7)&&(m+=1),p|=n,k|=Q):0!==(D&7)&&(r+=1);e|=J;Q>>=1;G+=1;D=O;ba=J;J=A;x=K;O=fa[G];A=Z[G+1];K=Y[G+1];D=J|x<<3|A<<6|ba<<9|O<<12|K<<15|D<<18;la=a[D];0<la?(q+=1,
0===(D&7)&&(m+=1),p|=n,k|=Q):0!==(D&7)&&(r+=1);e|=J;Q>>=1;G+=1;D=O;ba=J;J=A;x=K;O=fa[G];A=Z[G+1];K=Y[G+1];D=J|x<<3|A<<6|ba<<9|O<<12|K<<15|D<<18;x=a[D];la|=x<<8;0<x?(q+=1,0===(D&7)&&(m+=1),p|=n,k|=Q):0!==(D&7)&&(r+=1);e|=J;Q>>=1;G+=1;D=O;ba=J;J=A;x=K;O=fa[G];A=Z[G+1];K=Y[G+1];D=J|x<<3|A<<6|ba<<9|O<<12|K<<15|D<<18;x=a[D];la|=x<<16;0<x?(q+=1,0===(D&7)&&(m+=1),p|=n,k|=Q):0!==(D&7)&&(r+=1);e|=J;Q>>=1;G+=1;D=O;ba=J;J=A;x=K;O=fa[G];A=Z[G+1];K=Y[G+1];D=J|x<<3|A<<6|ba<<9|O<<12|K<<15|D<<18;x=a[D];la|=x<<24;
pa[G>>2]=la;0<x?(q+=1,0===(D&7)&&(m+=1),p|=n,k|=Q):0!==(D&7)&&(r+=1);e|=J;Q>>=1;G+=1;D=O;ba=J;J=A;x=K;O=fa[G];A=Z[G+1];K=Y[G+1];D=J|x<<3|A<<6|ba<<9|O<<12|K<<15|D<<18;la=a[D];0<la?(q+=1,0===(D&7)&&(m+=1),p|=n,k|=Q):0!==(D&7)&&(r+=1);e|=J;Q>>=1;G+=1;D=O;ba=J;J=A;x=K;O=fa[G];A=Z[G+1];K=Y[G+1];D=J|x<<3|A<<6|ba<<9|O<<12|K<<15|D<<18;x=a[D];la|=x<<8;0<x?(q+=1,0===(D&7)&&(m+=1),p|=n,k|=Q):0!==(D&7)&&(r+=1);e|=J;Q>>=1;G+=1;D=O;ba=J;J=A;x=K;O=fa[G];A=Z[G+1];K=Y[G+1];D=J|x<<3|A<<6|ba<<9|O<<12|K<<15|D<<18;x=
a[D];la|=x<<16;0<x?(q+=1,0===(D&7)&&(m+=1),p|=n,k|=Q):0!==(D&7)&&(r+=1);e|=J;Q>>=1;G+=1;D=O;ba=J;J=A;x=K;O=fa[G];A=Z[G+1];K=Y[G+1];D=J|x<<3|A<<6|ba<<9|O<<12|K<<15|D<<18;x=a[D];la|=x<<24;pa[G>>2]=la;0<x?(q+=1,0===(D&7)&&(m+=1),p|=n,k|=Q):0!==(D&7)&&(r+=1);e|=J;Q>>=1;G+=1;D=O;ba=J;J=A;x=K;O=fa[G];A=Z[G+1];K=Y[G+1];D=J|x<<3|A<<6|ba<<9|O<<12|K<<15|D<<18;la=a[D];0<la?(q+=1,0===(D&7)&&(m+=1),p|=n,k|=Q):0!==(D&7)&&(r+=1);e|=J;Q>>=1;G+=1;D=O;ba=J;J=A;x=K;O=fa[G];A=Z[G+1];K=Y[G+1];D=J|x<<3|A<<6|ba<<9|O<<12|
K<<15|D<<18;x=a[D];la|=x<<8;0<x?(q+=1,0===(D&7)&&(m+=1),p|=n,k|=Q):0!==(D&7)&&(r+=1);e|=J;Q>>=1;G+=1;D=O;ba=J;J=A;x=K;O=fa[G];A=Z[G+1];K=Y[G+1];D=J|x<<3|A<<6|ba<<9|O<<12|K<<15|D<<18;x=a[D];la|=x<<16;0<x?(q+=1,0===(D&7)&&(m+=1),p|=n,k|=Q):0!==(D&7)&&(r+=1);e|=J;Q>>=1;G+=1;D=O;O=fa[G];ba=J;J=A;x=K;G===u-1?K=A=0:(A=Z[G+1],K=Y[G+1]);D=J|x<<3|A<<6|ba<<9|O<<12|K<<15|D<<18;x=a[D];la|=x<<24;pa[G>>2]=la;0<x?(q+=1,0===(D&7)&&(m+=1),p|=n,k|=Q):0!==(D&7)&&(r+=1);e|=J;na+=1;n>>=1}g[I>>4]|=k;k?(ia|=1<<b,p&1&&(W|=
y.La,k&32768&&(W|=y.Sa),k&1&&(W|=y.Ka)),p&32768&&(W|=y.Oa,k&32768&&(W|=y.Qa),k&1&&(W|=y.Ra)),k&32768&&(W|=y.Ja),k&1&&(W|=y.Ga),W&&(0!==(W&y.Ja)&&(15>b?ia|=1<<b+1:0<d&&0<I&&(P[d-1]|=1)),0!==(W&y.Ga)&&(0<b?ia|=1<<b-1:d<w-1&&I<u-1&&(P[d+1]|=32768)),0!==(W&y.Oa)&&(oa|=1<<b),0!==(W&y.La)&&(ja|=1<<b),0!==(W&y.Qa)&&(15>b?oa|=1<<b+1:0<d&&0<I&&(aa[d-1]|=1)),0!==(W&y.Ra)&&(0<b?oa|=1<<b-1:d<w-1&&I<u-1&&(aa[d+1]|=32768)),0!==(W&y.Sa)&&(15>b?ja|=1<<b+1:0<d&&0<I&&(ma[d-1]|=1)),0!==(W&y.Ka)&&(0<b?ja|=1<<b-1:d<w-
1&&I<u-1&&(ma[d+1]|=32768)))):e&&(ca|=1<<b);l[c]|=p}I+=16}P[d]|=ia;0<c&&(aa[d]|=oa);c<B-1&&(ma[d]|=ja)}else I+=256;S[d]=ca}V+=16;X+=16}this.dc(g,l,u,v,t);z.fill(0);this.ac(H);for(na=0;na<this.m.o.length;na+=1)this.m.o[na]=this.m.o[na]|M.o[na]|N.o[na];this.B=q;this.na=m;this.ga=r};qa.prototype.Ik=function(){var a=this.ua,b,c,d,f=this.ta,e,g=this.V,k,l=this.Y,p,n,q=0,m=0,r=0,u=this.width,t=this.A,v=this.height,B=this.I,w=this.F>>4,z=this.ba;if(0!==(this.counter&1)){var E=this.P;var H=this.Pa;var L=
this.Ua;var M=this.H;var N=this.j}else E=this.h,H=this.Ua,L=this.Pa,M=this.j,N=this.H;g.fill(0);l.fill(0);var V=0;var X=V+16;N.o.fill(0);for(c=0;c<M.length;c+=1){var I=0;var R=M[c];var P=N[c];var S=f[c];var aa=0<c?N[c-1]:z;var ma=c<B-1?N[c+1]:z;for(d=0;d<w;d+=1){var ea=R[d];var ca=0;if(ea){var ia=P[d];var oa=aa[d];var ja=ma[d];for(b=15;0<=b;--b){if(0!==(ea&1<<b)){var W=p=k=e=0;var na=V;for(n=32768;na<X;){var fa=0===na?this.ia:E[na-1];var Z=E[na];var Y=na===this.height-1?this.ia:E[na+1];var pa=L[na];
var Q=32768;var G=I;var A=fa[G+1];var K=Z[G+1];var O=Y[G+1];var J=fa[G];var x=Z[G];var D=Y[G];D=0===G?J<<3|x<<4|D<<5|A<<6|K<<7|O<<8:fa[G-1]|Z[G-1]<<1|Y[G-1]<<2|J<<3|x<<4|D<<5|A<<6|K<<7|O<<8;J=a[D];0<J?(q+=1,0===(D&16)&&(m+=1),p|=n,k|=Q):0!==(D&16)&&(r+=1);e|=x;Q>>=1;G+=1;x=K;A=fa[G+1];K=Z[G+1];O=Y[G+1];D=D>>3|A<<6|K<<7|O<<8;A=a[D];J|=A<<8;0<A?(q+=1,0===(D&16)&&(m+=1),p|=n,k|=Q):0!==(D&16)&&(r+=1);e|=x;Q>>=1;G+=1;x=K;A=fa[G+1];K=Z[G+1];O=Y[G+1];D=D>>3|A<<6|K<<7|O<<8;A=a[D];J|=A<<16;0<A?(q+=1,0===(D&
16)&&(m+=1),p|=n,k|=Q):0!==(D&16)&&(r+=1);e|=x;Q>>=1;G+=1;x=K;A=fa[G+1];K=Z[G+1];O=Y[G+1];D=D>>3|A<<6|K<<7|O<<8;A=a[D];J|=A<<24;pa[G>>2]=J;0<A?(q+=1,0===(D&16)&&(m+=1),p|=n,k|=Q):0!==(D&16)&&(r+=1);e|=x;Q>>=1;G+=1;x=K;A=fa[G+1];K=Z[G+1];O=Y[G+1];D=D>>3|A<<6|K<<7|O<<8;J=a[D];0<J?(q+=1,0===(D&16)&&(m+=1),p|=n,k|=Q):0!==(D&16)&&(r+=1);e|=x;Q>>=1;G+=1;x=K;A=fa[G+1];K=Z[G+1];O=Y[G+1];D=D>>3|A<<6|K<<7|O<<8;A=a[D];J|=A<<8;0<A?(q+=1,0===(D&16)&&(m+=1),p|=n,k|=Q):0!==(D&16)&&(r+=1);e|=x;Q>>=1;G+=1;x=K;A=fa[G+
1];K=Z[G+1];O=Y[G+1];D=D>>3|A<<6|K<<7|O<<8;A=a[D];J|=A<<16;0<A?(q+=1,0===(D&16)&&(m+=1),p|=n,k|=Q):0!==(D&16)&&(r+=1);e|=x;Q>>=1;G+=1;x=K;A=fa[G+1];K=Z[G+1];O=Y[G+1];D=D>>3|A<<6|K<<7|O<<8;A=a[D];J|=A<<24;pa[G>>2]=J;0<A?(q+=1,0===(D&16)&&(m+=1),p|=n,k|=Q):0!==(D&16)&&(r+=1);e|=x;Q>>=1;G+=1;x=K;A=fa[G+1];K=Z[G+1];O=Y[G+1];D=D>>3|A<<6|K<<7|O<<8;J=a[D];0<J?(q+=1,0===(D&16)&&(m+=1),p|=n,k|=Q):0!==(D&16)&&(r+=1);e|=x;Q>>=1;G+=1;x=K;A=fa[G+1];K=Z[G+1];O=Y[G+1];D=D>>3|A<<6|K<<7|O<<8;A=a[D];J|=A<<8;0<A?(q+=
1,0===(D&16)&&(m+=1),p|=n,k|=Q):0!==(D&16)&&(r+=1);e|=x;Q>>=1;G+=1;x=K;A=fa[G+1];K=Z[G+1];O=Y[G+1];D=D>>3|A<<6|K<<7|O<<8;A=a[D];J|=A<<16;0<A?(q+=1,0===(D&16)&&(m+=1),p|=n,k|=Q):0!==(D&16)&&(r+=1);e|=x;Q>>=1;G+=1;x=K;A=fa[G+1];K=Z[G+1];O=Y[G+1];D=D>>3|A<<6|K<<7|O<<8;A=a[D];J|=A<<24;pa[G>>2]=J;0<A?(q+=1,0===(D&16)&&(m+=1),p|=n,k|=Q):0!==(D&16)&&(r+=1);e|=x;Q>>=1;G+=1;x=K;A=fa[G+1];K=Z[G+1];O=Y[G+1];D=D>>3|A<<6|K<<7|O<<8;J=a[D];0<J?(q+=1,0===(D&16)&&(m+=1),p|=n,k|=Q):0!==(D&16)&&(r+=1);e|=x;Q>>=1;G+=
1;x=K;A=fa[G+1];K=Z[G+1];O=Y[G+1];D=D>>3|A<<6|K<<7|O<<8;A=a[D];J|=A<<8;0<A?(q+=1,0===(D&16)&&(m+=1),p|=n,k|=Q):0!==(D&16)&&(r+=1);e|=x;Q>>=1;G+=1;x=K;A=fa[G+1];K=Z[G+1];O=Y[G+1];D=D>>3|A<<6|K<<7|O<<8;A=a[D];J|=A<<16;0<A?(q+=1,0===(D&16)&&(m+=1),p|=n,k|=Q):0!==(D&16)&&(r+=1);e|=x;Q>>=1;G+=1;x=K;G===u-1?O=K=A=0:(A=fa[G+1],K=Z[G+1],O=Y[G+1]);D=D>>3|A<<6|K<<7|O<<8;A=a[D];J|=A<<24;pa[G>>2]=J;0<A?(q+=1,0===(D&16)&&(m+=1),p|=n,k|=Q):0!==(D&16)&&(r+=1);e|=x;na+=1;n>>=1}g[I>>4]|=k;k?(ia|=1<<b,p&1&&(W|=y.La,
k&32768&&(W|=y.Sa),k&1&&(W|=y.Ka)),p&32768&&(W|=y.Oa,k&32768&&(W|=y.Qa),k&1&&(W|=y.Ra)),k&32768&&(W|=y.Ja),k&1&&(W|=y.Ga),W&&(0!==(W&y.Ja)&&(15>b?ia|=1<<b+1:0<d&&0<I&&(P[d-1]|=1)),0!==(W&y.Ga)&&(0<b?ia|=1<<b-1:d<w-1&&I<u-1&&(P[d+1]|=32768)),0!==(W&y.Oa)&&(oa|=1<<b),0!==(W&y.La)&&(ja|=1<<b),0!==(W&y.Qa)&&(15>b?oa|=1<<b+1:0<d&&0<I&&(aa[d-1]|=1)),0!==(W&y.Ra)&&(0<b?oa|=1<<b-1:d<w-1&&I<u-1&&(aa[d+1]|=32768)),0!==(W&y.Sa)&&(15>b?ja|=1<<b+1:0<d&&0<I&&(ma[d-1]|=1)),0!==(W&y.Ka)&&(0<b?ja|=1<<b-1:d<w-1&&I<
u-1&&(ma[d+1]|=32768)))):e&&(ca|=1<<b);l[c]|=p}I+=16}P[d]|=ia;0<c&&(aa[d]|=oa);c<B-1&&(ma[d]|=ja)}else I+=256;S[d]=ca}V+=16;X+=16}this.dc(g,l,u,v,t);z.fill(0);this.ac(H);for(na=0;na<this.m.o.length;na+=1)this.m.o[na]=this.m.o[na]|M.o[na]|N.o[na];this.B=q;this.na=m;this.ga=r};qa.prototype.Jk=function(){var a=this.ua,b,c,d,f=this.ta,e,g=this.V,k,l=this.Y,p,n,q=0,m=0,r=0,u=this.width,t=this.A,v=this.height,B=this.I,w=this.F>>4,z=this.ba;if(0!==(this.counter&1)){var E=this.P;var H=this.Pa;var L=this.Ua;
var M=this.H;var N=this.j}else E=this.h,H=this.Ua,L=this.Pa,M=this.j,N=this.H;g.fill(0);l.fill(0);var V=0;var X=V+16;N.o.fill(0);for(c=0;c<M.length;c+=1){var I=0;var R=M[c];var P=N[c];var S=f[c];var aa=0<c?N[c-1]:z;var ma=c<B-1?N[c+1]:z;for(d=0;d<w;d+=1){var ea=R[d];var ca=0;if(ea){var ia=P[d];var oa=aa[d];var ja=ma[d];for(b=15;0<=b;--b){if(0!==(ea&1<<b)){var W=p=k=e=0;var na=V;for(n=32768;na<X;){var fa=0===na?this.ia:E[na-1];var Z=E[na];var Y=na===this.height-1?this.ia:E[na+1];var pa=L[na];var Q=
32768;var G=I;var A=fa[G+1];var K=Z[G+1];var O=Y[G+1];var J=fa[G];var x=Z[G];var D=Y[G];D=0===G?J<<6|x<<8|D<<10|A<<12|K<<14|O<<16:fa[G-1]|Z[G-1]<<2|Y[G-1]<<4|J<<6|x<<8|D<<10|A<<12|K<<14|O<<16;J=a[D];0<J?(q+=1,0===(D&768)&&(m+=1),p|=n,k|=Q):0!==(D&768)&&(r+=1);e|=x;Q>>=1;G+=1;x=K;A=fa[G+1];K=Z[G+1];O=Y[G+1];D=D>>6|A<<12|K<<14|O<<16;A=a[D];J|=A<<8;0<A?(q+=1,0===(D&768)&&(m+=1),p|=n,k|=Q):0!==(D&768)&&(r+=1);e|=x;Q>>=1;G+=1;x=K;A=fa[G+1];K=Z[G+1];O=Y[G+1];D=D>>6|A<<12|K<<14|O<<16;A=a[D];J|=A<<16;0<A?
(q+=1,0===(D&768)&&(m+=1),p|=n,k|=Q):0!==(D&768)&&(r+=1);e|=x;Q>>=1;G+=1;x=K;A=fa[G+1];K=Z[G+1];O=Y[G+1];D=D>>6|A<<12|K<<14|O<<16;A=a[D];J|=A<<24;pa[G>>2]=J;0<A?(q+=1,0===(D&768)&&(m+=1),p|=n,k|=Q):0!==(D&768)&&(r+=1);e|=x;Q>>=1;G+=1;x=K;A=fa[G+1];K=Z[G+1];O=Y[G+1];D=D>>6|A<<12|K<<14|O<<16;J=a[D];0<J?(q+=1,0===(D&768)&&(m+=1),p|=n,k|=Q):0!==(D&768)&&(r+=1);e|=x;Q>>=1;G+=1;x=K;A=fa[G+1];K=Z[G+1];O=Y[G+1];D=D>>6|A<<12|K<<14|O<<16;A=a[D];J|=A<<8;0<A?(q+=1,0===(D&768)&&(m+=1),p|=n,k|=Q):0!==(D&768)&&
(r+=1);e|=x;Q>>=1;G+=1;x=K;A=fa[G+1];K=Z[G+1];O=Y[G+1];D=D>>6|A<<12|K<<14|O<<16;A=a[D];J|=A<<16;0<A?(q+=1,0===(D&768)&&(m+=1),p|=n,k|=Q):0!==(D&768)&&(r+=1);e|=x;Q>>=1;G+=1;x=K;A=fa[G+1];K=Z[G+1];O=Y[G+1];D=D>>6|A<<12|K<<14|O<<16;A=a[D];J|=A<<24;pa[G>>2]=J;0<A?(q+=1,0===(D&768)&&(m+=1),p|=n,k|=Q):0!==(D&768)&&(r+=1);e|=x;Q>>=1;G+=1;x=K;A=fa[G+1];K=Z[G+1];O=Y[G+1];D=D>>6|A<<12|K<<14|O<<16;J=a[D];0<J?(q+=1,0===(D&768)&&(m+=1),p|=n,k|=Q):0!==(D&768)&&(r+=1);e|=x;Q>>=1;G+=1;x=K;A=fa[G+1];K=Z[G+1];O=Y[G+
1];D=D>>6|A<<12|K<<14|O<<16;A=a[D];J|=A<<8;0<A?(q+=1,0===(D&768)&&(m+=1),p|=n,k|=Q):0!==(D&768)&&(r+=1);e|=x;Q>>=1;G+=1;x=K;A=fa[G+1];K=Z[G+1];O=Y[G+1];D=D>>6|A<<12|K<<14|O<<16;A=a[D];J|=A<<16;0<A?(q+=1,0===(D&768)&&(m+=1),p|=n,k|=Q):0!==(D&768)&&(r+=1);e|=x;Q>>=1;G+=1;x=K;A=fa[G+1];K=Z[G+1];O=Y[G+1];D=D>>6|A<<12|K<<14|O<<16;A=a[D];J|=A<<24;pa[G>>2]=J;0<A?(q+=1,0===(D&768)&&(m+=1),p|=n,k|=Q):0!==(D&768)&&(r+=1);e|=x;Q>>=1;G+=1;x=K;A=fa[G+1];K=Z[G+1];O=Y[G+1];D=D>>6|A<<12|K<<14|O<<16;J=a[D];0<J?(q+=
1,0===(D&768)&&(m+=1),p|=n,k|=Q):0!==(D&768)&&(r+=1);e|=x;Q>>=1;G+=1;x=K;A=fa[G+1];K=Z[G+1];O=Y[G+1];D=D>>6|A<<12|K<<14|O<<16;A=a[D];J|=A<<8;0<A?(q+=1,0===(D&768)&&(m+=1),p|=n,k|=Q):0!==(D&768)&&(r+=1);e|=x;Q>>=1;G+=1;x=K;A=fa[G+1];K=Z[G+1];O=Y[G+1];D=D>>6|A<<12|K<<14|O<<16;A=a[D];J|=A<<16;0<A?(q+=1,0===(D&768)&&(m+=1),p|=n,k|=Q):0!==(D&768)&&(r+=1);e|=x;Q>>=1;G+=1;x=K;G===u-1?O=K=A=0:(A=fa[G+1],K=Z[G+1],O=Y[G+1]);D=D>>6|A<<12|K<<14|O<<16;A=a[D];J|=A<<24;pa[G>>2]=J;0<A?(q+=1,0===(D&768)&&(m+=1),p|=
n,k|=Q):0!==(D&768)&&(r+=1);e|=x;na+=1;n>>=1}g[I>>4]|=k;k?(ia|=1<<b,p&1&&(W|=y.La,k&32768&&(W|=y.Sa),k&1&&(W|=y.Ka)),p&32768&&(W|=y.Oa,k&32768&&(W|=y.Qa),k&1&&(W|=y.Ra)),k&32768&&(W|=y.Ja),k&1&&(W|=y.Ga),W&&(0!==(W&y.Ja)&&(15>b?ia|=1<<b+1:0<d&&0<I&&(P[d-1]|=1)),0!==(W&y.Ga)&&(0<b?ia|=1<<b-1:d<w-1&&I<u-1&&(P[d+1]|=32768)),0!==(W&y.Oa)&&(oa|=1<<b),0!==(W&y.La)&&(ja|=1<<b),0!==(W&y.Qa)&&(15>b?oa|=1<<b+1:0<d&&0<I&&(aa[d-1]|=1)),0!==(W&y.Ra)&&(0<b?oa|=1<<b-1:d<w-1&&I<u-1&&(aa[d+1]|=32768)),0!==(W&y.Sa)&&
(15>b?ja|=1<<b+1:0<d&&0<I&&(ma[d-1]|=1)),0!==(W&y.Ka)&&(0<b?ja|=1<<b-1:d<w-1&&I<u-1&&(ma[d+1]|=32768)))):e&&(ca|=1<<b);l[c]|=p}I+=16}P[d]|=ia;0<c&&(aa[d]|=oa);c<B-1&&(ma[d]|=ja)}else I+=256;S[d]=ca}V+=16;X+=16}this.dc(g,l,u,v,t);z.fill(0);this.ac(H);for(na=0;na<this.m.o.length;na+=1)this.m.o[na]=this.m.o[na]|M.o[na]|N.o[na];this.B=q;this.na=m;this.ga=r};qa.prototype.rk=function(){var a=this.ua,b,c,d,f=this.ta,e,g=this.V,k,l=this.Y,p,n,q=0,m=0,r=0,u=this.width,t=this.A,v=this.height,B=this.I,w=this.F>>
4,z=this.ba;if(0!==(this.counter&1)){var E=this.P;var H=this.Pa;var L=this.Ua;var M=this.H;var N=this.j}else E=this.h,H=this.Ua,L=this.Pa,M=this.j,N=this.H;g.fill(0);l.fill(0);var V=0;var X=V+16;N.o.fill(0);for(c=0;c<M.length;c+=1){var I=0;var R=M[c];var P=N[c];var S=f[c];var aa=0<c?N[c-1]:z;var ma=c<B-1?N[c+1]:z;for(d=0;d<w;d+=1){var ea=R[d];var ca=0;if(ea){var ia=P[d];var oa=aa[d];var ja=ma[d];for(b=15;0<=b;--b){if(0!==(ea&1<<b)){var W=p=k=e=0;var na=V;for(n=32768;na<X;){var fa=0===na?this.ia:E[na-
1];var Z=E[na];var Y=na===this.height-1?this.ia:E[na+1];var pa=L[na];var Q=32768;var G=I;var A=fa[G+1];var K=Z[G+1];var O=Y[G+1];var J=fa[G];var x=Z[G];var D=Y[G];D=0===G?J<<9|x<<12|D<<15|A<<18|K<<21|O<<24:fa[G-1]|Z[G-1]<<3|Y[G-1]<<6|J<<9|x<<12|D<<15|A<<18|K<<21|O<<24;J=a[D];0<J?(q+=1,0===(D&45056)&&(m+=1),p|=n,k|=Q):0!==(D&45056)&&(r+=1);e|=x;Q>>=1;G+=1;x=K;A=fa[G+1];K=Z[G+1];O=Y[G+1];D=D>>9|A<<18|K<<21|O<<24;A=a[D];J|=A<<8;0<A?(q+=1,0===(D&45056)&&(m+=1),p|=n,k|=Q):0!==(D&45056)&&(r+=1);e|=x;Q>>=
1;G+=1;x=K;A=fa[G+1];K=Z[G+1];O=Y[G+1];D=D>>9|A<<18|K<<21|O<<24;A=a[D];J|=A<<16;0<A?(q+=1,0===(D&45056)&&(m+=1),p|=n,k|=Q):0!==(D&45056)&&(r+=1);e|=x;Q>>=1;G+=1;x=K;A=fa[G+1];K=Z[G+1];O=Y[G+1];D=D>>9|A<<18|K<<21|O<<24;A=a[D];J|=A<<24;pa[G>>2]=J;0<A?(q+=1,0===(D&45056)&&(m+=1),p|=n,k|=Q):0!==(D&45056)&&(r+=1);e|=x;Q>>=1;G+=1;x=K;A=fa[G+1];K=Z[G+1];O=Y[G+1];D=D>>9|A<<18|K<<21|O<<24;J=a[D];0<J?(q+=1,0===(D&45056)&&(m+=1),p|=n,k|=Q):0!==(D&45056)&&(r+=1);e|=x;Q>>=1;G+=1;x=K;A=fa[G+1];K=Z[G+1];O=Y[G+1];
D=D>>9|A<<18|K<<21|O<<24;A=a[D];J|=A<<8;0<A?(q+=1,0===(D&45056)&&(m+=1),p|=n,k|=Q):0!==(D&45056)&&(r+=1);e|=x;Q>>=1;G+=1;x=K;A=fa[G+1];K=Z[G+1];O=Y[G+1];D=D>>9|A<<18|K<<21|O<<24;A=a[D];J|=A<<16;0<A?(q+=1,0===(D&45056)&&(m+=1),p|=n,k|=Q):0!==(D&45056)&&(r+=1);e|=x;Q>>=1;G+=1;x=K;A=fa[G+1];K=Z[G+1];O=Y[G+1];D=D>>9|A<<18|K<<21|O<<24;A=a[D];J|=A<<24;pa[G>>2]=J;0<A?(q+=1,0===(D&45056)&&(m+=1),p|=n,k|=Q):0!==(D&45056)&&(r+=1);e|=x;Q>>=1;G+=1;x=K;A=fa[G+1];K=Z[G+1];O=Y[G+1];D=D>>9|A<<18|K<<21|O<<24;J=a[D];
0<J?(q+=1,0===(D&45056)&&(m+=1),p|=n,k|=Q):0!==(D&45056)&&(r+=1);e|=x;Q>>=1;G+=1;x=K;A=fa[G+1];K=Z[G+1];O=Y[G+1];D=D>>9|A<<18|K<<21|O<<24;A=a[D];J|=A<<8;0<A?(q+=1,0===(D&45056)&&(m+=1),p|=n,k|=Q):0!==(D&45056)&&(r+=1);e|=x;Q>>=1;G+=1;x=K;A=fa[G+1];K=Z[G+1];O=Y[G+1];D=D>>9|A<<18|K<<21|O<<24;A=a[D];J|=A<<16;0<A?(q+=1,0===(D&45056)&&(m+=1),p|=n,k|=Q):0!==(D&45056)&&(r+=1);e|=x;Q>>=1;G+=1;x=K;A=fa[G+1];K=Z[G+1];O=Y[G+1];D=D>>9|A<<18|K<<21|O<<24;A=a[D];J|=A<<24;pa[G>>2]=J;0<A?(q+=1,0===(D&45056)&&(m+=
1),p|=n,k|=Q):0!==(D&45056)&&(r+=1);e|=x;Q>>=1;G+=1;x=K;A=fa[G+1];K=Z[G+1];O=Y[G+1];D=D>>9|A<<18|K<<21|O<<24;J=a[D];0<J?(q+=1,0===(D&45056)&&(m+=1),p|=n,k|=Q):0!==(D&45056)&&(r+=1);e|=x;Q>>=1;G+=1;x=K;A=fa[G+1];K=Z[G+1];O=Y[G+1];D=D>>9|A<<18|K<<21|O<<24;A=a[D];J|=A<<8;0<A?(q+=1,0===(D&45056)&&(m+=1),p|=n,k|=Q):0!==(D&45056)&&(r+=1);e|=x;Q>>=1;G+=1;x=K;A=fa[G+1];K=Z[G+1];O=Y[G+1];D=D>>9|A<<18|K<<21|O<<24;A=a[D];J|=A<<16;0<A?(q+=1,0===(D&45056)&&(m+=1),p|=n,k|=Q):0!==(D&45056)&&(r+=1);e|=x;Q>>=1;G+=
1;x=K;G===u-1?O=K=A=0:(A=fa[G+1],K=Z[G+1],O=Y[G+1]);D=D>>9|A<<18|K<<21|O<<24;A=a[D];J|=A<<24;pa[G>>2]=J;0<A?(q+=1,0===(D&45056)&&(m+=1),p|=n,k|=Q):0!==(D&45056)&&(r+=1);e|=x;na+=1;n>>=1}g[I>>4]|=k;k?(ia|=1<<b,p&1&&(W|=y.La,k&32768&&(W|=y.Sa),k&1&&(W|=y.Ka)),p&32768&&(W|=y.Oa,k&32768&&(W|=y.Qa),k&1&&(W|=y.Ra)),k&32768&&(W|=y.Ja),k&1&&(W|=y.Ga),W&&(0!==(W&y.Ja)&&(15>b?ia|=1<<b+1:0<d&&0<I&&(P[d-1]|=1)),0!==(W&y.Ga)&&(0<b?ia|=1<<b-1:d<w-1&&I<u-1&&(P[d+1]|=32768)),0!==(W&y.Oa)&&(oa|=1<<b),0!==(W&y.La)&&
(ja|=1<<b),0!==(W&y.Qa)&&(15>b?oa|=1<<b+1:0<d&&0<I&&(aa[d-1]|=1)),0!==(W&y.Ra)&&(0<b?oa|=1<<b-1:d<w-1&&I<u-1&&(aa[d+1]|=32768)),0!==(W&y.Sa)&&(15>b?ja|=1<<b+1:0<d&&0<I&&(ma[d-1]|=1)),0!==(W&y.Ka)&&(0<b?ja|=1<<b-1:d<w-1&&I<u-1&&(ma[d+1]|=32768)))):e&&(ca|=1<<b);l[c]|=p}I+=16}P[d]|=ia;0<c&&(aa[d]|=oa);c<B-1&&(ma[d]|=ja)}else I+=256;S[d]=ca}V+=16;X+=16}this.dc(g,l,u,v,t);z.fill(0);this.ac(H);for(na=0;na<this.m.o.length;na+=1)this.m.o[na]=this.m.o[na]|M.o[na]|N.o[na];this.B=q;this.na=m;this.ga=r};qa.prototype.Kk=
function(){var a=this.ua,b,c,d,f=this.ta,e,g=this.V,k,l=this.Y,p,n,q=0,m=0,r=0,u=this.width,t=this.A,v=this.height,B=this.I,w=this.F>>4,z=this.ba;if(0!==(this.counter&1)){var E=this.P;var H=this.Pa;var L=this.Ua;var M=this.H;var N=this.j}else E=this.h,H=this.Ua,L=this.Pa,M=this.j,N=this.H;g.fill(0);l.fill(0);var V=0;var X=V+16;N.o.fill(0);for(c=0;c<M.length;c+=1){var I=0;var R=M[c];var P=N[c];var S=f[c];var aa=0<c?N[c-1]:z;var ma=c<B-1?N[c+1]:z;for(d=0;d<w;d+=1){var ea=R[d];var ca=0;if(ea){var ia=
P[d];var oa=aa[d];var ja=ma[d];for(b=15;0<=b;--b){if(0!==(ea&1<<b)){var W=p=k=e=0;var na=V;for(n=32768;na<X;){var fa=0===na?this.ia:E[na-1];var Z=E[na];var Y=na===this.height-1?this.ia:E[na+1];var pa=L[na];var Q=32768;var G=I;var A=fa[G];var K=Z[G+1];var O=Y[G];var J=Z[G];var x=0===G?J<<3|K<<2|A<<1|O:Z[G-1]<<4|J<<3|K<<2|A<<1|O;var D=a[x];0<D?(q+=1,0===(x&8)&&(m+=1),p|=n,k|=Q):0!==(x&8)&&(r+=1);e|=J;Q>>=1;G+=1;J=K;A=fa[G];K=Z[G+1];O=Y[G];x=x<<1&24|K<<2|A<<1|O;A=a[x];D|=A<<8;0<A?(q+=1,0===(x&8)&&(m+=
1),p|=n,k|=Q):0!==(x&8)&&(r+=1);e|=J;Q>>=1;G+=1;J=K;A=fa[G];K=Z[G+1];O=Y[G];x=x<<1&24|K<<2|A<<1|O;A=a[x];D|=A<<16;0<A?(q+=1,0===(x&8)&&(m+=1),p|=n,k|=Q):0!==(x&8)&&(r+=1);e|=J;Q>>=1;G+=1;J=K;A=fa[G];K=Z[G+1];O=Y[G];x=x<<1&24|K<<2|A<<1|O;A=a[x];D|=A<<24;pa[G>>2]=D;0<A?(q+=1,0===(x&8)&&(m+=1),p|=n,k|=Q):0!==(x&8)&&(r+=1);e|=J;Q>>=1;G+=1;J=K;A=fa[G];K=Z[G+1];O=Y[G];x=x<<1&24|K<<2|A<<1|O;D=a[x];0<D?(q+=1,0===(x&8)&&(m+=1),p|=n,k|=Q):0!==(x&8)&&(r+=1);e|=J;Q>>=1;G+=1;J=K;A=fa[G];K=Z[G+1];O=Y[G];x=x<<1&
24|K<<2|A<<1|O;A=a[x];D|=A<<8;0<A?(q+=1,0===(x&8)&&(m+=1),p|=n,k|=Q):0!==(x&8)&&(r+=1);e|=J;Q>>=1;G+=1;J=K;A=fa[G];K=Z[G+1];O=Y[G];x=x<<1&24|K<<2|A<<1|O;A=a[x];D|=A<<16;0<A?(q+=1,0===(x&8)&&(m+=1),p|=n,k|=Q):0!==(x&8)&&(r+=1);e|=J;Q>>=1;G+=1;J=K;A=fa[G];K=Z[G+1];O=Y[G];x=x<<1&24|K<<2|A<<1|O;A=a[x];D|=A<<24;pa[G>>2]=D;0<A?(q+=1,0===(x&8)&&(m+=1),p|=n,k|=Q):0!==(x&8)&&(r+=1);e|=J;Q>>=1;G+=1;J=K;A=fa[G];K=Z[G+1];O=Y[G];x=x<<1&24|K<<2|A<<1|O;D=a[x];0<D?(q+=1,0===(x&8)&&(m+=1),p|=n,k|=Q):0!==(x&8)&&(r+=
1);e|=J;Q>>=1;G+=1;J=K;A=fa[G];K=Z[G+1];O=Y[G];x=x<<1&24|K<<2|A<<1|O;A=a[x];D|=A<<8;0<A?(q+=1,0===(x&8)&&(m+=1),p|=n,k|=Q):0!==(x&8)&&(r+=1);e|=J;Q>>=1;G+=1;J=K;A=fa[G];K=Z[G+1];O=Y[G];x=x<<1&24|K<<2|A<<1|O;A=a[x];D|=A<<16;0<A?(q+=1,0===(x&8)&&(m+=1),p|=n,k|=Q):0!==(x&8)&&(r+=1);e|=J;Q>>=1;G+=1;J=K;A=fa[G];K=Z[G+1];O=Y[G];x=x<<1&24|K<<2|A<<1|O;A=a[x];D|=A<<24;pa[G>>2]=D;0<A?(q+=1,0===(x&8)&&(m+=1),p|=n,k|=Q):0!==(x&8)&&(r+=1);e|=J;Q>>=1;G+=1;J=K;A=fa[G];K=Z[G+1];O=Y[G];x=x<<1&24|K<<2|A<<1|O;D=a[x];
0<D?(q+=1,0===(x&8)&&(m+=1),p|=n,k|=Q):0!==(x&8)&&(r+=1);e|=J;Q>>=1;G+=1;J=K;A=fa[G];K=Z[G+1];O=Y[G];x=x<<1&24|K<<2|A<<1|O;A=a[x];D|=A<<8;0<A?(q+=1,0===(x&8)&&(m+=1),p|=n,k|=Q):0!==(x&8)&&(r+=1);e|=J;Q>>=1;G+=1;J=K;A=fa[G];K=Z[G+1];O=Y[G];x=x<<1&24|K<<2|A<<1|O;A=a[x];D|=A<<16;0<A?(q+=1,0===(x&8)&&(m+=1),p|=n,k|=Q):0!==(x&8)&&(r+=1);e|=J;Q>>=1;G+=1;J=K;A=fa[G];K=G===u-1?0:Z[G+1];O=Y[G];x=x<<1&24|K<<2|A<<1|O;A=a[x];D|=A<<24;pa[G>>2]=D;0<A?(q+=1,0===(x&8)&&(m+=1),p|=n,k|=Q):0!==(x&8)&&(r+=1);e|=J;na+=
1;n>>=1}g[I>>4]|=k;k?(ia|=1<<b,p&1&&(W|=y.La,k&32768&&(W|=y.Sa),k&1&&(W|=y.Ka)),p&32768&&(W|=y.Oa,k&32768&&(W|=y.Qa),k&1&&(W|=y.Ra)),k&32768&&(W|=y.Ja),k&1&&(W|=y.Ga),W&&(0!==(W&y.Ja)&&(15>b?ia|=1<<b+1:0<d&&0<I&&(P[d-1]|=1)),0!==(W&y.Ga)&&(0<b?ia|=1<<b-1:d<w-1&&I<u-1&&(P[d+1]|=32768)),0!==(W&y.Oa)&&(oa|=1<<b),0!==(W&y.La)&&(ja|=1<<b),0!==(W&y.Qa)&&(15>b?oa|=1<<b+1:0<d&&0<I&&(aa[d-1]|=1)),0!==(W&y.Ra)&&(0<b?oa|=1<<b-1:d<w-1&&I<u-1&&(aa[d+1]|=32768)),0!==(W&y.Sa)&&(15>b?ja|=1<<b+1:0<d&&0<I&&(ma[d-1]|=
1)),0!==(W&y.Ka)&&(0<b?ja|=1<<b-1:d<w-1&&I<u-1&&(ma[d+1]|=32768)))):e&&(ca|=1<<b);l[c]|=p}I+=16}P[d]|=ia;0<c&&(aa[d]|=oa);c<B-1&&(ma[d]|=ja)}else I+=256;S[d]=ca}V+=16;X+=16}this.dc(g,l,u,v,t);z.fill(0);this.ac(H);for(na=0;na<this.m.o.length;na+=1)this.m.o[na]=this.m.o[na]|M.o[na]|N.o[na];this.B=q;this.na=m;this.ga=r};qa.prototype.Mk=function(){var a=this.ua,b,c,d,f=this.ta,e,g=this.V,k,l=this.Y,p,n,q=0,m=0,r=0,u=this.width,t=this.A,v=this.height,B=this.I,w=this.F>>4,z=this.ba;if(0!==(this.counter&
1)){var E=this.P;var H=this.Pa;var L=this.Ua;var M=this.H;var N=this.j}else E=this.h,H=this.Ua,L=this.Pa,M=this.j,N=this.H;g.fill(0);l.fill(0);var V=0;var X=V+16;N.o.fill(0);for(c=0;c<M.length;c+=1){var I=0;var R=M[c];var P=N[c];var S=f[c];var aa=0<c?N[c-1]:z;var ma=c<B-1?N[c+1]:z;for(d=0;d<w;d+=1){var ea=R[d];var ca=0;if(ea){var ia=P[d];var oa=aa[d];var ja=ma[d];for(b=15;0<=b;--b){if(0!==(ea&1<<b)){var W=p=k=e=0;var na=V;for(n=32768;na<X;){var fa=0===na?this.ia:E[na-1];var Z=E[na];var Y=na===this.height-
1?this.ia:E[na+1];var pa=L[na];var Q=32768;var G=I;var A=fa[G];var K=Z[G+1];var O=Y[G];var J=Z[G];var x=0===G?J<<6|K<<4|A<<2|O:Z[G-1]<<8|J<<6|K<<4|A<<2|O;var D=a[x];0<D?(q+=1,0===(x&192)&&(m+=1),p|=n,k|=Q):0!==(x&192)&&(r+=1);e|=J;Q>>=1;G+=1;J=K;A=fa[G];K=Z[G+1];O=Y[G];x=x<<2&960|K<<4|A<<2|O;A=a[x];D|=A<<8;0<A?(q+=1,0===(x&192)&&(m+=1),p|=n,k|=Q):0!==(x&192)&&(r+=1);e|=J;Q>>=1;G+=1;J=K;A=fa[G];K=Z[G+1];O=Y[G];x=x<<2&960|K<<4|A<<2|O;A=a[x];D|=A<<16;0<A?(q+=1,0===(x&192)&&(m+=1),p|=n,k|=Q):0!==(x&192)&&
(r+=1);e|=J;Q>>=1;G+=1;J=K;A=fa[G];K=Z[G+1];O=Y[G];x=x<<2&960|K<<4|A<<2|O;A=a[x];D|=A<<24;pa[G>>2]=D;0<A?(q+=1,0===(x&192)&&(m+=1),p|=n,k|=Q):0!==(x&192)&&(r+=1);e|=J;Q>>=1;G+=1;J=K;A=fa[G];K=Z[G+1];O=Y[G];x=x<<2&960|K<<4|A<<2|O;D=a[x];0<D?(q+=1,0===(x&192)&&(m+=1),p|=n,k|=Q):0!==(x&192)&&(r+=1);e|=J;Q>>=1;G+=1;J=K;A=fa[G];K=Z[G+1];O=Y[G];x=x<<2&960|K<<4|A<<2|O;A=a[x];D|=A<<8;0<A?(q+=1,0===(x&192)&&(m+=1),p|=n,k|=Q):0!==(x&192)&&(r+=1);e|=J;Q>>=1;G+=1;J=K;A=fa[G];K=Z[G+1];O=Y[G];x=x<<2&960|K<<4|A<<
2|O;A=a[x];D|=A<<16;0<A?(q+=1,0===(x&192)&&(m+=1),p|=n,k|=Q):0!==(x&192)&&(r+=1);e|=J;Q>>=1;G+=1;J=K;A=fa[G];K=Z[G+1];O=Y[G];x=x<<2&960|K<<4|A<<2|O;A=a[x];D|=A<<24;pa[G>>2]=D;0<A?(q+=1,0===(x&192)&&(m+=1),p|=n,k|=Q):0!==(x&192)&&(r+=1);e|=J;Q>>=1;G+=1;J=K;A=fa[G];K=Z[G+1];O=Y[G];x=x<<2&960|K<<4|A<<2|O;D=a[x];0<D?(q+=1,0===(x&192)&&(m+=1),p|=n,k|=Q):0!==(x&192)&&(r+=1);e|=J;Q>>=1;G+=1;J=K;A=fa[G];K=Z[G+1];O=Y[G];x=x<<2&960|K<<4|A<<2|O;A=a[x];D|=A<<8;0<A?(q+=1,0===(x&192)&&(m+=1),p|=n,k|=Q):0!==(x&
192)&&(r+=1);e|=J;Q>>=1;G+=1;J=K;A=fa[G];K=Z[G+1];O=Y[G];x=x<<2&960|K<<4|A<<2|O;A=a[x];D|=A<<16;0<A?(q+=1,0===(x&192)&&(m+=1),p|=n,k|=Q):0!==(x&192)&&(r+=1);e|=J;Q>>=1;G+=1;J=K;A=fa[G];K=Z[G+1];O=Y[G];x=x<<2&960|K<<4|A<<2|O;A=a[x];D|=A<<24;pa[G>>2]=D;0<A?(q+=1,0===(x&192)&&(m+=1),p|=n,k|=Q):0!==(x&192)&&(r+=1);e|=J;Q>>=1;G+=1;J=K;A=fa[G];K=Z[G+1];O=Y[G];x=x<<2&960|K<<4|A<<2|O;D=a[x];0<D?(q+=1,0===(x&192)&&(m+=1),p|=n,k|=Q):0!==(x&192)&&(r+=1);e|=J;Q>>=1;G+=1;J=K;A=fa[G];K=Z[G+1];O=Y[G];x=x<<2&960|
K<<4|A<<2|O;A=a[x];D|=A<<8;0<A?(q+=1,0===(x&192)&&(m+=1),p|=n,k|=Q):0!==(x&192)&&(r+=1);e|=J;Q>>=1;G+=1;J=K;A=fa[G];K=Z[G+1];O=Y[G];x=x<<2&960|K<<4|A<<2|O;A=a[x];D|=A<<16;0<A?(q+=1,0===(x&192)&&(m+=1),p|=n,k|=Q):0!==(x&192)&&(r+=1);e|=J;Q>>=1;G+=1;J=K;A=fa[G];K=G===u-1?0:Z[G+1];O=Y[G];x=x<<2&960|K<<4|A<<2|O;A=a[x];D|=A<<24;pa[G>>2]=D;0<A?(q+=1,0===(x&192)&&(m+=1),p|=n,k|=Q):0!==(x&192)&&(r+=1);e|=J;na+=1;n>>=1}g[I>>4]|=k;k?(ia|=1<<b,p&1&&(W|=y.La,k&32768&&(W|=y.Sa),k&1&&(W|=y.Ka)),p&32768&&(W|=y.Oa,
k&32768&&(W|=y.Qa),k&1&&(W|=y.Ra)),k&32768&&(W|=y.Ja),k&1&&(W|=y.Ga),W&&(0!==(W&y.Ja)&&(15>b?ia|=1<<b+1:0<d&&0<I&&(P[d-1]|=1)),0!==(W&y.Ga)&&(0<b?ia|=1<<b-1:d<w-1&&I<u-1&&(P[d+1]|=32768)),0!==(W&y.Oa)&&(oa|=1<<b),0!==(W&y.La)&&(ja|=1<<b),0!==(W&y.Qa)&&(15>b?oa|=1<<b+1:0<d&&0<I&&(aa[d-1]|=1)),0!==(W&y.Ra)&&(0<b?oa|=1<<b-1:d<w-1&&I<u-1&&(aa[d+1]|=32768)),0!==(W&y.Sa)&&(15>b?ja|=1<<b+1:0<d&&0<I&&(ma[d-1]|=1)),0!==(W&y.Ka)&&(0<b?ja|=1<<b-1:d<w-1&&I<u-1&&(ma[d+1]|=32768)))):e&&(ca|=1<<b);l[c]|=p}I+=16}P[d]|=
ia;0<c&&(aa[d]|=oa);c<B-1&&(ma[d]|=ja)}else I+=256;S[d]=ca}V+=16;X+=16}this.dc(g,l,u,v,t);z.fill(0);this.ac(H);for(na=0;na<this.m.o.length;na+=1)this.m.o[na]=this.m.o[na]|M.o[na]|N.o[na];this.B=q;this.na=m;this.ga=r};qa.prototype.Pk=function(){var a=this.ua,b,c,d,f=this.ta,e,g=this.V,k,l=this.Y,p,n,q=0,m=0,r=0,u=this.width,t=this.A,v=this.height,B=this.I,w=this.F>>4,z=this.ba;if(0!==(this.counter&1)){var E=this.P;var H=this.Pa;var L=this.Ua;var M=this.H;var N=this.j}else E=this.h,H=this.Ua,L=this.Pa,
M=this.j,N=this.H;g.fill(0);l.fill(0);var V=0;var X=V+16;N.o.fill(0);for(c=0;c<M.length;c+=1){var I=0;var R=M[c];var P=N[c];var S=f[c];var aa=0<c?N[c-1]:z;var ma=c<B-1?N[c+1]:z;for(d=0;d<w;d+=1){var ea=R[d];var ca=0;if(ea){var ia=P[d];var oa=aa[d];var ja=ma[d];for(b=15;0<=b;--b){if(0!==(ea&1<<b)){var W=p=k=e=0;var na=V;for(n=32768;na<X;){var fa=0===na?this.ia:E[na-1];var Z=E[na];var Y=na===this.height-1?this.ia:E[na+1];var pa=L[na];var Q=32768;var G=I;var A=fa[G];var K=Z[G+1];var O=Y[G];var J=Z[G];
var x=0===G?J<<9|K<<6|A<<3|O:Z[G-1]<<12|J<<9|K<<6|A<<3|O;var D=a[x];0<D?(q+=1,0===(x&3584)&&(m+=1),p|=n,k|=Q):0!==(x&3584)&&(r+=1);e|=J;Q>>=1;G+=1;J=K;A=fa[G];K=Z[G+1];O=Y[G];x=x<<3&32256|K<<6|A<<3|O;A=a[x];D|=A<<8;0<A?(q+=1,0===(x&3584)&&(m+=1),p|=n,k|=Q):0!==(x&3584)&&(r+=1);e|=J;Q>>=1;G+=1;J=K;A=fa[G];K=Z[G+1];O=Y[G];x=x<<3&32256|K<<6|A<<3|O;A=a[x];D|=A<<16;0<A?(q+=1,0===(x&3584)&&(m+=1),p|=n,k|=Q):0!==(x&3584)&&(r+=1);e|=J;Q>>=1;G+=1;J=K;A=fa[G];K=Z[G+1];O=Y[G];x=x<<3&32256|K<<6|A<<3|O;A=a[x];
D|=A<<24;pa[G>>2]=D;0<A?(q+=1,0===(x&3584)&&(m+=1),p|=n,k|=Q):0!==(x&3584)&&(r+=1);e|=J;Q>>=1;G+=1;J=K;A=fa[G];K=Z[G+1];O=Y[G];x=x<<3&32256|K<<6|A<<3|O;D=a[x];0<D?(q+=1,0===(x&3584)&&(m+=1),p|=n,k|=Q):0!==(x&3584)&&(r+=1);e|=J;Q>>=1;G+=1;J=K;A=fa[G];K=Z[G+1];O=Y[G];x=x<<3&32256|K<<6|A<<3|O;A=a[x];D|=A<<8;0<A?(q+=1,0===(x&3584)&&(m+=1),p|=n,k|=Q):0!==(x&3584)&&(r+=1);e|=J;Q>>=1;G+=1;J=K;A=fa[G];K=Z[G+1];O=Y[G];x=x<<3&32256|K<<6|A<<3|O;A=a[x];D|=A<<16;0<A?(q+=1,0===(x&3584)&&(m+=1),p|=n,k|=Q):0!==(x&
3584)&&(r+=1);e|=J;Q>>=1;G+=1;J=K;A=fa[G];K=Z[G+1];O=Y[G];x=x<<3&32256|K<<6|A<<3|O;A=a[x];D|=A<<24;pa[G>>2]=D;0<A?(q+=1,0===(x&3584)&&(m+=1),p|=n,k|=Q):0!==(x&3584)&&(r+=1);e|=J;Q>>=1;G+=1;J=K;A=fa[G];K=Z[G+1];O=Y[G];x=x<<3&32256|K<<6|A<<3|O;D=a[x];0<D?(q+=1,0===(x&3584)&&(m+=1),p|=n,k|=Q):0!==(x&3584)&&(r+=1);e|=J;Q>>=1;G+=1;J=K;A=fa[G];K=Z[G+1];O=Y[G];x=x<<3&32256|K<<6|A<<3|O;A=a[x];D|=A<<8;0<A?(q+=1,0===(x&3584)&&(m+=1),p|=n,k|=Q):0!==(x&3584)&&(r+=1);e|=J;Q>>=1;G+=1;J=K;A=fa[G];K=Z[G+1];O=Y[G];
x=x<<3&32256|K<<6|A<<3|O;A=a[x];D|=A<<16;0<A?(q+=1,0===(x&3584)&&(m+=1),p|=n,k|=Q):0!==(x&3584)&&(r+=1);e|=J;Q>>=1;G+=1;J=K;A=fa[G];K=Z[G+1];O=Y[G];x=x<<3&32256|K<<6|A<<3|O;A=a[x];D|=A<<24;pa[G>>2]=D;0<A?(q+=1,0===(x&3584)&&(m+=1),p|=n,k|=Q):0!==(x&3584)&&(r+=1);e|=J;Q>>=1;G+=1;J=K;A=fa[G];K=Z[G+1];O=Y[G];x=x<<3&32256|K<<6|A<<3|O;D=a[x];0<D?(q+=1,0===(x&3584)&&(m+=1),p|=n,k|=Q):0!==(x&3584)&&(r+=1);e|=J;Q>>=1;G+=1;J=K;A=fa[G];K=Z[G+1];O=Y[G];x=x<<3&32256|K<<6|A<<3|O;A=a[x];D|=A<<8;0<A?(q+=1,0===(x&
3584)&&(m+=1),p|=n,k|=Q):0!==(x&3584)&&(r+=1);e|=J;Q>>=1;G+=1;J=K;A=fa[G];K=Z[G+1];O=Y[G];x=x<<3&32256|K<<6|A<<3|O;A=a[x];D|=A<<16;0<A?(q+=1,0===(x&3584)&&(m+=1),p|=n,k|=Q):0!==(x&3584)&&(r+=1);e|=J;Q>>=1;G+=1;J=K;A=fa[G];K=G===u-1?0:Z[G+1];O=Y[G];x=x<<3&32256|K<<6|A<<3|O;A=a[x];D|=A<<24;pa[G>>2]=D;0<A?(q+=1,0===(x&3584)&&(m+=1),p|=n,k|=Q):0!==(x&3584)&&(r+=1);e|=J;na+=1;n>>=1}g[I>>4]|=k;k?(ia|=1<<b,p&1&&(W|=y.La,k&32768&&(W|=y.Sa),k&1&&(W|=y.Ka)),p&32768&&(W|=y.Oa,k&32768&&(W|=y.Qa),k&1&&(W|=y.Ra)),
k&32768&&(W|=y.Ja),k&1&&(W|=y.Ga),W&&(0!==(W&y.Ja)&&(15>b?ia|=1<<b+1:0<d&&0<I&&(P[d-1]|=1)),0!==(W&y.Ga)&&(0<b?ia|=1<<b-1:d<w-1&&I<u-1&&(P[d+1]|=32768)),0!==(W&y.Oa)&&(oa|=1<<b),0!==(W&y.La)&&(ja|=1<<b),0!==(W&y.Qa)&&(15>b?oa|=1<<b+1:0<d&&0<I&&(aa[d-1]|=1)),0!==(W&y.Ra)&&(0<b?oa|=1<<b-1:d<w-1&&I<u-1&&(aa[d+1]|=32768)),0!==(W&y.Sa)&&(15>b?ja|=1<<b+1:0<d&&0<I&&(ma[d-1]|=1)),0!==(W&y.Ka)&&(0<b?ja|=1<<b-1:d<w-1&&I<u-1&&(ma[d+1]|=32768)))):e&&(ca|=1<<b);l[c]|=p}I+=16}P[d]|=ia;0<c&&(aa[d]|=oa);c<B-1&&(ma[d]|=
ja)}else I+=256;S[d]=ca}V+=16;X+=16}this.dc(g,l,u,v,t);z.fill(0);this.ac(H);for(na=0;na<this.m.o.length;na+=1)this.m.o[na]=this.m.o[na]|M.o[na]|N.o[na];this.B=q;this.na=m;this.ga=r};qa.prototype.Qk=function(){var a=this.ua,b,c,d,f=this.ta,e,g=this.V,k,l=this.Y,p,n,q=0,m=0,r=0,u=this.width,t=this.A,v=this.height,B=this.I,w=this.F>>4,z=this.ba;if(0!==(this.counter&1)){var E=this.P;var H=this.Pa;var L=this.Ua;var M=this.H;var N=this.j}else E=this.h,H=this.Ua,L=this.Pa,M=this.j,N=this.H;g.fill(0);l.fill(0);
var V=0;var X=V+16;N.o.fill(0);for(c=0;c<M.length;c+=1){var I=0;var R=M[c];var P=N[c];var S=f[c];var aa=0<c?N[c-1]:z;var ma=c<B-1?N[c+1]:z;for(d=0;d<w;d+=1){var ea=R[d];var ca=0;if(ea){var ia=P[d];var oa=aa[d];var ja=ma[d];for(b=15;0<=b;--b){if(0!==(ea&1<<b)){var W=p=k=e=0;var na=V;for(n=32768;na<X;){var fa=0===na?this.ia:E[na-1];var Z=E[na];var Y=na===this.height-1?this.ia:E[na+1];var pa=L[na];var Q=32768;var G=I;var A=fa[G];var K=Z[G+1];var O=Y[G];var J=Z[G];var x=0===G?J<<12|K<<8|A<<4|O:Z[G-1]<<
16|J<<12|K<<8|A<<4|O;var D=a[x];0<D?(q+=1,0===(x&61440)&&(m+=1),p|=n,k|=Q):0!==(x&61440)&&(r+=1);e|=J;Q>>=1;G+=1;J=K;A=fa[G];K=Z[G+1];O=Y[G];x=x<<4&1044480|K<<8|A<<4|O;A=a[x];D|=A<<8;0<A?(q+=1,0===(x&61440)&&(m+=1),p|=n,k|=Q):0!==(x&61440)&&(r+=1);e|=J;Q>>=1;G+=1;J=K;A=fa[G];K=Z[G+1];O=Y[G];x=x<<4&1044480|K<<8|A<<4|O;A=a[x];D|=A<<16;0<A?(q+=1,0===(x&61440)&&(m+=1),p|=n,k|=Q):0!==(x&61440)&&(r+=1);e|=J;Q>>=1;G+=1;J=K;A=fa[G];K=Z[G+1];O=Y[G];x=x<<4&1044480|K<<8|A<<4|O;A=a[x];D|=A<<24;pa[G>>2]=D;0<A?
(q+=1,0===(x&61440)&&(m+=1),p|=n,k|=Q):0!==(x&61440)&&(r+=1);e|=J;Q>>=1;G+=1;J=K;A=fa[G];K=Z[G+1];O=Y[G];x=x<<4&1044480|K<<8|A<<4|O;D=a[x];0<D?(q+=1,0===(x&61440)&&(m+=1),p|=n,k|=Q):0!==(x&61440)&&(r+=1);e|=J;Q>>=1;G+=1;J=K;A=fa[G];K=Z[G+1];O=Y[G];x=x<<4&1044480|K<<8|A<<4|O;A=a[x];D|=A<<8;0<A?(q+=1,0===(x&61440)&&(m+=1),p|=n,k|=Q):0!==(x&61440)&&(r+=1);e|=J;Q>>=1;G+=1;J=K;A=fa[G];K=Z[G+1];O=Y[G];x=x<<4&1044480|K<<8|A<<4|O;A=a[x];D|=A<<16;0<A?(q+=1,0===(x&61440)&&(m+=1),p|=n,k|=Q):0!==(x&61440)&&(r+=
1);e|=J;Q>>=1;G+=1;J=K;A=fa[G];K=Z[G+1];O=Y[G];x=x<<4&1044480|K<<8|A<<4|O;A=a[x];D|=A<<24;pa[G>>2]=D;0<A?(q+=1,0===(x&61440)&&(m+=1),p|=n,k|=Q):0!==(x&61440)&&(r+=1);e|=J;Q>>=1;G+=1;J=K;A=fa[G];K=Z[G+1];O=Y[G];x=x<<4&1044480|K<<8|A<<4|O;D=a[x];0<D?(q+=1,0===(x&61440)&&(m+=1),p|=n,k|=Q):0!==(x&61440)&&(r+=1);e|=J;Q>>=1;G+=1;J=K;A=fa[G];K=Z[G+1];O=Y[G];x=x<<4&1044480|K<<8|A<<4|O;A=a[x];D|=A<<8;0<A?(q+=1,0===(x&61440)&&(m+=1),p|=n,k|=Q):0!==(x&61440)&&(r+=1);e|=J;Q>>=1;G+=1;J=K;A=fa[G];K=Z[G+1];O=Y[G];
x=x<<4&1044480|K<<8|A<<4|O;A=a[x];D|=A<<16;0<A?(q+=1,0===(x&61440)&&(m+=1),p|=n,k|=Q):0!==(x&61440)&&(r+=1);e|=J;Q>>=1;G+=1;J=K;A=fa[G];K=Z[G+1];O=Y[G];x=x<<4&1044480|K<<8|A<<4|O;A=a[x];D|=A<<24;pa[G>>2]=D;0<A?(q+=1,0===(x&61440)&&(m+=1),p|=n,k|=Q):0!==(x&61440)&&(r+=1);e|=J;Q>>=1;G+=1;J=K;A=fa[G];K=Z[G+1];O=Y[G];x=x<<4&1044480|K<<8|A<<4|O;D=a[x];0<D?(q+=1,0===(x&61440)&&(m+=1),p|=n,k|=Q):0!==(x&61440)&&(r+=1);e|=J;Q>>=1;G+=1;J=K;A=fa[G];K=Z[G+1];O=Y[G];x=x<<4&1044480|K<<8|A<<4|O;A=a[x];D|=A<<8;0<
A?(q+=1,0===(x&61440)&&(m+=1),p|=n,k|=Q):0!==(x&61440)&&(r+=1);e|=J;Q>>=1;G+=1;J=K;A=fa[G];K=Z[G+1];O=Y[G];x=x<<4&1044480|K<<8|A<<4|O;A=a[x];D|=A<<16;0<A?(q+=1,0===(x&61440)&&(m+=1),p|=n,k|=Q):0!==(x&61440)&&(r+=1);e|=J;Q>>=1;G+=1;J=K;A=fa[G];K=G===u-1?0:Z[G+1];O=Y[G];x=x<<4&1044480|K<<8|A<<4|O;A=a[x];D|=A<<24;pa[G>>2]=D;0<A?(q+=1,0===(x&61440)&&(m+=1),p|=n,k|=Q):0!==(x&61440)&&(r+=1);e|=J;na+=1;n>>=1}g[I>>4]|=k;k?(ia|=1<<b,p&1&&(W|=y.La,k&32768&&(W|=y.Sa),k&1&&(W|=y.Ka)),p&32768&&(W|=y.Oa,k&32768&&
(W|=y.Qa),k&1&&(W|=y.Ra)),k&32768&&(W|=y.Ja),k&1&&(W|=y.Ga),W&&(0!==(W&y.Ja)&&(15>b?ia|=1<<b+1:0<d&&0<I&&(P[d-1]|=1)),0!==(W&y.Ga)&&(0<b?ia|=1<<b-1:d<w-1&&I<u-1&&(P[d+1]|=32768)),0!==(W&y.Oa)&&(oa|=1<<b),0!==(W&y.La)&&(ja|=1<<b),0!==(W&y.Qa)&&(15>b?oa|=1<<b+1:0<d&&0<I&&(aa[d-1]|=1)),0!==(W&y.Ra)&&(0<b?oa|=1<<b-1:d<w-1&&I<u-1&&(aa[d+1]|=32768)),0!==(W&y.Sa)&&(15>b?ja|=1<<b+1:0<d&&0<I&&(ma[d-1]|=1)),0!==(W&y.Ka)&&(0<b?ja|=1<<b-1:d<w-1&&I<u-1&&(ma[d+1]|=32768)))):e&&(ca|=1<<b);l[c]|=p}I+=16}P[d]|=ia;
0<c&&(aa[d]|=oa);c<B-1&&(ma[d]|=ja)}else I+=256;S[d]=ca}V+=16;X+=16}this.dc(g,l,u,v,t);z.fill(0);this.ac(H);for(na=0;na<this.m.o.length;na+=1)this.m.o[na]=this.m.o[na]|M.o[na]|N.o[na];this.B=q;this.na=m;this.ga=r};qa.prototype.Rk=function(){var a=this.ua,b,c,d,f=this.ta,e,g=this.V,k,l=this.Y,p,n,q=0,m=0,r=0,u=this.width,t=this.A,v=this.height,B=this.I,w=this.F>>4,z=this.ba;if(0!==(this.counter&1)){var E=this.P;var H=this.Pa;var L=this.Ua;var M=this.H;var N=this.j}else E=this.h,H=this.Ua,L=this.Pa,
M=this.j,N=this.H;g.fill(0);l.fill(0);var V=0;var X=V+16;N.o.fill(0);for(c=0;c<M.length;c+=1){var I=0;var R=M[c];var P=N[c];var S=f[c];var aa=0<c?N[c-1]:z;var ma=c<B-1?N[c+1]:z;for(d=0;d<w;d+=1){var ea=R[d];var ca=0;if(ea){var ia=P[d];var oa=aa[d];var ja=ma[d];for(b=15;0<=b;--b){if(0!==(ea&1<<b)){var W=p=k=e=0;var na=V;for(n=32768;na<X;){var fa=0===na?this.ia:E[na-1];var Z=E[na];var Y=na===this.height-1?this.ia:E[na+1];var pa=L[na];var Q=32768;var G=I;var A=fa[G];var K=Z[G+1];var O=Y[G];var J=Z[G];
var x=0===G?J<<15|K<<10|A<<5|O:Z[G-1]<<20|J<<15|K<<10|A<<5|O;var D=a[x];0<D?(q+=1,0===(x&1015808)&&(m+=1),p|=n,k|=Q):0!==(x&1015808)&&(r+=1);e|=J;Q>>=1;G+=1;J=K;A=fa[G];K=Z[G+1];O=Y[G];x=x<<5&33521664|K<<10|A<<5|O;A=a[x];D|=A<<8;0<A?(q+=1,0===(x&1015808)&&(m+=1),p|=n,k|=Q):0!==(x&1015808)&&(r+=1);e|=J;Q>>=1;G+=1;J=K;A=fa[G];K=Z[G+1];O=Y[G];x=x<<5&33521664|K<<10|A<<5|O;A=a[x];D|=A<<16;0<A?(q+=1,0===(x&1015808)&&(m+=1),p|=n,k|=Q):0!==(x&1015808)&&(r+=1);e|=J;Q>>=1;G+=1;J=K;A=fa[G];K=Z[G+1];O=Y[G];x=
x<<5&33521664|K<<10|A<<5|O;A=a[x];D|=A<<24;pa[G>>2]=D;0<A?(q+=1,0===(x&1015808)&&(m+=1),p|=n,k|=Q):0!==(x&1015808)&&(r+=1);e|=J;Q>>=1;G+=1;J=K;A=fa[G];K=Z[G+1];O=Y[G];x=x<<5&33521664|K<<10|A<<5|O;D=a[x];0<D?(q+=1,0===(x&1015808)&&(m+=1),p|=n,k|=Q):0!==(x&1015808)&&(r+=1);e|=J;Q>>=1;G+=1;J=K;A=fa[G];K=Z[G+1];O=Y[G];x=x<<5&33521664|K<<10|A<<5|O;A=a[x];D|=A<<8;0<A?(q+=1,0===(x&1015808)&&(m+=1),p|=n,k|=Q):0!==(x&1015808)&&(r+=1);e|=J;Q>>=1;G+=1;J=K;A=fa[G];K=Z[G+1];O=Y[G];x=x<<5&33521664|K<<10|A<<5|O;
A=a[x];D|=A<<16;0<A?(q+=1,0===(x&1015808)&&(m+=1),p|=n,k|=Q):0!==(x&1015808)&&(r+=1);e|=J;Q>>=1;G+=1;J=K;A=fa[G];K=Z[G+1];O=Y[G];x=x<<5&33521664|K<<10|A<<5|O;A=a[x];D|=A<<24;pa[G>>2]=D;0<A?(q+=1,0===(x&1015808)&&(m+=1),p|=n,k|=Q):0!==(x&1015808)&&(r+=1);e|=J;Q>>=1;G+=1;J=K;A=fa[G];K=Z[G+1];O=Y[G];x=x<<5&33521664|K<<10|A<<5|O;D=a[x];0<D?(q+=1,0===(x&1015808)&&(m+=1),p|=n,k|=Q):0!==(x&1015808)&&(r+=1);e|=J;Q>>=1;G+=1;J=K;A=fa[G];K=Z[G+1];O=Y[G];x=x<<5&33521664|K<<10|A<<5|O;A=a[x];D|=A<<8;0<A?(q+=1,
0===(x&1015808)&&(m+=1),p|=n,k|=Q):0!==(x&1015808)&&(r+=1);e|=J;Q>>=1;G+=1;J=K;A=fa[G];K=Z[G+1];O=Y[G];x=x<<5&33521664|K<<10|A<<5|O;A=a[x];D|=A<<16;0<A?(q+=1,0===(x&1015808)&&(m+=1),p|=n,k|=Q):0!==(x&1015808)&&(r+=1);e|=J;Q>>=1;G+=1;J=K;A=fa[G];K=Z[G+1];O=Y[G];x=x<<5&33521664|K<<10|A<<5|O;A=a[x];D|=A<<24;pa[G>>2]=D;0<A?(q+=1,0===(x&1015808)&&(m+=1),p|=n,k|=Q):0!==(x&1015808)&&(r+=1);e|=J;Q>>=1;G+=1;J=K;A=fa[G];K=Z[G+1];O=Y[G];x=x<<5&33521664|K<<10|A<<5|O;D=a[x];0<D?(q+=1,0===(x&1015808)&&(m+=1),p|=
n,k|=Q):0!==(x&1015808)&&(r+=1);e|=J;Q>>=1;G+=1;J=K;A=fa[G];K=Z[G+1];O=Y[G];x=x<<5&33521664|K<<10|A<<5|O;A=a[x];D|=A<<8;0<A?(q+=1,0===(x&1015808)&&(m+=1),p|=n,k|=Q):0!==(x&1015808)&&(r+=1);e|=J;Q>>=1;G+=1;J=K;A=fa[G];K=Z[G+1];O=Y[G];x=x<<5&33521664|K<<10|A<<5|O;A=a[x];D|=A<<16;0<A?(q+=1,0===(x&1015808)&&(m+=1),p|=n,k|=Q):0!==(x&1015808)&&(r+=1);e|=J;Q>>=1;G+=1;J=K;A=fa[G];K=G===u-1?0:Z[G+1];O=Y[G];x=x<<5&33521664|K<<10|A<<5|O;A=a[x];D|=A<<24;pa[G>>2]=D;0<A?(q+=1,0===(x&1015808)&&(m+=1),p|=n,k|=Q):
0!==(x&1015808)&&(r+=1);e|=J;na+=1;n>>=1}g[I>>4]|=k;k?(ia|=1<<b,p&1&&(W|=y.La,k&32768&&(W|=y.Sa),k&1&&(W|=y.Ka)),p&32768&&(W|=y.Oa,k&32768&&(W|=y.Qa),k&1&&(W|=y.Ra)),k&32768&&(W|=y.Ja),k&1&&(W|=y.Ga),W&&(0!==(W&y.Ja)&&(15>b?ia|=1<<b+1:0<d&&0<I&&(P[d-1]|=1)),0!==(W&y.Ga)&&(0<b?ia|=1<<b-1:d<w-1&&I<u-1&&(P[d+1]|=32768)),0!==(W&y.Oa)&&(oa|=1<<b),0!==(W&y.La)&&(ja|=1<<b),0!==(W&y.Qa)&&(15>b?oa|=1<<b+1:0<d&&0<I&&(aa[d-1]|=1)),0!==(W&y.Ra)&&(0<b?oa|=1<<b-1:d<w-1&&I<u-1&&(aa[d+1]|=32768)),0!==(W&y.Sa)&&(15>
b?ja|=1<<b+1:0<d&&0<I&&(ma[d-1]|=1)),0!==(W&y.Ka)&&(0<b?ja|=1<<b-1:d<w-1&&I<u-1&&(ma[d+1]|=32768)))):e&&(ca|=1<<b);l[c]|=p}I+=16}P[d]|=ia;0<c&&(aa[d]|=oa);c<B-1&&(ma[d]|=ja)}else I+=256;S[d]=ca}V+=16;X+=16}this.dc(g,l,u,v,t);z.fill(0);this.ac(H);for(na=0;na<this.m.o.length;na+=1)this.m.o[na]=this.m.o[na]|M.o[na]|N.o[na];this.B=q;this.na=m;this.ga=r};qa.prototype.vp=function(){var a=this.ze,b=this.A,c=this.mb,d=c.J;var f=c.K;var e=c.L,g=c.N,k=0,l=0,p=0,n=this.width,q=this.height,m=0,r=0,u=this.width,
t=this.height,v=0,B=0,w=this.m,z,E=this.ic,H=this.u,L=0<this.u?1:0;var M=this.ca;var N=this.$;var V=Math.round((this.width-M)/2);var X=Math.round((this.height-N)/2);M=V+M-1;N=X+N-1;-1!==this.S&&(0===this.ca&&(V=0,M=this.width-1),0===this.$&&(X=0,N=this.height-1),d=V+1,f=X+1,e=M-1,g=N-1);this.Ub&&(this.vb=!this.vb,this.Ub=!1);0!==(this.counter&1)?(V=this.P,X=this.h,this.vb&&(a=this.fb?this.Ae:this.Cb)):(V=this.h,X=this.P,this.fb&&(a=this.lf),this.vb&&(a=this.Cb));2>f&&(f=2);g>this.height-3&&(g=this.height-
3);1>d&&(d=1);e>this.width-3&&(e=this.width-3);for(--f;f<=g+1;f+=1){M=V[f-1];var I=V[f];var R=V[f+1];var P=w[f>>4];var S=X[f];var aa=z=!1;var ma=I[d-2];for(N=d-1;N<=e+1;N+=1){var ea=R[N];var ca=I[N+1];var ia=M[N];0<H&&(ea=ea<=H?0:ea-H,ca=ca<=H?0:ca-H,ia=ia<=H?0:ia-H,ma=ma<=H?0:ma-H);ma=ma|ea<<4|ca<<8|ia<<12;ea=a[ma];ma=I[N];0<ea?(k+=E[ea],S[N]=ea+H,z=!0,P[N>>8]=65535,N<n&&(n=N),N>m&&(m=N)):(ea=ma,ea>H?ea=H:ea>L&&--ea,S[N]=ea,0<ea&&(z=!0,N<n&&(n=N),N>m&&(m=N)),ea=0);ma>H?(ma-=H,l+=E[ea&~ma],p+=E[ma&
~ea],ma+=H):l+=E[ea];0<ea&&(N<u&&(u=N),N>v&&(v=N),aa=!0)}z&&(f<q&&(q=f),f>r&&(r=f));aa&&(f<t&&(t=f),f>B&&(B=f))}this.B=k;this.na=l;this.ga=p;c.J=n;c.K=q;c.L=m;c.N=r;b.J=u;b.K=t;b.L=v;b.N=B};qa.prototype.pm=function(){var a=this.le,b=this.m,c=this.wa,d=this.nk,f,e,g;var k=this.I;var l=this.F>>4;var p=0;var n=k;if(0!==(this.counter&1)){var q=this.Va;var m=this.H}else q=this.va,m=this.j;0>p&&(p=0);n>k&&(n=k);k=p<<4;var r=k+16;for(f=p;f<n;f+=1){var u=0;var t=m[f];var v=c[f];var B=b[f];for(e=0;e<l;e+=
1){var w=t[e]|v[e];var z=0;if(w)for(g=15;0<=g;--g){if(0!==(w&1<<g)){var E=0;for(p=k;p<r;){var H=q[p];var L=a[p];var M=u<<3;H=H[u];var N=d[L[M]|(H&49152)<<1];E|=N;L[M]=N;M+=1;N=d[L[M]|(H&12288)<<3];E|=N;L[M]=N;M+=1;N=d[L[M]|(H&3072)<<5];E|=N;L[M]=N;M+=1;N=d[L[M]|(H&768)<<7];E|=N;L[M]=N;M+=1;N=d[L[M]|(H&192)<<9];E|=N;L[M]=N;M+=1;N=d[L[M]|(H&48)<<11];E|=N;L[M]=N;M+=1;N=d[L[M]|(H&12)<<13];E|=N;L[M]=N;M+=1;N=d[L[M]|(H&3)<<15];E|=N;L[M]=N;p+=1}0!==(E&65278)&&(z|=1<<g)}u+=1}else u+=16;v[e]=z;B[e]|=z}k+=
16;r+=16}};qa.prototype.nm=function(){var a=this.Te,b=this.le,c=this.m,d=this.wa,f,e,g;var k=this.I;var l=this.F>>4;var p=0;var n=k;if(0!==(this.counter&1)){var q=this.Va;var m=this.H}else q=this.va,m=this.j;0>p&&(p=0);n>k&&(n=k);k=p<<4;var r=k+16;for(f=p;f<n;f+=1){var u=0;var t=m[f];var v=d[f];var B=c[f];for(e=0;e<l;e+=1){var w=t[e]|v[e];var z=0;if(w)for(g=15;0<=g;--g){if(0!==(w&1<<g)){var E=0;for(p=k;p<r;){var H=q[p];var L=b[p];var M=u<<3;if(H=H[u]){var N=a[H>>14&3];E|=N;L[M]=N;M+=1;N=a[H>>12&3];
E|=N;L[M]=N;M+=1;N=a[H>>10&3];E|=N;L[M]=N;M+=1;N=a[H>>8&3];E|=N;L[M]=N;M+=1;N=a[H>>6&3];E|=N;L[M]=N;M+=1;N=a[H>>4&3];E|=N;L[M]=N;M+=1;N=a[H>>2&3];E|=N;L[M]=N;M+=1;N=a[H&3];E|=N;L[M]=N}else L[M]=0,L[M+1]=0,L[M+2]=0,L[M+3]=0,L[M+4]=0,L[M+5]=0,L[M+6]=0,L[M+7]=0;p+=1}0!==E&&(z|=1<<g)}u+=1}else u+=16;v[e]=z;B[e]|=z}k+=16;r+=16}};qa.prototype.Hj=function(){var a,b,c=this.h,d=this.m,f=this.wa,e=this.Bd,g,k,l,p=y.xa,n=this.F>>4,q=this.I;if(0!==(this.counter&1)){var m=this.Va;var r=this.H}else m=this.va,r=
this.j;var u=0;var t=u+16;for(g=0;g<q;g+=1){var v=0;var B=r[g];var w=f[g];var z=d[g];for(k=0;k<n;k+=1){var E=B[k]|w[k];var H=0;if(E)for(l=15;0<=l;--l){if(0!==(E&1<<l)){var L=0;for(a=u;a<t;){var M=m[a];var N=0===a?e:m[a-1];var V=a>=this.height-1?e:m[a+1];var X=c[a];var I=v<<4;if(b=M[v]){var R=N[v];var P=V[v];var S=15;if(0!==(b&1<<S)){var aa=5*(b&1<<S-1?1:0)+5*(M[v-1]&1)+(R&1<<S-1?1:0)+5*(R&1<<S?1:0)+(N[v-1]&1)+(P&1<<S-1?1:0)+5*(P&1<<S?1:0)+(V[v-1]&1);aa=p+aa;L|=aa}else aa=0;X[I]=aa;I+=1;for(S=14;1<=
S;--S)0!==(b&1<<S)?(aa=5*(b&1<<S-1?1:0)+5*(b&1<<S+1?1:0)+(R&1<<S-1?1:0)+5*(R&1<<S?1:0)+(R&1<<S+1?1:0)+(P&1<<S-1?1:0)+5*(P&1<<S?1:0)+(P&1<<S+1?1:0),aa=p+aa,L|=aa):aa=0,X[I]=aa,I+=1;0!==(b&1<<S)?(aa=5*(M[v+1]>>15)+5*(b&1<<S+1?1:0)+(N[v+1]>>15)+5*(R&1<<S?1:0)+(R&1<<S+1?1:0)+(V[v+1]>>15)+5*(P&1<<S?1:0)+(P&1<<S+1?1:0),aa=p+aa,L|=aa):aa=0;X[I]=aa}else for(S=0;4>S;S+=1)X[I]=0,X[I+1]=0,X[I+2]=0,X[I+3]=0,I+=4;a+=1}L&&(H|=1<<l)}v+=1}else v+=16;w[k]=H;z[k]|=H}u+=16;t+=16}};qa.prototype.om=function(){var a=this.le,
b=this.m,c=this.wa,d=this.Te,f,e,g;var k=this.I;var l=this.F>>4;var p=0;var n=k;if(0!==(this.counter&1)){var q=this.Va;var m=this.H}else q=this.va,m=this.j;0>p&&(p=0);n>k&&(n=k);k=p<<4;var r=k+16;for(f=p;f<n;f+=1){var u=0;var t=m[f];var v=c[f];var B=b[f];for(e=0;e<l;e+=1){var w=t[e]|v[e];var z=0;if(w)for(g=15;0<=g;--g){if(0!==(w&1<<g)){var E=0;for(p=k;p<r;){var H=q[p];var L=a[p];var M=u<<3;if(H=H[u]){var N=d[(H&49152)>>7|p+M+M&127];E|=N;L[M]=N;M+=1;N=d[(H&12288)>>5|p+M+M&127];E|=N;L[M]=N;M+=1;N=d[(H&
3072)>>3|p+M+M&127];E|=N;L[M]=N;M+=1;N=d[(H&768)>>1|p+M+M&127];E|=N;L[M]=N;M+=1;N=d[(H&192)<<1|p+M+M&127];E|=N;L[M]=N;M+=1;N=d[(H&48)<<3|p+M+M&127];E|=N;L[M]=N;M+=1;N=d[(H&12)<<5|p+M+M&127];E|=N;L[M]=N;M+=1;N=d[(H&3)<<7|p+M+M&127];E|=N;L[M]=N}else L[M]=0,L[M+1]=0,L[M+2]=0,L[M+3]=0,L[M+4]=0,L[M+5]=0,L[M+6]=0,L[M+7]=0;p+=1}if(1<(E&255)||1<E>>8)z|=1<<g}u+=1}else u+=16;v[e]=z;B[e]|=z}k+=16;r+=16}};qa.prototype.uk=function(a,b,c,d,f,e,g,k,l,p){var n=this.zb;d=d*a+n.N;c=c*a+n.L;b=b*a+n.K;f=f*a+n.J;n=c-
f+1;a=d-b+1;this.ha&&(n=c-b/2-(f-d/2)+1);0===n&&(n=1);0===a&&(a=1);e/=n;g/=a;p=Math.round(2E4*(e>g?g:e)/p)/2E4;p<k?p=k:p>l&&(p=l);return p};qa.prototype.Qo=function(a){var b=a;1>a&&(b=1/a);var c=Math.round(b);(c<b?c/b:b/c)>=F.XH&&(a=1>a?1/c:c);return a};qa.prototype.bk=function(a,b,c,d,f,e,g,k,l,p,n,q,m){var r=this.A,u=this.zb,t=this.mb,v=this.h,B=0,w=0,z=0;(this.s||this.D||this.v||this.G)&&0!==(this.counter&1)&&(v=this.P);var E=2>=this.i&&!this.D?y.xa:this.u+1;n?r=t:this.Da&&(r=this.ya);if(a===F.Rp){t=
b.J;var H=b.L;var L=b.N;b=b.K}else t=r.J,H=r.L,L=r.N,b=r.K,this.O&&!q&&(u.J<t&&(t=u.J),u.L>H&&(H=u.L),u.N>L&&(L=u.N),u.K<b&&(b=u.K)),-1!==this.S&&(B=this.ca+2,w=this.$+2,2<B?(t=this.width/2-B/2+(B&1)/2,H=this.width/2+B/2):B=H-t+1,2<w?(b=this.height/2-w/2+(w&1)/2,L=this.height/2+w/2):w=L-b+1);p?(B=k,w=l,t=this.width/2-B/2,H=this.width/2+B/2,L=this.height/2+w/2,b=this.height/2-w/2):-1===this.S&&(B=H-t+1,w=L-b+1);if(this.ha){if(a===F.Rp)t-=L/2,H-=b/2;else{B=2*(this.width+this.height);k=-B;b|=0;L|=0;
t|=0;H|=0;-1!==this.S&&this.Df(v,this.jc);n&&(E=1);for(p=b;p<=L;p+=1)for(n=v[p],l=t;l<=H;l+=1)q=n[l],q>=E&&(z+=1,q=l-p/2,q<B&&(B=q),q>k&&(k=q));0===z?(t-=b/2,H=t+1):(t=B,H=k,t>H&&(v=t,t=H,H=v))}B=H-t+1}0===B&&(B=1);0===w&&(w=1);c/=B;d/=w;this.Z&&(d/=F.fk);this.ha&&(d/=F.Vj);g=Math.round(2E4*(c>d?d:c)/g)/2E4;g/=this.eb;g<f?g=f:g>e&&(g=e);f=b-this.za+w/2;e=t-this.Ma+B/2;m||(g=this.Qo(g));a===F.Eu&&(g=this.zoom);this.ja&&-1!==this.S&&(--e,--f);return[g,e,f]};qa.prototype.Ej=function(a,b,c,d){var f=this.Oc,
e=this.displayWidth,g=this.displayHeight;if(a>b){var k=b;b=a;a=k}0>a?a=0:a>=e&&(a=e-1);0>b?b=0:b>=e&&(b=e-1);0<=c&&c<g&&f.fill(d,c*e+a,c*e+b+1)};qa.prototype.wi=function(a,b,c,d){var f=this.Oc,e=this.displayWidth,g=this.displayHeight;if(b>c){var k=c;c=b;b=k}0>b?b=0:b>=g&&(b=g-1);0>c?c=0:c>=g&&(c=g-1);b=b*e+a;c=c*e+a;g=c-15*e;if(0<=a&&a<e){for(;b<=g;)f[b]=d,b+=e,f[b]=d,b+=e,f[b]=d,b+=e,f[b]=d,b+=e,f[b]=d,b+=e,f[b]=d,b+=e,f[b]=d,b+=e,f[b]=d,b+=e,f[b]=d,b+=e,f[b]=d,b+=e,f[b]=d,b+=e,f[b]=d,b+=e,f[b]=
d,b+=e,f[b]=d,b+=e,f[b]=d,b+=e,f[b]=d,b+=e;for(;b<=c;)f[b]=d,b+=e}};qa.prototype.Jl=function(a,b,c,d,f){var e=Math.abs(c-a),g=Math.abs(d-b),k=a<c?1:-1,l=b<d?1:-1,p=e-g,n=this.displayWidth,q=this.displayHeight,m=this.Oc;if(!(0>a&&0>c||a>=n&&c>=n||0>b&&0>d||b>=q&&d>=q))if(0<=a&&a<n&&0<=b&&b<q&&0<=c&&c<n&&0<=d&&d<q)for(m[b*n+a]=f;a!==c||b!==d;){var r=p+p;r>-g&&(p-=g,a+=k);r<e&&(p+=e,b+=l);m[b*n+a]=f}else for(0<=a&&a<n&&0<=b&&b<q&&(m[b*n+a]=f);a!==c||b!==d;)r=p+p,r>-g&&(p-=g,a+=k),r<e&&(p+=e,b+=l),0<=
a&&a<n&&0<=b&&b<q&&(m[b*n+a]=f)};qa.prototype.th=function(a,b,c,d,f){var e=this.displayWidth/2,g=this.displayHeight/2;if(0!==this.Ea){a-=e;b-=g;var k=Math.sqrt(a*a+b*b);var l=180/Math.PI*Math.atan2(b,a);l+=this.Ea;a=Math.round(k*Math.cos(Math.PI/180*l)+e);b=Math.round(k*Math.sin(Math.PI/180*l)+g);c-=e;d-=g;k=Math.sqrt(c*c+d*d);l=180/Math.PI*Math.atan2(d,c);l+=this.Ea;c=Math.round(k*Math.cos(Math.PI/180*l)+e);d=Math.round(k*Math.sin(Math.PI/180*l)+g)}a===c?this.wi(a,b,d,f):b===d?this.Ej(a,c,b,f):this.Jl(a,
b,c,d,f)};qa.prototype.tn=function(a,b,c,d,f){var e=a.Ec,g=a.Dc,k=0,l=0,p,n=this.oa;var q=this.zoom;var m=this.sc(this.zoom);var r=a.H-a.aa;var u=a.F-a.ba;var t=a.F-this.ka,v=a.H-this.ma-(this.ha?this.ka/2:0),B=0!==this.angle?1:0,w=[0,0];switch(d){case F.QC:b-=e>>1;break;case F.RC:b-=e-1;break;case F.VC:c-=g>>1;break;case F.PC:b-=e>>1;c-=g>>1;break;case F.OC:b-=e-1;c-=g>>1;break;case F.UC:c-=g-1;break;case F.SC:b-=e>>1;c-=g-1;break;case F.TC:b-=e-1,c-=g-1}d=c;var z=c+g;a.mc&&(r+=2*a.ac,u+=2*a.sc);
var E=q*(d-u+t-this.za+a.F)+a.displayHeight/2;d=m*(d-u+t-this.za+a.F)+a.displayHeight/2;E=q*(b-r+v-this.Ma+a.H)+a.displayWidth/2+(this.ha?(a.displayHeight/2-E)/2:0);var H=q*(z-u+t-this.za+a.F)+a.displayHeight/2;z=m*(z-u+t-this.za+a.F)+a.displayHeight/2;H=q*(b+e-r+v-this.Ma+a.H)+a.displayWidth/2+(this.ha?(a.displayHeight/2-H)/2:0);n.fillStyle=f;n.globalAlpha=.5;if(this.ha)if(!this.Fa&&4<=this.zoom)a.mc&&(r-=2*a.ac,u-=2*a.sc),this.yk(b,c,b+e-1,c+g-1,r,u);else{n.beginPath();for(p=0;p<g;p+=1)n.moveTo(E,
d),n.lineTo(E+e*q+1,d),n.lineTo(E+e*q+1,d+m+1),n.lineTo(E,d+m+1),E-=q/2,d+=m;n.fill()}else!this.Fa&&this.Z&&4<=this.zoom?(a.mc&&(r-=2*a.ac,u-=2*a.sc),this.Ak(b,c,b+e-1,c+g-1,r,u)):(0!==this.angle?(n.beginPath(),this.Ge(E,d,w),n.moveTo(w[0],w[1]),this.Ge(H+B,d,w),n.lineTo(w[0],w[1]),this.Ge(H+B,z+B,w),n.lineTo(w[0],w[1]),this.Ge(E,z+B,w),n.lineTo(w[0],w[1])):(n.beginPath(),n.moveTo(this.Gc(E),this.Gc(d)),n.lineTo(this.Gc(H),this.Gc(d)),n.lineTo(this.Gc(H),this.Gc(z)),n.lineTo(this.Gc(E),this.Gc(z))),
n.fill());if(1<=this.zoom){if(0<this.Ea){f=Math.cos(this.Ea/180*Math.PI)*this.da;var L=Math.sin(this.Ea/180*Math.PI)*this.da;B=Math.cos((this.Ea+90)/180*Math.PI)*this.da;var M=Math.sin((this.Ea+90)/180*Math.PI)*this.da}else f=q,B=L=0,M=m;E=q*(c+l-u+t-this.za+a.F)+a.displayHeight/2;d=m*(c+l-u+t-this.za+a.F)+a.displayHeight/2;E=q*(b+k-r+v-this.Ma+a.H)+a.displayWidth/2+(this.ha?(a.displayHeight/2-E)/2:0);0!==this.Ea&&(this.Ge(E,d,w),E=w[0],d=w[1]);H=E;z=d;n.fillStyle=this.ij;if(this.ha&&!this.Fa&&4<=
this.zoom)this.rn(b,c,b+e-1,c+g-1,r,u,a.ea);else if(!this.Fa&&this.Z&&4<=this.zoom)this.xn(b,c,b+e-1,c+g-1,r,u,a.ea);else{n.beginPath();for(l=p=0;l<g;l+=1){E=H;for(k=0;k<e;k+=1)b=a.ea[p],p+=1,b&&(b=E+f,c=d+L,q=b+B,m=c+M,r=q-f,u=m-L,0>E&&0>b&&0>q&&0>r||E>=a.displayWidth&&b>=a.displayWidth&&q>=a.displayWidth&&r>=a.displayWidth||0>d&&0>c&&0>m&&0>u||d>=a.displayHeight&&c>=a.displayHeight&&m>=a.displayHeight&&u>=a.displayHeight||(n.moveTo(E,d),n.lineTo(b,c),n.lineTo(q,m),n.lineTo(r,u))),E+=f,d+=L;H+=B;
d=z+=M;this.ha&&(H-=f/2)}n.fill()}}};qa.prototype.Ge=function(a,b,c){var d=this.displayWidth/2,f=this.displayHeight/2;if(0!==this.Ea){a-=d;b-=f;var e=Math.sqrt(a*a+b*b);b=180/Math.PI*Math.atan2(b,a);b+=this.Ea;a=Math.round(e*Math.cos(Math.PI/180*b)+d);b=Math.round(e*Math.sin(Math.PI/180*b)+f)}c[0]=a;c[1]=b};qa.prototype.vn=function(a){var b=a.rc+.5|0,c=a.H-a.aa,d=a.F-a.ba;(a.P||a.pc)&&this.Hl(a,a.fa,this.fj);if(a.na){var f=a.C.V;var e=a.C.Y;-1!==f&&(a.Pj(f,e),this.tn(a,a.Fc-c,a.Gc-d,b,this.Vi))}};
qa.prototype.Gc=function(a){var b=a,c=a|0;a!==c&&(b=c+1);return b};qa.prototype.Hl=function(a,b,c){var d=this.oa,f=this.zoom,e=this.sc(this.zoom),g=b.J,k=b.K,l=b.L;b=b.N;var p=a.F-a.ba,n=a.H-a.aa,q=a.F-this.ka,m=a.H-this.ma-(this.ha?this.ka/2:0),r=[0,0],u=0!==this.angle?1:0,t=a.fa;if(g>l){var v=g;g=l;l=v}k>b&&(v=k,k=b,b=v);v=l-g+1;var B=b-k+1;a.mc&&-1!==a.g.S&&(n+=Math.floor(a.Bd/2),p+=Math.floor(a.Ad/2));var w=f*(k-p+q-this.za+a.F)+a.displayHeight/2;k=e*(k-p+q-this.za+a.F)+a.displayHeight/2;g=f*
(g-n+m-this.Ma+a.H)+a.displayWidth/2+(this.ha?(a.displayHeight/2-w)/2:0);w=f*(b+1-p+q-this.za+a.F)+a.displayHeight/2;b=e*(b+1-p+q-this.za+a.F)+a.displayHeight/2;l=f*(l+1-n+m-this.Ma+a.H)+a.displayWidth/2+(this.ha?(a.displayHeight/2-w)/2:0);d.fillStyle=c;d.globalAlpha=.5;if(this.ha)if(!this.Fa&&4<=this.zoom)a.mc&&(n+=2*a.ac,p+=2*a.sc),this.yk(t.J,t.K,t.L,t.N,n,p);else{d.beginPath();v*=f;for(a=0;a<B;a+=1)d.moveTo(g,k),d.lineTo(g+v+1,k),d.lineTo(g+v+1,k+e+1),d.lineTo(g,k+e+1),g-=f/2,k+=e;d.fill()}else this.Z&&
!this.Fa&&4<=this.zoom?(a.mc&&(n+=2*a.ac,p+=2*a.sc),this.Ak(t.J,t.K,t.L,t.N,n,p)):(0!==this.angle?(d.beginPath(),this.Ge(g,k,r),d.moveTo(r[0],r[1]),this.Ge(l+u,k,r),d.lineTo(r[0],r[1]),this.Ge(l+u,b+u,r),d.lineTo(r[0],r[1]),this.Ge(g,b+u,r),d.lineTo(r[0],r[1])):(d.beginPath(),d.moveTo(this.Gc(g),this.Gc(k)),d.lineTo(this.Gc(l),this.Gc(k)),d.lineTo(this.Gc(l),this.Gc(b)),d.lineTo(this.Gc(g),this.Gc(b))),d.fill());d.globalAlpha=1};qa.prototype.xi=function(a){return this.fc?"rgb("+(a&255)+","+(a>>8&
255)+","+(a>>16&255)+")":"rgb("+(a>>24)+","+(a>>16&255)+","+(a>>8&255)+")"};qa.prototype.pn=function(){var a,b=this.displayWidth,c=this.displayHeight,d=this.hd,f=this.ud,e=this.da,g=this.sc(this.da),k=d,l,p=0<this.lb&&this.yc,n=this.counter&1,q=Math.abs(b-c),m=((this.height/2-(this.ka+this.za))*g+c/2)%g,r=((this.width/2-(this.ma+this.Ma))*e+b/2)%e,u=this.view.S/2|0,t=this.view.V/2|0;if(this.Ya)var v=p?2:1;else v=1,p=!1,k=d=this.$a[0];var B=d;for(this.ja&&2===this.lb&&this.Ad||(n=0);v;){var w=-(b/
2/e)-(this.width/2-this.ma-this.Ma)|0;w+=u-2;var z=-e*q;var E=b+e+e*q;var H=m-g*q;var L=c+g*q;var M=-b/1.5;var N=b+b/1.5;var V=-c/1.5;for(l=c+c/1.5;z<=E;z+=e)if(p&&(k=0===(w+n)%this.lb?f:d),w+=1,k===B)if(this.ha){var X=-(c/2/g)-(this.height/2-this.ka-this.za)|0;for(a=H;a<L;a+=g)(X&1)===(q&1)?this.th(Math.round(z+r),Math.round(a),Math.round(z+r),Math.round(a+g-1),k):this.th(Math.round(z+r+e/2),Math.round(a),Math.round(z+r+e/2),Math.round(a+g-1),k),X+=1}else this.th(Math.round(z+r),V,Math.round(z+r),
l-1,k);w=-(c/2/g)-(this.height/2-this.ka-this.za)|0;w+=t-2;for(a=H;a<L;a+=g)p&&(k=0===(w+n)%this.lb?f:d),w+=1,k===B&&this.th(M,Math.round(a),N-1,Math.round(a),k);--v;B=f}};qa.prototype.ke=function(){return 4<=this.da};qa.prototype.Fl=function(a,b,c){var d=this.ca,f=this.$,e=this.ja?-1:0,g=Math.round((this.width-d)/2-1)+e,k=g+d+1,l=Math.round((this.height-f)/2-1)+e;e=l+f+1;l&=~c;e&=~c;g&=~c;k&=~c;if(0===d){d=a[e];for(c=0;c<this.width;c+=1)0===d[c]&&(d[c]=b);d=a[l];for(c=0;c<this.width;c+=1)0===d[c]&&
(d[c]=b)}else if(0===f)for(c=0;c<this.height;c+=1)l=a[c],0===l[g]&&(l[g]=b),0===l[k]&&(l[k]=b);else{d=a[e];for(c=g;c<=k;c+=1)0===d[c]&&(d[c]=b);d=a[l];for(c=g;c<=k;c+=1)0===d[c]&&(d[c]=b);for(c=l+1;c<=e-1;c+=1)l=a[c],0===l[g]&&(l[g]=b),0===l[k]&&(l[k]=b)}};qa.prototype.Df=function(a,b){var c=this.ca,d=this.$,f=this.ja?-1:0,e=Math.round((this.width-c)/2-1)+f,g=e+c+1,k=Math.round((this.height-d)/2-1)+f;f=k+d+1;var l=a[k],p=a[f];if(0===c)l.fill(b,0,this.width),p.fill(b,0,this.width);else if(0===d)for(c=
0;c<this.height;c+=1)a[c][e]=b,a[c][g]=b,this.Z&&(0<e&&(a[c][e-1]=b),g<this.width-1&&(a[c][g+1]=b));else for(l.fill(b,e,g+1),p.fill(b,e,g+1),this.Z&&0<e&&(l[e-1]=b,p[e-1]=b),c=k+1;c<=f-1;c+=1)a[c][e]=b,a[c][g]=b,this.Z&&(0<e&&(a[c][e-1]=b),g<this.width-1&&(a[c][g+1]=b))};qa.prototype.vh=function(a,b){a=2<this.i?this.v||this.G||this.D?1:0===this.u?this.i/this.Aa*b|0:b<a/2?this.u/this.Aa*b*2|0:this.u+this.i/this.Aa*b|0:this.ab===y.vf||this.D?1:(this.Me+1)/this.Aa*b|0;1>a&&(a=1);return a};qa.prototype.Bk=
function(a){var b=0;.0625>a?b=31:.125>a?b=15:.25>a?b=7:.5>a?b=3:1>a&&(b=1);return b};qa.prototype.aj=function(a,b){var c=this.$a[0],d=this.Oc,f=this.h,e=this.le,g=this.Ua;this.vg=!0;(this.s||this.D||this.v||this.G)&&0!==(this.counter&1)&&(f=this.P,e=this.nf,g=this.Pa);this.Qd&&(this.oi(),c=this.$a[0],--this.Qd,this.Qd||(this.he.set(this.xd),this.md.set(this.gd),this.Ie.set(this.ae),this.Nf.set(this.zf),this.ne.set(this.Wd),this.gg.set(this.Ff)));this.da=this.zoom*this.eb;this.da<F.Bb?this.da=F.Bb:
this.da>F.Pb&&(this.da=F.Pb);this.Hb=this.ma+this.Ma;this.Ib=this.ka+this.za;this.Ca=this.nc/2+1;var k=this.da;this.Ea=this.ha||this.Z||this.view.wd?0:this.angle;-1!==this.S&&1<=this.da&&this.Df(f,this.jc);4<=k&&(!this.Fa&&this.ha||!this.Fa&&this.Z)?(d.fill(c),this.kb(1)):(1>k&&(-1!==this.S&&this.Df(f,0),this.yj(e,g,this.da),-1!==this.S&&this.Fl(this.Ba,this.jc,this.Bk(this.da))),.0625>k?this.Dc?this.ag(this.Eb,this.Ba,31,a,b):this.bg(this.Ba,this.Ba,31,a,b):.125>k?this.Dc?this.ag(this.Eb,this.Ba,
15,a,b):this.bg(this.Ba,this.Ba,15,a,b):.25>k?this.Dc?this.ag(this.Eb,this.Ba,7,a,b):this.bg(this.Ba,this.Ba,7,a,b):.5>k?this.Dc?this.ag(this.Eb,this.Ba,3,a,b):this.bg(this.Ba,this.Ba,3,a,b):1>k?this.Dc?this.ag(this.Eb,this.Ba,1,a,b):this.bg(this.Ba,this.Ba,1,a,b):this.Dc?this.ag(this.Wa,f,0,a,b):this.bg(f,f,0,a,b))};qa.prototype.td=function(a){a&&(this.ke()&&this.jb&&!this.Ya||this.wg());(this.Ya||this.jb)&&this.ke()&&this.pn();a&&this.ke()&&this.jb&&!this.Ya&&this.wg()};qa.prototype.af=function(a,
b,c,d){var f=this.Bk(a);if(-1!==this.S&&b){d=this.h;b=this.le;var e=this.Ua;(this.s||this.D||this.v||this.G)&&0!==(this.counter&1)&&(d=this.P,b=this.nf,e=this.Pa);this.Df(d,0);0!==f&&(this.Si=!0,this.yj(b,e,a),d=this.Ba);f=c}f!==c&&(d=this.h,b=this.le,e=this.Ua,(this.s||this.D||this.v||this.G)&&0!==(this.counter&1)&&(d=this.P,b=this.nf,e=this.Pa),0!==f&&(this.yj(b,e,a),d=this.Ba));return[f,d]};qa.prototype.to=function(a,b,c,d){var f=this.displayWidth>>3,e=this.$a,g=this.Oc,k=0,l=0;var p=this.width;
var n=this.height;var q=1,m=1,r=0,u=this.ea,t=this.Ia&~c,v=this.Ha&~c,B=~c,w=~c,z=this.rd,E,H=a,L=this.da,M=!0;1<this.Ca&&(q=this.Aa);a=Math.sin(this.Ea/180*Math.PI)/this.da;var N=Math.cos(this.Ea/180*Math.PI)/this.da;var V=-(this.displayWidth/2*-a+this.displayHeight/2*N)+this.Ib;var X=-(this.displayWidth/2*N+this.displayHeight/2*a)+this.Hb;1<this.Aa&&1<this.Ca&&(r=.4/(this.Aa-1),m=.6);this.kb(m);for(E=this.$a[0];p<u;)k+=p>>1,p<<=1;for(;n<u;)l+=n>>1,n<<=1;var I=0;var R=V;for(p=0;p<this.displayHeight;p+=
1){var P=X;for(n=0;n<f;n+=1){if(0<=P&&(P&B)===(P&t)&&0<R&&(R&w)===(R&v)){var S=H[R&v][P&t]|0;g[I]=e[S]}else g[I]=0<=P+k&&P+k<u&&0<=R+l&&R+l<u?E:z;I+=1;P+=N;R-=a;0<=P&&(P&B)===(P&t)&&0<R&&(R&w)===(R&v)?(S=H[R&v][P&t]|0,g[I]=e[S]):g[I]=0<=P+k&&P+k<u&&0<=R+l&&R+l<u?E:z;I+=1;P+=N;R-=a;0<=P&&(P&B)===(P&t)&&0<R&&(R&w)===(R&v)?(S=H[R&v][P&t]|0,g[I]=e[S]):g[I]=0<=P+k&&P+k<u&&0<=R+l&&R+l<u?E:z;I+=1;P+=N;R-=a;0<=P&&(P&B)===(P&t)&&0<R&&(R&w)===(R&v)?(S=H[R&v][P&t]|0,g[I]=e[S]):g[I]=0<=P+k&&P+k<u&&0<=R+l&&R+
l<u?E:z;I+=1;P+=N;R-=a;0<=P&&(P&B)===(P&t)&&0<R&&(R&w)===(R&v)?(S=H[R&v][P&t]|0,g[I]=e[S]):g[I]=0<=P+k&&P+k<u&&0<=R+l&&R+l<u?E:z;I+=1;P+=N;R-=a;0<=P&&(P&B)===(P&t)&&0<R&&(R&w)===(R&v)?(S=H[R&v][P&t]|0,g[I]=e[S]):g[I]=0<=P+k&&P+k<u&&0<=R+l&&R+l<u?E:z;I+=1;P+=N;R-=a;0<=P&&(P&B)===(P&t)&&0<R&&(R&w)===(R&v)?(S=H[R&v][P&t]|0,g[I]=e[S]):g[I]=0<=P+k&&P+k<u&&0<=R+l&&R+l<u?E:z;I+=1;P+=N;R-=a;0<=P&&(P&B)===(P&t)&&0<R&&(R&w)===(R&v)?(S=H[R&v][P&t]|0,g[I]=e[S]):g[I]=0<=P+k&&P+k<u&&0<=R+l&&R+l<u?E:z;I+=1;P+=N;
R-=a}X+=a;R=V+=N}this.td(d);H=b;for(b=1;b<q;b+=1)for(d=this.vh(q,b),m+=r,this.kb(m),a/=this.Ca,N/=this.Ca,L*=this.Ca,t=this.af(L,M,c,H),c=t[0],H=t[1],M=!1,t=this.Ia&~c,v=this.Ha&~c,B=~c,w=~c,V=-(this.displayWidth/2*-a+this.displayHeight/2*N)+this.Ib,X=-(this.displayWidth/2*N+this.displayHeight/2*a)+this.Hb,I=0,R=V,p=0;p<this.displayHeight;p+=1){P=X;for(n=0;n<f;n+=1)0<=P&&(P&B)===(P&t)&&0<R&&(R&w)===(R&v)&&(S=H[R&v][P&t]|0,S>=d&&(g[I]=e[S])),I+=1,P+=N,R-=a,0<=P&&(P&B)===(P&t)&&0<R&&(R&w)===(R&v)&&
(S=H[R&v][P&t]|0,S>=d&&(g[I]=e[S])),I+=1,P+=N,R-=a,0<=P&&(P&B)===(P&t)&&0<R&&(R&w)===(R&v)&&(S=H[R&v][P&t]|0,S>=d&&(g[I]=e[S])),I+=1,P+=N,R-=a,0<=P&&(P&B)===(P&t)&&0<R&&(R&w)===(R&v)&&(S=H[R&v][P&t]|0,S>=d&&(g[I]=e[S])),I+=1,P+=N,R-=a,0<=P&&(P&B)===(P&t)&&0<R&&(R&w)===(R&v)&&(S=H[R&v][P&t]|0,S>=d&&(g[I]=e[S])),I+=1,P+=N,R-=a,0<=P&&(P&B)===(P&t)&&0<R&&(R&w)===(R&v)&&(S=H[R&v][P&t]|0,S>=d&&(g[I]=e[S])),I+=1,P+=N,R-=a,0<=P&&(P&B)===(P&t)&&0<R&&(R&w)===(R&v)&&(S=H[R&v][P&t]|0,S>=d&&(g[I]=e[S])),I+=1,
P+=N,R-=a,0<=P&&(P&B)===(P&t)&&0<R&&(R&w)===(R&v)&&(S=H[R&v][P&t]|0,S>=d&&(g[I]=e[S])),I+=1,P+=N,R-=a;X+=a;R=V+=N}};qa.prototype.vo=function(a,b,c,d){var f=this.displayWidth>>3,e=this.$a,g=this.Oc,k=0,l=0;var p=this.width;var n=this.height;var q=1,m=1,r=0,u=this.ea,t=this.Ia&~c,v=this.Ha&~c,B=~c,w=~c,z=this.rd,E,H=a,L=this.da,M=!0;1<this.Ca&&(q=this.Aa);a=1/this.da;this.Z&&(a/=F.fk);this.ha&&(a/=F.Vj);var N=1/this.da;var V=-(this.displayHeight/2*a)+this.Ib;var X=-(this.displayWidth/2*N)+this.Hb;1<
this.Aa&&1<this.Ca&&(r=.4/(this.Aa-1),m=.6);this.kb(m);for(E=this.$a[0];p<u;)k+=p>>1,p<<=1;for(;n<u;)l+=n>>1,n<<=1;var I=0;var R=V;for(p=0;p<this.displayHeight;p+=1){if(0<=R&&(R&w)===(R&v)){var P=H[R&v];var S=X;this.ha&&(S+=.5*(R|0));for(n=0;n<f;n+=1){if(0<=S&&(S&B)===(S&t)){var aa=P[S&t]|0;g[I]=e[aa]}else g[I]=0<=S+k&&S+k<u?E:z;I+=1;S+=N;0<=S&&(S&B)===(S&t)?(aa=P[S&t]|0,g[I]=e[aa]):g[I]=0<=S+k&&S+k<u?E:z;I+=1;S+=N;0<=S&&(S&B)===(S&t)?(aa=P[S&t]|0,g[I]=e[aa]):g[I]=0<=S+k&&S+k<u?E:z;I+=1;S+=N;0<=S&&
(S&B)===(S&t)?(aa=P[S&t]|0,g[I]=e[aa]):g[I]=0<=S+k&&S+k<u?E:z;I+=1;S+=N;0<=S&&(S&B)===(S&t)?(aa=P[S&t]|0,g[I]=e[aa]):g[I]=0<=S+k&&S+k<u?E:z;I+=1;S+=N;0<=S&&(S&B)===(S&t)?(aa=P[S&t]|0,g[I]=e[aa]):g[I]=0<=S+k&&S+k<u?E:z;I+=1;S+=N;0<=S&&(S&B)===(S&t)?(aa=P[S&t]|0,g[I]=e[aa]):g[I]=0<=S+k&&S+k<u?E:z;I+=1;S+=N;0<=S&&(S&B)===(S&t)?(aa=P[S&t]|0,g[I]=e[aa]):g[I]=0<=S+k&&S+k<u?E:z;I+=1;S+=N}}else if(0<=R+l&&R+l<u)for(S=X,this.ha&&(S+=.5*(R|0)),n=0;n<this.displayWidth;n+=1)g[I]=0<=S+k&&S+k<u?E:z,I+=1,S+=N;else g.fill(z,
I,I+this.displayWidth+1),I+=this.displayWidth;R=V+=a}this.td(d);H=b;for(b=1;b<q;b+=1)for(d=this.vh(q,b),m+=r,this.kb(m),a/=this.Ca,N/=this.Ca,L*=this.Ca,t=this.af(L,M,c,H),c=t[0],H=t[1],M=!1,t=this.Ia&~c,v=this.Ha&~c,B=~c,w=~c,V=-(this.displayHeight/2*a)+this.Ib,X=-(this.displayWidth/2*N)+this.Hb,I=0,R=V,p=0;p<this.displayHeight;p+=1){if(0<=R&&(R&w)===(R&v))for(P=H[R&v],S=X,this.ha&&(S+=.5*(R|0)),n=0;n<f;n+=1)0<=S&&(S&B)===(S&t)&&(aa=P[S&t]|0,aa>=d&&(g[I]=e[aa])),I+=1,S+=N,0<=S&&(S&B)===(S&t)&&(aa=
H[R&v][S&t]|0,aa>=d&&(g[I]=e[aa])),I+=1,S+=N,0<=S&&(S&B)===(S&t)&&(aa=H[R&v][S&t]|0,aa>=d&&(g[I]=e[aa])),I+=1,S+=N,0<=S&&(S&B)===(S&t)&&(aa=H[R&v][S&t]|0,aa>=d&&(g[I]=e[aa])),I+=1,S+=N,0<=S&&(S&B)===(S&t)&&(aa=H[R&v][S&t]|0,aa>=d&&(g[I]=e[aa])),I+=1,S+=N,0<=S&&(S&B)===(S&t)&&(aa=H[R&v][S&t]|0,aa>=d&&(g[I]=e[aa])),I+=1,S+=N,0<=S&&(S&B)===(S&t)&&(aa=H[R&v][S&t]|0,aa>=d&&(g[I]=e[aa])),I+=1,S+=N,0<=S&&(S&B)===(S&t)&&(aa=H[R&v][S&t]|0,aa>=d&&(g[I]=e[aa])),I+=1,S+=N;else I+=f<<3;R=V+=a}};qa.prototype.yo=
function(a,b,c,d){var f=this.displayWidth>>3,e=this.$a,g=this.Oc,k,l,p=1,n=1,q=0,m=this.Ia&~c,r=this.Ha&~c,u=a,t=this.da,v=!0;1<this.Ca&&(p=this.Aa);a=Math.sin(this.Ea/180*Math.PI)/this.da;var B=Math.cos(this.Ea/180*Math.PI)/this.da;var w=-(this.displayWidth/2*-a+this.displayHeight/2*B)+this.Ib;var z=-(this.displayWidth/2*B+this.displayHeight/2*a)+this.Hb;1<this.Aa&&1<this.Ca&&(q=.4/(this.Aa-1),n=.6);this.kb(n);var E=0;var H=w;for(k=0;k<this.displayHeight;k+=1){var L=z;for(l=0;l<f;l+=1){var M=u[H&
r][L&m]|0;g[E]=e[M];E+=1;L+=B;H-=a;M=u[H&r][L&m]|0;g[E]=e[M];E+=1;L+=B;H-=a;M=u[H&r][L&m]|0;g[E]=e[M];E+=1;L+=B;H-=a;M=u[H&r][L&m]|0;g[E]=e[M];E+=1;L+=B;H-=a;M=u[H&r][L&m]|0;g[E]=e[M];E+=1;L+=B;H-=a;M=u[H&r][L&m]|0;g[E]=e[M];E+=1;L+=B;H-=a;M=u[H&r][L&m]|0;g[E]=e[M];E+=1;L+=B;H-=a;M=u[H&r][L&m]|0;g[E]=e[M];E+=1;L+=B;H-=a}z+=a;H=w+=B}this.td(d);u=b;for(b=1;b<p;b+=1)for(d=this.vh(p,b),n+=q,this.kb(n),a/=this.Ca,B/=this.Ca,t*=this.Ca,m=this.af(t,v,c,u),c=m[0],u=m[1],v=!1,m=this.Ia&~c,r=this.Ha&~c,w=-(this.displayWidth/
2*-a+this.displayHeight/2*B)+this.Ib,z=-(this.displayWidth/2*B+this.displayHeight/2*a)+this.Hb,E=0,H=w,k=0;k<this.displayHeight;k+=1){L=z;for(l=0;l<f;l+=1)M=u[H&r][L&m]|0,M>=d&&(g[E]=e[M]),E+=1,L+=B,H-=a,M=u[H&r][L&m]|0,M>=d&&(g[E]=e[M]),E+=1,L+=B,H-=a,M=u[H&r][L&m]|0,M>=d&&(g[E]=e[M]),E+=1,L+=B,H-=a,M=u[H&r][L&m]|0,M>=d&&(g[E]=e[M]),E+=1,L+=B,H-=a,M=u[H&r][L&m]|0,M>=d&&(g[E]=e[M]),E+=1,L+=B,H-=a,M=u[H&r][L&m]|0,M>=d&&(g[E]=e[M]),E+=1,L+=B,H-=a,M=u[H&r][L&m]|0,M>=d&&(g[E]=e[M]),E+=1,L+=B,H-=a,M=u[H&
r][L&m]|0,M>=d&&(g[E]=e[M]),E+=1,L+=B,H-=a;z+=a;H=w+=B}};qa.prototype.Ao=function(a,b,c,d){var f=this.displayWidth>>3,e=this.$a,g=this.Oc,k,l=1,p=1,n=0,q=this.Ia&~c,m=this.Ha&~c,r=a,u=this.da,t=!0;1<this.Ca&&(l=this.Aa);a=1/this.da;this.Z&&(a/=F.fk);this.ha&&(a/=F.Vj);var v=1/this.da;var B=-(this.displayHeight/2*a)+this.Ib;var w=-(this.displayWidth/2*v)+this.Hb;1<this.Aa&&1<this.Ca&&(n=.4/(this.Aa-1),p=.6);this.kb(p);var z=0;var E=B;for(k=0;k<this.displayHeight;k+=1){var H=r[E&m];var L=w;this.ha&&
(L+=.5*(E|0));for(E=0;E<f;E+=1){var M=H[L&q];g[z]=e[M];z+=1;L+=v;M=H[L&q];g[z]=e[M];z+=1;L+=v;M=H[L&q];g[z]=e[M];z+=1;L+=v;M=H[L&q];g[z]=e[M];z+=1;L+=v;M=H[L&q];g[z]=e[M];z+=1;L+=v;M=H[L&q];g[z]=e[M];z+=1;L+=v;M=H[L&q];g[z]=e[M];z+=1;L+=v;M=H[L&q];g[z]=e[M];z+=1;L+=v}E=B+=a}this.td(d);r=b;for(b=1;b<l;b+=1)for(d=this.vh(l,b),p+=n,this.kb(p),a/=this.Ca,v/=this.Ca,u*=this.Ca,q=this.af(u,t,c,r),c=q[0],r=q[1],t=!1,q=this.Ia&~c,m=this.Ha&~c,B=-(this.displayHeight/2*a)+this.Ib,w=-(this.displayWidth/2*v)+
this.Hb,z=0,E=B,k=0;k<this.displayHeight;k+=1){H=r[E&m];L=w;this.ha&&(L+=.5*(E|0));for(E=0;E<f;E+=1)M=H[L&q]|0,M>=d&&(g[z]=e[M]),z+=1,L+=v,M=H[L&q]|0,M>=d&&(g[z]=e[M]),z+=1,L+=v,M=H[L&q]|0,M>=d&&(g[z]=e[M]),z+=1,L+=v,M=H[L&q]|0,M>=d&&(g[z]=e[M]),z+=1,L+=v,M=H[L&q]|0,M>=d&&(g[z]=e[M]),z+=1,L+=v,M=H[L&q]|0,M>=d&&(g[z]=e[M]),z+=1,L+=v,M=H[L&q]|0,M>=d&&(g[z]=e[M]),z+=1,L+=v,M=H[L&q]|0,M>=d&&(g[z]=e[M]),z+=1,L+=v;E=B+=a}};qa.prototype.bg=function(a,b,c,d,f){var e=Math.sin(this.Ea/180*Math.PI)/this.da,
g=Math.cos(this.Ea/180*Math.PI)/this.da,k=this.wh(),l=this.displayWidth,p=this.displayHeight,n=-(this.displayWidth/2*-e+this.displayHeight/2*g/k)+this.Ib,q=-(this.displayWidth/2*g+this.displayHeight/2*e)+this.Hb,m=n+l*-e,r=q+l*g;k=n+p*g/k;p=q+p*e;e=k+l*-e;g=p+l*g;l=k;var u=p,t=performance.now();g<u&&(u=g);q<u&&(u=q);r<u&&(u=r);g>p&&(p=g);q>p&&(p=q);r>p&&(p=r);e>l&&(l=e);n>l&&(l=n);m>l&&(l=m);e<k&&(k=e);n<k&&(k=n);m<k&&(k=m);this.ha&&(u+=k/2,p+=l/2);0>(u|0)||(p|0)>=this.width||0>(k|0)||(l|0)>=this.height?
0===this.Ea?8<=this.da&&this.Xd&&this.view.wd?this.jl(a,u,k,p,l,d,f):this.Xc&&!this.ha&&1<=this.da&&1===this.Aa&&0===this.Gb?(this.kb(1),this.kl(a,u,k,p,l,d,f)):(1<this.Aa&&1<this.Ca||this.ha||!(U.R&&U.vl&&this.view.i)?this.vo(a,b,c,d):(this.kb(1),va.yJ(a.o.byteOffset|0,c|0,this.$a.byteOffset|0,this.Oc.byteOffset|0,this.displayWidth|0,this.displayHeight|0,this.Hb,this.Ib,this.Ia|0,this.Ha|0,a[0].length|0,this.da,this.Z?F.fk:this.ha?F.Vj:1,this.ea|0,this.width|0,this.height|0,this.rd|0,this.Vg.byteOffset|
0,this.wj.byteOffset|0),this.td(d)),t=performance.now()-t,U.xb&&this.view.C.h("renderGridClip",t,U.R&&U.vl&&this.view.i&&!this.ha)):this.to(a,b,c,d):0===this.Ea?8<=this.da&&this.Xd&&this.view.wd?this.jl(a,u,k,p,l,d,f):this.Xc&&!this.ha&&1<=this.da&&1===this.Aa&&0===this.Gb?(this.kb(1),this.kl(a,u,k,p,l,d,f)):(1<this.Aa&&1<this.Ca||this.ha||!(U.R&&U.vl&&this.view.i)?this.Ao(a,b,c,d):(this.kb(1),va.zJ(a.o.byteOffset|0,c|0,this.$a.byteOffset|0,this.Oc.byteOffset|0,this.displayWidth|0,this.displayHeight|
0,this.Hb,this.Ib,this.Ia|0,this.Ha|0,a[0].length|0,this.da,this.Z?F.fk:this.ha?F.Vj:1,this.Vg.byteOffset|0),this.td(d)),t=performance.now()-t,U.xb&&this.view.C.h("renderGridNoClip",t,U.R&&U.vl&&this.view.i&&!this.ha)):this.yo(a,b,c,d)};qa.prototype.jl=function(a,b,c,d,f,e,g){var k=this.Yb,l=this.xf,p=this.yh,n=new Uint32Array(p.data.buffer),q=this.oa,m=null,r=d-b,u=f-c,t=this.sc(this.da),v=0>b?-(b-Math.ceil(b))*this.da:-(b-Math.floor(b))*this.da,B=0>c?-(c-Math.ceil(c))*t:-(c-Math.floor(c))*t,w=this.da,
z,E=this.ea,H=this.width-1,L=this.height-1,M=this.rd;d=this.width;f=this.height;for(var N=0,V=0,X=(this.Ya||this.jb)&&this.ke(),I=[],R=[],P=0<this.lb&&this.yc,S=this.lb,aa=this.hd,ma=this.ud,ea,ca,ia,oa=this.$a[this.u],ja=k.width,W,na;d<E;)N+=d>>1,d<<=1;for(;f<E;)V+=f>>1,f<<=1;c|=0;b|=0;r=(r|0)+2;u=(u|0)+2;d=b+r;f=c+u;this.s?(this.kb(1),this.wk(null)):-1!==this.S&&this.kb(1);if(16>w){var fa=this.Cf;var Z=this.ph;ea=7}else 32>w?(fa=this.Bf,Z=this.sg,ea=15):(fa=this.Vd,Z=this.oh,ea=31);Z=new Uint32Array(Z.data.buffer);
ca=ea+1;var Y=fa.height/fa.width;var pa=0;for(fa=c;fa<f;fa+=1){(fa&L)===fa&&(m=a[fa]);var Q=pa*w|0;I[I.length]=Q;var G=0;for(Q=b;Q<d;Q+=1){var A=G*w|0;fa===c&&(R[R.length]=A);A=pa*ca*ja+G*ca;if(0>Q+N||Q+N>=E||0>fa+V||fa+V>=E)for(ia=0;ia<ca;ia+=1){for(z=0;z<ca;z+=4)n[A]=M,A+=1,n[A]=M,A+=1,n[A]=M,A+=1,n[A]=M,A+=1;A+=ja-ca}else if((Q&H)===Q&&(fa&L)===fa)if(z=m[Q],-1!==this.S&&z===this.jc)for(na=this.$a[this.jc],ia=0;ia<ca;ia+=1){for(z=0;z<ca;z+=4)n[A]=na,A+=1,n[A]=na,A+=1,n[A]=na,A+=1,n[A]=na,A+=1;A+=
ja-ca}else if(this.s)if(z<=this.u)for(na=this.$a[z],ia=0;ia<ca;ia+=1){for(z=0;z<ca;z+=4)n[A]=na,A+=1,n[A]=na,A+=1,n[A]=na,A+=1,n[A]=na,A+=1;A+=ja-ca}else{z-=this.u;W=(z-1)*ea*ea;for(ia=0;ia<ea;ia+=1){for(z=0;z<ea-3;z+=4)n[A]=Z[W],A+=1,W+=1,n[A]=Z[W],A+=1,W+=1,n[A]=Z[W],A+=1,W+=1,n[A]=Z[W],A+=1,W+=1;n[A]=Z[W];A+=1;W+=1;n[A]=Z[W];A+=1;W+=1;n[A]=Z[W];A+=1;W+=1;n[A]=oa;A+=ja-ea}for(z=0;z<ca;z+=4)n[A]=oa,A+=1,n[A]=oa,A+=1,n[A]=oa,A+=1,n[A]=oa,A+=1}else if(0===z||z>Y)for(na=this.$a[z],ia=0;ia<ca;ia+=1){for(z=
0;z<ca;z+=4)n[A]=na,A+=1,n[A]=na,A+=1,n[A]=na,A+=1,n[A]=na,A+=1;A+=ja-ca}else{z-=this.u;na=this.$a[0];W=(z-1)*ea*ea;for(ia=0;ia<ea;ia+=1){for(z=0;z<ea-3;z+=4)n[A]=Z[W],A+=1,W+=1,n[A]=Z[W],A+=1,W+=1,n[A]=Z[W],A+=1,W+=1,n[A]=Z[W],A+=1,W+=1;n[A]=Z[W];A+=1;W+=1;n[A]=Z[W];A+=1;W+=1;n[A]=Z[W];A+=1;W+=1;n[A]=na;A+=ja-ea}for(z=0;z<ca;z+=4)n[A]=na,A+=1,n[A]=na,A+=1,n[A]=na,A+=1,n[A]=na,A+=1}else for(na=this.$a[0],ia=0;ia<ca;ia+=1){for(z=0;z<ca;z+=4)n[A]=na,A+=1,n[A]=na,A+=1,n[A]=na,A+=1,n[A]=na,A+=1;A+=ja-
ca}G+=1}pa+=1}l.putImageData(p,0,0);l.imageSmoothingEnabled=!0;l.imageSmoothingQuality="high";q.drawImage(k,0,0,r*ca,u*ca,v,B,r*this.da,u*t);l.imageSmoothingEnabled=!1;if(X){this.jb&&!this.Ya?(q.strokeStyle=this.xi(this.$a[0]),P=!1):q.strokeStyle=this.xi(aa);q.lineWidth=1;q.beginPath();for(fa=0;fa<I.length;fa+=1)pa=(I[fa]+B|0)+.5,q.moveTo(0,pa),q.lineTo(this.displayWidth,pa);for(Q=0;Q<R.length;Q+=1)G=(R[Q]+v|0)+.5,q.moveTo(G,0),q.lineTo(G,this.displayHeight);q.stroke();if(P){ia=-(this.displayHeight/
2/this.sc(this.da))-(this.height/2-this.ka-this.za)|0;ia+=(this.view.V/2|0)-7;z=-(this.displayWidth/2/this.da)-(this.width/2-this.ma-this.Ma)|0;z+=(this.view.S/2|0)-7;q.strokeStyle=this.xi(ma);q.beginPath();for(fa=0;fa<I.length;fa+=1)0===ia%S&&(pa=(I[fa]+B|0)+.5,q.moveTo(0,pa),q.lineTo(this.displayWidth,pa)),ia+=1;for(Q=0;Q<R.length;Q+=1)0===z%S&&(G=(R[Q]+v|0)+.5,q.moveTo(G,0),q.lineTo(G,this.displayHeight)),z+=1;q.stroke()}}e||g?(this.Kc=this.oa.getImageData(0,0,this.oa.canvas.width,this.oa.canvas.height),
this.Oc=new Uint32Array(this.Kc.data.buffer),e&&this.wg()):this.vg=!1};qa.prototype.kl=function(a,b,c,d,f,e,g){var k=this.$a,l=this.Nh,p=this.Rg,n=this.Sg,q=(this.da|0)<<1,m=this.Ld.width,r=m*q,u=null,t=d-b,v=f-c,B=this.sc(this.da),w=0>b?-(b-Math.ceil(b))*this.da:-(b-Math.floor(b))*this.da,z=0>c?-(c-Math.ceil(c))*B:-(c-Math.floor(c))*B,E,H=0,L,M=this.ea,N=this.width-1,V=this.height-1,X=this.hd,I=this.ud,R=this.$a[0],P=this.rd,S=0<this.lb&&this.yc&&!this.jb,aa=0,ma=0;var ea=this.counter&1;var ca=q>>
1;f=this.width;d=this.height;var ia=0,oa=0,ja=(this.Ya||this.jb)&&this.ke(),W=[],na=[];this.jb&&!this.Ya&&this.ke()&&(X=R,S=!1);for(;f<M;)ia+=f>>1,f<<=1;for(;d<M;)oa+=d>>1,d<<=1;c|=0;b|=0;t=(t|0)+2;v=(v|0)+2;d=b+t;f=c+v;switch(ca){case 1:var fa=r;var Z=t<<1;for(ea=c;ea<f;ea+=1){(ea&V)===ea&&(u=a[ea]);var Y=H;for(E=b;E<d;E+=1){var pa=0>E+ia||E+ia>=M||0>ea+oa||ea+oa>=M?P:(E&N)!==E||(ea&V)!==ea?R:k[u[E]];l[H]=pa;l[H+1]=pa;H+=2}H=Y+m;l.copyWithin(H,Y,Y+Z);H=fa;fa+=r}break;case 2:fa=r;Z=t<<2;for(ea=c;ea<
f;ea+=1){(ea&V)===ea&&(u=a[ea]);Y=H;for(E=b;E<d;E+=1)pa=0>E+ia||E+ia>=M||0>ea+oa||ea+oa>=M?P:(E&N)!==E||(ea&V)!==ea?R:k[u[E]],l[H]=pa,l[H+1]=pa,l[H+2]=pa,l[H+3]=pa,H+=4;H=Y+m;l.copyWithin(H,Y,Y+Z);H+=m;Y+=m;l.copyWithin(H,Y,Y+Z);H+=m;Y+=m;l.copyWithin(H,Y,Y+Z);H=fa;fa+=r}break;default:for(fa=r,Z=t*q,S&&(this.ja&&2===this.lb&&this.Ad||(ea=0),ma=-(this.displayWidth/2/this.da)-(this.width/2-this.ma-this.Ma)+this.view.S/2+.05|0,ma+=ea,aa=-(this.displayHeight/2/this.da)-(this.height/2-this.ka-this.za)+
this.view.V/2+.05|0,aa+=ea),ea=c;ea<f;ea+=1){(ea&V)===ea&&(u=a[ea]);Y=H;var Q=ma;for(E=b;E<d;E+=1){pa=0>E+ia||E+ia>=M||0>ea+oa||ea+oa>=M?P:(E&N)!==E||(ea&V)!==ea?R:k[u[E]];for(L=0;L<ca;L+=1)l[H]=pa,l[H+1]=pa,H+=2;ja&&ea===c&&(W[W.length]=S&&0===Q%this.lb?I:X);Q+=1}H=Y+m;for(E=1;E<q;E+=1)l.copyWithin(H,Y,Y+Z),Y+=m,H+=m;ja&&(na[na.length]=S&&0===aa%this.lb?I:X);H=fa;fa+=r;aa+=1}}p.putImageData(n,0,0,0,0,t*q,v*q);this.oa.imageSmoothingEnabled=!0;this.oa.drawImage(this.Ld,0,0,t*q,v*q,w,z,t*this.da,v*
B);this.oa.imageSmoothingEnabled=!1;if(e||g||ja){this.Kc=this.oa.getImageData(0,0,this.oa.canvas.width,this.oa.canvas.height);this.Oc=new Uint32Array(this.Kc.data.buffer);if(ja){H=0;a=((this.width/2-(this.ma+this.Ma))*this.da+this.displayWidth/2)%this.da;E=-this.da+a;for(fa=b;fa<=d;fa+=1)this.wi(E|0,0,this.displayHeight-1,W[H]),E+=this.da,H+=1;H=0;b=((this.height/2-(this.ka+this.za))*this.da+this.displayHeight/2)%this.da;ea=-this.da+b;for(fa=c;fa<=f;fa+=1)this.Ej(0,this.displayWidth-1,ea|0,na[H]),
ea+=this.da,H+=1}e&&this.wg()}else this.vg=!1};qa.prototype.il=function(a,b,c,d,f,e,g,k){var l=this.$a,p=this.Nh,n=this.Rg,q=this.Sg,m=(this.da|0)<<1,r=this.Ld.width,u=r*m,t=null,v=null,B=f-c,w=e-d,z=this.sc(this.da),E=-(c-Math.floor(c))*this.da,H=-(d-Math.floor(d))*z,L,M=0,N=this.ea,V=this.width-1,X=this.height-1,I=this.hd,R=this.ud,P=this.$a[0],S=this.rd,aa=0<this.lb&&this.yc&&!this.jb,ma=0,ea=0;var ca=this.counter&1;var ia=m>>1;e=this.width;f=this.height;var oa=0,ja=0,W=F.sb[3]+128,na=F.sb[4]+
128,fa=F.sb[5]+128,Z=F.sb[6]+128,Y=this.xa,pa=(this.Ya||this.jb)&&this.ke(),Q=[],G=[];this.jb&&!this.Ya&&this.ke()&&(I=P,aa=!1);for(;e<N;)oa+=e>>1,e<<=1;for(;f<N;)ja+=f>>1,f<<=1;d|=0;c|=0;B=(B|0)+2;w=(w|0)+2;f=c+B;e=d+w;switch(ia){case 1:var A=u;var K=B<<1;for(ca=d;ca<e;ca+=1){(ca&X)===ca&&(t=b[ca],v=a[ca]);var O=M;for(L=c;L<f;L+=1){if(0>L+oa||L+oa>=N||0>ca+ja||ca+ja>=N)var J=S;else if((L&V)!==L||(ca&X)!==ca)J=P;else{J=t[L];var x=v[L];x===na||x===Z?(J>=Y&&(x=W),J=l[x]):x===W||x===fa?(J<Y&&(x=na),
J=l[x]):J=l[J]}p[M]=J;p[M+1]=J;M+=2}M=O+r;p.copyWithin(M,O,O+K);M=A;A+=u}break;case 2:A=u;K=B<<2;for(ca=d;ca<e;ca+=1){(ca&X)===ca&&(t=b[ca],v=a[ca]);O=M;for(L=c;L<f;L+=1)0>L+oa||L+oa>=N||0>ca+ja||ca+ja>=N?J=S:(L&V)!==L||(ca&X)!==ca?J=P:(J=t[L],x=v[L],x===na||x===Z?(J>=Y&&(x=W),J=l[x]):x===W||x===fa?(J<Y&&(x=na),J=l[x]):J=l[J]),p[M]=J,p[M+1]=J,p[M+2]=J,p[M+3]=J,M+=4;M=O+r;p.copyWithin(M,O,O+K);M+=r;O+=r;p.copyWithin(M,O,O+K);M+=r;O+=r;p.copyWithin(M,O,O+K);M=A;A+=u}break;default:for(A=u,K=B*m,aa&&
(this.ja&&2===this.lb&&this.Ad||(ca=0),ea=-(this.displayWidth/2/this.da)-(this.width/2-this.ma-this.Ma)+this.view.S/2+.05|0,ea+=ca,ma=-(this.displayHeight/2/this.da)-(this.height/2-this.ka-this.za)+this.view.V/2+.05|0,ma+=ca),ca=d;ca<e;ca+=1){(ca&X)===ca&&(t=b[ca],v=a[ca]);O=M;var D=ea;for(L=c;L<f;L+=1){0>L+oa||L+oa>=N||0>ca+ja||ca+ja>=N?J=S:(L&V)!==L||(ca&X)!==ca?J=P:(J=t[L],x=v[L],x===na||x===Z?(J>=Y&&(x=W),J=l[x]):x===W||x===fa?(J<Y&&(x=na),J=l[x]):J=l[J]);for(x=0;x<ia;x+=1)p[M]=J,p[M+1]=J,M+=
2;pa&&ca===d&&(Q[Q.length]=aa&&0===D%this.lb?R:I);D+=1}M=O+r;for(L=1;L<m;L+=1)p.copyWithin(M,O,O+K),O+=r,M+=r;pa&&(G[G.length]=aa&&0===ma%this.lb?R:I);M=A;A+=u;ma+=1}}n.putImageData(q,0,0,0,0,B*m,w*m);this.oa.imageSmoothingEnabled=!0;this.oa.drawImage(this.Ld,0,0,B*m,w*m,E,H,B*this.da,w*z);this.oa.imageSmoothingEnabled=!1;if(g||k||pa){this.Kc=this.oa.getImageData(0,0,this.oa.canvas.width,this.oa.canvas.height);this.Oc=new Uint32Array(this.Kc.data.buffer);if(pa){M=0;a=((this.width/2-(this.ma+this.Ma))*
this.da+this.displayWidth/2)%this.da;L=-this.da+a;for(A=c;A<=f;A+=1)this.wi(L|0,0,this.displayHeight-1,Q[M]),L+=this.da,M+=1;M=0;c=((this.height/2-(this.ka+this.za))*this.da+this.displayHeight/2)%this.da;ca=-this.da+c;for(A=d;A<=e;A+=1)this.Ej(0,this.displayWidth-1,ca|0,G[M]),ca+=this.da,M+=1}g&&this.wg()}else this.vg=!1};qa.prototype.io=function(a,b,c,d){var f=this.displayWidth>>3,e=this.$a,g=this.Oc,k=0,l=0;var p=this.width;var n=this.height;var q=F.sb[3]+128,m=F.sb[4]+128,r=F.sb[5]+128,u=F.sb[6]+
128,t=1,v=1,B=0,w=this.ea,z=this.xa,E=this.Ia&~c,H=this.Ha&~c,L=~c,M=~c,N=this.rd,V,X=b,I=this.da,R=!0;1<this.Ca&&(t=this.Aa);var P=Math.sin(this.Ea/180*Math.PI)/this.da;var S=Math.cos(this.Ea/180*Math.PI)/this.da;var aa=-(this.displayWidth/2*-P+this.displayHeight/2*S)+this.Ib;var ma=-(this.displayWidth/2*S+this.displayHeight/2*P)+this.Hb;1<this.Aa&&1<this.Ca&&(B=.4/(this.Aa-1),v=.6);this.kb(v);for(V=this.$a[0];p<w;)k+=p>>1,p<<=1;for(;n<w;)l+=n>>1,n<<=1;var ea=0;var ca=aa;for(p=0;p<this.displayHeight;p+=
1){var ia=ma;for(n=0;n<f;n+=1){if(0<=ia&&(ia&L)===(ia&E)&&0<=ca&&(ca&M)===(ca&H)){var oa=X[ca&H][ia&E];var ja=a[ca&H][ia&E];ja===m||ja===u?(oa>=z&&(ja=q),oa=e[ja]|0):ja===q||ja===r?(oa<z&&(ja=m),oa=e[ja]|0):oa=e[oa]|0;g[ea]=oa}else g[ea]=0<=ia+k&&ia+k<w&&0<=ca+l&&ca+l<w?V:N;ea+=1;ia+=S;ca-=P;0<=ia&&(ia&L)===(ia&E)&&0<=ca&&(ca&M)===(ca&H)?(oa=X[ca&H][ia&E],ja=a[ca&H][ia&E],ja===m||ja===u?(oa>=z&&(ja=q),oa=e[ja]|0):ja===q||ja===r?(oa<z&&(ja=m),oa=e[ja]|0):oa=e[oa]|0,g[ea]=oa):g[ea]=0<=ia+k&&ia+k<w&&
0<=ca+l&&ca+l<w?V:N;ea+=1;ia+=S;ca-=P;0<=ia&&(ia&L)===(ia&E)&&0<=ca&&(ca&M)===(ca&H)?(oa=X[ca&H][ia&E],ja=a[ca&H][ia&E],ja===m||ja===u?(oa>=z&&(ja=q),oa=e[ja]|0):ja===q||ja===r?(oa<z&&(ja=m),oa=e[ja]|0):oa=e[oa]|0,g[ea]=oa):g[ea]=0<=ia+k&&ia+k<w&&0<=ca+l&&ca+l<w?V:N;ea+=1;ia+=S;ca-=P;0<=ia&&(ia&L)===(ia&E)&&0<=ca&&(ca&M)===(ca&H)?(oa=X[ca&H][ia&E],ja=a[ca&H][ia&E],ja===m||ja===u?(oa>=z&&(ja=q),oa=e[ja]|0):ja===q||ja===r?(oa<z&&(ja=m),oa=e[ja]|0):oa=e[oa]|0,g[ea]=oa):g[ea]=0<=ia+k&&ia+k<w&&0<=ca+l&&
ca+l<w?V:N;ea+=1;ia+=S;ca-=P;0<=ia&&(ia&L)===(ia&E)&&0<=ca&&(ca&M)===(ca&H)?(oa=X[ca&H][ia&E],ja=a[ca&H][ia&E],ja===m||ja===u?(oa>=z&&(ja=q),oa=e[ja]|0):ja===q||ja===r?(oa<z&&(ja=m),oa=e[ja]|0):oa=e[oa]|0,g[ea]=oa):g[ea]=0<=ia+k&&ia+k<w&&0<=ca+l&&ca+l<w?V:N;ea+=1;ia+=S;ca-=P;0<=ia&&(ia&L)===(ia&E)&&0<=ca&&(ca&M)===(ca&H)?(oa=X[ca&H][ia&E],ja=a[ca&H][ia&E],ja===m||ja===u?(oa>=z&&(ja=q),oa=e[ja]|0):ja===q||ja===r?(oa<z&&(ja=m),oa=e[ja]|0):oa=e[oa]|0,g[ea]=oa):g[ea]=0<=ia+k&&ia+k<w&&0<=ca+l&&ca+l<w?
V:N;ea+=1;ia+=S;ca-=P;0<=ia&&(ia&L)===(ia&E)&&0<=ca&&(ca&M)===(ca&H)?(oa=X[ca&H][ia&E],ja=a[ca&H][ia&E],ja===m||ja===u?(oa>=z&&(ja=q),oa=e[ja]|0):ja===q||ja===r?(oa<z&&(ja=m),oa=e[ja]|0):oa=e[oa]|0,g[ea]=oa):g[ea]=0<=ia+k&&ia+k<w&&0<=ca+l&&ca+l<w?V:N;ea+=1;ia+=S;ca-=P;0<=ia&&(ia&L)===(ia&E)&&0<=ca&&(ca&M)===(ca&H)?(oa=X[ca&H][ia&E],ja=a[ca&H][ia&E],ja===m||ja===u?(oa>=z&&(ja=q),oa=e[ja]|0):ja===q||ja===r?(oa<z&&(ja=m),oa=e[ja]|0):oa=e[oa]|0,g[ea]=oa):g[ea]=0<=ia+k&&ia+k<w&&0<=ca+l&&ca+l<w?V:N;ea+=
1;ia+=S;ca-=P}ma+=P;ca=aa+=S}this.td(d);X=b;for(a=1;a<t;a+=1)for(b=2<this.i?0===this.u?this.i/this.Aa*a|0:a<t/2?this.u/this.Aa*a*2|0:this.u+this.i/this.Aa*a|0:this.ab===y.vf?1:(this.Me+1)/this.Aa*a|0,v+=B,this.kb(v),P/=this.Ca,S/=this.Ca,I*=this.Ca,aa=this.af(I,R,c,X),c=aa[0],X=aa[1],R=!1,E=this.Ia&~c,H=this.Ha&~c,L=~c,M=~c,aa=-(this.displayWidth/2*-P+this.displayHeight/2*S)+this.Ib,ma=-(this.displayWidth/2*S+this.displayHeight/2*P)+this.Hb,ea=0,ca=aa,p=0;p<this.displayHeight;p+=1){ia=ma;for(n=0;n<
f;n+=1)0<=ia&&(ia&L)===(ia&E)&&0<=ca&&(ca&M)===(ca&H)&&(oa=X[ca&H][ia&E]|0,oa>=b&&(g[ea]=e[oa])),ea+=1,ia+=S,ca-=P,0<=ia&&(ia&L)===(ia&E)&&0<=ca&&(ca&M)===(ca&H)&&(oa=X[ca&H][ia&E]|0,oa>=b&&(g[ea]=e[oa])),ea+=1,ia+=S,ca-=P,0<=ia&&(ia&L)===(ia&E)&&0<=ca&&(ca&M)===(ca&H)&&(oa=X[ca&H][ia&E]|0,oa>=b&&(g[ea]=e[oa])),ea+=1,ia+=S,ca-=P,0<=ia&&(ia&L)===(ia&E)&&0<=ca&&(ca&M)===(ca&H)&&(oa=X[ca&H][ia&E]|0,oa>=b&&(g[ea]=e[oa])),ea+=1,ia+=S,ca-=P,0<=ia&&(ia&L)===(ia&E)&&0<=ca&&(ca&M)===(ca&H)&&(oa=X[ca&H][ia&
E]|0,oa>=b&&(g[ea]=e[oa])),ea+=1,ia+=S,ca-=P,0<=ia&&(ia&L)===(ia&E)&&0<=ca&&(ca&M)===(ca&H)&&(oa=X[ca&H][ia&E]|0,oa>=b&&(g[ea]=e[oa])),ea+=1,ia+=S,ca-=P,0<=ia&&(ia&L)===(ia&E)&&0<=ca&&(ca&M)===(ca&H)&&(oa=X[ca&H][ia&E]|0,oa>=b&&(g[ea]=e[oa])),ea+=1,ia+=S,ca-=P,0<=ia&&(ia&L)===(ia&E)&&0<=ca&&(ca&M)===(ca&H)&&(oa=X[ca&H][ia&E]|0,oa>=b&&(g[ea]=e[oa])),ea+=1,ia+=S,ca-=P;ma+=P;ca=aa+=S}};qa.prototype.no=function(a,b,c,d){var f=this.displayWidth>>3,e=this.$a,g=this.Oc,k,l,p=F.sb[3]+128,n=F.sb[4]+128,q=
F.sb[5]+128,m=F.sb[6]+128,r=1,u=1,t=0,v=this.xa,B=this.Ia&~c,w=this.Ha&~c,z=b,E=this.da,H=!0;1<this.Ca&&(r=this.Aa);var L=Math.sin(this.Ea/180*Math.PI)/this.da;var M=Math.cos(this.Ea/180*Math.PI)/this.da;var N=-(this.displayWidth/2*-L+this.displayHeight/2*M)+this.Ib;var V=-(this.displayWidth/2*M+this.displayHeight/2*L)+this.Hb;1<this.Aa&&1<this.Ca&&(t=.4/(this.Aa-1),u=.6);this.kb(u);var X=0;var I=N;for(k=0;k<this.displayHeight;k+=1){var R=V;for(l=0;l<f;l+=1){var P=z[I&w][R&B];var S=a[I&w][R&B];S===
n||S===m?(P>=v&&(S=p),P=e[S]|0):S===p||S===q?(P<v&&(S=n),P=e[S]|0):P=e[P]|0;g[X]=P;X+=1;R+=M;I-=L;P=z[I&w][R&B];S=a[I&w][R&B];S===n||S===m?(P>=v&&(S=p),P=e[S]|0):S===p||S===q?(P<v&&(S=n),P=e[S]|0):P=e[P]|0;g[X]=P;X+=1;R+=M;I-=L;P=z[I&w][R&B];S=a[I&w][R&B];S===n||S===m?(P>=v&&(S=p),P=e[S]|0):S===p||S===q?(P<v&&(S=n),P=e[S]|0):P=e[P]|0;g[X]=P;X+=1;R+=M;I-=L;P=z[I&w][R&B];S=a[I&w][R&B];S===n||S===m?(P>=v&&(S=p),P=e[S]|0):S===p||S===q?(P<v&&(S=n),P=e[S]|0):P=e[P]|0;g[X]=P;X+=1;R+=M;I-=L;P=z[I&w][R&B];
S=a[I&w][R&B];S===n||S===m?(P>=v&&(S=p),P=e[S]|0):S===p||S===q?(P<v&&(S=n),P=e[S]|0):P=e[P]|0;g[X]=P;X+=1;R+=M;I-=L;P=z[I&w][R&B];S=a[I&w][R&B];S===n||S===m?(P>=v&&(S=p),P=e[S]|0):S===p||S===q?(P<v&&(S=n),P=e[S]|0):P=e[P]|0;g[X]=P;X+=1;R+=M;I-=L;P=z[I&w][R&B];S=a[I&w][R&B];S===n||S===m?(P>=v&&(S=p),P=e[S]|0):S===p||S===q?(P<v&&(S=n),P=e[S]|0):P=e[P]|0;g[X]=P;X+=1;R+=M;I-=L;P=z[I&w][R&B];S=a[I&w][R&B];S===n||S===m?(P>=v&&(S=p),P=e[S]|0):S===p||S===q?(P<v&&(S=n),P=e[S]|0):P=e[P]|0;g[X]=P;X+=1;R+=M;
I-=L}V+=L;I=N+=M}this.td(d);z=b;for(a=1;a<r;a+=1)for(b=2<this.i?0===this.u?this.i/this.Aa*a|0:a<r/2?this.u/this.Aa*a*2|0:this.u+this.i/this.Aa*a|0:this.ab===y.vf?1:(this.Me+1)/this.Aa*a|0,u+=t,this.kb(u),L/=this.Ca,M/=this.Ca,E*=this.Ca,k=this.af(E,H,c,z),c=k[0],z=k[1],H=!1,B=this.Ia&~c,w=this.Ha&~c,N=-(this.displayWidth/2*-L+this.displayHeight/2*M)+this.Ib,V=-(this.displayWidth/2*M+this.displayHeight/2*L)+this.Hb,X=0,I=N,k=0;k<this.displayHeight;k+=1){R=V;for(l=0;l<f;l+=1)P=z[I&w][R&B]|0,P>=b&&(g[X]=
e[P]),X+=1,R+=M,I-=L,P=z[I&w][R&B]|0,P>=b&&(g[X]=e[P]),X+=1,R+=M,I-=L,P=z[I&w][R&B]|0,P>=b&&(g[X]=e[P]),X+=1,R+=M,I-=L,P=z[I&w][R&B]|0,P>=b&&(g[X]=e[P]),X+=1,R+=M,I-=L,P=z[I&w][R&B]|0,P>=b&&(g[X]=e[P]),X+=1,R+=M,I-=L,P=z[I&w][R&B]|0,P>=b&&(g[X]=e[P]),X+=1,R+=M,I-=L,P=z[I&w][R&B]|0,P>=b&&(g[X]=e[P]),X+=1,R+=M,I-=L,P=z[I&w][R&B]|0,P>=b&&(g[X]=e[P]),X+=1,R+=M,I-=L;V+=L;I=N+=M}};qa.prototype.po=function(a,b,c,d){var f=this.displayWidth>>3,e=this.$a,g=this.Oc,k,l=F.sb[3]+128,p=F.sb[4]+128,n=F.sb[5]+128,
q=F.sb[6]+128,m=1,r=1,u=0,t=this.xa,v=this.Ia&~c,B=this.Ha&~c,w=b,z=this.da,E=!0;1<this.Ca&&(m=this.Aa);var H=1/this.da;this.Z&&(H/=F.fk);this.ha&&(H/=F.Vj);var L=1/this.da;var M=-(this.displayHeight/2*H)+this.Ib;var N=-(this.displayWidth/2*L)+this.Hb;1<this.Aa&&1<this.Ca&&(u=.4/(this.Aa-1),r=.6);this.kb(r);var V=0;var X=M;for(k=0;k<this.displayHeight;k+=1){var I=w[X&B];var R=a[X&B];var P=N;this.ha&&(P+=.5*(X|0));for(X=0;X<f;X+=1){var S=I[P&v];var aa=R[P&v];aa===p||aa===q?(S>=t&&(aa=l),S=e[aa]|0):
aa===l||aa===n?(S<t&&(aa=p),S=e[aa]|0):S=e[S]|0;g[V]=S;V+=1;P+=L;S=I[P&v];aa=R[P&v];aa===p||aa===q?(S>=t&&(aa=l),S=e[aa]|0):aa===l||aa===n?(S<t&&(aa=p),S=e[aa]|0):S=e[S]|0;g[V]=S;V+=1;P+=L;S=I[P&v];aa=R[P&v];aa===p||aa===q?(S>=t&&(aa=l),S=e[aa]|0):aa===l||aa===n?(S<t&&(aa=p),S=e[aa]|0):S=e[S]|0;g[V]=S;V+=1;P+=L;S=I[P&v];aa=R[P&v];aa===p||aa===q?(S>=t&&(aa=l),S=e[aa]|0):aa===l||aa===n?(S<t&&(aa=p),S=e[aa]|0):S=e[S]|0;g[V]=S;V+=1;P+=L;S=I[P&v];aa=R[P&v];aa===p||aa===q?(S>=t&&(aa=l),S=e[aa]|0):aa===
l||aa===n?(S<t&&(aa=p),S=e[aa]|0):S=e[S]|0;g[V]=S;V+=1;P+=L;S=I[P&v];aa=R[P&v];aa===p||aa===q?(S>=t&&(aa=l),S=e[aa]|0):aa===l||aa===n?(S<t&&(aa=p),S=e[aa]|0):S=e[S]|0;g[V]=S;V+=1;P+=L;S=I[P&v];aa=R[P&v];aa===p||aa===q?(S>=t&&(aa=l),S=e[aa]|0):aa===l||aa===n?(S<t&&(aa=p),S=e[aa]|0):S=e[S]|0;g[V]=S;V+=1;P+=L;S=I[P&v];aa=R[P&v];aa===p||aa===q?(S>=t&&(aa=l),S=e[aa]|0):aa===l||aa===n?(S<t&&(aa=p),S=e[aa]|0):S=e[S]|0;g[V]=S;V+=1;P+=L}X=M+=H}this.td(d);w=b;for(a=1;a<m;a+=1)for(b=2<this.i?0===this.u?this.i/
this.Aa*a|0:a<m/2?this.u/this.Aa*a*2|0:this.u+this.i/this.Aa*a|0:this.ab===y.vf?1:(this.Me+1)/this.Aa*a|0,r+=u,this.kb(r),H/=this.Ca,L/=this.Ca,z*=this.Ca,k=this.af(z,E,c,w),c=k[0],w=k[1],E=!1,v=this.Ia&~c,B=this.Ha&~c,M=-(this.displayHeight/2*H)+this.Ib,N=-(this.displayWidth/2*L)+this.Hb,V=0,X=M,k=0;k<this.displayHeight;k+=1){I=w[X&B];P=N;this.ha&&(P+=.5*(X|0));for(X=0;X<f;X+=1)S=I[P&v]|0,S>=b&&(g[V]=e[S]),V+=1,P+=L,S=I[P&v]|0,S>=b&&(g[V]=e[S]),V+=1,P+=L,S=I[P&v]|0,S>=b&&(g[V]=e[S]),V+=1,P+=L,S=
I[P&v]|0,S>=b&&(g[V]=e[S]),V+=1,P+=L,S=I[P&v]|0,S>=b&&(g[V]=e[S]),V+=1,P+=L,S=I[P&v]|0,S>=b&&(g[V]=e[S]),V+=1,P+=L,S=I[P&v]|0,S>=b&&(g[V]=e[S]),V+=1,P+=L,S=I[P&v]|0,S>=b&&(g[V]=e[S]),V+=1,P+=L;X=M+=H}};qa.prototype.ko=function(a,b,c,d){var f=this.displayWidth>>3,e=this.$a,g=this.Oc,k=0,l=0;var p=this.width;var n=this.height;var q=F.sb[3]+128,m=F.sb[4]+128,r=F.sb[5]+128,u=F.sb[6]+128,t=1,v=1,B=0,w=this.ea,z=this.rd,E,H=this.xa,L=this.Ia&~c,M=this.Ha&~c,N=~c,V=~c,X=b,I=this.da,R=!0;1<this.Ca&&(t=this.Aa);
var P=1/this.da;this.Z&&(P/=F.fk);this.ha&&(P/=F.Vj);var S=1/this.da;var aa=-(this.displayHeight/2*P)+this.Ib;var ma=-(this.displayWidth/2*S)+this.Hb;1<this.Aa&&1<this.Ca&&(B=.4/(this.Aa-1),v=.6);this.kb(v);for(E=this.$a[0];p<w;)k+=p>>1,p<<=1;for(;n<w;)l+=n>>1,n<<=1;var ea=0;var ca=aa;for(p=0;p<this.displayHeight;p+=1){if(0<=ca&&(ca&V)===(ca&M)){var ia=X[ca&M];var oa=a[ca&M];n=ma;this.ha&&(n+=.5*(ca|0));for(ca=0;ca<f;ca+=1){if(0<=n&&(n&N)===(n&L)){var ja=ia[n&L];var W=oa[n&L];W===m||W===u?(ja>=H&&
(W=q),ja=e[W]|0):W===q||W===r?(ja<H&&(W=m),ja=e[W]|0):ja=e[ja]|0}else ja=0<=n+k&&n+k<w?E:z;g[ea]=ja;ea+=1;n+=S;0<=n&&(n&N)===(n&L)?(ja=ia[n&L],W=oa[n&L],W===m||W===u?(ja>=H&&(W=q),ja=e[W]|0):W===q||W===r?(ja<H&&(W=m),ja=e[W]|0):ja=e[ja]|0):ja=0<=n+k&&n+k<w?E:z;g[ea]=ja;ea+=1;n+=S;0<=n&&(n&N)===(n&L)?(ja=ia[n&L],W=oa[n&L],W===m||W===u?(ja>=H&&(W=q),ja=e[W]|0):W===q||W===r?(ja<H&&(W=m),ja=e[W]|0):ja=e[ja]|0):ja=0<=n+k&&n+k<w?E:z;g[ea]=ja;ea+=1;n+=S;0<=n&&(n&N)===(n&L)?(ja=ia[n&L],W=oa[n&L],W===m||W===
u?(ja>=H&&(W=q),ja=e[W]|0):W===q||W===r?(ja<H&&(W=m),ja=e[W]|0):ja=e[ja]|0):ja=0<=n+k&&n+k<w?E:z;g[ea]=ja;ea+=1;n+=S;0<=n&&(n&N)===(n&L)?(ja=ia[n&L],W=oa[n&L],W===m||W===u?(ja>=H&&(W=q),ja=e[W]|0):W===q||W===r?(ja<H&&(W=m),ja=e[W]|0):ja=e[ja]|0):ja=0<=n+k&&n+k<w?E:z;g[ea]=ja;ea+=1;n+=S;0<=n&&(n&N)===(n&L)?(ja=ia[n&L],W=oa[n&L],W===m||W===u?(ja>=H&&(W=q),ja=e[W]|0):W===q||W===r?(ja<H&&(W=m),ja=e[W]|0):ja=e[ja]|0):ja=0<=n+k&&n+k<w?E:z;g[ea]=ja;ea+=1;n+=S;0<=n&&(n&N)===(n&L)?(ja=ia[n&L],W=oa[n&L],W===
m||W===u?(ja>=H&&(W=q),ja=e[W]|0):W===q||W===r?(ja<H&&(W=m),ja=e[W]|0):ja=e[ja]|0):ja=0<=n+k&&n+k<w?E:z;g[ea]=ja;ea+=1;n+=S;0<=n&&(n&N)===(n&L)?(ja=ia[n&L],W=oa[n&L],W===m||W===u?(ja>=H&&(W=q),ja=e[W]|0):W===q||W===r?(ja<H&&(W=m),ja=e[W]|0):ja=e[ja]|0):ja=0<=n+k&&n+k<w?E:z;g[ea]=ja;ea+=1;n+=S}}else if(0<=ca+l&&ca+l<w)for(n=ma,this.ha&&(n+=.5*(ca|0)),ca=0;ca<this.displayWidth;ca+=1)g[ea]=0<=n+k&&n+k<w?E:z,ea+=1,n+=S;else g.fill(z,ea,ea+this.displayWidth+1),ea+=this.displayWidth;ca=aa+=P}this.td(d);
X=b;for(a=1;a<t;a+=1)for(b=2<this.i?0===this.u?this.i/this.Aa*a|0:a<t/2?this.u/this.Aa*a*2|0:this.u+this.i/this.Aa*a|0:this.ab===y.vf?1:(this.Me+1)/this.Aa*a|0,v+=B,this.kb(v),P/=this.Ca,S/=this.Ca,I*=this.Ca,aa=this.af(I,R,c,X),c=aa[0],X=aa[1],R=!1,L=this.Ia&~c,M=this.Ha&~c,N=~c,V=~c,aa=-(this.displayHeight/2*P)+this.Ib,ma=-(this.displayWidth/2*S)+this.Hb,ea=0,ca=aa,p=0;p<this.displayHeight;p+=1){if(0<=ca&&(ca&V)===(ca&M))for(ia=X[ca&M],n=ma,this.ha&&(n+=.5*(ca|0)),ca=0;ca<f;ca+=1)0<=n&&(n&N)===
(n&L)&&(ja=ia[n&L]|0,ja>=b&&(g[ea]=e[ja])),ea+=1,n+=S,0<=n&&(n&N)===(n&L)&&(ja=ia[n&L]|0,ja>=b&&(g[ea]=e[ja])),ea+=1,n+=S,0<=n&&(n&N)===(n&L)&&(ja=ia[n&L]|0,ja>=b&&(g[ea]=e[ja])),ea+=1,n+=S,0<=n&&(n&N)===(n&L)&&(ja=ia[n&L]|0,ja>=b&&(g[ea]=e[ja])),ea+=1,n+=S,0<=n&&(n&N)===(n&L)&&(ja=ia[n&L]|0,ja>=b&&(g[ea]=e[ja])),ea+=1,n+=S,0<=n&&(n&N)===(n&L)&&(ja=ia[n&L]|0,ja>=b&&(g[ea]=e[ja])),ea+=1,n+=S,0<=n&&(n&N)===(n&L)&&(ja=ia[n&L]|0,ja>=b&&(g[ea]=e[ja])),ea+=1,n+=S,0<=n&&(n&N)===(n&L)&&(ja=ia[n&L]|0,ja>=
b&&(g[ea]=e[ja])),ea+=1,n+=S;else ea+=f<<3;ca=aa+=P}};qa.prototype.ag=function(a,b,c,d,f){var e=Math.sin(this.Ea/180*Math.PI)/this.da,g=Math.cos(this.Ea/180*Math.PI)/this.da,k=this.displayWidth,l=this.displayHeight,p=-(this.displayWidth/2*-e+this.displayHeight/2*g)+this.Ib,n=-(this.displayWidth/2*g+this.displayHeight/2*e)+this.Hb,q=p+k*-e,m=n+k*g,r=p+l*g;l=n+l*e;e=r+k*-e;g=l+k*g;k=r;var u=l,t=performance.now();g<u&&(u=g);n<u&&(u=n);m<u&&(u=n);g>l&&(l=g);n>l&&(l=n);m>l&&(l=m);e>k&&(k=e);p>k&&(k=p);
q>k&&(k=q);e<r&&(r=e);p<r&&(r=p);q<r&&(r=q);0>(u|0)||(l|0)>=this.width||0>(r|0)||(k|0)>=this.height?0===this.Ea?this.Xc&&1<=this.da&&1===this.Aa&&0===this.Gb?(this.kb(1),this.il(a,b,u,r,l,k,d,f)):(1<this.Aa&&1<this.Ca||this.ha||this.Z||!(U.R&&U.vl&&this.view.i)?this.ko(a,b,c,d):(this.kb(1),va.FJ(b.o.byteOffset|0,a[0].length|0,a.o.byteOffset|0,c|0,this.$a.byteOffset|0,this.Oc.byteOffset|0,this.displayWidth|0,this.displayHeight|0,this.Hb,this.Ib,this.Ia|0,this.Ha|0,this.da,F.sb[3]+128|0,F.sb[4]+128|
0,F.sb[5]+128|0,F.sb[6]+128|0,y.xa|0,this.ea|0,this.width|0,this.height|0,this.rd|0,this.Vg.byteOffset|0,this.wj.byteOffset|0),this.td(d)),t=performance.now()-t,U.xb&&this.view.C.h("renderGridClip",t,U.R&&U.vl&&this.view.i)):this.io(a,b,c,d):0===this.Ea?this.Xc&&1<=this.da&&1===this.Aa&&0===this.Gb?(this.kb(1),this.il(a,b,u,r,l,k,d,f)):(1<this.Aa&&1<this.Ca||this.ha||this.Z||!(U.R&&U.vl&&this.view.i)?this.po(a,b,c,d):(this.kb(1),va.GJ(b.o.byteOffset|0,a[0].length|0,a.o.byteOffset|0,c|0,this.$a.byteOffset|
0,this.Oc.byteOffset|0,this.displayWidth|0,this.displayHeight|0,this.Hb,this.Ib,this.Ia|0,this.Ha|0,this.da,F.sb[3]+128|0,F.sb[4]+128|0,F.sb[5]+128|0,F.sb[6]+128|0,y.xa|0,this.Vg.byteOffset|0),this.td(d)),t=performance.now()-t,U.xb&&this.view.C.h("renderGridNoClip",t,U.R&&U.vl&&this.view.i)):this.no(a,b,c,d)};qa.prototype.To=function(a,b){a.set(b)};qa.prototype.Dj=function(a){var b;if(this.vg){if(!this.Kc.data.buffer){var c=this.Kc.data;var d=this.eo;var f=d.length;for(b=0;b<f;)c[b]=d[b],b+=1,c[b]=
d[b],b+=1,c[b]=d[b],b+=1,c[b]=d[b],b+=1}if(0!==this.Gb&&a){var e;a=this.oa.canvas.width;b=this.oa.canvas.height;f=this.Oc;c=this.Hg;d=a>>1;var g=b>>1;var k=this.Gb-1;var l=this.rd,p=(2*k+2)/b;null===this.Hg&&(c=this.Hg=this.T.h(ra.lc,a*b,"Life.tiltBuffer",!1));var n=-k;for(k=0;k<b;k+=1){var q=k-g;var m=0>=n?b:q/n+g|0;q=k*a;if(0>m||m>=b)for(e=0;e<a;e+=1)c[q+e]=l;else{var r=m*a;m=-d/n+d;e=d/n+d;var u=(e-m)/a;for(e=0;e<a;e+=1){var t=m|0;c[q+e]=0>t||t>=a?l:f[r+t];m+=u}}n+=p}this.To(f,c)}this.oa.putImageData(this.Kc,
0,0)}};qa.prototype.em=function(a){this.Oc.fill(a)};Pa.prototype.aa=function(a,b){return 0>a||a>=this.s.length||0>b||b>=this.s.length||a>b?"":this.source.substring(this.s[a],this.s[b]+this.B[b])};Pa.prototype.P=function(){0<this.current&&--this.current};Pa.prototype.u=function(){for(;this.current<this.s.length&&10!==this.source.charCodeAt(this.s[this.current]);)this.current+=1;this.current<this.s.length&&(this.current+=1)};Pa.prototype.G=function(){for(;this.current<this.s.length&&10===this.source.charCodeAt(this.s[this.current]);)this.current+=
1};Pa.prototype.ba=function(){var a=!1;this.current<this.s.length&&10!==this.source.charCodeAt(this.s[this.current])&&(a=!0);return a};Pa.prototype.D=function(){var a=!1;this.current<this.s.length&&10===this.source.charCodeAt(this.s[this.current])&&(a=!0);return a};Pa.prototype.j=function(){var a="";this.current<this.s.length&&(a=this.source.substring(this.s[this.current],this.s[this.current]+this.B[this.current]),this.current+=1);return a};Pa.prototype.$=function(){var a="";if(this.current<this.s.length){a=
this.source.indexOf("\n",this.s[this.current]);if(-1===a)a=this.source.substring(this.s[this.current]);else{var b=this.source.indexOf("\r",this.s[this.current]);-1!==b&&b<a&&(a=b);a=this.source.substring(this.s[this.current],a)}this.u()}return a};Pa.prototype.Y=function(){var a;for(a=this.j();"\n"===a;)a=this.j();return a};Pa.prototype.m=function(){var a="";this.current<this.s.length&&(a=this.source.substring(this.s[this.current],this.s[this.current]+this.B[this.current]));return a};Pa.prototype.S=
function(a){return this.V(a,-1,!1)};Pa.prototype.A=function(a,b){return this.V(a,b,!0)};Pa.prototype.V=function(a,b,c){var d=-1,f=this.current;for(-1!==b&&0<=b&&b<this.s.length&&(f=b);f<this.s.length&&-1===d;){if(a.length===this.B[f]){var e=0;for(b=!0;b&&e<a.length;)a[e]!==this.source[this.s[f]+e]?b=!1:e+=1}else b=!1;b&&(c&&0!==f&&10!==this.source.charCodeAt(this.s[f-1])&&(b=!1),b&&(d=f));f+=1}-1!==d&&(this.current=f);return d};Pa.prototype.v=function(a){return!isNaN(parseFloat(a))&&isFinite(Number(a))};
Pa.prototype.O=function(a){var b=!1,c=a.indexOf("/");-1!==c&&(b=a.substring(0,c),a=a.substring(c+1),b=this.v(b)&&this.v(a));return b};Pa.prototype.H=function(a){var b=0;if(this.O(a)){var c=a.indexOf("/");var d=a.substring(0,c);a=a.substring(c+1);0!==Number(a)&&(b=Number(d)/Number(a))}else this.v(a)&&(b=parseFloat(a));return b};Pa.prototype.h=function(){var a=0;this.current<this.s.length&&(0!==this.F[this.current]?(a=this.F[this.current]>>1,this.current+=1):(a=this.j(),a=this.H(a)));return a};Pa.prototype.i=
function(){var a=!1;this.current<this.s.length&&(this.F[this.current]?a=!0:(a=this.source.substring(this.s[this.current],this.s[this.current]+this.B[this.current]),a=this.O(a)?!0:this.v(a)));return a};Pa.prototype.I=function(){var a=!1,b=this.current+1;b<this.s.length&&(this.F[b]?a=!0:(a=this.source.substring(this.s[b],this.s[b]+this.B[b]),a=this.O(a)?!0:this.v(a)));return a};Pa.prototype.Z=function(){this.current=this.s.length};var Va={Iw:0,play:1,stop:2,jq:12,bD:0,aD:200};jb.prototype.set=function(a){this.wo=
a.wo;this.Xg=a.Xg;this.j=a.j;this.h=a.h;this.i=a.i;this.uc=a.uc;this.Sb=a.Sb;this.x=a.x;this.y=a.y;this.eh=a.eh;this.fh=a.fh;this.gh=a.gh;this.Se=a.Se;this.angle=a.angle;this.Gb=a.Gb;this.zoom=a.zoom;this.Aa=a.Aa;this.depth=a.depth;this.Mc=a.Mc;this.dd=a.dd;this.step=a.step;this.Ac=a.Ac;this.zd=a.zd;this.we=a.we;this.ql=a.ql;this.grid=a.grid};jb.prototype.s=function(){var a="";switch(this.h){case Va.play:a=C.Vo;break;case Va.stop:a=C.Wo}return a};jb.prototype.$J=function(a){this.Xg?(this.h!==Va.Iw&&
(a[a.length]=[C.Vo,"overwrites "+this.s()]),this.h=Va.play):a[a.length]=[C.Vo,"only valid at POI"]};jb.prototype.bK=function(a){this.Xg?(this.h!==Va.Iw&&(a[a.length]=[C.Wo,"overwrites "+this.s()]),this.h=Va.stop):a[a.length]=[C.Wo,"only valid at POI"]};jb.prototype.aK=function(a){this.Xg?(this.j&&(a[a.length]=[C.kq,"already defined"]),this.j=!0):a[a.length]=[C.kq,"only valid at POI"]};jb.prototype.cK=function(a,b){this.Xg?(this.i!==Va.jq&&(b[b.length]=[C.lq+" "+a,"overwrites "+this.i]),this.i=a):
b[b.length]=[C.lq,"only valid at POI"]};jb.prototype.u=function(a,b,c){var d=a.zd,f=b.zd,e=a.angle,g=b.angle,k=1,l=1;c>f&&(c=f);f-d===F.eK&&(d=f);f!==d&&(k=Math.round((c-d)/(f-d)*1E6)/1E6,l=this.X.Y(k));d=b.eh||b.Se?k:l;f=b.fh||b.Se?k:l;var p=b.gh||b.Se?k:l;this.x=a.x+d*(b.x-a.x);this.y=a.y+f*(b.y-a.y);this.zoom=a.zoom*Math.pow(b.zoom/a.zoom,p);180<g-e?e+=360:-180>g-e&&(g+=360);this.angle=(e+l*(g-e))%360;this.Gb=a.Gb+l*(b.Gb-a.Gb);this.Aa=a.Aa+k*(b.Aa-a.Aa)|0;this.depth=a.depth+k*(b.depth-a.depth);
this.Mc=b.Mc;this.dd=b.dd;this.step=b.step;this.Ac=a.Ac+k*(b.Ac-a.Ac)|0;this.zd=c;this.we=b.we;this.Se=b.Se;this.wo=b.wo};Ca.prototype.pa=function(a,b,c,d,f,e,g,k,l,p,n,q,m,r,u,t,v,B){return new xc(a,b,c,d,f,e,g,k,l,p,n,q,m,r,u,t,v,B)};Ca.prototype.la=function(){this.u=[]};Ca.prototype.da=function(a){this.u[this.u.length]=a};Ca.prototype.na=function(a,b,c,d,f,e,g,k,l,p,n,q,m,r,u,t,v,B,w,z,E){return new yc(a,b,c,d,f,e,g,k,l,p,n,q,m,r,u,t,v,B,w,z,E)};Ca.prototype.ja=function(){this.s=[]};Ca.prototype.ca=
function(a){this.s[this.s.length]=a};Ca.prototype.oa=function(a,b,c,d,f,e,g,k,l,p,n,q,m,r,u,t,v,B,w,z){return new zc(a,b,c,d,f,e,g,k,l,p,n,q,m,r,u,t,v,B,w,z)};Ca.prototype.ka=function(){this.m=[]};Ca.prototype.S=function(a){a.u=a.message.indexOf("#P");a.F=a.message.indexOf("#G");a.m=a.message.indexOf("#H");a.j=a.message.indexOf("#I");a.h=a.message.indexOf("#J");this.m[this.m.length]=a};Ca.prototype.B=function(){return this.m.length+this.s.length+this.u.length};Ca.prototype.ia=function(){this.ka();
this.ja();this.la()};Ca.prototype.Ta=function(a){var b="",c="";0<=a&&a<this.u.length&&(a=this.u[a],a.D&&(c="*"),b=a.u?"FILL\t":"LINE\t",b+="X1"+c+" "+a.coords[0]+"\tY1"+c+" "+a.coords[1]);return b};Ca.prototype.Ua=function(a){var b="",c="";0<=a&&a<this.u.length&&(b=this.u[a],a=b.zoom,0<=a&&1>a&&(a=-1/a),b.v&&(c="*"),b="Z "+a.toFixed(1)+"\tA"+c+" "+b.angle.toFixed(1));return b};Ca.prototype.Va=function(a){var b="";0<=a&&a<this.u.length&&(a=this.u[a],b="Alpha "+a.alpha.toFixed(1),-1!==a.h&&(b+="\tT1 "+
a.h+"\tT2 "+a.m,0<a.i&&(b+="\tFade "+a.i)));return b};Ca.prototype.Wa=function(a){var b="";0<=a&&a<this.u.length&&(b=this.u[a].s);return b};Ca.prototype.ea=function(a){var b="",c="";0<=a&&a<this.s.length&&(a=this.s[a],a.B&&(c="*"),b="X1"+c+" "+a.D+"\tY1"+c+" "+a.G,b+="\tX2"+c+" "+a.F+"\tY2"+c+" "+a.H);return b};Ca.prototype.fa=function(a){var b="",c="";0<=a&&a<this.s.length&&(b=this.s[a],a=b.zoom,0<=a&&1>a&&(a=-1/a),b.s&&(c="*"),b="Z "+a.toFixed(1)+"\tA"+c+" "+b.angle.toFixed(1));return b};Ca.prototype.ga=
function(a){var b="";0<=a&&a<this.s.length&&(a=this.s[a],b="Alpha "+a.alpha.toFixed(1),-1!==a.h&&(b+="\tT1 "+a.h+"\tT2 "+a.m,0<a.i&&(b+="\tFade "+a.i)));return b};Ca.prototype.Oq=function(a){var b="";0<=a&&a<this.s.length&&(b=this.s[a].u);return b};Ca.prototype.ya=function(a){var b="",c="",d="";if(0<=a&&a<this.m.length){var f=this.m[a];a=f.zoom;0<=a&&1>a&&(a=-1/a);f.O&&(c="*");f.G&&(d="*");b="X"+c+" "+f.x+"\tY"+c+" "+f.y;b+="\tZ "+a.toFixed(1)+"\tA"+d+" "+f.angle.toFixed(1)}return b};Ca.prototype.za=
function(a){var b="";0<=a&&a<this.m.length&&(a=this.m[a],b="Alpha "+a.alpha.toFixed(1),-1!==a.i&&(b+="\tT1 "+a.i+"\tT2 "+a.D,0<a.s&&(b+="\tFade "+a.s)));return b};Ca.prototype.Ba=function(a){var b="";0<=a&&a<this.m.length&&(a=this.m[a],b="Size "+a.size+'\t"'+a.message+'"');return b};Ca.prototype.Ca=function(a){var b="";0<=a&&a<this.m.length&&(b=this.m[a].v);return b};Ca.prototype.eb=function(){this.m.sort(function(a,b){return a.zoom-b.zoom})};Ca.prototype.bb=function(){this.s.sort(function(a,b){return a.zoom-
b.zoom})};Ca.prototype.fb=function(){this.u.sort(function(a,b){return a.zoom-b.zoom})};Ca.prototype.ab=function(){this.eb();this.bb();this.fb()};Ca.prototype.Z=function(a,b){var c,d=a.g,f=d.oa,e=d.width/2-d.ma-d.Ma,g=d.height/2-d.ka-d.za,k=d.zoom*d.eb,l=d.sc(d.zoom),p=d.displayWidth/2,n=d.displayHeight/2,q=a.g.counter,m=d.ha?-(d.height>>2):0,r=0,u=d.Gb,t=u-1,v=1,B=0,w=0,z=0,E=0,H=a.ja/a.ec;d.ha&&(e+=g/2);b&&(f.strokeStyle=F.wG);for(c=0;c<this.s.length;c+=1){var L=this.s[c];var M=L.D;var N=L.G;var V=
L.F;var X=L.H;-1!==a.g.S&&(M+=a.S>>1,N+=a.V>>1,V+=a.S>>1,X+=a.V>>1);if(!b||L.O){var I=!0;-1!==L.h&&(q<L.h||q>L.m)&&(I=!1);if(I){var R=L.size*k/L.zoom;b&&(r=1,24<=R&&(r=2,48<=R&&(r=3)));if(k>=L.Bb&&k<=L.Pb){var P=Math.log(k/L.Bb)/Math.log(L.Pb/L.Bb);P=.25>=P?4*P:.75<=P?4*(1-P):1;var S=1;-1!==L.h&&0<L.i&&(q-L.h<L.i?S=(q-L.h+1)/L.i:L.m-q<L.i&&(S=(L.m-q+1)/L.i));I=!0;var aa=1;if(-1!==L.j){var ma=a.st(M,N);ma>L.j?I=!1:0<L.j&&.75<ma/L.j&&(aa=4*(1-ma/L.j))}I&&(f.globalAlpha=P*L.alpha*S*aa,P=N+g-(a.V>>1)+
.5,S=M+e+m-(a.S>>1)+.5,L.B||(S+=d.Ma,P+=d.za),-1!==L.h?(S+=L.v*(H-L.h),P+=L.A*(H-L.h)):(S+=L.v*H,P+=L.A*H),0!==d.Ea&&(aa=Math.sqrt(S*S+P*P),P=180/Math.PI*Math.atan2(P,S),P+=d.Ea,S=aa*Math.cos(Math.PI/180*P),P=aa*Math.sin(Math.PI/180*P)),d.ha&&(S-=P/2),P=P*l+n,S=S*k+p,M=(V-M)*k,N=(X-N)*l,d.ha&&(M-=N/2),X=0===L.I?0:Math.sqrt(M*M+N*N)*L.I,0!==u&&(v=-t+(2*t+2)/d.displayHeight*(d.displayHeight-P),P=(P-n)/v+n,S=(S-p)/v+p),0<=v&&(f.save(),f.translate(S,P),f.scale(1/v,1/v),P=L.angle,L.s||(P+=d.Ea),f.rotate(P/
180*Math.PI),f.lineWidth=R,b||(f.strokeStyle=L.u),f.lineCap="round",f.lineJoin="round",0<X&&(L=Math.atan2(N,M),B=Math.cos(.85*Math.PI+L),w=Math.sin(.85*Math.PI+L),z=Math.cos(.85*-Math.PI+L),E=Math.sin(.85*-Math.PI+L)),0<r&&f.translate(r,r),f.beginPath(),f.moveTo(0,0),f.lineTo(M,N),0<X&&(f.moveTo(M,N),f.lineTo(M+X*B,N+X*w),f.moveTo(M,N),f.lineTo(M+X*z,N+X*E)),f.stroke(),f.restore()))}}}}f.globalAlpha=1};Ca.prototype.sa=function(a){this.Z(a,!0);this.Z(a,!1)};Ca.prototype.$=function(a,b){var c,d=a.g,
f=d.oa,e=d.width/2-d.ma-d.Ma,g=d.height/2-d.ka-d.za,k=d.zoom*d.eb,l=d.sc(d.zoom),p=d.displayWidth/2,n=d.displayHeight/2,q=a.g.counter,m=d.ha?-(d.height>>2):0,r=d.Gb,u=r-1,t=1,v=0,B=0,w=0,z=a.ja/a.ec;b&&(f.strokeStyle=F.dD,f.fillStyle=F.dD);d.ha&&(e+=g/2);-1!==a.g.S&&(B=a.S>>1,w=a.V>>1);for(c=0;c<this.u.length;c+=1){var E=this.u[c];var H=E.coords;var L=H.length;if(!b||E.F){var M=!0;-1!==E.h&&(q<E.h||q>E.m)&&(M=!1);if(M){var N=E.size*k/E.zoom;b&&(v=1,24<=N&&(v=2,48<=N&&(v=3)));if(k>=E.Bb&&k<=E.Pb){var V=
Math.log(k/E.Bb)/Math.log(E.Pb/E.Bb);V=.25>=V?4*V:.75<=V?4*(1-V):1;var X=1;-1!==E.h&&0<E.i&&(q-E.h<E.i?X=(q-E.h+1)/E.i:E.m-q<E.i&&(X=(E.m-q+1)/E.i));M=!0;var I=1;if(-1!==E.j){var R=a.st(E.coords[0]+B,E.coords[1]+w);R>E.j?M=!1:0<E.j&&.75<R/E.j&&(I=4*(1-R/E.j))}if(M&&(f.globalAlpha=V*E.alpha*X*I,V=0,I=H[V]+B+e+m-(a.S>>1)+.5,X=H[V+1]+w+g-(a.V>>1)+.5,V+=2,E.D||(I+=d.Ma,X+=d.za),-1!==E.h?(I+=E.A*(z-E.h),X+=E.B*(z-E.h)):(I+=E.A*z,X+=E.B*z),0!==d.Ea&&(M=Math.sqrt(I*I+X*X),X=180/Math.PI*Math.atan2(X,I),X+=
d.Ea,I=M*Math.cos(Math.PI/180*X),X=M*Math.sin(Math.PI/180*X)),d.ha&&(I-=X/2),X=X*l+n,R=I*k+p,0!==r&&(t=-u+(2*u+2)/d.displayHeight*(d.displayHeight-X),X=(X-n)/t+n,R=(R-p)/t+p),0<=t)){I=(H[V]-H[0])*k/t;M=(H[V+1]-H[1])*l/t;d.ha&&(I-=M/2);V+=2;f.save();f.translate(R,X);f.scale(1/t,1/t);X=E.angle;E.v||(X+=d.Ea);f.rotate(X/180*Math.PI);f.lineWidth=N;b||(E.u?f.fillStyle=E.s:f.strokeStyle=E.s);f.lineCap="round";f.lineJoin="round";0<v&&f.translate(v,v);f.beginPath();f.moveTo(0,0);for(f.lineTo(I,M);V<L;)I=
(H[V]-H[0])*k/t,M=(H[V+1]-H[1])*l/t,d.ha&&(I-=M/2),V+=2,f.lineTo(I,M);E.u?f.fill():f.stroke();f.restore()}}}}}f.globalAlpha=1};Ca.prototype.ua=function(a){this.$(a,!0);this.$(a,!1)};Ca.prototype.ta=function(a){var b,c=a.g,d=c.oa,f=c.width/2-c.ma-c.Ma,e=c.height/2-c.ka-c.za,g=c.zoom*c.eb,k=c.sc(c.zoom),l=c.displayWidth/2,p=c.displayHeight/2,n=F.jI,q="px "+F.hI,m=a.g.counter,r=c.Gb,u=r-1,t=1,v=c.ha?-(c.height>>2):0,B=a.ja/a.ec;c.ha&&(f+=e/2);for(b=0;b<this.m.length;b+=1){var w=this.m[b];var z=w.x;var E=
w.y;var H=w.P;-1!==a.g.S&&(z+=a.S>>1,E+=a.V>>1);var L=!0;-1!==w.i&&(m<w.i||m>w.D)&&(L=!1);if(L){var M=w.S?w.size:w.size*g/w.zoom;var N=1;24<=M&&(N=2,48<=M&&(N=3));if(g>=w.Bb&&g<=w.Pb){var V=Math.log(g/w.Bb)/Math.log(w.Pb/w.Bb);d.font=M+q;V=.25>=V?4*V:.75<=V?4*(1-V):1;var X=1;-1!==w.i&&0<w.s&&(m-w.i<w.s?X=(m-w.i+1)/w.s:w.D-m<w.s&&(X=(w.D-m+1)/w.s));L=!0;var I=1;if(-1!==w.A){var R=a.st(z,E);R>w.A?L=!1:0<w.A&&.75<R/w.A&&(I=4*(1-R/w.A))}if(L&&(d.globalAlpha=V*w.alpha*X*I,X=z+f+v-(a.S>>1)+.5,V=E+e-(a.V>>
1)+.5,w.O||(X+=c.Ma,V+=c.za),-1!==w.i?(X+=w.H*(B-w.i),V+=w.I*(B-w.i)):(X+=w.H*B,V+=w.I*B),0!==c.Ea&&(E=Math.sqrt(X*X+V*V),V=180/Math.PI*Math.atan2(V,X),V+=c.Ea,X=E*Math.cos(Math.PI/180*V),V=E*Math.sin(Math.PI/180*V)),c.ha&&(X-=V/2),z=w.message,-1!==w.F&&(z=z.substring(0,w.F)+a.g.counter+z.substring(w.F+2),-1!==w.u&&(w.u=z.indexOf("#P")),-1!==w.m&&(w.m=z.indexOf("#H")),-1!==w.j&&(w.j=z.indexOf("#I")),-1!==w.h&&(w.h=z.indexOf("#J"))),-1!==w.u&&(z=z.substring(0,w.u)+a.g.B+z.substring(w.u+2),-1!==w.m&&
(w.m=z.indexOf("#H")),-1!==w.j&&(w.j=z.indexOf("#I")),-1!==w.h&&(w.h=z.indexOf("#J"))),-1!==w.m&&(z=a.g.ja||a.g.s?z.substring(0,w.m)+a.g.Xb+z.substring(w.m+2):z.substring(0,w.m)+a.g.counter+z.substring(w.m+2),-1!==w.j&&(w.j=z.indexOf("#I")),-1!==w.h&&(w.h=z.indexOf("#J"))),-1!==w.j&&(z=z.substring(0,w.j)+(a.g.counter+a.Fa)+z.substring(w.j+2),-1!==w.h&&(w.h=z.indexOf("#J"))),-1!==w.h&&(z=a.g.ja||a.g.s?z.substring(0,w.h)+(a.g.Xb+a.Fa)+z.substring(w.h+2):z.substring(0,w.h)+(a.g.counter+a.Fa)+z.substring(w.h+
2)),E=z.indexOf("\\n"),V=V*k+p,X=X*g+l,0!==r&&(t=-u+(2*u+2)/c.displayHeight*(c.displayHeight-V),V=(V-p)/t+p,X=(X-l)/t+l),0<=t)){d.save();d.translate(X,V);d.scale(1/t,1/t);V=w.angle;w.G||(V+=c.Ea);d.rotate(V/180*Math.PI);V=0;if(H===F.tv){for(;-1!==E;)L=z.substring(0,E),z=z.substring(E+2),X=d.measureText(L).width>>1,w.B&&(d.fillStyle=n,d.fillText(L,-X+N,V+N)),d.fillStyle=w.v,d.fillText(L,-X,V),V+=M,E=z.indexOf("\\n");X=d.measureText(z).width>>1;w.B&&(d.fillStyle=n,d.fillText(z,-X+N,V+N));d.fillStyle=
w.v;d.fillText(z,-X,V)}else{for(I=0;-1!==E;)L=z.substring(0,E),z=z.substring(E+2),X=d.measureText(L).width>>1,X>I&&(I=X),E=z.indexOf("\\n");X=d.measureText(z).width>>1;X>I&&(I=X);z=w.message;for(E=z.indexOf("\\n");-1!==E;)L=z.substring(0,E),z=z.substring(E+2),H===F.uv&&(X=d.measureText(L).width),w.B&&(d.fillStyle=n,H===F.Yp?d.fillText(L,-I+N,V+N):d.fillText(L,I-X+N,V+N)),d.fillStyle=w.v,H===F.Yp?d.fillText(L,-I,V):d.fillText(L,I-X,V),V+=M,E=z.indexOf("\\n");H===F.uv&&(X=d.measureText(z).width);w.B&&
(d.fillStyle=n,H===F.Yp?d.fillText(z,-I+N,V+N):d.fillText(z,I-X+N,V+N));d.fillStyle=w.v;H===F.Yp?d.fillText(z,-I,V):d.fillText(z,I-X,V)}d.restore()}}}}d.globalAlpha=1};Ca.prototype.ra=function(a){this.ua(a);this.sa(a);this.ta(a)};Ca.prototype.hb=function(a){var b;for(b=this.h.length-1;0<=b;--b){var c=this.h[b];c.zd>a&&c.m&&(this.v=b,c.m=!1)}};Ca.prototype.$a=function(){var a;for(a=0;a<this.h.length;a+=1)this.h[a].m=!1;this.v=0;this.P=!1};Ca.prototype.D=function(){return new jb(this)};Ca.prototype.Y=
function(a){return-2*Math.pow(a,3)+3*Math.pow(a,2)+0*a};Ca.prototype.reset=function(){this.h=[];this.i=[];this.I=!1;this.v=0};Ca.prototype.Ea=function(){return this.h[this.h.length-1]};Ca.prototype.va=function(a){var b=this.aa(a),c=this.h[b];a>c.Ac?a=c.zd+1E3*(a-c.Ac)/(c.dd*c.step):0<b?(b=this.h[b-1],a=b.zd+1E3*(a-b.Ac)/(c.dd*c.step)):a=1E3*a/(c.dd*c.step);return a};Ca.prototype.qa=function(a,b,c,d,f,e,g,k,l,p,n,q){var m=this.ba;m.x=a;m.y=b;m.zoom=c;m.angle=d;m.Gb=f;m.dd=l;m.step=p;m.Aa=e;m.depth=
g;m.Mc=k;m.Ac=n;this.I&&(q=this.G.zd);m.zd=q-1E3;this.O(null,q,n,!0);this.G.set(this.current);this.G.Se=!1;this.G.zd=q;this.I=!0;return m.zd};Ca.prototype.F=function(){return this.h[0]};Ca.prototype.add=function(a,b){if(a.Xg)this.i[this.i.length]=a;else{this.h[this.h.length]=a;if(a.Af||a.hf||a.re||a.Wg||a.dh||a.Se)this.H=!0;if(a.sf||a.De)a.sf&&!a.De&&(a.step=F.Zg),a.De&&(a.dd=b.ec)}};Ca.prototype.V=function(a){var b=!1;this.v>=this.h.length-1&&a>=this.h[this.v].zd&&(b=!0);return b};Ca.prototype.A=
function(a){return a===(a|0)?String(a|0):String(a.toFixed(1))};Ca.prototype.Ha=function(a){var b="";0<=a&&a<this.i.length&&(a=this.i[a],a.Af&&(b+=" X "+-a.x),a.hf&&(b+=" Y "+-a.y),a.re&&(b+=" ZOOM "+this.A(a.zoom)),a.Wg&&(b+=" ANGLE "+a.angle),a.dh&&0!==a.Gb&&(b+=" TILT "+a.Gb));return b.substring(1)};Ca.prototype.Ia=function(a){var b="";0<=a&&a<this.i.length&&(a=this.i[a],a.gi&&(b+=" LOOP "+(-1===a.Sb?"OFF":a.Sb)),a.ti&&(b+=" STOP "+(-1===a.uc?"OFF":a.uc)),a.sf&&(b+=" GPS "+a.dd),a.De&&(b+=" STEP "+
a.step));return b.substring(1)};Ca.prototype.Fa=function(a){var b="";0<=a&&a<this.i.length&&(a=this.i[a],a.j&&(b+=" POIRESET"),a.h===Va.play?b+=" POIPLAY":a.h===Va.stop&&(b+=" POISTOP"),a.i!==Va.jq&&(b+=" POITRANS "+a.i));return b.substring(1)};Ca.prototype.Pa=function(a){var b="";0<=a&&a<this.i.length&&(a=this.i[a],a.xe&&(b+=" THEME "+a.Mc),a.Kh&&(b+=" DEPTH "+this.A(a.depth)),a.Vh&&(b+=" LAYERS "+a.Aa));return b.substring(1)};Ca.prototype.Na=function(a){var b="";0<=a&&a<this.i.length&&(a=this.i[a],
a.vq&&(b+=" POIT "+a.Ac));return b.substring(1)};Ca.prototype.Ma=function(a,b){var c="";0<=a&&a<this.i.length&&(a=this.i[a],""!==a.we&&(c+=" "+b+a.we+b));return c.substring(1)};Ca.prototype.jb=function(a,b){var c="";if(0<=a&&a<this.h.length){var d=this.h[a];0<a?(a=this.h[a-1],c=d.Ac===a.Ac?"P "+this.A((d.zd-a.zd|0)/1E3):"T "+d.Ac,d.Se?c+=" F":(d.x!==a.x&&(c+=" X "+-d.x),d.y!==a.y&&(c+=" Y "+-d.y),d.zoom!==a.zoom&&(c+=" Z "+this.A(d.zoom))),d.angle!==a.angle&&(c+=" A "+d.angle),d.Aa!==a.Aa&&(c+=" L "+
d.Aa),d.depth!==a.depth&&(c+=" D "+this.A(d.depth)),d.Mc!==a.Mc&&(c+=" C "+d.Mc),d.dd!==a.dd&&(c+=" G "+d.dd),d.step!==a.step&&(c+=" S "+d.step),""!==d.we&&(c+=" "+b+d.we+b)):c="T "+d.Ac+" X "+-d.x+" Y "+-d.y+" Z "+this.A(d.zoom)+" A "+d.angle+" L "+d.Aa+" D "+this.A(d.depth)+" C "+d.Mc+" G "+d.dd+" S "+d.step}return c};Ca.prototype.O=function(a,b,c,d){var f=this.h.length,e=!1,g=this.v,k=g,l=!1;if(this.I)this.current.u(this.ba,this.G,b),b>=this.G.zd&&(this.I=!1);else{for(;g<f&&!e;){var p=this.h[g];
p.zd>=b||!p.m?e=!0:g+=1}e?(this.h[g].m=!0,0<g?(this.h[g].Se&&(this.h[g].x=this.current.x,this.h[g].y=this.current.y,this.h[g].zoom=this.current.zoom),d&&this.current.u(this.h[g-1],this.h[g],b)):(g=0,this.current.set(this.h[g]))):(g=f-1,this.current.set(this.h[g]),c>=this.current.Ac&&this.P&&(l=!0),this.P=!0);this.v=g}this.v!==k&&this.current.wo&&a&&a.C.Wb();return l};Ca.prototype.aa=function(a){for(var b=0,c=!1,d=this.h,f=this.h.length;b<f&&!c;)d[b].Ac>=a?c=!0:b+=1;c||(b=f-1);return b};Ca.prototype.wa=
function(a){var b=0;this.v=this.aa(a);if(0<this.v){var c=this.h[this.v];var d=this.h[this.v-1];b=c.zd-d.zd;c=c.Ac-d.Ac;b=b*(a-d.Ac)/c+d.zd}return b};Ca.prototype.j=function(a,b,c,d){if(0===this.h.length)c[c.length]=[a+" "+C.zc,"no initial waypoint defined"];else switch(a){case C.gf:b.Af&&(c[c.length]=[a+" "+C.zc,d?"already defined":"overwrites "+-b.x]);b.x=this.h[0].x;b.Af=!0;break;case C.jf:b.hf&&(c[c.length]=[a+" "+C.zc,d?"already defined":"overwrites "+-b.y]);b.y=this.h[0].y;b.hf=!0;break;case C.se:b.re&&
(c[c.length]=[a+" "+C.zc,d?"already defined":"overwrites "+this.A(1>b.zoom?-(1/b.zoom):b.zoom)]);b.zoom=this.h[0].zoom;b.re=!0;break;case C.Lk:b.Wg&&(c[c.length]=[a+" "+C.zc,d?"already defined":"overwrites "+b.angle]);b.angle=this.h[0].angle;b.Wg=!0;break;case C.sl:b.dh&&(c[c.length]=[a+" "+C.zc,d?"already defined":"overwrites "+b.Gb]);b.Gb=this.h[0].Gb;b.dh=!0;break;case C.km:b.Kh&&(c[c.length]=[a+" "+C.zc,d?"already defined":"overwrites "+this.A(b.depth)]);b.depth=this.h[0].depth;b.Kh=!0;break;
case C.xm:b.Vh&&(c[c.length]=[a+" "+C.zc,d?"already defined":"overwrites "+b.Aa]);b.Aa=this.h[0].Aa;b.Vh=!0;break;case C.dk:b.xe&&(c[c.length]=[a+" "+C.zc,d?"already defined":"overwrites "+b.Mc]);b.Mc=this.h[0].Mc;b.xe=!0;break;case C.qm:b.sf&&(c[c.length]=[a+" "+C.zc,d?"already defined":"overwrites "+b.dd]);b.dd=this.h[0].dd;b.sf=!0;break;case C.Om:b.De&&(c[c.length]=[a+" "+C.zc,d?"already defined":"overwrites "+b.step]);b.step=this.h[0].step;b.De=!0;break;case C.ui:b.ti&&(c[c.length]=[a+" "+C.zc,
d?"already defined":"overwrites "+(-1===b.uc?"OFF":b.uc)]);b.uc=this.h[0].uc;b.ti=!0;break;case C.hi:b.gi&&(c[c.length]=[a+" "+C.zc,d?"already defined":"overwrites "+(-1===b.Sb?"OFF":b.Sb)]);b.Sb=this.h[0].Sb;b.gi=!0;break;default:c[c.length]=[a+" "+C.zc,"illegal command before "+C.zc]}};Ca.prototype.ma=function(a,b){this.j(C.gf,a,b,!1);this.j(C.jf,a,b,!1);this.j(C.se,a,b,!1);this.j(C.Lk,a,b,!1);this.j(C.sl,a,b,!1);this.j(C.xm,a,b,!1);this.j(C.km,a,b,!1);this.j(C.dk,a,b,!1);this.j(C.qm,a,b,!1);this.j(C.Om,
a,b,!1);this.j(C.hi,a,b,!1);this.j(C.ui,a,b,!1)};Ca.prototype.Ya=function(a,b){var c,d=this.h,f=this.h.length;for(c=1;c<f;c+=1){var e=d[c-1];var g=d[c];g.Af||(g.x=e.x);g.hf||(g.y=e.y);g.kk||(g.eh=e.eh);g.mk||(g.fh=e.fh);g.pk||(g.gh=e.gh);g.Wg||(g.angle=e.angle);g.dh||(g.Gb=e.Gb);g.re||(g.zoom=e.zoom);g.Vh||(g.Aa=e.Aa);g.Kh||(g.depth=e.depth);g.xe||(g.Mc=e.Mc);g.sf||(g.dd=e.dd);g.De||(g.step=e.step);if(g.sf||g.De)g.sf&&!g.De&&(g.step=F.Zg),g.De&&(g.dd=b.ec);g.vq?g.Ac<=e.Ac&&(a[a.length]=[C.uq+" "+
g.Ac,"target generation must be later than previous ("+e.Ac+")"]):g.Ac=e.Ac;g.zd=g.yD?1E3*g.zd+e.zd:e.zd+1E3*(g.Ac-e.Ac)/(g.dd*g.step);g.ds||(g.ql=e.ql);g.Wk||(g.grid=e.grid);g.$r||(g.ep=e.ep)}};cb.prototype.S=function(a,b){for(var c=null,d=0;null===c&&d<a.length;)a[d].identifier===b?c=a[d]:d+=1;return c};cb.prototype.reset=function(){this.h=!1;this.i=-1};cb.prototype.D=function(a,b){var c=b.changedTouches;this.v=!0;switch(b.type){case "touchstart":-1===a.i&&(c=c[0],a.i=c.identifier,a.H(a,c.pageX,
c.pageY));break;case "touchend":c=a.S(c,a.i);null!==c&&(a.O(a,c.pageX,c.pageY),a.i=-1);break;case "touchmove":c=a.S(c,a.i),null!==c&&a.I(a,c.pageX,c.pageY)}b.stopPropagation&&b.stopPropagation();b.cancelable&&b.preventDefault()};cb.prototype.u=function(a){var b=this.view;b.displayWidth=b.We;b.displayHeight=b.Ve;b.VG();b.Op.style.transform="scale("+b.Bc+","+b.Bc+")";b.Op.style.transformOrigin="top left";b.Al&&(this.C.ve(!0),b.resize());a.V(a.left+a.G,a.top);a.G=0};cb.prototype.aa=function(a,b){this.V(this.left+
a,this.top+b)};cb.prototype.V=function(a,b){var c=window.innerWidth-this.j.clientWidth*this.s,d=window.innerHeight-this.j.clientHeight*this.s;c-=(window.innerWidth-document.body.clientWidth)*this.s;a>c&&(a=c);b>d&&(b=d);0>a&&(a=0);0>b&&(b=0);this.j.style.left=a+"px";this.j.style.top=b+"px";this.j.style.position="fixed";this.left=a;this.top=b};cb.prototype.H=function(a,b,c){a.P(a,b,c);a.h=!0;a.C.aa=!0};cb.prototype.O=function(a,b,c){a.P(a,b,c);a.h=!1;a.C.aa=!1};cb.prototype.I=function(a,b,c){a.h&&
a.aa(b-a.A,c-a.B);a.A=b;a.B=c};cb.prototype.Y=function(a,b){if(!a.v){if(b.pageX||b.pageY){var c=b.pageX;var d=b.pageY}else c=b.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,d=b.clientY+document.body.scrollTop+document.documentElement.scrollTop;a.H(a,c,d)}b.stopPropagation&&b.stopPropagation();b.preventDefault()};cb.prototype.$=function(a,b){if(!a.v&&a.m&&a.h){if(b.pageX||b.pageY){var c=b.pageX;var d=b.pageY}else c=b.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,
d=b.clientY+document.body.scrollTop+document.documentElement.scrollTop;a.O(a,c,d)}b.stopPropagation&&b.stopPropagation();b.preventDefault()};cb.prototype.Z=function(a,b){if(!a.v&&a.m&&a.h){if(b.pageX||b.pageY){var c=b.pageX;b=b.pageY}else c=b.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,b=b.clientY+document.body.scrollTop+document.documentElement.scrollTop;a.I(a,c,b)}};cb.prototype.P=function(a,b,c){a.A=b|0;a.B=c|0};xb.prototype.Be=function(a){var b,c,d=this.key;for(b=0;256>
b;b+=1)d[b]=b;for(b=c=0;256>b;b+=1){c=c+d[b]+a.charCodeAt(b%a.length)&255;var f=d[b];d[b]=d[c];d[c]=f}this.i=this.h=0};xb.prototype.random=function(){var a,b=0,c=1,d=this.key,f=this.h,e=this.i;for(a=0;8>a;a+=1){f=f+1&255;e=e+d[f]&255;var g=d[f];d[f]=d[e];d[e]=g;b+=d[d[f]+d[e]&255]*c;c*=256}this.h=f;this.i=e;return b/1.8446744073709552E19};Tb.prototype.Be=function(a,b,c){var d,f=this.Ir,e=a*a+b*b;this.x=this.T.h(ra.nd,f,"Stars.x",!1);this.y=this.T.h(ra.nd,f,"Stars.y",!1);this.z=this.T.h(ra.nd,f,"Stars.z",
!1);for(d=0;d<f;d+=1){var g=d/f*(d/f)*(d/f)*(d/f)*c+1;do{var k=3*(this.i.random()*a-a/2);var l=3*(this.i.random()*b-b/2)}while(k*k+l*l>e);this.x[d]=k;this.y[d]=l;this.z[d]=g}this.sin=this.T.h(ra.nd,2880,"Stars.sin",!1);this.cos=this.T.h(ra.nd,2880,"Stars.cos",!1);for(d=0;2880>d;)this.sin[d]=Math.sin(d/8*this.j),this.cos[d]=Math.cos(d/8*this.j),d+=1};Tb.prototype.s=function(a,b,c,d,f,e,g,k){var l=f>>1,p=e>>1,n=f-1,q=e-1;this.m||(this.Be(8192,8192,1024),this.m=!0);if(Ma.fc){var m=k>>16&255;var r=k>>
8&255;var u=k&255}else u=k>>24&255,r=k>>16&255,m=k>>8&255;var t=this.h.h-u;var v=this.h.j-r;var B=this.h.i-m;for(e=0;e<this.Ir;e+=1){var w=this.x[e]+a;var z=this.y[e]+b;if(0!==d){var E=Math.sqrt(w*w+z*z);z=Math.atan2(z,w)*this.u;z+=d;0>z?z+=360:360<=z&&(z-=360);z*=8;z|=0;w=E*this.cos[z];z=E*this.sin[z]}E=this.z[e]/c*2;w=l+w/E|0;z=p+z/E|0;if(0<w&&w<n&&0<z&&z<q){w+=z*f;E=1536/E|0;255<E&&(E=255);E/=255;if(g[w]===k){z=u+t*E;var H=r+v*E;var L=m+B*E;z=Ma.fc?-16777216|L<<16|H<<8|z:z<<24|H<<16|L<<8|255;g[w]=
z}E/=2;z=u+t*E;H=r+v*E;L=m+B*E;z=Ma.fc?-16777216|L<<16|H<<8|z:z<<24|H<<16|L<<8|255;--w;g[w]===k&&(g[w]=z);w+=2;g[w]===k&&(g[w]=z);--w;w-=f;g[w]===k&&(g[w]=z);w+=f+f;g[w]===k&&(g[w]=z)}}};var Pb={pz:"",Ms:0,um:function(a){switch(a){case C.ly:case C.oq:case C.gq:case C.Mo:case C.Mp:case C.Cu:case C.Ax:case C.bv:case C.Hw:case C.by:case C.xy:case C.Au:case C.Su:case C.my:case C.oy:case C.Du:case C.ny:case C.Gw:case C.Yg:case C.ai:case C.Wy:case C.Tu:case C.bs:case C.cz:case C.Zt:case C.Zh:case C.Zx:case C.Yx:case C.Vx:case C.Xx:case C.Tx:case C.Sx:case C.Ux:case C.Wx:case C.Qr:case C.Pr:case C.Sr:case C.uu:case C.Nr:case C.pp:case C.Fx:case C.Or:case C.Dx:case C.Hx:case C.Ix:case C.Ex:case C.Lx:case C.Jx:case C.Kx:case C.Gx:case C.Lp:case C.Nt:case C.Qt:case C.Rt:case C.Ot:case C.Ut:case C.St:case C.Tt:case C.Pt:case C.Zp:case C.rv:case C.wv:case C.xv:case C.sv:case C.Av:case C.yv:case C.zv:case C.qv:case C.vv:case C.Dw:case C.Fw:case C.Ew:case C.Wu:case C.Cq:case C.Ru:case C.kq:case C.Wo:case C.Vo:case C.Mr:case C.lq:case C.Cx:case C.zc:case C.hg:case C.Tb:case C.ty:case C.Sm:case C.Bq:case C.hr:case C.Hr:case C.Nu:case C.Ou:case C.sq:case C.rq:case C.sr:case C.Pq:case C.Yu:case C.ro:case C.Kp:case C.uq:case C.Om:case C.yx:case C.Vp:case C.Up:case C.Qx:case C.wy:case C.tb:case C.hu:case C.gf:case C.jf:case C.Fs:case C.Gs:case C.se:case C.It:case C.hi:case C.Fq:case C.sl:case C.Cw:case C.Bw:case C.Dy:case C.Ay:case C.zy:case C.By:case C.Cy:case C.Rq:case C.Qq:case C.es:case C.ml:case C.Mm:case C.Lk:case C.dk:case C.qm:case C.ui:case C.xm:case C.km:case C.up:case C.qo:case C.nq:case C.mq:case C.kv:case C.tB:case C.Zo:case C.Lm:case C.vj:case C.Pp:case C.iq:case C.Ow:case C.mx:case C.wx:case C.Xw:case C.Qw:case C.qx:case C.Sw:case C.ux:case C.sx:case C.lx:case C.bx:case C.px:case C.ix:case C.Uw:case C.gx:case C.Ww:case C.$w:case C.kx:case C.Yw:case C.xx:case C.WC:a=
!0;break;default:a=!1}return a},qu:function(a){var b=[],c=1,d=!0,f=0;if(7===a.length&&"#"===a.charAt(0)){for(a=a.toLowerCase();d&&6>=c;){var e=a.charAt(c);"0"<=e&&"9">=e?(f=16*f+(e.charCodeAt(0)-48),c+=1):"a"<=e&&"f">=e?(f=16*f+(e.charCodeAt(0)-97+10),c+=1):d=!1}d&&(b=[f>>16,f>>8&255,f&255])}return b},Dm:function(a,b,c,d,f){var e=a.m();""===e||this.um(e)?b[b.length]=[c,d+" missing"]:(b[b.length]=[c+" "+e,d+" must be "+f],a.j())},oc:function(a,b,c,d,f){var e=!0,g=0,k=0,l=0,p=b.j();if(b.i()){g=b.h()|
0;if(0>g||255<g)c[c.length]=[f+" "+p+" "+g,"RED out of range"];if(b.i()){k=b.h();if(0>k||255<k)c[c.length]=[f+" "+p+" "+g+" "+k,"GREEN out of range"];b.i()?(l=b.h(),0>l||255<l?c[c.length]=[f+" "+p+" "+g+" "+k+" "+l,"BLUE out of range"]:e=!1):this.Dm(b,c,f+" "+p+" "+g+" "+k,"BLUE","numeric")}else this.Dm(b,c,f+" "+p+" "+g,"GREEN","numeric")}else{var n=b.m();var q=this.qu(n);3===q.length?(b.j(),g=q[0],k=q[1],l=q[2],e=!1):(q=hb.qf[n.toLowerCase()],void 0!==q?(b.j(),g=q[1],k=q[2],l=q[3],e=!1):""===n||
this.um(n)?c[c.length]=[f+" "+p,"name missing"]:(c[c.length]="#"===n.charAt(0)?[f+" "+p+" "+n,"bad hex definition"]:[f+" "+p+" "+n,"name not known"],b.j()))}if(!e)switch(-1!==a.Lc[d]&&d!==F.ou&&d!==F.lu&&d!==F.pu&&(c[c.length]=[f+" "+p+" "+g+" "+k+" "+l,"overwrites "+(a.Lc[d]>>16)+" "+(a.Lc[d]>>8&255)+" "+(a.Lc[d]&255)]),a.Lc[d]=g<<16|k<<8|l,d){case F.Wq:a.Vn=a.Lc[d];break;case F.nu:a.Xn=a.Lc[d];break;case F.dB:a.Ud.h.h=g;a.Ud.h.j=k;a.Ud.h.i=l;break;case F.cB:a.Df=a.Lc[d];break;case F.eB:a.Uc=[g,
k,l];break;case F.TA:a.Tc=[g,k,l];a.bi="rgb("+g+","+k+","+l+")";break;case F.ZA:a.He=[g,k,l];a.ci="rgb("+g+","+k+","+l+")";break;case F.ou:a.Ep="rgb("+g+","+k+","+l+")";break;case F.lu:a.Dp="rgb("+g+","+k+","+l+")";break;case F.pu:a.Fp="rgb("+g+","+k+","+l+")";break;case F.NA:a.Fd=[g,k,l];a.g.rd=a.g.fc?-16777216|l<<16|k<<8|g:g<<24|k<<16|l<<8|255;a.g.ng="rgb("+g+","+k+","+l+")";break;case F.OA:a.Pf=[g,k,l];a.g.Le=a.g.fc?-16777216|l<<16|k<<8|g:g<<24|k<<16|l<<8|255;break;case F.aB:a.Sf=[g,k,l];a.g.fj=
"rgb("+g+","+k+","+l+")";break;case F.bB:a.Tf=[g,k,l];a.g.ij="rgb("+g+","+k+","+l+")";break;case F.$A:a.Rf=[g,k,l];a.g.Vi="rgb("+g+","+k+","+l+")";break;case F.WA:a.g.Fd=[g,k,l];break;case F.VA:a.g.Ed=[g,k,l];break;case F.UA:a.g.Dd=[g,k,l];break;case F.XA:a.g.Gd=[g,k,l];break;case F.YA:a.g.Hd=[g,k,l];break;case F.Zq:case F.Xq:case F.$q:case F.br:case F.ar:case F.Yq:break;default:a.ua=!0}},aI:function(a,b){a=a.replace(/"/g,"");return 0<=b.wt(a)||b.nA(a)||b.lz(a)||b.lA(a)},hL:function(a){var b=a&255,
c=a>>8&255;a>>=16;var d=255-b,f=255-c,e=255-a;64>Math.abs(b-d)&&(d=d+64&255);64>Math.abs(c-f)&&(f=f+64&255);64>Math.abs(a-e)&&(e=e+64&255);return e<<16|f<<8|d},dK:function(a,b){var c=a.g.pa[a.g.Mb],d=a.Lc;-1===b&&(b=2>=a.g.i?a.g.O?10:a.g.ja?17:1:a.g.s?18:11);c.set(a.g.pa[b]);a.Qf&&(c.B=a.g.lb);!a.Z||a.g.D||a.g.v||a.g.G||a.g.la||(0<a.Z.length&&-1!==a.Z[0]&&(d[F.Tj]=a.Z[0],a.Z[0]=-1),1<a.Z.length&&-1!==a.Z[1]&&!a.g.s&&(d[F.bo]=a.Z[1],a.Z[1]=-1),2<a.Z.length&&-1!==a.Z[2]&&!a.g.s&&a.g.O&&(d[F.co]=a.Z[2],
a.Z[2]=-1));b=d[F.Tj];-1!==b&&(a.g.v||a.g.G?(a.Z||(a.Z=a.g.T.h(ra.be,256,"View.customColours",!1),a.Z.fill(-1)),-1===a.Z[0]&&(a.Z[0]=b)):(c.v.h=b>>16,c.v.j=b>>8&255,c.v.i=b&255));b=d[F.bo];-1!==b&&(c.i.h.h=b>>16,c.i.h.j=b>>8&255,c.i.h.i=b&255);b=d[F.MA];-1!==b&&(c.i.i.h=b>>16,c.i.i.j=b>>8&255,c.i.i.i=b&255);b=d[F.co];-1!==b&&(c.h.i.h=b>>16,c.h.i.j=b>>8&255,c.h.i.i=b&255);b=d[F.mu];-1!==b&&(c.h.h.h=b>>16,c.h.h.j=b>>8&255,c.h.h.i=b&255);b=d[F.Tj];-1!==b&&(c.F.h=b>>16,c.F.j=b>>8&255,c.F.i=b&255);b=d[F.bo];
-1!==b&&(c.A.h=b>>16,c.A.j=b>>8&255,c.A.i=b&255);b=d[F.co];-1!==b&&(c.j.i.h=b>>16,c.j.i.j=b>>8&255,c.j.i.i=b&255);b=d[F.mu];-1!==b&&(c.j.h.h=b>>16,c.j.h.j=b>>8&255,c.j.h.i=b&255);b=d[F.RA];-1===b?c.G=!0:(c.G=!1,c.m.i.h=b>>16,c.m.i.j=b>>8&255,c.m.i.i=b&255);b=d[F.SA];-1!==b&&(c.m.h.h=b>>16,c.m.h.j=b>>8&255,c.m.h.i=b&255);c.O(d[F.Wq],d[F.nu]);if(a.g.s)for(d=1;16>d;d+=1)a.Z&&a.Z.length>d&&(b=a.Z[d],-1!==b&&(c.D[d-1].h=b>>16,c.D[d-1].j=b>>8&255,c.D[d-1].i=b&255,a.Z[d]=-1))},Xr:function(a,b){var c=a;a.length>
b&&(c=a.substring(0,b-1)+"...");return c},OD:function(a,b,c,d){var f=a.indexOf("\\n");-1!==f&&(c?b[b.length]=[C.pp+" "+C.Nd+this.Xr(a,23)+C.Nd,"only one line allowed"]:(f=a.substring(f+2).indexOf("\\n"),-1===f||d||(b[b.length]=[C.Nd+this.Xr(a,23),"only two lines allowed"])))},Rx:function(a,b,c,d){var f=C.dk+" ",e="overwrites ";f=c>=a.g.Mb?f+C.mp:f+a.g.pa[c].name;e=d>=a.g.Mb?e+C.mp:e+a.g.pa[d].name;b[b.length]=[f,e]},fg:function(a,b,c,d,f){b[b.length]=[c,d];f&&a.j();a.i()?(a.h(),a.i()&&(a.h(),a.i()&&
a.h())):(b=a.m(),3===this.qu(b).length?a.j():void 0!==hb.qf[b.toLowerCase()]&&a.j())},fo:function(a,b,c,d,f,e,g){var k=0,l=0,p=0;if(b.i())if(k=b.h()|0,0>k||255<k)c[c.length]=[f+" "+g+" "+k,"RED out of range"],e=!0;else if(b.i())if(l=b.h()|0,0>l||255<l)c[c.length]=[f+" "+g+" "+k+" "+l,"GREEN out of range"],e=!0;else if(b.i()){if(p=b.h()|0,0>p||255<p)c[c.length]=[f+" "+g+" "+k+" "+l+" "+p,"BLUE out of range"],e=!0}else this.Dm(b,c,f+" "+g+" "+k+" "+l,"BLUE","numeric"),e=!0;else this.Dm(b,c,f+" "+g+
" "+k,"GREEN","numeric"),e=!0;else{var n=b.m();var q=this.qu(n);3===q.length?(b.j(),k=q[0],l=q[1],p=q[2]):(q=hb.qf[n.toLowerCase()],void 0!==q?(b.j(),k=q[1],l=q[2],p=q[3]):(e=!0,""===n||this.um(n)?c[c.length]=[f+" "+g,"name missing"]:(c[c.length]="#"===n.charAt(0)?[f+" "+g+" "+n,"bad hex definition"]:[f+" "+g+" "+n,"name not known"],b.j())))}e||(-1!==a.Z[d]&&(c[c.length]=[f+" "+g+" "+k+" "+l+" "+p,"overwrites "+(a.Z[d]>>16)+" "+(a.Z[d]>>8&255)+" "+(a.Z[d]&255)]),a.Z[d]=k<<16|l<<8|p)},zj:function(a,
b){var c=C.fe+String(b);a=a.C.jc(b);-1!==a&&(c=a.toFixed(1));return c},Pm:function(a,b){var c="",d=b.indexOf(C.fe);if(-1===d)c=b;else{for(;-1!==d;)if(c+=b.substring(0,d),d+1<b.length){var f=b[d+1];b=b.substring(d+2);switch(f){case "B":c+=F.js;break;case "N":c+=a.Ze;break;case "R":c+=a.Y;break;case "A":c=""===a.Wa?c+a.Y:c+a.Wa;break;case "O":c+=a.vg;break;case "S":c+=a.Yj;break;case "T":c+=F.lo;break;case "D":c+=a.ut();break;case "0":c+=this.zj(a,0);break;case "1":c+=this.zj(a,1);break;case "2":c+=
this.zj(a,2);break;case "3":c+=this.zj(a,3);break;case "4":c+=this.zj(a,4);break;case "5":c+=this.zj(a,5);break;case "6":c+=this.zj(a,6);break;case "7":c+=this.zj(a,7);break;case "8":c+=this.zj(a,8);break;case "9":c+=this.zj(a,9);break;case C.fe:c+=C.fe;break;default:c+=C.fe+f}d=b.indexOf(C.fe)}else b=b.substring(d+1),d=-1;c+=b}return c},Xh:function(a,b,c,d){d[d.length]=a?b===C.Yg?[b+" "+c,"already defined"]:[b+" "+c,"overwrites "+C.Yg]:b===C.Yg?[b+" "+c,"overwrites "+C.ai]:[b+" "+c,"already defined"]},
ee:function(a,b){return a===(a|0)?String(a):a.toFixed(b)},CK:function(a){var b=a.charAt(0);a=a.substring(1);var c=!1;if("B"===b||"S"===b){this.pz=b;b=0;for(c=!0;c&&b<a.length;)"0"<=a[b]&&"9">=a[b]?b+=1:c=!1;c&&(this.Ms=Number(a))}return c},YJ:function(a,b){if("B"===this.pz){var c=a.Zc.length;a.Zc[c]=this.Ms;a.Zc[c+1]=b}else c=a.Sd.length,a.Sd[c]=this.Ms,a.Sd[c+1]=b},fJ:function(a,b,c){var d=new Pa(b,!1),f=!1,e=!1,g="",k="",l="",p="",n=!1,q="",m=0,r=!1,u=!1,t=a.Vb,v=null,B=0,w=0,z="",E=!1,H=a.s.D(),
L=null,M=!1,N=!1,V=null,X=!0,I=1,R=F.qA,P=-1,S=-1,aa=0,ma=0,ea=!1,ca=!1,ia=-1,oa=-1E3,ja=-1E3,W=0,na=0,fa=null,Z=!0,Y=1,pa=F.qA,Q=F.vG,G=-1,A=-1,K=0,O=0,J=!1,x=!1,D=-1,la=0,ba=0,sa=-1E3,ta=-1E3,ka=null,ua=!0,Ba=1,Ja=F.iI,Fa=!1,Ra=-1,Sa=-1,Na=0,Ia=0,ab=!1,bb=!1,kb=-1,Wa=0,eb=0,rb=-1E3,sb=-1E3,ob=F.tv,lb=!1,Ta=!1,Hb="numeric",Rb=-1,zb=-1,Ab=-1,Yb=-1,Bb=-1,Cb=-1,Ib=0,Jb=0,Kb=0,Lb=0,ya=0,Aa=0,Ga=0,tb=0,Db=0,Sb=0,ub=[],Qa=0,ib=0,Eb=!1,tc=new mb("decode",a.X),uc=[],Zb=!1,$b=!1,ac=!1,bc=!1,cc=!1,dc=!1,ec=
!1,Mb=!1,fc=!1,gc=!1,Nb=!1,Ob=!1,hc=!1,ic=!1,jc=!1,kc=!1;a.s.H=!1;a.Lh=0;a.py=0;a.Qf=!1;a.ua=!1;a.Lc.fill(-1);a.Z=null;if(-1!==d.S(C.ml)){a.Z=a.g.T.h(ra.be,256,"View.customColours",!1);a.Z.fill(-1);for(g=d.j();""!==g;){Hb="numeric";if(n)g[g.length-1]===C.Nd?(q=q+" "+g.substring(0,g.length-1),n=!1,this.OD(q,t,e,lb),e?(""!==a.xd&&(t[t.length]=[C.pp+" "+C.Nd+this.Xr(q,20)+C.Nd,"overwrites "+C.Nd+a.xd+C.Nd]),a.xd=q,e=!1):lb?(ka.message=this.Pm(a,q),lb=!1,a.s.S(ka)):(H.we=this.Pm(a,q),H.fs=!0)):q=q+" "+
g;else if(g[0]===C.Nd)q=g.substring(1),n=!0,g[g.length-1]===C.Nd&&(n=!1,q=q.substring(0,q.length-1),this.OD(q,t,e,lb),e?(""!==a.xd&&(t[t.length]=[C.pp+" "+C.Nd+this.Xr(q,20)+C.Nd,"overwrites "+C.Nd+a.xd+C.Nd]),a.xd=q,e=!1):lb?(ka.message=this.Pm(a,q),lb=!1,a.s.S(ka)):(H.we=this.Pm(a,q),H.fs=!0));else{r=u=!1;a.Lh+=1;switch(g){case C.pp:e=!0;k=d.m();k[0]!==C.Nd&&(t[t.length]=[g,"argument must be a quoted string"],e=!1);r=!0;break;case C.Hx:d.i()&&(u=!0,m=d.h(),m>=F.Cr&&m<=F.ur&&(R=m,r=!0));break;case C.Jx:d.i()?
(u=!0,m=d.h(),m>=F.Cg&&m<=F.zg&&(ya=m,u=!1,d.i()&&(u=!0,m=d.h(),m>=F.Cg&&m<=F.zg&&(W=ya,na=m,r=!0)))):(k=d.m(),k===C.de&&(k=d.j(),na=W=0,r=!0));break;case C.Kx:d.i()?(u=!0,m=d.h(),0<=m&&m<=a.g.ea/2&&(ia=m,r=!0)):(k=d.m(),k===C.Tb&&(k=d.j(),ia=-1,r=!0));break;case C.Ex:d.i()&&(u=!0,m=d.h(),0<=m&&360>m&&(ma=m,ea=!1,k=d.m(),k===C.de&&(k=d.j(),ea=!0),r=!0));break;case C.Ix:d.i()?(u=!0,m=d.h()|0,0<=m&&(ya=m,d.i()?(m=d.h()|0,m>=ya?(Aa=m,d.i()?(m=d.h()|0,0<=m&&m<=Aa-ya>>1?(P=ya,S=Aa,aa=m,r=!0):(r=!0,t[t.length]=
[g+" "+ya+" "+Aa+" "+m,"third argument must from 0 to "+(Aa-ya>>1)])):u=!1):(r=!0,t[t.length]=[g+" "+ya+" "+m,"second argument must be >= first"])):u=!1)):(k=d.m(),k===C.hg?(k=d.j(),S=P=-1,aa=0,r=!0):u=!1);break;case C.Dx:d.i()&&(u=!0,m=d.h(),0<=m&&1>=m&&(I=m,r=!0));break;case C.Fx:case C.Or:ub=[];r=!0;for(Ga=-1E3;r&&d.i();)ya=d.h(),d.i()?(Aa=d.h(),ya>=-a.g.ea&&ya<2*a.g.ea&&Aa>=-a.g.ea&&Aa<2*a.g.ea?(ub[ub.length]=ya,ub[ub.length]=Aa):(t[t.length]=[g+" "+ya+" "+Aa,"coordinate out of range"],Ga=0,r=
!1)):ya>=F.Bb&&ya<=F.Pb?Ga=ya:ya>=F.cq&&ya<=F.aq?Ga=-(1/ya):(t[t.length]=[g+" "+ya,"zoom out of range"],Ga=0,r=!1);r&&4>ub.length&&(t[t.length]=[g,"requires at least 2 coordinate pairs"],r=!1);r&&-1E3===Ga&&(r=!1);r&&(k=d.m(),ca=!1,k===C.de&&(k=d.j(),ca=!0,k=d.m()),V=a.s.pa(ub,g===C.Or,Ga,oa,ja,a.Fp,I,R,P,S,aa,ma,ea,ca,ia,W,na,X),a.s.da(V));break;case C.Gx:k=d.m();k===C.Tb?(k=d.j(),X=!1):X=!0;r=!0;break;case C.Qt:d.i()&&(u=!0,m=d.h(),m>=F.Cr&&m<=F.ur&&(ya=m,u=!1,d.i()&&(u=!0,m=d.h(),0<=m&&1>=m&&(Q=
m,pa=ya,r=!0))));break;case C.St:d.i()?(u=!0,m=d.h(),m>=F.Cg&&m<=F.zg&&(ya=m,u=!1,d.i()&&(u=!0,m=d.h(),m>=F.Cg&&m<=F.zg&&(la=ya,ba=m,r=!0)))):(k=d.m(),k===C.de&&(k=d.j(),ba=la=0,r=!0));break;case C.Tt:d.i()?(u=!0,m=d.h(),0<=m&&m<=a.g.ea/2&&(D=m,r=!0)):(k=d.m(),k===C.Tb&&(k=d.j(),D=-1,r=!0));break;case C.Ot:d.i()&&(u=!0,m=d.h(),0<=m&&360>m&&(O=m,J=!1,k=d.m(),k===C.de&&(k=d.j(),J=!0),r=!0));break;case C.Rt:d.i()?(u=!0,m=d.h()|0,0<=m&&(ya=m,d.i()?(m=d.h()|0,m>=ya?(Aa=m,d.i()?(m=d.h()|0,0<=m&&m<=Aa-ya>>
1?(G=ya,A=Aa,K=m,r=!0):(r=!0,t[t.length]=[g+" "+ya+" "+Aa+" "+m,"third argument must from 0 to "+(Aa-ya>>1)])):u=!1):(r=!0,t[t.length]=[g+" "+ya+" "+m,"second argument must be >= first"])):u=!1)):(k=d.m(),k===C.hg?(k=d.j(),A=G=-1,K=0,r=!0):u=!1);break;case C.Nt:d.i()&&(u=!0,m=d.h(),0<=m&&1>=m&&(Y=m,r=!0));break;case C.Pt:k=d.m();k===C.Tb?(k=d.j(),Z=!1):Z=!0;r=!0;break;case C.Lp:d.i()&&(u=!0,m=d.h(),m>=-a.g.ea&&m<2*a.g.ea&&(u=!1,ya=m,d.i()&&(u=!0,m=d.h(),m>=-a.g.ea&&m<2*a.g.ea&&(u=!1,Aa=m,d.i()&&(u=
!0,m=d.h(),m>=-a.g.ea&&m<2*a.g.ea&&(u=!1,tb=m,d.i()&&(u=!0,m=d.h(),m>=-a.g.ea&&m<2*a.g.ea&&(u=!1,Db=m,d.i()&&(u=!0,m=d.h(),Ga=-1E3,m>=F.Bb&&m<=F.Pb?Ga=m:m>=F.cq&&m<=F.aq&&(Ga=-(1/m)),-1E3!==Ga&&(k=d.m(),x=!1,k===C.de&&(k=d.j(),x=!0,k=d.m()),fa=a.s.na(ya,Aa,tb,Db,Ga,sa,ta,a.Dp,Y,pa,Q,G,A,K,O,J,x,D,la,ba,Z),a.s.ca(fa),r=!0))))))))));break;case C.wv:d.i()&&(u=!0,m=d.h(),m>=F.gC&&m<=F.bC&&(Ja=m,r=!0,k=d.m(),k===C.de?(k=d.j(),Fa=!0):Fa=!1));break;case C.yv:d.i()?(u=!0,m=d.h(),m>=F.Cg&&m<=F.zg&&(ya=m,u=
!1,d.i()&&(u=!0,m=d.h(),m>=F.Cg&&m<=F.zg&&(Wa=ya,eb=m,r=!0)))):(k=d.m(),k===C.de&&(k=d.j(),eb=Wa=0,r=!0));break;case C.zv:d.i()?(u=!0,m=d.h(),0<=m&&m<=a.g.ea/2&&(kb=m,r=!0)):(k=d.m(),k===C.Tb&&(k=d.j(),kb=-1,r=!0));break;case C.sv:d.i()&&(u=!0,m=d.h(),0<=m&&360>m&&(Ia=m,ab=!1,k=d.m(),k===C.de&&(k=d.j(),ab=!0),r=!0));break;case C.qv:k=d.j();r=!0;switch(k){case C.nv:ob=F.tv;break;case C.ov:ob=F.Yp;break;case C.pv:ob=F.uv;break;default:""!==k?t[t.length]=[g+" "+k,"argument must be "+C.ov+", "+C.nv+" or "+
C.pv]:r=!1}break;case C.xv:d.i()?(u=!0,m=d.h()|0,0<=m&&(ya=m,d.i()?(m=d.h()|0,m>=ya?(Aa=m,d.i()?(m=d.h()|0,0<=m&&m<=Aa-ya>>1?(Ra=ya,Sa=Aa,Na=m,r=!0):(r=!0,t[t.length]=[g+" "+ya+" "+Aa+" "+m,"third argument must from 0 to "+(Aa-ya>>1)])):u=!1):(r=!0,t[t.length]=[g+" "+ya+" "+m,"second argument must be >= first"])):u=!1)):(k=d.m(),k===C.hg?(k=d.j(),Sa=Ra=-1,Na=0,r=!0):u=!1);break;case C.rv:d.i()&&(u=!0,m=d.h(),0<=m&&1>=m&&(Ba=m,r=!0));break;case C.Lx:d.i()?(u=!0,m=d.h(),ya=-1E3,m>=F.Go&&m<=F.Eo?ya=
m:m>=F.Fo&&m<=F.Do&&(ya=-(1/m)),-1E3!==ya&&d.i()&&(u=!0,m=d.h(),Aa=-1E3,m>=F.Go&&m<=F.Eo?Aa=m:m>=F.Fo&&m<=F.Do&&(Aa=-(1/m)),-1E3!==Aa&&Aa<ya&&(Aa=-1E3),-1E3!==Aa&&(oa=ya,ja=Aa,r=!0))):(k=d.m(),k===C.Tb&&(k=d.j(),ja=oa=-1E3,r=!0));break;case C.Ut:d.i()?(u=!0,m=d.h(),ya=-1E3,m>=F.Go&&m<=F.Eo?ya=m:m>=F.Fo&&m<=F.Do&&(ya=-(1/m)),-1E3!==ya&&d.i()&&(u=!0,m=d.h(),Aa=-1E3,m>=F.Go&&m<=F.Eo?Aa=m:m>=F.Fo&&m<=F.Do&&(Aa=-(1/m)),-1E3!==Aa&&Aa<ya&&(Aa=-1E3),-1E3!==Aa&&(sa=ya,ta=Aa,r=!0))):(k=d.m(),k===C.Tb&&(k=d.j(),
ta=sa=-1E3,r=!0));break;case C.Av:d.i()?(u=!0,m=d.h(),ya=-1E3,m>=F.Go&&m<=F.Eo?ya=m:m>=F.Fo&&m<=F.Do&&(ya=-(1/m)),-1E3!==ya&&d.i()&&(u=!0,m=d.h(),Aa=-1E3,m>=F.Go&&m<=F.Eo?Aa=m:m>=F.Fo&&m<=F.Do&&(Aa=-(1/m)),-1E3!==Aa&&Aa<ya&&(Aa=-1E3),-1E3!==Aa&&(rb=ya,sb=Aa,r=!0))):(k=d.m(),k===C.Tb&&(k=d.j(),sb=rb=-1E3,r=!0));break;case C.vv:k=d.m();k===C.Tb?(k=d.j(),ua=!1):ua=!0;r=!0;break;case C.Zp:d.i()&&(u=!0,m=d.h(),m>=-a.g.ea&&m<2*a.g.ea&&(u=!1,ya=m,d.i()&&(u=!0,m=d.h(),m>=-a.g.ea&&m<2*a.g.ea&&(u=!1,Aa=m,d.i()&&
(u=!0,m=d.h(),Ga=-1E3,m>=F.Bb&&m<=F.Pb?Ga=m:m>=F.cq&&m<=F.aq&&(Ga=-(1/m)),-1E3!==Ga&&(u=!1,k=d.m(),bb=!1,k===C.de&&(k=d.j(),bb=!0,k=d.m()),k[0]===C.Nd?(ka=a.s.oa(ya,Aa,Ga,rb,sb,a.Ep,Ba,Ja,Fa,Ra,Sa,Na,Ia,ab,bb,kb,Wa,eb,ua,ob),r=lb=!0):Hb="a string"))))));break;case C.Qx:r=a.g.Xc=!0;break;case C.kv:r=a.g.sd=!0;break;case C.tB:a.g.dg()&&(a.g.Db=!0);r=!0;break;case C.Zo:r=!1;k=d.j();if(""!==k){for(a.bk=[];d.i();)m=d.h(),a.bk[a.bk.length]=m;a.NK(t,k,a.bk);a.bk=[];r=!0}break;case C.Lm:r=!1;k=d.j();if(""!==
k&&(l=d.m(),""!==l)){d.j();if(l===C.Zh)Aa=ya=-1,d.i()&&(ya=d.h()),d.i()&&(Aa=d.h()),ya<F.eq||Aa<F.Mv||ya>F.yr||Aa>F.xr?(t[t.length]=[C.vj+" "+C.Zh,"invalid random box size"],ya=-1):l+=ya+","+Aa;else for(p=d.m();""!==p&&!this.um(p)&&!d.i()&&-1!==a.X.Va(tc,p,uc);)d.j(),l+=p,p=d.m();if(-1!==ya){Aa=ya=0;d.i()&&(u=!0,ya=d.h());d.i()&&(u=!0,Aa=d.h());Ga=-1;p=d.m();if(""!==p){switch(p){case C.Ry:Ga=F.Dq;break;case C.Oy:Ga=F.Hy;break;case C.Py:Ga=F.Iy;break;case C.Qy:Ga=F.Jy;break;case C.Uy:Ga=F.My;break;
case C.Vy:Ga=F.Ny;break;case C.Ty:Ga=F.Ly;break;case C.Sy:Ga=F.Ky}-1!==Ga&&d.j()}-1===Ga&&(Ga=F.Dq);a.EK(t,k,l,ya,Aa,Ga);r=!0}}break;case C.vj:l=d.m();if(""!==l){d.j();ya=-99999;if(l===C.Zh)Aa=ya=-1,d.i()&&(ya=d.h()),d.i()&&(Aa=d.h()),ya<F.eq||Aa<F.eq||ya>F.yr||Aa>F.xr?(t[t.length]=[C.vj+" "+C.Zh,"invalid random box size"],ya=-1):l+=ya+","+Aa;else for(p=d.m();""!==p&&!this.um(p)&&!d.i()&&-1!==a.X.Va(tc,p,uc);)d.j(),l+=p,p=d.m();if(-1!==ya){Aa=ya=0;d.i()&&(u=!0,ya=d.h());d.i()&&(u=!0,Aa=d.h());Ga=
-1;p=d.m();if(""!==p){switch(p){case C.Ry:Ga=F.Dq;break;case C.Oy:Ga=F.Hy;break;case C.Py:Ga=F.Iy;break;case C.Qy:Ga=F.Jy;break;case C.Uy:Ga=F.My;break;case C.Vy:Ga=F.Ny;break;case C.Ty:Ga=F.Ly;break;case C.Sy:Ga=F.Ky}-1!==Ga&&d.j()}-1===Ga&&(Ga=F.Dq);if(a.QD(a.Ye,a.Wl,a.kj,a.$d,a.Va,a.Zy,a.dz,l,ya,Aa,Ga)){if(k=d.m(),k===C.xx||k===C.WC)if(d.j(),tb=ya,Db=Aa,Sb=Ga,Sb=0,d.i()&&d.I())for(tb=d.h(),Db=d.h();0===Sb;)k===C.xx?ya+=tb:Aa+=tb,a.Ye+=Db,a.QD(a.Ye,-1,[],0,a.Va,0,0,l,ya,Aa,Ga),d.i()&&d.I()?(tb=
d.h(),Db=d.h()):Sb=1;else t[t.length]=[C.vj+" "+k,"missing number pair"]}else t[t.length]=[C.vj+" "+l,"invalid name or rle"];r=!0}}break;case C.Ow:d.i()&&(u=!0,m=d.h(),-4096<=m&&4096>=m&&(a.Zy=m,u=!1,d.i()&&(u=!0,m=d.h(),-4096<=m&&4096>=m&&(a.dz=m,r=!0))));break;case C.iq:if(d.i()){if(u=!0,m=d.h(),0<=m){a.Ye=m;a.$d=0;a.Wl=-1;a.kj=[];for(f=!0;f;)d.i()?(m=d.h(),a.kj[a.kj.length]=m):(k=d.m(),a.TK(k,a.kj)?d.j():f=!1);r=!0}}else k=d.m(),k===C.Pp&&(k=d.j(),d.i()&&(u=!0,m=d.h(),1<=m&&(a.$d=m,a.Ye=0,a.Wl=
-1,d.i()?(m=d.h(),0<=m&&(a.Ye=m,d.i()?(m=d.h(),m>=a.Ye+a.$d&&(a.Wl=m,r=!0)):r=!0)):r=!0)));break;case C.zD:r=H.wo=!0;break;case C.Ax:r=a.io=!0;break;case C.mx:r=!0;u=!1;Hb="paste mode";k=d.m();switch(k){case C.wx:a.Va=F.vx;break;case C.Xw:a.Va=F.Jr;break;case C.Qw:a.Va=F.Pw;break;case C.qx:a.Va=F.nx;break;case C.Sw:a.Va=F.Rw;break;case C.ux:a.Va=F.tx;break;case C.sx:a.Va=F.Kr;break;case C.lx:a.Va=F.Ro;break;case C.bx:a.Va=F.ax;break;case C.px:a.Va=F.ox;break;case C.ix:a.Va=F.hx;break;case C.Uw:a.Va=
F.Tw;break;case C.gx:a.Va=F.ex;break;case C.Ww:a.Va=F.Vw;break;case C.$w:a.Va=F.Zw;break;case C.kx:a.Va=F.jx;break;case C.Yw:a.Va=F.hq;break;default:if(4===k.length){for(Qa=m=0;4>Qa&&r;){m<<=1;switch(k.substring(Qa,Qa+1)){case "1":m|=1;break;case "0":break;default:r=!1}Qa+=1}r&&(a.Va=m)}else d.i()?(u=!0,m=d.h()|0,0<=m&&15>=m?a.Va=m:r=!1):r=!1}r&&!u&&d.j();break;case C.Wu:r=a.pd=!0;break;case C.Ew:a.Md=!1;r=!0;break;case C.Dw:r=a.qb=!0;break;case C.Fw:a.Vc=!1;r=!0;break;case C.sr:d.i()&&(u=!0,m=d.h()|
0,m>=F.fC&&m<=F.Iv&&(a.g.ea=1<<m,r=!0));break;case C.sq:k=d.m();k===C.Tb?(k=d.j(),H.ql=!1):H.ql=!0;r=H.ds=!0;break;case C.rq:k=d.m();k===C.Tb?(k=d.j(),H.ep=!1):H.ep=!0;r=H.$r=!0;break;case C.Pq:k=d.m();k===C.Tb?(k=d.j(),H.Se=!1):H.Se=!0;r=!0;break;case C.ro:d.i()&&(u=!0,m=d.h()|0,0<=m&&m<=a.dj&&(0!==m||!a.g.O)&&(a.qa=m,r=!0));break;case C.Kp:d.i()&&(u=!0,m=d.h()|0,0<=m&&m<=a.dj&&(a.Ee=m,r=!0));break;case C.Yu:k=d.m();k===C.Tb?(k=d.j(),a.qd=!1):a.qd=!0;r=!0;break;case C.Vp:k=d.m();k===C.Tb?(k=d.j(),
H.grid=!1):H.grid=!0;r=H.Wk=!0;break;case C.Up:d.i()&&(u=!0,m=d.h()|0,m>=F.sI&&m<=F.oI&&(a.g.lb=m,r=a.Qf=!0));break;case C.tb:case C.hu:z=g;Ta=!1;if(d.i())w=d.h()|0,m=-1===a.g.i?2:a.g.i,a.g.O&&(m=7),0>w||w>=m?(this.fg(d,t,g+" "+w,"STATE out of range",!1),Ta=!0):(this.fo(a,d,t,w,g,Ta,w),a.ua=!0);else switch(k=d.m(),k){case C.Kw:a.g.O?this.oc(a,d,t,F.Tj,z):(this.fg(d,t,g+" "+C.Kw,"not valid for this rule",!0),Ta=!0,a.ua=!1);break;case C.Nw:a.g.O?this.oc(a,d,t,F.bo,z):(this.fg(d,t,g+" "+C.Nw,"not valid for this rule",
!0),Ta=!0,a.ua=!1);break;case C.Xu:a.g.O?this.oc(a,d,t,F.co,z):(this.fg(d,t,g+" "+C.Xu,"not valid for this rule",!0),Ta=!0,a.ua=!1);break;case C.Fv:k=d.j();a.g.O?this.fo(a,d,t,F.WB,g,!1,k):(this.fg(d,t,g+" "+C.Fv,"not valid for this rule",!1),Ta=!0,a.ua=!1);break;case C.Hv:k=d.j();a.g.O?this.fo(a,d,t,F.YB,g,!1,k):(this.fg(d,t,g+" "+C.Hv,"not valid for this rule",!1),Ta=!0,a.ua=!1);break;case C.Gv:k=d.j();a.g.O?this.fo(a,d,t,F.XB,g,!1,k):(this.fg(d,t,g+" "+C.Gv,"not valid for this rule",!1),Ta=!0,
a.ua=!1);break;case C.jv:k=d.j();a.g.O?this.fo(a,d,t,F.PB,g,!1,k):(this.fg(d,t,g+" "+C.jv,"not valid for this rule",!1),Ta=!0,a.ua=!1);break;case C.lp:this.oc(a,d,t,F.Tj,z);break;case C.kp:a.g.s||a.g.v||a.g.G||a.g.D||a.g.la?(this.fg(d,t,g+" "+C.kp,"not valid for this rule",!0),Ta=!0,a.ua=!1):this.oc(a,d,t,F.bo,z);break;case C.wq:2<a.g.i||a.g.la?(this.fg(d,t,g+" "+C.wq,"not valid for this rule",!0),Ta=!0,a.ua=!1):this.oc(a,d,t,F.MA,z);break;case C.op:a.g.D||a.g.v||a.g.G||a.g.la?(this.fg(d,t,g+" "+
C.op,"not valid for this rule",!0),Ta=!0,a.ua=!1):this.oc(a,d,t,F.co,z);break;case C.np:a.g.D||a.g.v||a.g.G||a.g.la?(this.fg(d,t,g+" "+C.np,"not valid for this rule",!0),Ta=!0,a.ua=!1):this.oc(a,d,t,F.mu,z);break;case C.yq:2>=a.g.i||a.g.s||a.g.D||a.g.ja||a.g.v||a.g.G||a.g.O||a.g.la?(this.fg(d,t,g+" "+C.yq,"not valid for this rule",!0),Ta=!0,a.ua=!1):this.oc(a,d,t,F.RA,z);break;case C.xq:2>=a.g.i||a.g.s||a.g.D||a.g.ja||a.g.v||a.g.G||a.g.O||a.g.la?(this.fg(d,t,g+" "+C.xq,"not valid for this rule",!0),
Ta=!0,a.ua=!1):this.oc(a,d,t,F.SA,z);break;case C.Vp:this.oc(a,d,t,F.Wq,z);break;case C.Up:this.oc(a,d,t,F.nu,z);break;case C.sq:this.oc(a,d,t,F.dB,z);break;case C.rq:this.oc(a,d,t,F.cB,z);break;case C.xy:this.oc(a,d,t,F.eB,z);break;case C.Au:this.oc(a,d,t,F.TA,z);break;case C.Su:this.oc(a,d,t,F.ZA,z);break;case C.Zp:this.oc(a,d,t,F.ou,z);break;case C.Lp:this.oc(a,d,t,F.lu,z);break;case C.eD:this.oc(a,d,t,F.pu,z);break;case C.wA:this.oc(a,d,t,F.NA,z);break;case C.$t:-1===a.g.S?(this.fg(d,t,g+" "+
C.$t,"Bounded Grid not specified",!0),Ta=!0):this.oc(a,d,t,F.OA,z);a.ua=!1;break;case C.oD:this.oc(a,d,t,F.aB,z);break;case C.vj:this.oc(a,d,t,F.$A,z);break;case C.pD:this.oc(a,d,t,F.bB,z);break;case C.DB:this.oc(a,d,t,F.WA,z);break;case C.CB:this.oc(a,d,t,F.VA,z);break;case C.BB:this.oc(a,d,t,F.UA,z);break;case C.EB:this.oc(a,d,t,F.XA,z);break;case C.FB:this.oc(a,d,t,F.YA,z);break;case C.ID:this.oc(a,d,t,F.Zq,z);break;case C.GD:this.oc(a,d,t,F.Xq,z);break;case C.JD:this.oc(a,d,t,F.$q,z);break;case C.LD:this.oc(a,
d,t,F.br,z);break;case C.KD:this.oc(a,d,t,F.ar,z);break;case C.HD:this.oc(a,d,t,F.Yq,z);break;case C.DD:this.oc(a,d,t,F.gB,z);break;case C.BD:this.oc(a,d,t,F.fB,z);break;case C.BA:this.oc(a,d,t,F.QA,z);break;case C.AA:this.oc(a,d,t,F.PA,z);break;default:if('"'===k.charAt(0)&&'"'!==k.charAt(k.length-1)){k=d.j();do l=d.j(),k+=" "+l;while(""!==l&&'"'!==l.charAt(l.length-1))}else k=d.j();"dead"!==k||a.g.la||a.g.D?(w=-1,a.g.la||(w=a.$z(k)),0<=w&&(this.fo(a,d,t,w,g,Ta,k),a.ua=!0),0>w&&(this.aI(k,a)?t[t.length]=
[g+" "+k,"not valid for this rule"]:(t[t.length]=[g+" "+k,"illegal element"],k=d.j()),d.i()&&(d.h(),d.i()&&(d.h(),d.i()&&d.h())))):(d.P(),this.oc(a,d,t,F.co,z))}r=!0;break;case C.Mm:-1===d.S(C.ml)&&d.Z();r=!0;--a.Lh;break;case C.Fq:r=a.I=!0;break;case C.Gw:r=a.ey=!0;break;case C.by:r=a.Mn=!0;break;case C.Hw:a.Ff=!1;r=!0;break;case C.Cu:r=a.oo=!0;break;case C.bv:r=a.Xp=!0;break;case C.Cw:a.Ia=!0;r=a.mn=!0;break;case C.Bw:r=a.Tg=!0;break;case C.wy:r=kc=jc=ic=hc=Ob=Nb=gc=fc=Mb=ec=dc=cc=bc=ac=$b=Zb=!0;
break;case C.Tb:t[t.length]=[C.Tb,"must follow LOOP or STOP"];r=!0;break;case C.hg:k=d.m();k===C.zc?(k=d.j(),H.Xg?(a.s.ma(H,t),a.HH()):t[t.length]=[C.hg+" "+C.zc,"only valid at a POI"]):t[t.length]=[C.hg,"must be followed by INITIAL"];r=!0;break;case C.zc:t[t.length]=[C.zc,"must follow POI, ALL or a POI setting"];r=!0;break;case C.es:d.i()?(u=!0,m=d.h()|0,0<=m&&m<=F.Jv&&(a.Ta=m,a.fi=m,r=!0)):(k=d.m(),"b"===k.charAt(k.length-1).toLowerCase()&&(k=k.substring(0,k.length-1),m=Number(k),k=d.j(),u=!0,0<=
m&&m<=F.Jv&&(a.Ta=m,a.fi=m,a.lf=performance.now(),a.cn=k,r=!0)));break;case C.Qq:r=a.Fe=!0;break;case C.Rq:k=d.m();k===C.Tb?(k=d.j(),a.$a=!1):a.ob&&(a.$a=!0);r=!0;break;case C.Mr:d.i()&&(u=!0,m=d.h()|0,0<=m&&(H.Xg?(H.Ac=m,H.vq=!0):t[t.length]=[C.Mr+" "+m,"only valid at a POI"],r=!0));break;case C.Vo:H.$J(t);r=!0;break;case C.Wo:H.bK(t);r=!0;break;case C.kq:H.aK(t);r=!0;break;case C.lq:d.i()&&(u=!0,m=d.h(),m>=Va.bD&&m<=Va.aD&&(H.cK(m,t),r=!0));break;case C.Cx:r=E=!0;break;case C.Ru:r=a.Bo=!0;break;
case C.ty:k=d.m();k===C.Tb?(k=d.j(),a.ud=!1):a.ud=!0;r=!0;break;case C.Cq:d.i()&&(u=!0,m=d.h(),m>=F.Cg&&m<=F.zg&&(Bb=m,u=!1,g+=" "+m,d.i()&&(u=!0,m=d.h(),m>=F.Cg&&m<=F.zg&&(Cb=m,r=!0,a.mb&&(t[t.length]=[C.Cq+" "+Bb+" "+Cb,"overwrites "+zb+" "+Ab]),zb=Bb,Ab=Cb,a.mb=!0))));break;case C.Bq:d.i()&&(u=!0,m=d.h()|0,0<m&&(Yb=m,u=!1,g+=" "+m,d.i()&&(u=!0,m=d.h(),m>=F.Cg&&m<=F.zg&&(Bb=m,u=!1,g+=" "+m,d.i()&&(u=!0,m=d.h(),m>=F.Cg&&m<=F.zg&&(Cb=m,r=!0,a.pi&&(t[t.length]=[C.Bq+" "+Yb+" "+Bb+" "+Cb,"overwrites "+
Rb+" "+zb+" "+Ab]),Rb=Yb,zb=Bb,Ab=Cb,a.pi=!0,a.mb=!0))))));break;case C.Sm:d.i()&&(u=!0,m=d.h(),m>=F.Cg&&m<=F.zg&&(Kb=m,u=!1,g+=" "+m,d.i()&&(u=!0,m=d.h(),m>=F.Cg&&m<=F.zg&&(Jb=m,u=!1,g+=" "+m,d.i()&&(u=!0,m=d.h(),m>=F.Cg&&m<=F.zg&&(Lb=m,u=!1,g+=" "+m,d.i()&&(u=!0,m=d.h(),m>=F.Cg&&m<=F.zg&&(Ib=m,r=!0,Lb>Kb?t[t.length]=[C.Sm+" W "+this.ee(Lb,2)+" E "+this.ee(Kb,2),"W is greater than E"]:Ib>Jb?t[t.length]=[C.Sm+" N "+this.ee(Ib,2)+" S "+this.ee(Jb,2),"N is greater than S"]:(a.mi&&(t[t.length]=[C.Sm+
" "+this.ee(Kb,2)+" "+this.ee(Jb,2)+" "+this.ee(Lb,2)+" "+this.ee(Ib,2),"overwrites "+this.ee(a.Og,2)+" "+this.ee(a.Qg,2)+" "+this.ee(a.oi,2)+" "+this.ee(a.ni,2)]),a.mi=!0,a.mb=!0,a.ni=Ib,a.Og=Kb,a.Qg=Jb,a.oi=Lb)))))))));break;case C.ui:L=H;!H.Xg&&0<a.s.h.length&&(H=a.s.F());d.i()?(u=!0,m=d.h()|0,0<m&&(!H.ti||a.bg||Ob||(t[t.length]=-1===H.uc?[C.ui+" "+m,"overwrites "+C.Tb]:[C.ui+" "+m,"overwrites "+H.uc]),H.uc=m,H.ti=!0,Ob=a.bg=!1,r=!0)):(k=d.m(),k===C.Tb?(k=d.j(),!H.ti||a.bg||Ob||(t[t.length]=-1!==
H.uc||a.bg?[C.ui+" "+C.Tb,"overwrites "+H.uc]:[C.ui+" "+C.Tb,"overwrites "+C.Tb]),H.uc=-1,H.ti=!0,Ob=a.bg=!1,r=!0):k===C.zc&&(k=d.j(),a.s.j(C.ui,H,t,a.bg),r=a.bg=!0));H=L;break;case C.hi:L=H;!H.Xg&&0<a.s.h.length&&(H=a.s.F());d.i()?(u=!0,m=d.h()|0,0<m&&(!H.gi||a.Ch||Nb||(t[t.length]=-1===H.Sb?[C.hi+" "+m,"overwrites "+C.Tb]:[C.hi+" "+m,"overwrites "+H.Sb]),H.Sb=m,H.gi=!0,Nb=a.Ch=!1,r=!0)):(k=d.m(),k===C.Tb?(k=d.j(),!H.gi||a.Ch||Nb||(t[t.length]=-1===H.Sb?[C.hi+" "+C.Tb,"overwrites "+C.Tb]:[C.hi+" "+
C.Tb,"overwrites "+H.Sb]),H.Sb=-1,H.gi=!0,Nb=a.Ch=!1,r=!0):k===C.zc&&(k=d.j(),a.s.j(C.hi,H,t,a.Ch),r=a.Ch=!0));H=L;break;case C.sl:d.i()?(u=!0,m=d.h(),m>=F.fq&&m<=F.Kv&&(!H.dh||a.sk||cc||(t[t.length]=[C.sl+" "+m,"overwrites "+H.Gb]),H.Gb=m,H.dh=!0,cc=a.sk=!1,r=!0)):(k=d.m(),k===C.zc&&(k=d.j(),a.s.j(C.sl,H,t,a.sk),r=a.sk=!0));break;case C.Lk:d.i()?(u=!0,m=d.h()|0,0<=m&&359>=m&&(!H.Wg||a.ul||bc||(t[t.length]=[C.Lk+" "+m,"overwrites "+H.angle]),H.angle=m,H.Wg=!0,bc=a.ul=!1,r=!0)):(k=d.m(),k===C.zc&&
(k=d.j(),a.s.j(C.Lk,H,t,a.ul),r=a.ul=!0));break;case C.xm:d.i()?(u=!0,m=d.h()|0,m>=F.Br&&m<=F.tr&&(!H.Vh||a.yl||dc||(t[t.length]=[C.xm+" "+m,"overwrites "+H.Aa]),H.Aa=m,H.Vh=!0,dc=a.yl=!1,r=!0)):(k=d.m(),k===C.zc&&(k=d.j(),a.s.j(C.xm,H,t,a.yl),r=a.yl=!0));break;case C.km:d.i()?(u=!0,m=d.h(),m>=F.Ar&&m<=F.aC&&(!H.Kh||a.wl||ec||(t[t.length]=[C.km+" "+m,"overwrites "+H.depth]),H.depth=m,H.Kh=!0,ec=a.wl=!1,r=!0)):(k=d.m(),k===C.zc&&(k=d.j(),a.s.j(C.km,H,t,a.wl),r=a.wl=!0));break;case C.Fs:d.i()&&(u=!0,
m=d.h(),m>=-a.g.ea/2&&m<=a.g.ea/2&&(a.aa=m,r=!0));break;case C.Gs:d.i()&&(u=!0,m=d.h(),m>=-a.g.ea/2&&m<=a.g.ea/2&&(a.ba=m,r=!0));break;case C.gf:d.i()?(u=!0,m=d.h(),m>=-a.g.ea/2&&m<=a.g.ea/2&&(!H.Af||a.tk||Zb||(t[t.length]=[C.gf+" "+m,"overwrites "+-H.x]),H.x=-m,a.g.ha&&(H.x+=63.25),H.Af=!0,Zb=a.tk=!1,r=!0)):(k=d.m(),k===C.zc&&(k=d.j(),a.s.j(C.gf,H,t,a.tk),r=a.tk=!0));break;case C.jf:d.i()?(u=!0,m=d.h(),m>=-a.g.ea/2&&m<=a.g.ea/2&&(!H.hf||a.uk||$b||(t[t.length]=[C.jf+" "+m,"overwrites "+-H.y]),H.y=
-m,H.hf=!0,$b=a.uk=!1,r=!0)):(k=d.m(),k===C.zc&&(k=d.j(),a.s.j(C.jf,H,t,a.uk),r=a.uk=!0));break;case C.Cy:d.i()&&(u=!0,m=d.h(),m>=F.Bb&&m<=F.Pb?(a.yo=!0,a.Jt=m,r=!0):m>=F.cq&&m<=F.aq&&(a.yo=!0,a.Jt=-(1/m),r=!0));break;case C.It:case C.se:d.i()?(u=!0,m=d.h(),m>=F.Bb&&m<=F.Pb?(!H.re||a.Dh||ac||(t[t.length]=1>H.zoom?[C.se+" "+m,"overwrites "+-(1/H.zoom)]:[C.se+" "+m,"overwrites "+H.zoom]),H.zoom=m,H.re=!0,ac=a.Dh=!1,r=!0):m>=F.cq&&m<=F.aq&&(H.re&&!a.Dh&&(t[t.length]=1>H.zoom?[C.se+" "+m,"overwrites "+
-(1/H.zoom)]:[C.se+" "+m,"overwrites "+H.zoom]),H.zoom=-(1/m),H.re=!0,a.Dh=!1,r=!0)):(k=d.m(),k===C.zc&&(k=d.j(),a.s.j(C.se,H,t,a.Dh),r=a.Dh=!0));break;case C.qm:d.i()?(u=!0,m=d.h()|0,m>=F.Bg&&(!H.sf||a.xl||fc||(t[t.length]=[C.qm+" "+m,"overwrites "+H.dd]),m>F.$c&&(ya=m/F.$c|0,2<=ya&&(ya>=a.Hf&&(ya=a.Hf),H.step=ya,H.De=!0),m=F.$c),H.dd=m,H.sf=!0,fc=a.xl=!1,a.Pz=!1,r=!0)):(k=d.m(),k===C.zc&&(k=d.j(),a.s.j(C.qm,H,t,a.xl),r=a.xl=!0));break;case C.Dy:k=d.m();k===C.Tb?(k=d.j(),a.yd||(a.ka=!1,a.ne=!1)):
a.yd||(a.ka=!0,a.ne=!0);r=!0;break;case C.By:r=a.Ks=!0;break;case C.zy:k=d.m();k===C.Tb?(k=d.j(),a.yd||(a.ka=!1,a.ne=!1,a.Cd=!1,a.C.wa=!1)):a.yd||(a.ka=!0,a.ne=!0,a.Cd=!0,a.C.wa=!0);r=!0;break;case C.Ay:d.i()&&(u=!0,m=d.h()|0,m>=F.jC&&m<=F.dC&&(a.Wb=m,r=!0));break;case C.dk:d.i()?(u=!0,m=d.h()|0,0<=m&&m<a.g.Mb&&(!H.xe||a.Qe||Mb||this.Rx(a,t,m,H.Mc),H.Mc=m,H.xe=!0,Mb=a.Qe=!1,r=!0)):(k=d.m(),k===C.mp?(k=d.j(),a.ua?(H.xe&&!a.Qe&&this.Rx(a,t,a.g.Mb,H.Mc),H.Mc=a.g.Mb,H.xe=!0,a.Qe=!1):t[t.length]=[C.dk+
" "+C.mp,"no custom THEME defined"],r=!0):(m=a.jJ(k),-1!==m?(k=d.j(),!H.xe||a.Qe||Mb||this.Rx(a,t,m,H.Mc),H.Mc=m,H.xe=!0,Mb=a.Qe=!1,r=!0):k===C.zc&&(k=d.j(),a.s.j(C.dk,H,t,a.Qe),r=a.Qe=!0)),r||(r=!0,t[t.length]=[g,"invalid specification"]));break;case C.ly:k=d.m().toUpperCase();if(k==C.oq||k==C.Mo||k==C.gq||k==C.Mp){d.j();if(!(2<a.g.i||a.g.Da||a.g.s||a.g.O||a.g.v||a.g.G||a.g.D))switch(k){case C.oq:a.g.ab=y.vf;a.Uf=y.vf;break;case C.Mo:case C.gq:a.g.ab=y.lg;a.Uf=y.lg;break;case C.Mp:a.g.ab=y.Kf,a.Uf=
y.Kf}r=!0}break;case C.oq:2<a.g.i||a.g.Da||a.g.s||a.g.O||a.g.v||a.g.G||a.g.D||(a.g.ab=y.vf,a.Uf=y.vf);r=!0;break;case C.gq:case C.Mo:2<a.g.i||a.g.Da||a.g.s||a.g.O||a.g.v||a.g.G||a.g.D||(a.g.ab=y.lg,a.Uf=y.lg);r=!0;break;case C.Mp:2<a.g.i||a.g.Da||a.g.s||a.g.O||a.g.v||a.g.G||a.g.D||(a.g.ab=y.Kf,a.Uf=y.Kf);r=!0;break;case C.ml:t[t.length]=[g,"already in a script block"];r=!0;break;case C.ny:a.Ha=!a.Ha;r=!0;break;case C.oy:a.Ji.current=a.Sg([!0],!0,a);r=!0;break;case C.Du:a.Mj.current=a.ap([!0],!0,a);
r=!0;break;case C.my:r=a.kz=!0;break;case C.uu:d.i()&&(u=!0,m=d.h()|0,m>=F.eC&&m<=F.$B&&(r=!0,a.g.bf=m));break;case C.Hr:r=a.Zb=!0;break;case C.hr:r=a.Ca=!0;break;case C.Nu:d.i()&&(u=!0,m=d.h(),0<=m&&1>=m&&(r=!0,a.eb=m));break;case C.Ou:a.md=!1;r=!0;break;case C.Wy:a.g.Z&&(a.g.Fa=!1);r=!0;break;case C.Tu:a.g.ha&&(a.g.Fa=!1);r=!0;break;case C.bs:r=a.g.Fa=!0;break;case C.cz:a.g.Xd&&(a.wd=!0);r=!0;break;case C.Zt:r=a.g.jb=!0;break;case C.Xx:d.i()&&(u=!0,m=d.h()|0,m>=F.eq&&m<=F.yr&&(a.pm=m,r=!0));break;
case C.Tx:d.i()&&(u=!0,m=d.h()|0,m>=F.Mv&&m<=F.xr&&(a.lm=m,r=!0));break;case C.Sx:d.i()&&(u=!0,m=d.h()|0,m>=F.Dr&&m<=F.wr&&(a.wj=m,r=!0));break;case C.Ux:r=a.Cn=!0;break;case C.Wx:r=a.En=!0;break;case C.Qr:u=!1;Hb="a valid item";k=d.m();switch(k){case C.de:k=d.j();r=!0;a.om=!0;break;case C.hg:k=d.j();d.i()&&(u=!0,m=d.h()|0,0<=m&&100>=m&&(a.af=m,r=!0));break;case C.Pr:k=d.j();d.i()&&(u=!0,m=d.h()|0,0<=m&&100>=m&&(a.bf=m,r=!0));break;case C.Sr:k=d.j();d.i()&&(u=!0,m=d.h()|0,0<=m&&100>=m&&(a.wg=m,r=
!0));break;default:this.CK(k)&&(k=d.j(),d.i()&&(u=!0,m=d.h()|0,0<=m&&100>=m&&(this.YJ(a,m),r=!0)))}break;case C.Zh:t[t.length]=[g,"only valid after "+C.vj];r=!0;break;case C.Zx:a.vm=!0;a.sm=!1;r=!0;break;case C.Yx:a.vm=!0;r=a.sm=!0;break;case C.Vx:k=d.m();""!==k&&k!==C.Mm&&(a.Yj=d.j(),r=a.Ss=!0);break;case C.Yg:k=d.m();switch(k){case C.gf:H.kk&&this.Xh(H.eh,C.Yg,C.gf,t);H.eh=!0;H.kk=!0;k=d.j();break;case C.jf:H.mk&&this.Xh(H.fh,C.Yg,C.jf,t);H.fh=!0;H.mk=!0;k=d.j();break;case C.se:H.pk&&this.Xh(H.gh,
C.Yg,C.se,t);H.gh=!0;H.pk=!0;k=d.j();break;case C.hg:H.kk&&this.Xh(H.eh,C.Yg,C.gf,t);H.mk&&this.Xh(H.fh,C.Yg,C.jf,t);H.pk&&this.Xh(H.gh,C.Yg,C.se,t);H.eh=!0;H.kk=!0;H.fh=!0;H.mk=!0;H.gh=!0;H.pk=!0;k=d.j();break;default:this.Dm(d,t,C.Yg,"argument",C.hg+", "+C.gf+", "+C.jf+" or "+C.se)}r=!0;break;case C.ai:k=d.m();switch(k){case C.gf:H.kk&&this.Xh(H.eh,C.ai,C.gf,t);H.eh=!1;H.kk=!0;k=d.j();break;case C.jf:H.mk&&this.Xh(H.fh,C.ai,C.jf,t);H.fh=!1;H.mk=!0;k=d.j();break;case C.se:H.pk&&this.Xh(H.gh,C.ai,
C.se,t);H.gh=!1;H.pk=!0;k=d.j();break;case C.hg:H.kk&&this.Xh(H.eh,C.ai,C.gf,t);H.mk&&this.Xh(H.fh,C.ai,C.jf,t);H.pk&&this.Xh(H.gh,C.ai,C.se,t);H.eh=!1;H.kk=!0;H.fh=!1;H.mk=!0;H.gh=!1;H.pk=!0;k=d.j();break;default:this.Dm(d,t,C.ai,"argument",C.hg+", "+C.gf+", "+C.jf+" or "+C.se)}r=!0;break;case C.Nr:N=!0;a.s.add(H,a);H=a.s.D();H.Xg=!0;k=d.m();k===C.zc&&(k=d.j(),-1!==a.lh&&(t[t.length]=[C.Nr+" "+C.zc,"overrides previous initial POI"]),a.lh=a.s.i.length);a.bF();r=!0;break;case C.uq:d.i()&&(u=!0,m=d.h()|
0,0<=m&&(M=!0,0<m&&(a.s.add(H,a),H=a.s.D()),H.Ac=m,r=H.vq=!0));break;case C.Om:d.i()?(u=!0,m=d.h()|0,m>=F.Zg&&m<=a.Hf&&(!H.De||a.zl||gc||(t[t.length]=[C.Om+" "+m,"overwrites "+H.step]),H.step=m,H.De=!0,gc=a.zl=!1,a.Rz=!1,r=!0)):(k=d.m(),k===C.zc&&(k=d.j(),a.s.j(C.Om,H,t,a.zl),r=a.zl=!0));break;case C.yx:d.i()&&(u=!0,m=d.h(),0<=m&&(M=!0,a.s.add(H,a),H=a.s.D(),m<F.rD&&(m=F.rD),H.zd=m,r=H.yD=!0));break;case C.up:d.i()&&(u=!0,m=d.h()|0,a.yd||(-1===a.Pa||hc||(t[t.length]=[C.up+" "+m,"overwrites "+a.Pa]),
a.Pa=m),hc=!1,r=!0);break;case C.qo:d.i()&&(u=!0,m=d.h()|0,a.yd||(-1===a.lb||ic||(t[t.length]=[C.qo+" "+m,"overwrites "+a.lb]),a.lb=m),ic=!1,r=!0);break;case C.nq:d.i()&&(u=!0,m=d.h()|0,-1===a.bc||jc||(t[t.length]=[C.nq+" "+m,"overwrites "+a.bc]),a.bc=m,jc=!1,r=!0);break;case C.mq:d.i()&&(u=!0,m=d.h()|0,-1===a.td||kc||(t[t.length]=[C.mq+" "+m,"overwrites "+a.td]),a.td=m,kc=!1,r=!0);break;default:t[t.length]=[g,"unknown or misspelt command"],r=!0}r||(u?t[t.length]=[g+" "+m,"argument out of range"]:
this.Dm(d,t,g,"argument",Hb))}""!==g&&(g=d.j())}n&&(t[t.length]=[C.Nd+q,"unterminated string"]);H.xe&&(a.g.v||a.g.G||a.g.D||a.g.la)&&(H.xe=!1);M&&a.mb&&(v=a.mi?C.Sm:a.pi?C.Bq:C.Cq,t[t.length]=[v,"can not be used with Waypoints"],a.mb=!1,a.mi=!1,a.pi=!1);a.mi||!a.mb&&!a.pi||(a.pi&&(m=a.g.lb,H.xe&&(m=a.g.pa[H.Mc].B),0<m&&(Rb*=m),H.Sb=Rb),a.ni=Ab,a.Og=zb,a.Qg=Ab,a.oi=zb);if(M||N){a.s.add(H,a);H=a.s.F();M?a.za=!0:-1!==a.lh&&(a.Hc=a.lh,L=a.s.i[a.lh],L.Af&&(H.Af=L.Af,H.x=L.x),L.hf&&(H.hf=L.hf,H.y=L.y),
L.re&&(H.re=L.re,H.zoom=L.zoom),L.Wg&&(H.Wg=L.Wg,H.angle=L.angle),L.dh&&(H.dh=L.dh,H.Gb=L.Gb),L.Kh&&(H.Kh=L.Kh,H.depth=L.depth),L.Vh&&(H.Vh=L.Vh,H.Aa=L.Aa),L.xe&&(H.xe=L.xe,H.Mc=L.Mc),L.sf&&(H.sf=L.sf,H.dd=L.dd),L.De&&(H.De=L.De,H.step=L.step),L.ti&&(H.ti=L.ti,H.uc=L.uc),L.gi&&(H.gi=L.gi,H.Sb=L.Sb));if(M){for(Qa=0;Qa<a.s.h.length;Qa+=1)H=a.s.h[Qa],H.Se&&(H.Af||H.hf||H.re)&&(q="",H.Af?(q="X "+H.x,H.hf?q=H.re?q+(", Y "+H.y+" and ZOOM "+H.zoom):q+(" and Y "+H.y):H.re&&(q+=" and ZOOM "+H.zoom)):H.hf?
(q="Y "+H.y,H.re&&(q+=" and ZOOM "+H.zoom)):H.re&&(q="ZOOM "+H.zoom),t[t.length]=[C.Pq,"overwrites "+q]);H=a.s.F()}N&&H.h===Va.play&&a.ob&&(a.$a=!0)}H.Se&&(a.ia=!0);H.hf&&(a.g.ka=a.g.height/2-H.y);H.Af&&(a.g.ma=a.g.width/2-H.x);H.re&&(a.g.zoom=H.zoom);a.g.Z||a.g.ha||(H.Wg&&(a.g.angle=H.angle),H.dh&&(a.g.Gb=H.Gb),a.g.la||(H.Kh&&(a.g.nc=H.depth/F.jm+F.Ar),H.Vh&&(a.g.Aa=H.Aa)));H.xe&&(a.Bl=H.Mc);H.sf&&(a.ca=H.dd,a.O=F.Zg);H.De&&(a.O=H.step,1<a.O&&(a.ca=a.ec));H.fs&&(a.C.notification.notify(H.we,15,1E3,
15,!1),a.Te=H.we);a.uc=H.uc;a.Sb=H.Sb;H.re&&(a.Zs=!0);H.Af&&(a.Vs=!0);H.hf&&(a.Xs=!0);H.Wk&&(a.g.Ya=H.grid);H.ds&&(a.Jc=H.ql);H.$r&&(a.Rm=H.ep);for(Qa=0;Qa<c;Qa+=1)-1!==a.Z[Qa]&&(B+=1,a.ua=!0);if(0<B){a.Gq=!0;for(Qa=0;Qa<c;Qa+=1)a.X.aa[Qa]?-1===a.Z[Qa]?(a.Gq=!1,a.$m[Qa]=F.wD):a.$m[Qa]=F.lK:a.$m[Qa]=F.vD;a.Bn=a.Gq?"(custom)":a.Bn+" (custom*)"}else a.Z=null;if(a.ua||a.Qf||-1!==a.Vn||-1!==a.Xn)Qa=-1,H.xe&&(Qa=H.Mc),this.dK(a,Qa),H.xe=!0,H.Mc=a.g.Mb,a.Bl=H.Mc;a.I&&(v="not possible due to "+C.Fq,a.Fe&&
(t[t.length]=[C.Qq,v],a.Fe=!1),a.$a&&(t[t.length]=[C.Rq,v],a.$a=!1),-1!==a.Ta&&(t[t.length]=[C.es+" "+a.Ta,v],a.Ta=-1),-1!==a.uc&&(t[t.length]=[C.ui+" "+a.uc,v]),-1!==a.Sb&&(t[t.length]=[C.hi+" "+a.Sb,v]));0!==a.aa&&a.S+a.Hf+2*Math.abs(a.aa)>=a.g.ea&&(t[t.length]=[C.Fs+" "+a.aa,"pattern does not fit on grid at view offset"],a.aa=0);0!==a.ba&&a.V+a.Hf+2*Math.abs(a.ba)>=a.g.ea&&(t[t.length]=[C.Gs+" "+a.ba,"pattern does not fit on grid at view offset"],a.ba=0);a.py=t.length}""!==a.xd&&(a.xd=this.Pm(a,
a.xd));a.ia&&(a.jn=!0);a.Ca&&a.Zb&&(t[t.length]=[C.hr,"not valid with "+C.Hr],a.Ca=!1);-1!==a.Pa&&(ib=F.ld,a.Pa>=F.hC&&a.Pa<ib&&(a.Pa=ib),a.Ia&&(ib=F.tI),a.Pa<ib&&(t[t.length]=[C.up+" "+a.Pa,"argument out of range"],Eb=!0));-1!==a.lb&&(ib=F.Wh,a.Ia&&(ib=F.iC),a.lb<ib||a.lb>F.bq)&&(t[t.length]=[C.qo+" "+a.lb,"argument out of range"],Eb=!0);-1!==a.Pa&&!Eb&&a.Pa>a.Cc&&(m=a.Cc/a.Pa,a.Pa=a.Cc,a.lb=-1!==a.lb?a.lb*m|0:a.displayHeight*m|0,ib=F.Wh,a.Ia&&(ib=F.iC),a.lb<ib&&(a.lb=ib));a.yd&&(-1!==a.bc&&(a.bc>=
F.hC&&a.bc<F.ld&&(a.bc=F.ld),a.bc<F.ld||a.bc>a.Cc)&&(t[t.length]=[C.nq+" "+a.bc,"argument out of range"],a.bc=-1,Eb=!0),-1!==a.td&&(a.td<F.Wh||a.td>F.bq)&&(t[t.length]=[C.mq+" "+a.td,"argument out of range"],a.td=-1,Eb=!0));if(Eb||t.length)-1!==a.Pa&&(a.Pa<F.ld?a.Pa=F.ld:a.Pa>a.Cc&&(a.Pa=a.Cc)),-1!==a.lb&&(a.lb<F.dl?a.lb=F.dl:a.lb>F.bq&&(a.lb=-1)),a.Ia=!1;a.h.M=a.Ia;a.C.da=a.Ia;a.C.Na=a.Tg;a.Ia&&(a.$a=!1,a.ka=!1,a.Cd=!1,a.Ca=!1,a.Sg([!1],!0,a),a.ap([!1],!0,a),a.Yo([!1],!0,a),a.Ha=!1,a.pd=!1);a.ey&&
(a.element.style="display:none",a.element.parentNode&&a.element.parentNode.parentNode&&a.element.parentNode.parentNode.className===Ea.er&&(a.element.parentNode.parentNode.style="display:none;"));E&&a.fK();a.s.ab()}},va={bw:null,Yv:null,$v:null,Uv:null,hw:null,fw:null,FC:null,xw:null,UI:null,pw:null,lw:null,vw:null,Wv:null,tw:null,nw:null,rw:null,jw:null,dw:null,cw:null,Zv:null,aw:null,Vv:null,iw:null,gw:null,kL:null,yw:null,VI:null,qw:null,mw:null,ww:null,Xv:null,uw:null,ow:null,sw:null,kw:null,ew:null,
CG:null,Es:null,Tq:null,HI:null,II:null,xK:null,yK:null,FI:null,GI:null,OG:null,PG:null,QG:null,SG:null,az:null,zK:null,$y:null,wK:null,nH:null,mH:null,kH:null,lH:null,jH:null,IA:null,KA:null,LA:null,HA:null,JA:null,JG:null,LG:null,MG:null,IG:null,KG:null,EA:null,FA:null,GA:null,gl:null,KI:null,JI:null,LI:null,SI:null,RI:null,TI:null,Gr:null,DC:null,QI:null,sC:null,tC:null,uC:null,EC:null,vC:null,wC:null,xC:null,yC:null,zC:null,BC:null,AC:null,CC:null,MI:null,NI:null,OI:null,zJ:null,yJ:null,GJ:null,
FJ:null,LJ:null,MJ:null,KJ:null,Yr:null,memory:null,T:null},Ea={tagName:"LifeViewer",hH:"fullscreen",MH:"hide",DI:"multi",kI:"limit",dr:"rle",So:"code",Gm:37,Vu:!0,fullScreen:!1,$p:!1,wb:!1,er:"codebox",ay:"",mD:"",Ce:[]},F={Uh:0,TH:1,Wp:2,Wj:0,KB:1,kB:16777215,Wr:"LV",fE:"yDirection",hy:"safeMode",lB:"defaultSpeed",tu:"defaultSpeedValue",$x:"refreshRate",OK:"0 0 0 0\n1 0 255 192\n2 0 192 255\n",NG:"Ctrl",DG:"Cmd",qG:"Alt",dJ:"Option",pG:"0123456789rtyopasghjklxcbn",tv:0,Yp:1,uv:2,tj:10,pB:"workaround",
Jv:4194304,ig:0,Rp:1,Eu:2,Rr:64,eq:1,yr:4096,Mv:1,xr:4096,Dr:1,wr:100,pK:[0,0,0,0,0,1,1,1,1,1,2,2,2,2,2,3,3,3,3,3,3],zq:[1,10,11,17,18,2,3,4,5,7,12,13,14,15,16,0,6,8,9,19,20],Lr:0,QC:1,RC:2,OC:3,TC:4,SC:5,UC:6,VC:7,PC:8,JC:9,gJ:"Top Left;Top;Top Right;Right;Bottom Right;Bottom;Bottom Left;Left;Middle".split(";"),gr:15,$I:5,Yi:1E8,Dq:0,Hy:1,Iy:2,Jy:3,My:4,Ny:5,Ly:6,Ky:7,vx:0,Jr:1,Pw:2,nx:3,Rw:4,tx:5,Kr:6,Ro:7,ax:8,ox:9,hx:10,Tw:11,ex:12,Vw:13,Zw:14,jx:15,hq:3,Yy:[1,3,7,6],iK:[0,1],jK:[0,1],OH:[0,1,
0,1,0,1,0],PH:[0,1,2,3,4,5,6],oK:[0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1],nK:[0,1,2,3,4,5,6,3,4,1,2,1,2,1,0,1,0,1,0,1,0,1,0,1,0,1],fp:Math.sqrt(3),fk:Math.sqrt(3),Vj:1/Math.sqrt(3)*1.5,IH:13750737,JH:15066597,Pu:7368816,Qu:5263440,rD:.016,eK:16,IC:16384,jB:.7,Ir:16384,ZJ:"Script errors",Cg:-8,zg:8,jC:2,dC:4,mB:4,fC:9,Iv:14,TG:13,lr:null,eC:1,$B:16,iB:3,Tj:0,bo:1,MA:2,co:3,mu:4,Wq:5,nu:6,dB:7,eB:8,NA:9,WA:10,VA:11,UA:12,XA:13,YA:14,TA:15,ou:16,RA:17,SA:18,Zq:19,Xq:20,$q:21,br:22,ar:23,
Yq:24,lu:25,pu:26,OA:27,aB:28,$A:29,bB:30,ZA:31,gB:32,fB:33,QA:34,PA:35,cB:36,aJ:0,bJ:1,NH:2,WB:3,YB:4,XB:5,PB:6,sb:[0,6,2,5,3,4,1],ff:"dead alive history mark1 markoff mark2 kill".split(" "),nL:"OFF ON HISTORY MARK1 MARKOFF MARK2 KILL".split(" "),YC:0,XC:16,Bu:1800,lo:"LifeViewer",js:1282,uD:"Standard",Nx:"Pro",PD:"Chris Rowett",Br:1,tr:10,Tv:0,Jo:1,ue:2,rj:3,el:0,fl:1,Yh:2,Hs:1.25,XH:.99,Ar:0,aC:10,jm:10,ZB:32,Bb:.03125,Pb:64,fq:-5,Kv:5,cq:-32,aq:-1,Fo:-2048,Do:-1,Go:1/2048,Eo:2048,$c:60,Bg:1,pI:60,
Zg:1,Hf:64,MK:96,hB:.1,Ok:.05,Fu:"Courier",hs:"Arial",Kg:"18px Arial",Jg:"14px Arial",Zr:"9px Arial",Oq:"rgb(240,255,255)",wG:"rgb(0,0,0)",cD:"rgb(240,255,255)",dD:"rgb(0,0,0)",qA:2,Cr:1,ur:64,vG:.2,SB:"rgb(240,255,255)",jI:"rgb(0,0,0)",iI:18,gC:4,bC:128,hI:"Arial",ci:"rgb(32,255,255)",bi:"rgb(255,48,48)",tI:64,iC:64,hC:480,ld:600,rI:4096,KH:80,Wh:240,bq:4096,dl:480,Mx:560,Lq:172,Is:292,vD:0,lK:1,wD:2,sI:0,oI:32,Pg:0,hv:1,jy:2,mr:3,yy:4,iu:5,Ht:6,Lv:7,ju:8,Kt:9},U={T:null,Pc:[],sy:-1,jg:null,Ce:[],
Fm:!1,zA:"",uB:0,zB:0,xB:12,currentFrame:0,ec:60,sA:60,pq:!1,R:!0,xb:!0,UD:!0,vl:!0,ls:!0,Lf:!0,YD:!0,$D:!0,Vm:!0,ts:!0,us:!0,VD:!0,aE:!0,TD:!0,WD:!0,xs:!0,XD:!0,tp:!0,qs:!0,vs:!0,ys:!0,As:!0,ps:!0,os:!0,ms:!0,zs:!0,ws:!0,ns:!0,Cs:!0,Bs:!0,rs:!0,ss:!0,Ds:!0,ik:!0,ZD:!0,JK:!0,KK:!0,IK:!0,LK:!0,kr:null,NC:0,ez:"",iy:function(a,b){localStorage.setItem(F.Wr+a,b?"1":"0")},qr:function(a){var b=!1;a=localStorage.getItem(F.Wr+a);null!==a&&"1"===a&&(b=!0);return b},nD:function(a,b){localStorage.setItem(F.Wr+
a,String(b))},rr:function(a){var b=0;a=localStorage.getItem(F.Wr+a);null!==a&&(b=Number(a));return b},yB:function(){var a=performance.now();1>=U.currentFrame&&(U.uB=a);U.currentFrame===U.xB+1?(U.pr=a,U.zB=(a-U.uB)/U.xB,a=1E3/U.zB|0,70>=a?a=60:100>=a?a=75:130>=a?a=120:155>=a?a=144:175>=a?a=165:260>=a&&(a=240),U.ec=a,U.sA=a,a=U.rr(F.$x),0!==a?(25>a&&(a=25),500<a&&(a=500),U.ec=a,U.pq=!0):U.pq=!1,console.log("refresh rate",U.ec+"Hz "+(U.pq?"Fixed":"Auto")),setTimeout(Hc,0)):requestAnimationFrame(U.yB);
U.currentFrame+=1},cs:function(){var a=null;-1!==this.sy&&(a=this.Pc[this.sy]);return a},dH:function(a){for(var b=null,c=0;c<U.Pc.length;){if(U.Pc[c][0].tabIndex===a){b=U.Pc[c][1];break}c+=1}return b},oH:function(a){var b=null;0<=a&&a<this.Pc.length&&(b=this.Pc[a][1]);return b},gL:function(a){var b=null;0<=a&&a<this.Pc.length&&(b=this.Pc[a][0]);return b},lL:function(){return this.Pc.length},DK:function(){var a=0,b;for(b=0;b<this.Pc.length;b+=1){var c=this.Pc[b][1];c.Ob&&(a+=1)}return a},jD:function(){var a,
b=0;for(a=0;a<this.Pc.length;a+=1){var c=this.Pc[a][1];c.hc.current=c.Od(F.Tv,!0,c);c.C.ve(!0);b+=1}return b},xD:function(){var a,b=0;for(a=0;a<this.Pc.length;a+=1){var c=this.Pc[a][1];c.Ob&&!c.Xp&&(c.hc.current=c.Od(F.ue,!0,c),b+=1)}return b},vy:function(a){var b,c=0;for(b=0;b<this.Pc.length;b+=1){var d=this.Pc[b][1];d!==a&&d.Ob&&!d.Xp&&(d.hc.current=d.Od(F.ue,!0,d),c+=1)}return c}};Ub.prototype.j=function(){var a=this.buffer[this.i>>3]>>7-(this.i&7)&1;this.i+=1;this.i===this.m&&(console.log("end of buffer"),
--this.i);return a};Ub.prototype.h=function(a){for(var b=0;0<a;)--a,b|=this.j()<<a;return b};ha.prototype.cI=function(a){var b=!1;switch(a){case C.op:case C.np:case C.kp:case C.wq:case C.yq:case C.xq:case C.lp:b=!0}return b};ha.prototype.nA=function(a){for(var b=!1,c=0;c<F.ff.length&&!b;)a===F.ff[c]?b=!0:c+=1;return b};ha.prototype.lz=function(a){for(var b=!1,c=0;c<y.Lo.length&&!b;)a===y.Lo[c]?b=!0:c+=1;return b};ha.prototype.lA=function(a){for(var b=!1,c=0;c<y.Ko.length&&!b;)a===y.Ko[c]?b=!0:c+=
1;return b};ha.prototype.Kk=function(){var a,b=this.bb,c=this.zb,d=[];for(a=0;a<F.tj;a+=1){var f=a===c?"current ":"activate ";f+="clipboard";null!==b[a]?(f+=" ("+b[a].width+" x "+b[a].height+", "+b[a].count+" cell",1!==b[a].count&&(f+="s"),f+=")"):f+=" (empty)";d[a]=f+" ["+this.D+" "+a+"]"}this.Gk.W=d};ha.prototype.oB=function(a){window.confirm("Open last saved pattern?")&&(a.yd?Gb(a.element):yb(a.element))};ha.prototype.Dj=function(){var a=1<<F.gr,b=this.Ma>>F.gr;b===this.kh.length&&(this.kh[b]=
this.g.T.h(ra.be,a,"View.currentEdit"+b,!1));return this.kh[b]};ha.prototype.Ck=function(a,b){var c=[!0,a,b],d=this.g.Ia,f=this.g.Ha,e=this.g.ea,g;if(a!==(a&d)||b!==(b&f)){c[0]=!1;var k=this.g.width<this.g.ea&&a!==(a&d);for(g=this.g.height<this.g.ea&&b!==(b&f);k||g;)(k||g)&&this.g.Vf(k,g,!0),k&&(a+=this.g.width>>2),g&&(b+=this.g.height>>2),k=this.g.width<e&&a!==(a&d),g=this.g.height<e&&b!==(b&f);a===(a&d)&&b===(b&f)&&(c[0]=!0,c[1]=a,c[2]=b)}if(this.g.Da&&(d=this.Ki(),d=d+1>>1,0>a-d||a+d>=this.g.width||
0>b-d||b+d>=this.g.height)){c[0]=!1;k=this.g.width<e&&(0>a-d||a+d>=this.g.width);for(g=this.g.height<e&&(0>b-d||b+d>=this.g.height);k||g;)(k||g)&&this.g.Vf(k,g,!0),k&&(a+=this.g.width>>2),g&&(b+=this.g.height>>2),k=this.g.width<e&&(0>a-d||a+d>=this.g.width),g=this.g.height<e&&(0>b-d||b+d>=this.g.height);0>a-d||a+d>=this.g.width||0>b-d||b+d>=this.g.height||(c[0]=!0,c[1]=a,c[2]=b)}return c};ha.prototype.oa=function(a,b,c,d){var f=this.Ma,e=F.gr;var g=f>>e;var k=1<<e,l=k-1,p=this.kh;var n=this.g.i;var q=
2<n&&!(this.g.la||this.g.s||this.g.D||this.g.v||this.g.G),m=!1;var r=0;var u=this.g.ja?-1:0,t=this.g.B;var v=this.g.h;b=this.Ck(a,b);if(b[0]){a=b[1];b=b[2];var B=(this.g.width>>1)-(this.S>>1);var w=(this.g.height>>1)-(this.V>>1);var z=Math.round((this.g.width-this.g.ca)/2)+u;u=Math.round((this.g.height-this.g.$)/2)+u;var E=z+this.g.ca-1;var H=u+this.g.$-1}else return 0;if(-1!==this.g.S&&(0===this.g.ca&&(z=0,E=this.g.width-1),0===this.g.$&&(u=0,H=this.g.height-1),!(a>=z&&a<=E&&b>=u&&b<=H)))if(d)a<
z&&(a=z),a>E&&(a=E),b<u&&(b=u),b>H&&(b=H);else return 0;(this.g.s||this.g.D||this.g.v||this.g.G)&&0!==(this.g.counter&1)&&(v=this.g.P);v=v[b][a];d=this.g.nb(a,b,!1);0<d&&q&&(d=n-d);-1===n&&(n=this.g.O?7:2);0>c?c=0:c>=n&&(c=n-1);c!==d&&(this.qb||(g>=p.length&&this.Dj(),n=p[g],f&=l,q=c<<16|d<<8|v,0<f&&(4<=f?(r=n[f-1],4194304<=r?n[f-3]===q&&n[f-2]===b-w&&n[f-4]===a-B-(r-4194304)-2&&(n[f-1]+=1,m=!0):n[f-2]===q&&n[f-1]===b-w&&n[f-3]===a-B-1&&(n[f]=4194304,f+=1,this.Ma+=1,f===k&&this.Dj(),m=!0)):(g=this.Ma,
r=p[g-1>>e][g-1&l],4194304<=r?n[g-3>>e][g-3&l]===q&&n[g-2>>e][g-2&l]===b-w&&n[g-4>>e][g-4&l]===a-B-(r-4194304)-2&&(n[g-1>>e][g-1&l]+=1,m=!0):p[g-2>>e][g-2&l]===q&&p[g-1>>e][g-1&l]===b-w&&p[g-3>>e][g-3&l]===a-B-1&&(n[f]=4194304,f+=1,this.Ma+=1,f===k&&(n=this.Dj()),m=!0))),m||(n[f]=a-B,f+=1,this.Ma+=1,f===k&&(n=this.Dj(),f=0),n[f]=c<<16|d<<8|v,f+=1,this.Ma+=1,f===k&&(n=this.Dj(),f=0),n[f]=b-w,this.Ma+=1,f+1===k&&this.Dj())),r=this.g.Zd(a,b,c,!0),this.g.B!==t&&(this.Db=-1),this.Zb||0!==this.g.counter||
this.g.Mh());return r};ha.prototype.iz=function(a,b){var c=0,d=(this.g.width>>1)-(this.S>>1),f=(this.g.height>>1)-(this.V>>1),e=0,g=this.g.h;(this.g.s||this.g.D||this.g.v||this.g.G)&&0!==(this.g.counter&1)&&(g=this.g.P);if(a)if(b)for(c=a.length;0<c;){var k=a[c-1];4194304<=k&&--c;c-=3;b=a[c]+d;var l=a[c+1]>>8&255;var p=a[c+1]&255;var n=a[c+2]+f;e|=this.g.Zd(b,n,l,!0);g[n][b]=p;if(4194304<=k)for(k-=4194304;0<=k;)b+=1,e|=this.g.Zd(b,n,l,!0),g[n][b]=p,--k}else for(;c<a.length;)if(b=a[c]+d,l=(a[c+1]&16711680)>>
16,n=a[c+2]+f,e|=this.g.Zd(b,n,l,!0),c+=3,k=a[c],4194304<=k)for(c+=1,k-=4194304;0<=k;)b+=1,e|=this.g.Zd(b,n,l,!0),--k;(this.g.O||this.g.v)&&e&&this.g.rb();this.Zb||0!==this.g.counter||this.g.Mh()};ha.prototype.mt=function(a){for(var b=this.ma-1,c,d=this.fa,f=!1,e=!1;0<=b&&!f;)c=this.Eb[b],c.tg<=a?(f=!0,"advance selection"!==c.action&&"advance outside"!==c.action||!(b<this.Eb.length-2)||"advance selection"!==this.Eb[b+2].action&&"advance outside"!==this.Eb[b+2].action||(e=!0,b+=2)):--b;f&&(this.ma=
b+1,c=this.ma>=this.Hh?this.Eb[this.ma-1]:this.Eb[this.ma],c.selection?(d.J=c.selection.J,d.K=c.selection.K,d.L=c.selection.L,d.N=c.selection.N,this.P=!0):this.P=!1,this.bd=!1,this.Fl());return e};ha.prototype.Fl=function(){var a=this.ma,b=this.Hh,c=this.Eb;if(1<a){var d="undo ";var f=c[a-1];if(null===f.mm){var e=f.tg;1<a&&(e=c[a-2].tg);this.g.counter===e?d+=f.action:(d=1<this.g.counter-e?d+"play":d+"step",d+=" from "+e)}else d=""===f.action?d+"edit":d+f.action;"undo "===d&&(d="undo");this.Pd.W=d+
" ["+this.A+" Z]"}a<b&&(d="redo ",f=c[a],null===f.mm?(e=f.tg,e===this.g.counter?d+=f.action:(d=1<e-this.g.counter?d+"play":d+"step",d+=" to "+e)):d=""===f.action?d+"edit":d+f.action,"redo "===d&&(d="redo"),this.Th.W=d+" ["+this.A+" Y]")};ha.prototype.YF=function(a){var b=this.P?this.fa:null;return null===a&&null===b?!0:null===a&&null!==b||null!==a&&null===b?!1:a.J===b.J&&a.K===b.K&&a.L===b.L&&a.N===b.N?!0:!1};ha.prototype.MD=function(a,b,c,d){var f=!1;if(0<this.ma){var e=this.Eb[this.ma-1];e.tg===
a&&null===b&&""===c&&this.YF(e.selection)&&(f=!0)}f||(this.Eb[this.ma]={tg:a,mm:b,action:c,selection:d},this.ma+=1)};ha.prototype.$=function(a){var b=this.g.counter,c=null,d=null,f=this.fa,e=null,g=F.gr,k=1<<g,l=k-1;g=this.Ma>>g;if(!this.qb){this.Ob&&(0<this.ma&&(e=this.Eb[this.ma-1]),e&&e.selection&&(d=new Ua(e.selection.J,e.selection.K,e.selection.L,e.selection.N)),this.MD(b,c,"",d),d=null);this.P&&(d=new Ua(f.J,f.K,f.L,f.N));if(0<this.Ma){c=this.g.T.h(ra.be,this.Ma,"View.editCells"+this.ma,!1);
for(e=f=0;f<g;)c.set(this.kh[f].slice(),e),f+=1,e+=k;this.Ma&l&&c.set(this.kh[f].slice(0,this.Ma&l),e);this.Ma=0}this.MD(b,c,a,d);this.Hh=this.ma;this.Fl();this.ia&&0<this.g.B&&(this.g.Nb=!0,this.g.bc(),this.yb(!0,!0,F.ig))}};ha.prototype.Io=function(a){var b=a.g.counter,c=a.ma,d=a.fa,f=1,e=!1;if(!a.qb){a.Db=-1;a.Ob&&(a.hc.current=a.Od(F.ue,!0,a),c=a.ma);if(0<c)for(;0<f;){var g=a.Eb[c-1];var k=g.tg;var l=g.selection;e||"advance outside"!==g.action&&"advance selection"!==g.action||(e=!0,f=3);null===
g.mm&&1<c&&(k=a.Eb[c-2].tg);1<c&&(l=a.Eb[c-2].selection);if(k<b){var p=a.g.vb;0===k?a.reset(a):a.Aq(k);b=a.g.counter;a.g.vb=p;a.di(a.Ob)}else a.iz(g.mm,!0);l?(d.J=l.J,d.K=l.K,d.L=l.L,d.N=l.N,a.P=!0):a.P=!1;a.bd=!1;"reverse playback"===g.action&&(a.g.vb=!a.g.vb,a.g.Ub=!1,a.di(a.Ob));--c;a.ma=c;--f}else 0<b&&a.reset(a);a.Fl();a.g.bc();this.ia&&this.yb(!0,!0,F.ig)}};ha.prototype.Ts=function(a){var b=a.g.counter,c=a.fa,d=1,f=!1;if(!a.qb){for(;0<d&&a.ma<a.Hh;){var e=a.Eb[a.ma];f||"advance outside"!==e.action&&
"advance selection"!==e.action||(f=!0,d=3);e.tg===b&&null===e.mm&&""===e.action&&(a.ma+=1);e.tg>b?(a.hG(e.tg),b=a.g.counter):a.iz(e.mm,!1);e.selection?(c.J=e.selection.J,c.K=e.selection.K,c.L=e.selection.L,c.N=e.selection.N,a.P=!0):a.P=!1;a.bd=!1;"reverse playback"===e.action&&(a.g.vb=!a.g.vb,a.di(a.Ob));a.ma+=1;--d}a.Fl();a.g.bc();(a.g.O||a.g.v)&&a.g.rb();this.ia&&this.yb(!0,!0,F.ig)}};ha.prototype.ut=function(){var a="";if(this.g.ja)a="Margolus";else if(-1!==this.g.Td||this.X.na)a="1D";else if(this.g.Eh){a=
"Hexagonal";if(this.g.jh===this.X.qa||this.g.Da&&this.g.aa.type===this.X.D)a="Tripod";this.g.Da&&this.g.aa.type===this.X.A&&(a="Asterisk");1<this.g.aa.v&&(a+=" range "+this.g.aa.v)}else if(this.g.Da){switch(this.g.aa.type){case this.X.u:a="Corner/Edge";break;case this.X.i:a="Moore";break;case this.X.j:a="von Neumann";break;case this.X.Z:a="Circular";break;case this.X.P:a="Cross";break;case this.X.V:a="Saltire";break;case this.X.Y:a="Star";break;case this.X.$:a="L2";break;case this.X.G:a="Hexagonal";
break;case this.X.O:a="Checkerboard";break;case this.X.I:a="Aligned Checkerboard";break;case this.X.S:a="Hash";break;case 10:a="Custom";break;case this.X.D:a="Tripod";break;case this.X.A:a="Asterisk";break;case this.X.H:a="Triangular";break;case this.X.v:a="Gaussian";break;case 15:a="Weighted"}this.g.aa.type===this.X.u?a+=" range "+this.g.aa.S+"/"+this.g.aa.Y:1<this.g.aa.v&&(a+=" range "+this.g.aa.v);this.g.aa.ea&&(a+=" (non-deterministic)")}else if(this.g.Z)switch(a="Triangular",this.g.lh){case this.X.la:a+=
" Edges";break;case this.X.ma:a+=" Vertices";break;case this.X.ua:a+=" Inner";break;case this.X.va:a+=" Outer";break;case this.X.ta:a+=" Biohazard";break;case this.X.wa:a+=" Radiation"}else if(this.g.D)if(null===this.g.yb)a=4===this.g.Sd?"von Neumann":"Moore";else switch(this.g.od){case Da.xj:a="von Neumann";break;case Da.ah:a="Moore";break;case Da.$g:a="Hexagonal";break;case Da.ak:a="1D";break;default:a="unknown"}else a=this.g.wd||this.g.s?"von Neumann":"Moore";this.g.la&&(a="none");return a};ha.prototype.sD=
function(a,b,c,d){var f=[];d=this.ye[d];var e=d[0],g=d[1],k=d[2],l=d[3],p=new mb("rleToCellList",this.X);var n=C.Zh.length;d=2>=this.g.i?2:this.g.i;var q=2<d&&!(this.g.la||this.g.s||this.g.D||this.g.v||this.g.G);var m=this.wj/100;var r=!1;if(a.substring(0,n)===C.Zh){a=a.substring(n);b=parseInt(a.substring(0,a.indexOf(",")),10);c=parseInt(a.substring(a.indexOf(",")+1),10);for(g=a=0;g<c;g+=1)for(e=0;e<b;e+=1)this.g.s?(r=0,this.G.random()<=m&&(r|=1),this.G.random()<=m&&(r|=2),this.G.random()<=m&&(r|=
4),this.G.random()<=m&&(r|=8),f[a]=e,f[a+1]=g,f[a+2]=r,a+=3):2===d?this.G.random()<=m&&(f[a]=e,f[a+1]=g,f[a+2]=1,a+=3):this.G.random()<=m&&(f[a]=e,f[a+1]=g,r=(this.G.random()*(d-1)|0)+1,q&&(r=d-r),f[a+2]=r,a+=3);r=!0}else if(m=[],-1!==this.X.Va(p,a+" ",m)){this.X.jc(p,m,this.g.T);for(m=0;m<p.height;m+=1)for(n=p.ca[m],a=0;a<p.width;a+=1)r=n[a],q&&0<r&&(r=d-r),f[f.length]=b+a*e+m*g,f[f.length]=c+a*k+m*l,f[f.length]=r;r=!0}r||(f[0]="error");return f};ha.prototype.NF=function(a){var b=0,c=a.indexOf("["),
d=a.indexOf("]");if(-1!==c&&-1!==d&&c<d&&d===a.length-1){for(c+=1;c<d&&0<=b;){var f=a.charCodeAt(c)-48;0>f||9<f?b=-1:(b=10*b+f,c+=1)}0<b&&(this.yp=!0)}return b};ha.prototype.jG=function(a){var b=0>this.ng?-this.ng:this.ng,c=0>this.rg?-this.rg:this.rg;b=2*(b<c?c:b);a<b&&(a=b);return a};ha.prototype.fG=function(a){var b=0>this.mg?-this.mg:this.mg,c=0>this.sg?-this.sg:this.sg;b=2*(b<c?c:b);a<b&&(a=b);return a};ha.prototype.TK=function(a,b){var c,d=!1;for(c=0;!d&&c<this.he.length;)a===this.he[c].name?
d=!0:c+=1;if(d)for(a=this.he[c].UG,c=0;c<a.length;c+=1)b[b.length]=a[c];return d};ha.prototype.NK=function(a,b,c){var d,f=!1;if(Pb.um(b))a[a.length]=[C.Zo+" "+b,"name is reserved word"];else{for(d=0;!f&&d<this.he.length;)b===this.he[d].name?f=!0:d+=1;if(f)a[a.length]=[C.Zo+" "+b,"name already defined"];else{f=!1;for(d=0;!f&&d<c.length;)1>c[d]?f=!0:d+=1;f?a[a.length]=[C.Zo+" "+b+" "+c[d],"invalid delta"]:(a=c.slice(),this.he[this.he.length]={name:b,UG:a})}}};ha.prototype.EK=function(a,b,c,d,f,e){var g,
k=!1;if(Pb.um(b))a[a.length]=[C.Lm+" "+b,"name is reserved word"];else if(-1!==b.indexOf("["))a[a.length]=[C.Lm+" "+b,"name can not contain ["];else{for(g=0;!k&&g<this.Td.length;)b===this.Td[g].name?k=!0:g+=1;k?a[a.length]=[C.Lm+" "+b,"name already defined"]:(c=this.sD(c,d,f,e),"error"!==c[0]?this.Td[this.Td.length]={name:b,cells:c}:a[a.length]=[C.Lm+" "+b,"invalid RLE"])}};ha.prototype.QD=function(a,b,c,d,f,e,g,k,l,p,n){var q=0,m=!1,r=[],u=this.ye[n],t=u[0],v=u[1],B=u[2],w=u[3];u=F.Yi;var z=-F.Yi,
E=F.Yi,H=-F.Yi,L=k.indexOf("["),M=k,N=0,V=[],X=C.Zh.length,I=2>=this.g.i?2:this.g.i,R=2<I&&!(this.g.la||this.g.s||this.g.D||this.g.v||this.g.G),P=this.wj/100;-1!==L&&(M=k.substring(0,L),N=this.NF(k));if(M.substring(0,X)===C.Zh){M=M.substring(X);m=parseInt(M.substring(0,M.indexOf(",")),10);M=parseInt(M.substring(M.indexOf(",")+1),10);for(X=q=0;X<M;X+=1)for(L=0;L<m;L+=1)if(2===I)this.G.random()<=P&&(r[q]=L,r[q+1]=X,r[q+2]=1,q+=3);else if(this.G.random()<=P){r[q]=L;r[q+1]=X;var S=(this.G.random()*(I-
1)|0)+1;R&&(S=I-S);r[q+2]=S;q+=3}m=!0}else for(;q<this.Td.length&&!m;)this.Td[q].name===M?(m=!0,r=this.Td[q].cells.slice()):q+=1;if(m)for(q=0;q<r.length;)k=r[q],n=r[q+1],r[q]=l+k*t+n*v,r[q+1]=p+k*B+n*w,q+=3;else r=this.sD(k,l,p,n),"error"!==r[0]&&(m=!0);-1===N&&(m=!1);if(m&&0<r.length){for(q=0;q<r.length;)l=r[q],p=r[q+1],l<u&&(u=l),l>z&&(z=l),p<E&&(E=p),p>H&&(H=p),q+=3;l<this.ng&&(this.ng=l);l>this.rg&&(this.rg=l);p<this.mg&&(this.mg=p);p>this.sg&&(this.sg=p);t=Array.matrix(ra.cb,H-E+1,z-u+1,0,this.g.T,
"View.rle"+this.Xc.length,!1);for(q=0;q<r.length;)l=r[q],p=r[q+1],t[p-E][l-u]=r[q+2],q+=3;V[0]=a;for(q=0;q<c.length;q+=1)V[V.length]=V[V.length-1]+c[q];this.Xc[this.Xc.length]={ej:V,end:b,every:d,mode:f,cells:r,map:t,J:u,K:E,width:z-u+1,height:H-E+1,bH:N,deltaX:e,deltaY:g};0<d&&(this.El=!0);V[V.length-1]>this.Zd&&(this.Zd=V[V.length-1])}return m};ha.prototype.GE=function(){var a,b,c=this.g.width,d,f=this.g.A;for(a=0;a<this.Xc.length;a+=1){var e=this.Xc[a];var g=e.bH;if(0<g){var k=e.cells;var l=(c>>
1)-(e.width>>1);var p=(c>>1)-(e.height>>1);var n=0;f.J=l;f.L=l+e.width-1;f.K=p;f.N=p+e.height-1;for(this.g.counter=0;n<k.length;)this.g.Zd(l+k[n]-e.J,p+k[n+1]-e.K,k[n+2],!0),n+=3;for(;0<g;)this.g.gl(!0),this.g.Sf(),this.g.eg(this),--g;k=[];n=0;var q=d=F.Yi;for(b=f.K;b<=f.N;b+=1)for(g=f.J;g<=f.L;g+=1){var m=this.g.nb(g,b,!1);0!==m&&(k[n]=g-l+e.J,k[n+1]=b-p+e.K,k[n+2]=m,k[n]<d&&(d=k[n]),k[n+1]<q&&(q=k[n+1]),n+=3)}e.cells=k.slice();e.width=f.L-f.J+1;e.height=f.N-f.K+1;e.K=q;e.J=d;e.map=Array.matrix(ra.cb,
e.height,e.width,0,this.g.T,"View.rle"+a,!1);for(n=0;n<k.length;)g=k[n],b=k[n+1],e.map[b-e.K][g-e.J]=k[n+2],n+=3;this.g.ni()}}this.yp&&this.g.ni()};ha.prototype.$K=function(a){var b=!1,c=this.g.counter;var d=!1;if(this.g.ja||this.g.s)c=this.g.Xb;0!==a.every&&(this.g.ja||this.g.s)&&null!==this.g.Cb&&c<this.g.Ke&&(b=!1,d=!0);if(!d)if(0!==a.every&&c>=a.ej[0]&&0===(c-a.ej[0])%a.every)-1!==a.end&&c>a.end||(b=!0);else for(d=0;d<a.ej.length&&!b;)c===a.ej[d]?b=!0:d+=1;return b};ha.prototype.$n=function(a,
b,c,d){var f=0;b=this.Ck(a,b);b[0]&&(a=b[1],b=b[2],f=this.g.Zd(a,b,c,d));return f};ha.prototype.xo=function(a,b){var c=0;b=this.Ck(a,b);b[0]&&(a=b[1],b=b[2],c=this.g.nb(a,b,!1));return c};ha.prototype.on=function(){var a,b=this.g.counter,c=this.g.width,d=this.g.height,f,e=0,g=this.g.i-1,k=0;if(!this.g.la){-2===g&&(g=this.g.O?6:1);for(a=0;a<this.Xc.length;a+=1){var l=this.Xc[a];if(this.$K(l)){var p=l.mode;var n=(c>>1)-(this.S>>1);var q=(d>>1)-(this.V>>1);var m=l.map;if(0!==l.every&&(0!==l.deltaX||
0!==l.deltaY)){var r=(b-l.ej[0])/l.every;n+=l.deltaX*r;q+=l.deltaY*r}n+=l.J;q+=l.K;for(l=0;l<m.length;l+=1){var u=m[l];if(2<=g&&!(this.g.O||this.g.la||this.g.s||this.g.D||this.g.v||this.g.G))for(r=0;r<u.length;r+=1){var t=u[r];for(f=this.xo(n+r,q+l);c!==this.g.width||d!==this.g.height;)c!==this.g.width&&(c<<=1,n+=c>>2,this.va+=c>>2,this.ya+=c>>2,this.H+=c>>2),d!==this.g.height&&(d<<=1,q+=d>>2,this.Cb+=d>>2,this.Ib+=d>>2,this.F+=d>>2);switch(p){case F.vx:e=0;break;case F.Jr:e=t&f;break;case F.Pw:e=
t&g-f;break;case F.nx:e=t;break;case F.Rw:e=g-t&f;break;case F.tx:e=f;break;case F.Kr:e=t^f;break;case F.Ro:e=t|f;break;case F.ax:e=g-(t|f);break;case F.ox:e=g-(t^f);break;case F.hx:e=g-f;break;case F.Tw:e=t|g-f;break;case F.ex:e=g-t;break;case F.Vw:e=g-t|f;break;case F.Zw:e=g-(t&f);break;case F.jx:e=1}0>e?e=0:e>g&&(e=g);t===f&&p!==F.hq||this.$n(n+r,q+l,e,!0)}else if(this.g.s||this.g.D||this.g.G)for(r=0;r<u.length;r+=1){t=u[r];for(f=this.xo(n+r,q+l);c!==this.g.width||d!==this.g.height;)c!==this.g.width&&
(c<<=1,n+=c>>2,this.va+=c>>2,this.ya+=c>>2,this.H+=c>>2),d!==this.g.height&&(d<<=1,q+=d>>2,this.Cb+=d>>2,this.Ib+=d>>2,this.F+=d>>2);switch(p){case F.vx:e=0;break;case F.Jr:e=t&f;break;case F.Pw:e=t&g-f;break;case F.nx:e=t;break;case F.Rw:e=g-t&f;break;case F.tx:e=f;break;case F.Kr:e=t^f;break;case F.Ro:this.g.G?(e=f,0!=t&&(e=t)):e=t|f;break;case F.ax:e=g-(t|f);break;case F.ox:e=g-(t^f);break;case F.hx:e=g-f;break;case F.Tw:e=t|g-f;break;case F.ex:e=g-t;break;case F.Vw:e=g-t|f;break;case F.Zw:e=g-
(t&f);break;case F.jx:e=1}0>e?e=0:e>g&&(e=g);this.$n(n+r,q+l,e,!0)}else if(this.g.O||this.g.v)for(r=0;r<u.length;r+=1){t=u[r];for(f=this.xo(n+r,q+l);c!==this.g.width||d!==this.g.height;)c!==this.g.width&&(c<<=1,n+=c>>2,this.va+=c>>2,this.ya+=c>>2,this.H+=c>>2),d!==this.g.height&&(d<<=1,q+=d>>2,this.Cb+=d>>2,this.Ib+=d>>2,this.F+=d>>2);if(p===F.hq){e=t;var v=1;var B=0;t===f&&(B=1)}else v=t&1,B=f&1,e=0===(p&8>>(v+v|B))?0:1;v!==B&&(k|=this.$n(n+r,q+l,e,!1))}else for(r=0;r<u.length;r+=1){t=u[r];v=0===
t?0:1;f=this.xo(n+r,q+l);for(B=0===f?0:1;c!==this.g.width||d!==this.g.height;)c!==this.g.width&&(c<<=1,n+=c>>2,this.va+=c>>2,this.ya+=c>>2,this.H+=c>>2),d!==this.g.height&&(d<<=1,q+=d>>2,this.Cb+=d>>2,this.Ib+=d>>2,this.F+=d>>2);e=0===(p&8>>(v+v|B))?0:1;e===f&&p!==F.hq||0===t&&0===f||this.$n(n+r,q+l,e,!1)}}}}(this.g.O||this.g.v)&&k&&this.g.rb();this.hz()}};ha.prototype.hz=function(){var a,b=this.g.counter;for(a=0;a<this.ma;a+=1)this.Eb[a].tg===b&&this.iz(this.Eb[a].mm,!1);this.g.bc()};ha.prototype.Fz=
function(a){this.Ch=this.bg=this.xl=this.zl=this.Qe=this.yl=this.wl=this.sk=this.ul=this.Dh=this.uk=this.tk=a};ha.prototype.bF=function(){this.Fz(!1)};ha.prototype.HH=function(){this.Fz(!0)};ha.prototype.xn=function(){this.Ho=[];this.No=[]};ha.prototype.QE=function(a){var b=document.createElement("a");a.dA(b);b.href=a.ta.toDataURL("image/png");b.download="screenshot.png";b.click();b.remove();a.C.notification.notify("Image saved",15,300,15,!0)};ha.prototype.Uz=function(a){var b=a.Wc===F.Wj?a.g.Hc:
a.g.Qc;if("Oscillator"!==a.Ab)a.C.notification.notify("No Cell Map",15,300,15,!0);else{var c=document.createElement("a");a.dA(c);c.href=b.toDataURL("image/png");c.download="cellmap.png";c.click();c.remove();a.C.notification.notify("Cell Map saved",15,300,15,!0)}};ha.prototype.YH=function(a){var b=this.g.va,c=this.g.h,d=this.g.P,f=this.g.Wa,e=a.width,g=a.height,k=this.H,l=this.F;var p=Math.round(-this.g.ca/2);var n=Math.floor((this.g.ca-1)/2);var q=Math.round(-this.g.$/2);var m=Math.floor((this.g.$-
1)/2);var r=k-(this.g.width>>1),u=r+e-1,t=l-(this.g.height>>1),v=t+g-1,B=this.g.i,w=2===B&&this.g.Da,z=!0;if(-1!==this.g.S){if(0!==this.g.ca){if(r<p||u>n)this.cp=!0}else p=-this.g.width>>1,n=(this.g.width>>1)-1;if(0!==this.g.$){if(v>m||t<q)this.cp=!0}else q=-this.g.height>>1,m=(this.g.height>>1)-1}a.s&&(0!==(k&1)&&(k+=1),0!==(l&1)&&(l+=1),r=k-(this.g.width>>1),u=r+e-1,t=l-(this.g.height>>1),v=t+g-1);a.fa&&(0===(k&1)&&--k,0===(l&1)&&--l,r=k-(this.g.width>>1),u=r+e-1,t=l-(this.g.height>>1),v=t+g-1);
-1!==this.g.S&&(r=p,u=n,t=q,v=m);r+=this.g.width>>1;u+=this.g.width>>1;t+=this.g.height>>1;v+=this.g.height>>1;0>r&&(r=0);u>=this.g.width&&(u=this.g.width-1);0>t&&(t=0);v>=this.g.height&&(v=this.g.height-1);k>=r&&k<=u&&e+k>=r&&e-1+k<=u&&(z=!1);for(n=0;n<g;n+=1)if(q=a.I[n],n+l>=t&&n+l<=v){m=b[n+l];if(this.Na||this.g.s||this.g.D||this.g.v||this.g.G||!this.ob){var E=a.ca[n];var H=c[n+l];if(z)for(p=0;p<e;p+=1){if(p+k>=r&&p+k<=u){var L=E[p];0<L&&(L+=this.qa);H[p+k]=L}}else for(p=0;p<e;p+=1)L=E[p],0<L&&
(L+=this.qa),H[p+k]=L}else if(2<B)if(E=a.ca[n],H=c[n+l],z)for(p=0;p<e;p+=1)p+k>=r&&p+k<=u&&(L=E[p],0<L&&!this.g.la&&(L=B+this.qa-L),H[p+k]=L);else for(p=0;p<e;p+=1)L=E[p],0<L&&!this.g.la&&(L=B+this.qa-L),H[p+k]=L;if(w)if(H=c[n+l],z)for(p=0;p<e;p+=1)p+k>=r&&p+k<=u&&0!==(q[p>>4]&1<<(~p&15))&&(m[p+k>>4]|=1<<(~(p+k)&15),H[p+k]=y.xa);else for(p=0;p<e;p+=1)0!==(q[p>>4]&1<<(~p&15))&&(m[p+k>>4]|=1<<(~(p+k)&15),H[p+k]=y.xa);else if(z)for(p=0;p<e;p+=1)p+k>=r&&p+k<=u&&0!==(q[p>>4]&1<<(~p&15))&&(m[p+k>>4]|=1<<
(~(p+k)&15));else{p=0;for(E=k&15;p<e-16;)L=q[p>>4],m[p+k>>4]|=L>>E,m[(p+k>>4)+1]|=L<<16-E&65535,p+=16;for(;p<e;)0!==(q[p>>4]&1<<(~p&15))&&(m[p+k>>4]|=1<<(~(p+k)&15)),p+=1}}if(f)for(n=0;n<g;n+=1)if(n+l>=t&&n+l<=v)if(E=a.ca[n],b=f[n+l],z)for(p=0;p<e;p+=1)p+k>=r&&p+k<=u&&(L=E[p])&&(b[p+k]=F.sb[L]+128);else for(p=0;p<e;p+=1)(L=E[p])&&(b[p+k]=F.sb[L]+128);(this.g.s||this.g.D||this.g.v||this.g.G)&&d.o.set(c.o)};ha.prototype.so=function(){var a=!1;-1!==this.g.S&&0!==this.g.ca&&0!==this.g.$&&(a=!0);return a};
ha.prototype.GG=function(){var a=!1;-1===this.g.S||0!==this.g.ca&&0!==this.g.$||(a=!0);return a};ha.prototype.Uo=function(a,b,c){a=a[0];b&&(c.eb=a);return[a,100*a]};ha.prototype.Bx=function(a,b,c){b&&(c.rc=a[0]);return[c.rc,F.gJ[c.rc+.5|0]]};ha.prototype.vK=function(a){a.I||(a.rc=(a.rc+.5|0)+1,a.rc>=F.JC&&(a.rc=0),a.Mh.current=a.Bx([a.rc,a.rc],!0,a))};ha.prototype.HC=function(a,b,c){b&&(c.Hb=a[0],c.Hb<F.Dr&&(c.Hb=F.Dr),c.Hb>F.wr&&(c.Hb=F.wr));return[c.Hb,c.Hb]};ha.prototype.qy=function(a,b,c){b&&
(c.Ub=(c.g.i-c.$b)*a[0]|0);a[1]="";0<c.Ub&&(a[1]="<");a[1]+=c.Ub+"-"+(c.Ub+c.$b-1);c.Ub+c.$b<c.g.i&&(a[1]+=">");return a};ha.prototype.Qd=function(a,b,c){var d=a[0];b?(c.ic=!0,c.g.zoom=F.Bb*Math.pow(F.Pb/F.Bb,a[0])/c.g.eb):(d=Math.log(c.g.zoom*c.g.eb/F.Bb)/Math.log(F.Pb/F.Bb),0>d?d=0:1<d&&(d=1));a=this.mb&&!this.Lb?c.g.zoom*c.g.eb:c.g.zoom;a<F.Bb?a=F.Bb:a>F.Pb&&(a=F.Pb);1>a&&(a=-1/a);return[d,a]};ha.prototype.wE=function(a){var b=a/6E4|0;a=a%6E4/1E3;var c="";0<b&&(c=b+":",10>a&&(c+="0"));return c+=
a.toFixed(2)};ha.prototype.yb=function(a,b,c){var d=this.g.zoom,f=this.g.ma,e=this.g.ka,g=6,k=F.KH,l=this.Rb,p=this.fa;var n=(this.g.width>>1)-(this.S>>1)+(this.aa<<1);var q=(this.g.height>>1)-(this.V>>1)+(this.ba<<1);c===F.Rp&&(l.J=p.J+n,l.L=p.L+n,l.J>l.L&&(n=l.L,l.L=l.J,l.J=n),l.K=p.K+q,l.N=p.N+q,l.K>l.N&&(n=l.N,l.N=l.K,l.K=n));this.ka?(c=this.g.bk(c,l,this.displayWidth*this.Wb,this.displayHeight*this.Wb,F.Bb,F.Pb,F.Hs,this.S,this.V,this.I&&this.Na,this.qd,this.ud,this.ia),c[0]/=this.Wb):(this.Ia&&
(k=0),c=this.g.bk(c,l,this.displayWidth,this.displayHeight-k,F.Bb,F.Pb,F.Hs,this.S,this.V,this.I&&this.Na,this.qd,this.ud,this.ia));this.ia&&!a?(16<=this.g.zoom&&(g=2),1<this.O&&this.Ob&&(g=1),this.g.zoom=(this.g.zoom*(g-1)+c[0])/g,this.g.ma=(this.g.ma*(g-1)+c[1])/g,this.g.ka=(this.g.ka*(g-1)+c[2])/g,a=this.g.zoom>d?this.g.zoom/d-1:d/this.g.zoom-1,f=this.g.ma>f?this.g.ma-f:f-this.g.ma,e=this.g.ka>e?this.g.ka-e:e-this.g.ka,this.Ug=a,f>this.Ug&&(this.Ug=f),e>this.Ug&&(this.Ug=e),.001>=this.Ug&&(this.g.zoom=
c[0],this.g.ma=c[1],this.g.ka=c[2])):(this.Gg=this.g.width/2-this.g.ma,this.Hg=this.g.height/2-this.g.ka,this.ii=this.g.zoom,this.Eg=this.g.angle,this.Fg=this.g.Gb,this.Wf=this.g.width/2-c[1],this.Hi=this.g.height/2-c[2],this.Ii=c[0],this.Qk=this.Eg,this.Gi=this.Fg,this.Zm=Va.jq,b?this.Kc=0:(this.Kc=Va.jq,this.Mu()));this.kc&&(this.kc.current=this.Qd([this.g.zoom,this.g.zoom],!1,this));this.sa&&(this.sa.current=this.Rg([this.g.angle,this.g.angle],!1,this));this.fb&&(this.fb.current=this.Qj([this.Hk(this.g.Gb),
this.g.Gb],!1,this))};ha.prototype.kE=function(a,b,c,d){-1!==this.g.S?this.mc?(this.H=Math.round(this.g.width/2)+this.aa,this.F=Math.round(this.g.height/2)+this.ba):(0!==this.g.ca&&c>this.g.ca&&(c=this.g.ca),0!==this.g.$&&d>this.g.$&&(d=this.g.$),0===c&&(c=this.g.ca),0===d&&(d=this.g.$),this.H=Math.round((this.g.width-c)/2),this.F=Math.round((this.g.height-d)/2)):(this.H=Math.round((this.g.width-a)/2)+this.aa,this.F=Math.round((this.g.height-b)/2)+this.ba);!this.I&&this.g.O||!this.X.Uj||-1===this.g.i||
(this.I=this.Na=!0)};ha.prototype.Km=function(a){var b=a;0>a&&(a=-a);var c=a+String();1E9<=a?c="1B+":1E8<=a?c=(a/1E6|0)+"M":1E7<=a?c=(Math.floor(Number(a/1E5))/10).toFixed(1)+"M":1E6<=a?c=(Math.floor(Number(a/1E4))/100).toFixed(2)+"M":1E5<=a&&(c=(a/1E3|0)+"K");0>b&&(c="-"+c);return c};ha.prototype.xk=function(a,b){var c=this.C.V,d=this.C.Y;b=a+b;var f=-this.g.angle,e=Math.sin(f/180*Math.PI);f=Math.cos(f/180*Math.PI);0>b?b=0:1<b&&(b=1);a=F.Bb*Math.pow(F.Pb/F.Bb,a);b=F.Bb*Math.pow(F.Pb/F.Bb,b);b<F.Bb?
b=F.Bb:b>F.Pb&&(b=F.Pb);c-=this.displayWidth/2;d-=this.displayHeight/2;c=(c-b/a*c)/b;a=(d-b/a*d)/b;this.g.ma-=c*f+a*-e;this.g.ka-=c*e+a*f;b=Math.log(b/F.Bb)/Math.log(F.Pb/F.Bb);this.kc.current=this.Qd([b,b],!0,this)};ha.prototype.Ki=function(){var a=32;this.g.Da&&(a=4*this.g.aa.m+1,-1!==this.g.S&&(a+=2*this.g.aa.m),this.g.aa.type===this.X.j&&(a=-1!==this.g.S?a+this.g.$/2:a+this.g.aa.u/2));return a};ha.prototype.Dk=function(a,b){a.g.Ul(a,b,a.Ki())};ha.prototype.sz=function(a){var b=!1,c=a.fa;var d=
a.Rb;var f=(a.g.width>>1)-(a.S>>1)+(a.aa<<1);var e=(a.g.height>>1)-(a.V>>1)+(a.ba<<1);d.J=c.J+f;d.K=c.K+e;d.L=c.L+f;d.N=c.N+e;d.J>d.L&&(f=d.L,d.L=d.J,d.J=f);d.K>d.N&&(f=d.N,d.N=d.K,d.K=f);a.Dk(a,d);d=0;var g=a.g.width-1;var k=0;var l=a.g.height-1;a.g.Da&&(d+=2*a.g.aa.m+1,g-=2*a.g.aa.m+1,k+=2*a.g.aa.v+1,l-=2*a.g.aa.v+1);f=(a.g.width>>1)-(a.S>>1)+(a.aa<<1);e=(a.g.height>>1)-(a.V>>1)+(a.ba<<1);c.J+f<d&&(c.J=-f,b=!0);c.J+f>g&&(c.J=a.g.width-1-f,b=!0);c.L+f<d&&(c.L=-f,b=!0);c.L+f>g&&(c.L=a.g.width-1-f,
b=!0);c.K+e<k&&(c.K=-e,b=!0);c.K+e>l&&(c.K=a.g.height-1-e,b=!0);c.N+e<k&&(c.N=-e,b=!0);c.N+e>l&&(c.N=a.g.height-1-e,b=!0);return b};ha.prototype.HE=function(a){a.If.current=100*a.g.pc/a.g.mf;a.If.M=!1;a.jb.s=0};ha.prototype.LE=function(a){a.If.current=100*(1-(a.Ta-a.g.counter)/a.fi);a.If.M=!1;a.jb.s=0};ha.prototype.DE=function(a,b){a.If.current=a.g.counter/b*100;a.If.M=!1;a.jb.s=0};ha.prototype.zE=function(a){var b=!1,c=!1,d=0;a.wa||-1===a.Sb||(b=!0);!a.nb&&a.za&&(c=!0);if(b||c){var f=!1;if(c&&b)d=
a.elapsedTime/a.s.va(a.Sb);else if(c){if(b=a.s.Ea().zd)d=a.elapsedTime/b,1<d&&(f=!0)}else 0<a.Sb&&(d=a.g.counter/a.Sb);1<d&&(d=1);a.If.current=100*d}else f=!0;a.If.M=f;a.jb.s=f?a.h.Y:0};ha.prototype.Wz=function(){this.Ud.s(this.g.width/2-this.g.Hb,this.g.height/2-this.g.Ib,this.g.da,this.g.Ea,this.g.displayWidth,this.g.displayHeight,this.g.Oc,this.g.$a[0])};ha.prototype.ZC=function(){var a=this.h.A-this.displayWidth/2,b=this.h.F-this.displayHeight/2,c=this.F-this.g.ka,d=this.H-this.g.ma-(this.g.ha?
this.g.ka/2:0),f=this.g.Ma,e=this.g.za,g=this.g.zoom;var k=this.g.sc(this.g.zoom);var l=-1;-1!==this.h.A&&(0!==this.g.Ea&&(l=Math.sqrt(a*a+b*b),b=180/Math.PI*Math.atan2(b,a),b-=this.g.Ea,a=l*Math.cos(Math.PI/180*b),b=l*Math.sin(Math.PI/180*b)),e=b/k-c+e,k=e-Math.floor(e),e-=k,a=a/g+(this.g.ha?c/2+e/2:0)-d+f,this.g.Z&&(a-=.5),c=a-Math.floor(a),a-=c,this.g.Z&&(0===(a+this.H+e+this.F&1)?1<c+k&&(a+=1):1>1-c+k&&(a+=1)),l=this.g.nb(a+this.H,e+this.F,this.Na&&this.I));return l};ha.prototype.Pj=function(a,
b){var c=a-this.displayWidth/2,d=b-this.displayHeight/2;b=this.F-this.g.ka;var f=this.H-this.g.ma-(this.g.ha?this.g.ka/2:0),e=this.g.Ma,g=this.g.za,k=0,l=0,p=0,n=0,q=this.g.zoom,m=this.g.sc(this.g.zoom);-1!==a&&(0!==this.g.Ea&&(a=Math.sqrt(c*c+d*d),d=180/Math.PI*Math.atan2(d,c),d-=this.g.Ea,c=a*Math.cos(Math.PI/180*d),d=a*Math.sin(Math.PI/180*d)),k=d/m-b+g,p=k-Math.floor(k),k-=p,l=c/q+(this.g.ha?b/2+k/2:0)-f+e,this.g.Z&&!this.g.Fa&&(l-=.5),n=l-Math.floor(l),l-=n,this.g.ha&&(.25>n?.1>p?(--k,--l):.9<=
p&&(k+=1):.75<=n&&(.1>p?--k:.9<=p&&(k+=1,l+=1))));this.g.Z&&!this.g.Fa&&(0===(l+this.H+k+this.F&1)?1<n+p&&(l+=1):1>1-n+p&&(l+=1));this.Fc=l+this.H;this.Gc=k+this.F};ha.prototype.ZE=function(a,b,c,d,f){var e=Math.abs(c-a),g=Math.abs(d-b),k=a<c?1:-1,l=b<d?1:-1,p=e-g,n=this.g.width,q=this.g.height,m;for(m=this.oa(a,b,f,!0);n!==this.g.width||q!==this.g.height;)n!==this.g.width&&(n<<=1,a+=n>>2,c+=n>>2,this.va+=n>>2,this.ya+=n>>2,this.g.ha&&(this.va-=q>>3,this.ya-=q>>3),this.H+=n>>2),q!==this.g.height&&
(q<<=1,b+=q>>2,d+=q>>2,this.Cb+=q>>2,this.Ib+=q>>2,this.F+=q>>2);for(;a!==c||b!==d;){var r=p+p;r>-g&&(p-=g,a+=k);r<e&&(p+=e,b+=l);for(m|=this.oa(a,b,f,!0);n!==this.g.width||q!==this.g.height;)n!==this.g.width&&(n<<=1,a+=n>>2,c+=n>>2,this.va+=n>>2,this.ya+=n>>2,this.g.ha&&(this.va-=q>>3,this.ya-=q>>3),this.H+=n>>2),q!==this.g.height&&(q<<=1,b+=q>>2,d+=q>>2,this.Cb+=q>>2,this.Ib+=q>>2,this.F+=q>>2)}return m};ha.prototype.Lz=function(){var a=170,b=this.cl.ga,c=this.cl.Y,d=this.Qi.Y;this.Jd.setPosition(da.ib,
0,a-48);this.To.ef(a-48);this.Kd.ef(a-48+45);this.Pe.ef(a-48+170);this.uh.ef(a-48+255);this.Ui.ef(a-48+300);this.Ti.ef(a-48+345);this.cl.setPosition(da.ib,c,a);this.Qi.setPosition(da.ib,d,a);a+=b;"Oscillator"===this.Ab&&(this.At.setPosition(da.ib,c,a),this.bl.setPosition(da.ib,d,a),a+=b);this.g.ha||this.g.Z||(this.Ct.setPosition(da.ib,c,a),this.Qo.setPosition(da.ib,d,a),a+=b);"Spaceship"!==this.Ab||this.g.ha||this.g.Z||(this.Gt.setPosition(da.ib,c,a),this.Xo.setPosition(da.ib,d,a),a+=b);"Still Life"!==
this.Ab&&(this.bu.setPosition(da.ib,c,a),this.$o.setPosition(da.ib,d,a),a+=b,this.g.ha||this.g.Z||(this.Ri.setPosition(da.ib,c,a),this.Si.setPosition(da.ib,d,a),a+=b));"Spaceship"===this.Ab&&(this.g.ha||this.g.Z||(this.vu.setPosition(da.ib,c,a),this.bp.setPosition(da.ib,d,a),a+=b),this.yu.setPosition(da.ib,c,a),this.jl.setPosition(da.ib,d,a),a+=b);"Still Life"===this.Ab||this.g.D&&2<this.g.i&&!this.g.O||this.g.fb||-1!==this.g.S||(this.Xt.setPosition(da.ib,c,a),this.hl.setPosition(da.ib,d,a),a+=b);
"Oscillator"===this.Ab&&(-1!==this.g.S||this.g.D&&2<this.g.i||(this.Gu.setPosition(da.ib,c,a),this.kl.setPosition(da.ib,d,a),a+=b),this.Ku.setPosition(da.ib,c,a),this.qp.setPosition(da.ib,d,a),a+=b);"Still Life"===this.Ab&&(this.Ri.setPosition(da.ib,c,a),this.Si.setPosition(da.ib,d,a))};ha.prototype.TE=function(a){var b=0;this.Jj[this.Hj]=a;this.Hj+=1;this.Hj>=F.$I&&(this.Hj=0);for(a=0;a<this.Jj.length;a+=1)b+=this.Jj[a];b/=this.Jj.length;this.Ij.Jb=String(Math.round(b));this.Ij.M=!1};ha.prototype.xz=
function(){var a;for(a=0;a<this.Jj.length;a+=1)this.Jj[a]=0;this.Hj=0;this.Ij.M=!0};ha.prototype.st=function(a,b){var c=0,d=0,f=this.F-this.g.ka,e=this.H-this.g.ma-(this.g.ha?this.g.ka/2:0),g=this.g.Ma,k=this.g.za,l=this.g.zoom,p=this.g.sc(this.g.zoom),n=0,q=0;if(0!==this.g.Ea){var m=Math.sqrt(c*c+d*d);d=180/Math.PI*Math.atan2(d,c);d-=this.g.Ea;c=m*Math.cos(Math.PI/180*d);d=m*Math.sin(Math.PI/180*d)}k=d/p-f+k;if(this.g.Z&&!this.g.Fa||this.g.ha)n=k-Math.floor(k),k-=n;c=c/l+(this.g.ha?f/2+k/2:0)-e+
g;this.g.Z&&!this.g.Fa&&(c-=this.g.zoom/32*.2);if(this.g.Z&&!this.g.Fa||this.g.ha)q=c-Math.floor(c),c-=q;this.g.ha&&(.25>q?.1>n?(--k,--c):.9<=n&&(k+=1):.75<=q&&(.1>n?--k:.9<=n&&(k+=1,c+=1)));this.g.Z&&!this.g.Fa&&(0===(c+this.H+k+this.F&1)?1<q+n&&(c+=1):1>1-q+n&&(c+=1));return Math.sqrt((c-a)*(c-a)+(k-b)*(k-b))};ha.prototype.$H=function(){var a=9999<this.g.ea?99999:9999;var b=this.g.ja?-1:0;var c=Math.round(-this.g.ca/2)+b,d=Math.round(-this.g.$/2)+b,f=c+this.g.ca-1,e=d+this.g.$-1;if(-1===this.h.A)this.vb.Jb=
"",this.vb.M=!this.Lg;else{this.Pj(this.h.A,this.h.F);var g=this.g.nb(this.Fc,this.Gc,this.Na&&this.I);var k=this.g.nb(this.Fc,this.Gc,!0);var l=this.Fc-this.H+this.aa;b=this.Gc-this.F+this.ba;-1===this.g.S||this.mc||(l-=Math.floor(this.S/2+(this.Bd-this.S)/2),b-=Math.floor(this.V/2+(this.Ad-this.V)/2));var p=l<-a||l>a?Number(l/1E3).toFixed(1)+"K":String(l);a=b<-a||b>a?this.Ae?Number(-b/1E3).toFixed(1)+"K":Number(b/1E3).toFixed(1)+"K":this.Ae?String(-b):String(b);-1!==this.g.S?(0===this.g.ca&&(c=
-this.g.ea,f=this.g.ea),0===this.g.$&&(d=-this.g.ea,e=this.g.ea),l<c||l>f||b<d||b>e?(l===c-1||l===f+1)&&b>=d-1&&b<=e+1||(b===d-1||b===e+1)&&l>=c-1&&l<=f+1||this.g.Z&&(l===c-2||l===f+2)&&b>d-1&&b<e+1||this.g.Z&&(b===d-1||b===e+1)&&l===c-2?(this.vb.Jb=p+","+a+"=[bounded]",this.Ig&&(this.vb.Jb+=" "+String(k))):this.vb.Jb=p+","+a+"=[boundary]":(this.vb.Jb=p+","+a+"="+g+" ("+this.oh(g)+")",this.Ig&&(this.vb.Jb+=" "+String(k)))):(c=-(this.g.ea-this.S)>>1,f=c+this.g.ea-1,d=-(this.g.ea-this.V)>>1,e=d+this.g.ea-
1,this.vb.Jb=l<c||l>f||b<d||b>e?p+","+a+"=[boundary]":p+","+a+"="+g+" ("+this.oh(g)+")",this.Ig&&(this.vb.Jb+=" "+String(k)));this.vb.M=!1}this.vb.A=this.Lg||!this.Ob&&-1!==this.h.A?this.v||this.da||0===this.S?!1:!0:!1;!this.P&&!this.pc||this.v&&!this.da?this.df.A=!1:(this.df.A=!0,this.df.M=!1,l=this.fa.L>this.fa.J?this.fa.L-this.fa.J+1:this.fa.J-this.fa.L+1,b=this.fa.N>this.fa.K?this.fa.N-this.fa.K+1:this.fa.K-this.fa.N+1,this.df.Jb=l+" x "+b)};ha.prototype.KE=function(a){if(!this.Ia&&!this.ka)if(0<
this.v)0<a?this.Wn(this,a/125*3):this.an(this,-a/125*3);else if(0<this.da)0<a?this.Un(this,a/125*3):this.Sn(this,-a/125*3);else if(this.rb&&this.Nb!==F.Uh&&0!==this.g.Bc)this.nE(a);else if(!this.ab&&!this.kc.locked){var b=this.kc.current[0];this.xk(b,a/125*.05)}};ha.prototype.yF=function(a){var b=a.la,c=a.h.s,d=a.h.B;var f=a.pa;var e=f.x,g=f.y,k=f.ga,l=f.H,p=a.g.Vd;if(null!==p&&a.wd){b.imageSmoothingEnabled=!0;var n=p.width;for(f=0;f<a.$b;f+=1){var q=(f+a.Ub-1)*n;0<=q&&q<p.height&&b.drawImage(p,0,
q,n,n,l/a.$b*f*c+e,g,k*c,k*d)}b.imageSmoothingEnabled=!1}};ha.prototype.eL=function(a){var b=a.g.counter,c=" ";if(a.g.ja||a.g.s)b=a.g.Xb;a.Le?(0>b&&(c=""),a.jb.lower[0]="+"+c+a.Km(b),a.jb.W=["toggle generation statistics [G]\ngeneration +"+b]):(0>b+a.Fa&&(c=""),a.jb.lower[0]="T"+c+a.Km(b+a.Fa),a.jb.W=["toggle generation statistics [G]\ngeneration "+(b+a.Fa)]);if(a.Le){if(a.g.ja||a.g.s)b=a.g.counter;a.gd.Jb=1E9<=b?"1B+":String(b);a.gd.Jb=String(b);a.gd.W="generation "+b}else b+=a.Fa,a.gd.Jb=1E9<=b?
"1B+":String(b),a.gd.W="absolute generation "+b;a.Yf.W=a.gd.W};ha.prototype.eg=function(){return this.Gl&&!(this.$d||this.g.counter<this.Zd)};ha.prototype.zF=function(a,b){var c=b.s.current;var d=!1,f=!1,e=!1,g=!1,k=!1,l=b.g.counter;var p=0;var n=1E3/b.ec,q;b.ab=!1;b.fv&&(b.fv=!1,a=0);b.I||b.zE(b);b.kz&&(b.jb.current=b.Yo([!0],!0,b),b.kz=!1,b.C.m=!0);b.Jz(b.dc.current[0]);b.Ob?(a>n&&(.8*a>n&&(f=!0),a=n),!b.Ob||b.za&&!b.nb||(b.ja+=b.ca*b.O,p=b.ja/b.ec|0,p>l?b.sd=!0:b.elapsedTime+=a)):b.sd&&(k=!0,b.ja=
b.ot?b.ja+b.ec:b.ja+b.O*b.ec,p=b.ja/b.ec|0);b.Dl();b.za&&!b.nb&&b.Ob?(b.s.H&&(b.ic&&!b.s.V(b.elapsedTime+a)&&(b.ic=!1,b.elapsedTime=b.s.qa(b.g.width/2-b.g.ma,b.g.height/2-b.g.ka,b.g.zoom,b.g.angle,b.g.Gb,b.g.Aa,b.g.nc*F.jm,b.g.qb,b.ca,b.O,b.g.counter,b.elapsedTime)),c.Se&&(b.yb(!0,!1,F.ig),b.ic=!1,c.x=b.g.width/2-b.g.ma,c.y=b.g.height/2-b.g.ka,b.ka&&(b.g.zoom*=b.Wb),c.zoom=b.g.zoom)),(e=b.s.O(b,b.elapsedTime+a,b.g.counter,!0))?(c.Se&&(c.Se=!1,b.ka&&(b.g.zoom=c.zoom/b.Wb),b.kc&&(b.kc.current=b.Qd([b.g.zoom,
b.g.zoom],!1,b))),b.ja+=b.ca*b.O,p=b.ja/b.ec|0,p>l&&(b.sd=!0)):(b.s.H&&(b.Ob&&(b.ab=!0),b.g.ka=b.g.height/2-c.y,b.g.ma=b.g.width/2-c.x,b.g.zoom=c.zoom,b.ka&&(b.g.zoom/=b.Wb),b.kc&&(b.kc.current=b.Qd([b.g.zoom,b.g.zoom],!1,b)),b.g.ha||b.g.Z||b.g.la||(b.g.angle=c.angle,b.sa&&(b.sa.current=[b.g.angle,b.g.angle]),b.g.Gb=c.Gb,b.fb&&(b.fb.current=[b.Hk(b.g.Gb),b.g.Gb]),b.g.Aa=c.Aa,b.kb&&(b.kb.current=[b.g.Aa,b.g.Aa]),b.g.nc=c.depth/F.jm+F.Ar,b.Ea&&(b.Ea.current=[Math.sqrt(b.g.nc),b.g.nc*F.jm]))),b.ca=c.dd,
b.O=c.step,b.dc.current=b.yc([b.kf(),1],!0,b),c.Ac>b.g.counter?(b.sd=!0,b.ja=c.Ac*b.ec,p=b.ja/b.ec|0):b.sd=!1,c.we!==b.Te&&(""===c.we?b.C.notification.clear(!1,!1):b.C.notification.notify(Pb.Pm(b,c.we),15,21600,15,!1),b.Te=c.we),c.Mc!==b.Lw&&(b.yg(c.Mc,b.g.Re,b),b.Lw=c.Mc)),b.sd||(b.elapsedTime+=a)):b.ia&&b.Ob&&(b.ab=!0);b.ab&&(b.Kc=-1);c=0;if(b.sd){var m=performance.now();var r=p-l;var u=0;for(q=b.eg();!g&&b.g.counter<p;){c=performance.now()-m;if(b.g.counter===b.uc-1&&!b.Kb||c>.8*n&&!k)g=b.g.counter!==
b.uc-1||b.Kb?b.Ff:!0;b.g.Ub&&b.$("reverse playback");b.zi();u+=1;if(-1!==b.Sb&&b.g.counter>=b.Sb&&!b.wa){for(p=1;p<=u;p+=1)b.On(l+p,a,u);b.elapsedTime=0;b.reset(b);p=l=0;b.$a&&b.nc&&(b.hc.current=b.Od(F.ue,!0,b),b.C.notification.notify("LOOP reached - Play to continue ",15,180,15,!0));e&&(b.ab=!0)}b.eg()&&!q&&(g=!0)}for(p=1;p<=u;p+=1)b.On(l+p,a,r);b.eg()&&-1===b.Db&&(b.Db=b.g.counter,b.Vc&&(-1===b.Sb||b.wa)&&(b.g.s||b.g.ja?b.C.notification.notify("Life ended at generation "+(b.g.Xb+b.Fa),15,600,15,
!1):b.C.notification.notify("Life ended at generation "+(b.g.counter+b.Fa),15,600,15,!1)),q||-1!==b.Sb&&!b.wa||(b.hc.current=b.Od(F.ue,!0,b)));b.ja-=(r-u)*b.ec;0>b.ja&&(b.ja=0);u<r&&(b.g.counter!==b.uc||b.Kb)&&b.Md?b.TE(u):b.xz();b.g.counter!==b.uc||b.Kb||(b.hc.current=b.Od(F.ue,!0,b),this.ia&&b.yb(!0,!1,F.ig),b.Vc&&b.C.notification.notify("STOP reached - Play to continue ",15,180,15,!0))}else b.xz();b.sd&&!b.Ob&&b.$("");b.sa.locked=b.ab&&b.za||b.g.ha||b.g.Z||b.g.la;b.fb.locked=b.ab&&b.za||b.g.ha||
b.g.Z||b.g.la;b.Xd.locked=b.ab&&b.za;b.Xf.locked=b.ab||b.ia&&b.Ob;b.dc.locked=b.ab&&b.za;b.Tm.locked=b.ab&&b.za;b.vd.locked=b.ab&&b.za;b.kc.locked=b.ab||b.ia;b.kb.locked=b.ab&&b.za||b.g.ha||b.g.Z||b.g.la;b.Ea.locked=b.ab&&b.za||b.g.ha||b.g.Z||b.g.la;b.Nm.locked=b.g.ha||b.g.Z||b.g.la;b.yj&&(b.KE(b.yj),b.yj=0);b.Gn(b,f,c,k);b.sd=!1;b.ot=!1;if(b.Ob||b.ia&&.001<b.Ug||-1!==b.Kc)d=!0;b.C.ve(d)};ha.prototype.Gn=function(a,b,c,d){var f=a.g.qb,e=a.g.yc,g=a.g.Ya,k=a.g.zoom,l=a.g.Aa;a.ia&&a.Ob&&a.yb(!1,!1,F.ig);
a.g.Aa=a.P||a.pc||a.na||a.ra.current!==F.Yh?1:l;a.g.aj(a.mh,a.Jc);a.g.Aa=l;a.Jc&&a.Wz();a.mh&&a.C.ve(!0);a.g.Dj(!(a.P||a.pc||a.na||a.ra.current!==F.Yh));!a.g.Fa&&a.g.ha&&4<=a.g.zoom?a.g.Fj():!a.g.Fa&&a.g.Z&&4<=a.g.zoom&&a.g.Gj();a.je&&(2===a.je&&a.g.zk(a.md,1,!0,a.ka,a),3===a.je&&(a.g.jj(6,0,a),a.g.Qd=1,a.g.Ya=!0,a.g.yc=!1,a.g.kb(1),a.g.zoom|=0,a.g.aj(!1,!1),a.g.Dj(!(a.P||a.pc||a.na||a.ra.current!==F.Yh)),!a.g.Fa&&a.g.ha&&4<=a.g.zoom?a.g.Fj():!a.g.Fa&&a.g.Z&&4<=a.g.zoom&&a.g.Gj()),a.QE(a),3===a.je&&
(a.g.jj(f,0,a),a.g.Qd=1,a.g.Ya=g,a.g.yc=e,a.g.kb(1),a.g.zoom=k,a.g.aj(a.mh,a.Jc),a.Jc&&a.Wz()),2<=a.je&&(a.g.Dj(!(a.P||a.pc||a.na||a.ra.current!==F.Yh)),!a.g.Fa&&a.g.ha&&4<=a.g.zoom?a.g.Fj():!a.g.Fa&&a.g.Z&&4<=a.g.zoom&&a.g.Gj()),a.je=0);a.g.vn(a);a.g.counter&&0<a.g.B&&(a.Rb.J=a.g.A.J,a.Rb.K=a.g.A.K,a.Rb.L=a.g.A.L,a.Rb.N=a.g.A.N,a.Dk(a,a.Rb));a.ke&&a.s.ra(a);!a.Ca||a.hb||a.wc||a.g.zk(a.md,a.eb,!1,a.ka,a);if(a.rb&&a.Nb!==F.Uh&&null!==a.g.Pd&&0===a.v&&0===a.da&&!1===a.ga.current[0])switch(a.Nb){case F.TH:a.Wc===
F.Wj?a.g.nn(a.Jd):a.g.jn(a.Jd);break;case F.Wp:a.Wc===F.Wj?a.g.ln(a.Jd):a.g.Ll(a.Jd)}a.v?$a.qB(a):a.da&&$a.WG(a);a.eL(a);a.Vf.Jb=a.wE(a.elapsedTime);a.Rd.Jb=a.Km(a.g.B);a.so()?a.fd.Jb=a.g.s?(25*a.g.B/(a.g.$*a.g.ca)|0)+"%":(100*a.g.B/(a.g.$*a.g.ca)|0)+"%":(a.fd.Jb=a.Km(a.g.na),a.Ke.Jb=a.Km(a.g.ga));a.Rd.W="alive "+a.g.B;a.so()?a.fd.W=a.g.s?"density "+(25*a.g.B/(a.g.$*a.g.ca)|0)+"%":"density "+(100*a.g.B/(a.g.$*a.g.ca)|0)+"%":(a.fd.W="births "+a.g.na,a.Ke.W="deaths "+a.g.ga);a.Md?a.aL(c,b,d,a):a.dc.cc=
a.Xf.cc;a.$H();-1!==a.Kc&&a.Mu();a.rE();a.XE();a.vE();a.aF(0!==a.v||0!==a.da);!a.ga.current[0]||a.pd&&a.Ob||(a.la.globalAlpha=.7,a.la.fillStyle=a.C.cc,a.la.fillRect(0,0,a.ta.width,a.ta.height),a.la.globalAlpha=1)};ha.prototype.aL=function(a,b,c,d){var f=255,e=48,g=48;var k=1E3/d.ec;(b||a>.8*k)&&!c?d.sj<F.XC&&(d.sj+=1):d.sj>F.YC&&--d.sj;k=d.sj/(F.XC-F.YC);a=d.Co>>16;b=d.Co>>8&255;c=d.Co&255;d.Tc&&(f=d.Tc[0],e=d.Tc[1],g=d.Tc[2]);d.dc.cc="rgb("+(f*k+a*(1-k)|0)+","+(e*k+b*(1-k)|0)+","+(g*k+c*(1-k)|0)+
")"};ha.prototype.SH=function(){var a=this.Yf.B,b=this.Vf.B,c=this.vb.B;this.Qc.M&&this.Ie.M?(this.$e.ef(c),this.Rd.ef(c)):this.Ie.M?(this.$e.ef(b),this.Rd.ef(b),this.Qc.ef(c),this.fd.ef(c)):(this.$e.ef(a),this.Rd.ef(a),this.Qc.ef(b),this.fd.ef(b),this.Ie.ef(c),this.Ke.ef(c))};ha.prototype.Dl=function(){var a=this.ja/this.ec;if(this.mb&&!this.Lb){this.g.Ma=a*(this.Og+this.oi)/2;this.g.za=a*(this.ni+this.Qg)/2;var b=this.g.uk(0,this.ni,this.Og,this.Qg,this.oi,this.displayWidth,this.displayHeight-80,
F.Bb,F.Pb,F.Hs);a=this.g.uk(a,this.ni,this.Og,this.Qg,this.oi,this.displayWidth,this.displayHeight-80,F.Bb,F.Pb,F.Hs);this.g.eb=a/b}else this.g.Ma=0,this.g.za=0,this.g.eb=1;this.kc.current=this.Qd([this.g.zoom,this.g.zoom],!1,this)};ha.prototype.aF=function(a){var b=!(this.v&&this.Hd===F.Pg),c,d=[],f=[],e=this.ga.current[0];this.hc.m[1]=this.qb||0===this.g.counter&&(!this.g.ja&&!this.g.s||null===this.g.Cb)?!0:!1;var g=a||!this.me;for(c=0;c<=this.g.Mb;c+=1)this.li[c].M=g;this.Xz.M=g;this.Tz.M=g;this.Zz.M=
g;this.Vz.M=g;for(c=0;c<F.zq.length;c+=1)F.zq[c]===this.g.Mb&&(this.li[c].locked=!(this.ua||this.Qf||-1!==this.Vn||-1!==this.Xn));g=a||!this.rb||"Empty"===this.Ab||"none"===this.Ab||e;this.To.M=a||!this.rb||e;this.Kd.M=a||!this.rb||null===this.g.Pd||e;this.Pe.M=a||!this.rb||null===this.g.Pd||e;this.uh.M=a||!this.rb||null===this.g.Pd||e;this.uh.locked=this.Nb!==F.Wp;g=g||this.Nb===F.Wp;g=(this.Jd.M=g)||"Oscillator"===this.Ab&&this.Nb!==F.Uh;this.cl.M=g;this.Ct.M=g||this.g.ha||this.g.Z;this.Gt.M=g||
"Spaceship"!==this.Ab||this.g.ha||this.g.Z;this.bu.M=g||"Still Life"===this.Ab;this.Ri.M=g||this.g.ha||this.g.Z;this.At.M=g||"Oscillator"!==this.Ab;this.vu.M=g||"Spaceship"!==this.Ab||this.g.ha||this.g.Z;this.yu.M=g||"Spaceship"!==this.Ab;this.Xt.M=g||"Still Life"===this.Ab||this.g.fb||this.g.D&&2<this.g.i||-1!==this.g.S;this.Gu.M=g||"Oscillator"!==this.Ab||-1!==this.g.S||this.g.D&&2<this.g.i;this.Ku.M=g||"Oscillator"!==this.Ab;this.Qi.M=g;this.Qo.M=g||this.g.ha||this.g.Z;this.Xo.M=g||"Spaceship"!==
this.Ab||this.g.ha||this.g.Z;this.$o.M=g||"Still Life"===this.Ab;this.Si.M=g||this.g.ha||this.g.Z;this.bl.M=g||"Oscillator"!==this.Ab;this.bp.M=g||"Spaceship"!==this.Ab||this.g.ha||this.g.Z;this.jl.M=g||"Spaceship"!==this.Ab;this.hl.M=g||"Still Life"===this.Ab||this.g.fb||-1!==this.g.S||this.g.D&&2<this.g.i;this.kl.M=g||"Oscillator"!==this.Ab||-1!==this.g.S||this.g.D&&2<this.g.i;this.qp.M=g||"Oscillator"!==this.Ab;g=a||!this.rb||this.Nb===F.Uh||(0===this.g.Bc?!0:this.g.Bc<=this.g.Ec)||e;this.Ui.M=
g;this.Ti.M=g;this.Ui.locked=0===this.g.Na;this.Ti.locked=this.g.Na>=this.g.Bc-this.g.Ec;this.Th.locked=this.ma===this.Hh;this.Pd.locked=1>=this.ma||this.Pd.W==="undo ["+this.A+" Z]";this.Xd.M=a;this.kc.M=a;this.Xf.M=a;this.hd.M=a;this.ih.M=a;this.Mg.M=a;this.Nc.M=a;this.Mf.M=a;this.ra.M=a;g=(this.ag.M=a)||!this.Ca||this.hb||this.wc||e;this.ij.M=g;this.yt.M=g;this.bj.M=g;this.Yb.M=g||-1!==this.g.S;this.xi.M=!(this.pb&&-1===this.g.Xe||-1!==this.Ta);this.xi.locked=!1;this.Yf.M=a;this.gd.M=a;this.Lj.M=
a;this.Vf.M=a;this.$e.M=a;g=(this.Rd.M=a)||this.GG();this.Qc.M=g;g=(this.fd.M=g)||this.so();this.Ie.M=g;this.Ke.M=g;this.ie.M=a;this.SH();this.Xf.M=a;this.Cf.M=a||!this.ne;this.cj.M=!this.yd;this.yf||this.xf||this.zf||this.le||this.Bf||this.me||this.wf?(this.Ed.Jb="Back",this.Ed.W="back to previous menu [Backspace]"):(this.Ed.Jb="Close",this.Ed.W="close menu [Backspace]");this.Wd.locked=!(this.g.ja&&2===this.g.lb);this.Wd.current=this.Wd.locked?[!1]:[this.g.Ad];g=(this.Ed.M=a)||this.me;this.Ea.M=
g;this.sa.M=g;this.fb.M=g;this.kb.M=g;g=a||this.me||this.xf||this.le||this.yf||this.zf||this.Bf||this.le||this.wf;this.Xl.M=g;this.zn.M=g;this.vd.M=g;this.tl.M=g;this.Pk.M=g;this.Eq.M=g;this.un.M=g;this.Ne.M=g;g=a||!this.xf;this.Fy.M=g;this.Ap.M=g;this.Jn.M=g;this.Ik.M=g;this.Fn.M=g;this.qn.M=g;this.rk.M=g;this.Ln.M=g;this.Bp.M=g;this.Cp.M=g;g=a||!this.le;this.Ws.M=g;this.Em.M=g;this.Ox.M=g;this.zx.M=g;this.tm.M=g;this.wm.M=g;this.Pi.M=g;this.Ml.M=g;this.et.M=g;this.ct.M=g;g=a||!this.zf;this.Ji.M=
g;this.Mj.M=g;this.ck.M=g;this.ck.locked=!this.vk;this.Vi.M=g;this.nh.M=g;this.nh.locked=!this.g.D||this.g.D&&!this.g.dg();this.Um.M=g;this.gk.M=g;this.Us.M=g;U.R&&(this.Ll.M=g);this.Rj.M=g;g=a||!this.yf;this.Id.M=g;this.wi.M=g;this.rd.M=g;this.nk.M=g;this.dg.M=g;this.Fj.M=g;this.Wd.M=g;this.xg.M=g;this.hm.M=g;this.xp.M=g;g=a||!this.wf;this.pn.M=g;this.vn.M=g;this.Nm.M=g;this.Qn.M=g;this.Kn.M=g;this.uo.M=g;this.ko.M=g;this.no.M=g;this.In.M=g;g=a||!this.Bf;this.zo.M=g;this.Oi.M=g;this.Ng.M=g;this.Ag.M=
g;this.Re.M=g;this.Gj.M=g;this.Di.M=g;this.$s.M=g;g=this.g.la||!this.ob;this.tm.locked=g||this.g.D;this.wm.locked=g;this.Pi.locked=g||this.I||this.g.aa.ea||-1!==this.g.S&&(0===this.g.ca||0===this.g.$)||this.g.fb;this.Ml.locked=g||this.I||"Empty"===this.Ab||"none"===this.Ab||""===this.Ab;this.Jn.locked=g;this.Ik.locked=g||!(this.g.D&&2===this.g.i&&!this.g.yf&&(!this.g.yb||this.g.od!==Da.ak));this.Fn.locked=g;this.Ln.locked=g;this.qn.locked=g||null===this.bb[this.zb];this.zo.locked=!this.ob||this.I;
this.xg.locked=2<this.g.i||this.g.Da||this.g.s||this.g.O||this.g.v||this.g.G||this.g.D;this.Em.locked=g;this.uo.locked=g;this.vo.M=a||!(this.yf||this.xf||this.zf||this.Bf||this.le||this.wf)||this.displayHeight<F.Mx;this.vo.Jb=this.yf?"Display":this.zf?"Advanced":this.Bf?"Playback":this.le?"Pattern":this.xf?"Clipboard":this.wf?"General":"";this.Re.locked=-1!==this.g.Td||this.g.Eh||this.g.Da&&1<this.g.aa.m||this.g.Z||this.g.wd||this.g.ha||-1!==this.g.S||this.g.ja||2<this.g.i||this.g.D;this.Re.locked&&
(this.Re.current=[!1]);this.vd.locked=this.Na||this.g.la||this.g.D||this.g.v||this.g.G;this.rd.locked=this.g.ha||this.g.Z||0===this.g.lb;this.Id.locked=!(this.g.ha||this.g.Z);g=a||0===this.s.i.length||e;this.Ol.M=g;this.em.M=g;g=a||!this.Ha||this.hb||this.wc||this.Ca;this.nl.M=g;this.Ah.M=g;this.rl.M=g;this.Bh.M=g;this.ll.M=g;this.vh.M=g;this.Zu.M=g;this.rp.M=g;this.vp.M=g;this.wp.M=g;this.sp.M=g;this.wh.M=g;this.yh.M=g;this.zh.M=g;this.xh.M=g;this.Hq.M=0===this.da||0!==this.v;this.ft.M=!(this.rn&&
this.v&&this.Hd===F.Pg);this.Ao.M=!(this.v&&this.Hd!==F.Pg);this.jd.M=!(this.v&&this.Hd!==F.Pg)||!this.jk;this.Zk.M=b;this.$k.M=b;this.Yk.M=b;this.al.M=b||this.g.la||this.g.v||this.g.G||this.g.D;this.Ni.M=b;this.Li.M=b;this.th.M=b;this.sh.M=b;this.Mi.M=b||0===this.s.B();this.Yn.M=!(this.v&&this.Hd!==F.Pg)||this.jk;if(this.$u){this.$u=!1;b=this.jd.y;for(c=0;c<this.B.length&&b<this.displayHeight-66*this.h.B;)d[c]=this.B[c][1],f[c]="Top"===d[c]?"go to top of topic [Home]":"",b+=26*this.h.B,c+=1;this.jd.lower=
d;this.jd.W=f;this.jd.wa(26*d.length);this.jd.current=0}g=a||!this.wc||e;this.Hm.M=g;this.Vg.M=g;this.yk.M=g;this.Ue.M=g;this.Gk.M=g;this.Mh.M=g;this.Ld.M=g;this.Jk.M=g;this.Mk.M=g;this.jj.M=g;g=a||!this.wc||e;this.Bk.M=g;this.Rl.M=g;this.Sl.M=g;this.Tl.M=g;this.Ql.M=g;this.Rk.M=g;this.Tk.M=g;this.Cm.M=g;this.Am.M=g;this.cg.M=g;this.Fk.M=g;this.Ek.M=g;this.Of.M=g||!(this.g.O||this.g.v);this.Nf.M=g;this.tc.M=g;this.ge.M=g;this.Aj.M=g;this.Bj.M=g;g=a||!this.wc||e||2>=this.g.i||this.g.la;this.Oh.M=g||
this.g.s;g=this.I;this.Mh.locked=g;this.Ld.locked=g;g=!this.P;this.Jk.locked=g;this.yk.locked=g;g=!(this.P||this.na)||this.I;this.Bk.j(g);this.tc.j(g);this.Oh.j(g);this.ge.j(g);this.Rl.j(g);this.Sl.j(g);this.Tl.j(g);this.Ql.j(g);this.Rk.j(g);this.Tk.j(g);this.Cm.j(g);this.Am.j(g);this.cg.j(g);this.Fk.j(g);this.Ek.j(g);this.Of.j(g);this.Nf.j(g);this.Aj.j(g);this.Bj.j(g);g=!this.P||this.I;this.Mk.locked=g;g=(!this.ln||null===this.bb[this.zb])&&!this.Xb||this.na||this.I;this.jj.locked=g;g=a||!this.hb||
!this.Dg||e;this.Ya.M=g;this.pa.M=g;if(2>=this.g.i&&!this.g.D)for(c=0;c<this.pa.lower.length;c+=1)b=2>=c?0===c?c:1===c?y.xa:y.Jh:128+F.sb[c],this.pa.I[c]="rgb("+this.g.sa[b]+","+this.g.ra[b]+","+this.g.qa[b]+")";else for(c=0;c<this.pa.lower.length;c+=1)b=0===c+this.Ub?0:this.g.la||this.g.s||this.g.D||this.g.v||this.g.G?c+this.Ub+this.qa:this.qa+this.g.i-(c+this.Ub),this.pa.I[c]="rgb("+this.g.sa[b]+","+this.g.ra[b]+","+this.g.qa[b]+")";g=a||!this.hb||e;this.Yc.M=g;this.Zl.M=g;this.lk.M=g;this.qk.M=
g;this.Wm.M=a||!this.hb||!this.Dg||this.g.i<=this.$b||e;this.Xm.M=a||!this.hb||!this.Dg||this.g.i<=this.$b||e;this.g.i>this.$b&&this.bz();if(0<this.v){c=0;for(b=-1;c<this.B.length&&-1===b;)this.B[c][0]>this.v?b=this.B[c][0]:c+=1;c===this.B.length&&(b=c);-1!==b&&(this.jd.current=c-1)}this.pd&&(this.h.M=this.Ob?!0:!1);this.ag.locked=!this.g.Xd;g=this.displayHeight<F.dl;(this.ga.locked=g)&&this.ne?(this.ga.M=!0,this.Cf.setPosition(this.ga.position,this.ga.Y,this.ga.B),this.Cf.A=!0):(this.ga.M=!1,this.Cf.setPosition(da.Fb,
-40,-90),this.Cf.A=this.ga.current[0])};ha.prototype.vE=function(){var a=-(this.g.width/2-this.g.ma-this.g.Ma|0),b=-(this.g.height/2-this.g.ka-this.g.za|0),c=String(a),d=String(b);this.g.ha&&(a+=63,c=String(a));this.nl.M=!this.Ha;this.Ah.M=!this.Ha;this.rl.M=!this.Ha;this.Bh.M=!this.Ha;this.ll.M=!this.Ha;this.vh.M=!this.Ha;this.Zu.M=!this.Ha;this.rp.M=!this.Ha;this.vp.M=!this.Ha;this.wp.M=!this.Ha;this.sp.M=!this.Ha;this.wh.M=!this.Ha;this.yh.M=!this.Ha;this.xh.M=!this.Ha;this.zh.M=!this.Ha;if(-99999>
a||99999<a)c=(a/1E3|0)+"K";if(-99999>b||99999<b)d=(b/1E3|0)+"K";this.Ah.Jb=c;this.Bh.Jb=d;this.vh.Jb=this.g.angle.toFixed(0)+"\u00b0";this.wh.Jb=this.Nn.toFixed(3);this.yh.Jb=this.Rn.toFixed(3);this.zh.Jb=this.Tn.toFixed(3);this.xh.Jb=this.Pn.toFixed(3)};ha.prototype.XE=function(){0===this.g.counter?this.Tn=this.Nn=this.Rn=this.Pn=0:(this.Rn=(this.g.A.N-this.g.zb.N)/this.g.counter,this.Pn=(this.g.A.K-this.g.zb.K)/this.g.counter,this.Nn=(this.g.A.L-this.g.zb.L)/this.g.counter,this.Tn=(this.g.A.J-this.g.zb.J)/
this.g.counter)};ha.prototype.rE=function(){this.Xd.current=[this.ia];this.ih.current=[!this.nc&&this.$a];this.ih.locked=!this.$a;this.mb?(this.Nc.lower[0]="TRACK",this.Nc.current=[!this.Lb&&this.mb],this.Nc.locked=!this.mb,this.Nc.W=["toggle track mode [W]"]):(this.Nc.lower[0]="WAYPT",this.Nc.current=[!this.nb&&this.za],this.Nc.locked=!this.za,this.Nc.W=["toggle waypoint mode [W]"]);this.Mf.current=[!this.wa&&-1!==this.Sb];this.Mf.locked=-1===this.Sb;this.Mf.W=["loop at "+this.Sb+" [Shift P]"];this.Mg.current=
[!this.Kb&&-1!==this.uc];this.Mg.locked=-1===this.uc;this.Mg.W=["stop at "+this.uc+" ["+this.D+" P]"]};ha.prototype.On=function(a,b,c){if(a>=this.Je.length){var d=this.g.T.h(ra.nd,this.Je.length+F.IC,"View.elapsedTimes",!1);d.set(this.Je);this.Je=d}this.elapsedTime+=b/c;this.Je[a]=this.elapsedTime};ha.prototype.zi=function(){var a=this.g.A,b=this.g.mb,c=this.g.B;this.g.ul.set(a);this.g.wl.set(b);this.g.gl(this.qb);this.g.Sf();this.g.eg(this);this.on();this.g.Oh();0===this.g.B&&(a.set(this.g.ul),b.set(this.g.wl));
this.Gl=0===this.g.B&&0!==c?!0:!1;this.g.counter&&0<this.g.B&&(this.Rb.J=this.g.A.J,this.Rb.K=this.g.A.K,this.Rb.L=this.g.A.L,this.Rb.N=this.g.A.N,this.Dk(this,this.Rb))};ha.prototype.qK=function(){null!==this.g.yb&&this.g.od===Da.ah&&4<this.g.i?this.g.pb=0:this.g.El()};ha.prototype.vF=function(a,b){0===a.g.pb&&(a.g.Ef=performance.now());do{this.g.Zm();var c=performance.now()-b}while(14>c&&-1!==a.g.pb);-1===a.g.pb&&(a.g.Ef=performance.now()-a.g.Ef,a.C.O=10);a.C.ve(!0)};ha.prototype.Ym=function(a,
b,c){a.h.locked=!1;b?c&&a.C.notification.notify("Cancelled",15,80,15,!0):a.Vc&&(c||-1!==a.lf)&&(a.C.notification.notify("Arrived at generation "+a.g.counter,15,150,15,!0),-1!==a.lf&&(c=(performance.now()-a.lf)/1E3,b=a.fi/c|0,a.C.notification.notify(a.fi+" gens in "+c.toFixed(1)+"s = "+b+"gps",15,1200,15,!1),a.bn=c,a.lv=a.fi));-1===a.lf&&(0!==a.g.B||a.$d||a.g.counter<=a.Zd)&&a.C.notification.clear(!1,!1);a.$("");a.Ta=-1;a.lf=-1};ha.prototype.HF=function(a){var b=performance.now();for(a.h.locked=!0;!a.eg()&&
a.g.counter<a.Ta&&(-1!==a.lf||13>performance.now()-b);)a.zi(),a.eg()&&-1===a.Db&&(a.Db=a.g.counter,a.Vc&&(-1===a.Sb||a.wa)&&(a.g.s||a.g.ja?a.C.notification.notify("Life ended at generation "+(a.g.Xb+a.Fa),15,600,15,!1):a.C.notification.notify("Life ended at generation "+(a.g.counter+a.Fa),15,600,15,!1))),a.On(a.g.counter,0,1);a.Gn(a,!1,0,!1);a.LE(a);a.ja=a.g.counter*a.ec;a.C.ve(!0);(a.g.counter>=a.Ta||a.eg())&&a.Ym(a,0===a.g.B&&!(a.$d||a.g.counter<=a.Zd),!1)};ha.prototype.rF=function(a){var b=performance.now();
a.h.locked=!0;a.ja=a.g.counter*a.ec;for(a.Dl();a.pb&&13>performance.now()-b&&(0<a.g.B||a.$d||a.g.counter<=a.Zd);){-1===a.g.Xe&&(a.zi(),0===a.g.B&&-1===a.Db&&(a.Db=a.g.counter,a.Vc&&(a.El||a.g.counter<=a.Zd||(a.g.s||a.g.ja?a.C.notification.notify("Life ended at generation "+(a.g.Xb+a.Fa),15,600,15,!1):a.C.notification.notify("Life ended at generation "+(a.g.counter+a.Fa),15,600,15,!1)))),a.On(a.g.counter,0,1));if(0<a.g.B||a.$d||a.g.counter<=a.Zd){var c=a.g.un(a);0<c.length&&(c[0]===y.xA?(c[0]="Nothing Identified",
a.Nv="none",a.Ab="none",a.Kl="",a.aj="",a.Il="",a.fn="",a.vi="",a.Nl="",a.$i="",a.Wi="",a.Fh="",a.hh="",a.Xi="",a.dn="",a.gn="",a.en="",a.Dv=""):(a.Nv=c[0],a.Ab=c[1],"Empty"!==a.Ab&&(a.Kl=c[2],a.aj=c[3],a.Il=c[4],a.fn=c[5],a.vi=c[6],a.Nl=c[7],a.$i=c[8],a.Wi=c[9],a.Fh=c[10],a.hh=c[11],a.Xi=c[12],a.dn=c[13],a.gn=c[14],a.en=c[15],a.Dv=String(a.g.pc),a.Qi.Jb=a.vi,a.Qi.W=-1===a.vi.indexOf("|")?"":"min | max | average",a.Qo.Jb=a.Il,a.Xo.Jb=a.Kl,a.$o.Jb=a.$i,a.bp.Jb=a.Nl,a.jl.Jb=a.aj,a.jl.W=-1===a.aj.indexOf("|")?
"":"simplified | unsimplified",a.hl.Jb=a.Wi,a.hl.W=-1===a.Wi.indexOf("|")?"":"min | max | average",a.qp.Jb=""===a.hh?a.Fh+" | N/A":a.Fh+" | "+a.hh,a.qp.W="normal | strict",a.Si.Jb=a.Xi,a.bl.Jb=a.dn,a.bl.W="rotor | stator | total",a.kl.Jb=a.gn,a.kl.W="active | rotor","Still Life"===a.Ab?(a.Si.Jb=a.en,a.Ri.Jb="Density"):a.Ri.Jb="Mod"),a.rb=!0,a.Lz()),a.pb=!1,a.Ob&&(a.hc.current=a.Od(F.ue,!0,a)),a.$(""),a.Jd.Jb=c[0],"Empty"===a.Ab||"none"===a.Ab||""===a.Ab?(a.C.notification.notify(c[0],15,240,15,!1),
a.rb=!1):(a.C.notification.clear(!0,!1),a.C.notification.clear(!1,!1),a.ja=a.g.counter*a.ec,a.Dl(),a.yb(!0,!1,F.ig)),a.g.Ag(a.pb),a.h.locked=!1)}else a.pb=!1,a.Ob&&(a.hc.current=a.Od(F.ue,!0,a)),a.$(""),a.rb=!1,a.g.Ag(a.pb),a.h.locked=!1;if(-1!==a.g.Xe){a.xi.locked=!0;break}}a.Gn(a,!1,0,!1);a.HE(a);a.ja=a.g.counter*a.ec;a.C.ve(!0)};ha.prototype.nF=function(a){for(var b=a.Kq,c=performance.now(),d=this.qb,f=51*y.qq;a.g.counter<b&&13>performance.now()-c;)this.qb=b-1-a.g.counter<=f?!1:d,a.zi();a.g.counter===
b?(a.jh=!1,a.Jq&&a.C.notification.clear(!0,!1),a.ja=a.g.counter*a.ec,a.h.locked=!1):a.h.locked=!0;a.DE(a,b);a.Gn(a,!1,0,!1);a.qb=d;a.C.ve(!0)};ha.prototype.VH=function(){var a,b;var c=b=0;var d,f=1,e=U.Ce;for(a=0;a<e.length;a+=1){var g=e[a].width;var k=e[a].height;g>b&&(b=g);k>c&&(c=k)}for(a=0;1<<a<=b||1<<a<=c;)a+=1;var l=1<<a;for(k=g=Math.ceil(Math.sqrt(e.length));4096<g*l/f||4096<k*l/f;)f+=1;this.Xe=document.createElement("canvas");this.Xe.width=g*l/f;this.Xe.height=k*l/f;this.Ul=this.Xe.getContext("2d");
this.Ul.fillStyle="black";this.Ul.fillRect(0,0,this.Xe.width,this.Xe.height);this.Vl=this.C.vb(this.DF,this.ks,this);this.Vl.Y=.2;var p=this.displayWidth/g;var n=this.displayHeight/k;for(c=0;c<k;c+=1)for(b=0;b<g;b+=1)if(a=c*k+b,a<e.length){var q=e[a].name;q.endsWith(".rle")&&(q=q.substring(0,q.length-4));q=this.Vl.i(this.QK,da.ad,b*p,c*n,p,n,q);q.lower=a;this.Ul.fillStyle="rgb(32,255,255)";var m=e[a].map;var r=m.length;var u=m[0].length;for(d=1;r*d<l&&u*d<l;)d+=1;--d;1<d&&--d;var t=l-u*d>>1;var v=
l-r*d>>1;var B=Math.ceil(d/f);for(q=0;q<r;q+=1){var w=m[q];for(a=0;a<u;a+=1)0<w[a]&&this.Ul.fillRect(Math.ceil((b*l+a*d+t)/f),Math.ceil((c*l+q*d+v)/f),B,B)}}this.C.ja(this.Vl);this.la.fillStyle="blue";this.la.fillRect(0,0,this.ta.width,this.ta.height)};ha.prototype.DF=function(a,b){a=b.Xe.width;var c=b.Xe.height;var d=b.displayWidth/a;var f=b.displayHeight/c;f>d&&(d=f);b.la.fillStyle="black";b.la.fillRect(0,0,b.ta.width,b.ta.height);b.la.save();b.la.translate(b.displayWidth/2,b.displayHeight/2);b.la.scale(d,
d);b.la.imageSmoothingEnabled=!0;b.la.imageSmoothingQuality="high";b.la.drawImage(b.Xe,-(a/2),-(c/2));b.la.restore()};ha.prototype.jF=function(a,b){var c=performance.now();b.jh?b.nF(b):b.pb?b.rF(b):-1!==b.Ta?b.HF(b):(b.zF(a,b),b.g.D&&-1!==b.g.pb&&b.vF(b,c))};ha.prototype.ks=function(a){a.g.counter=0;a.g.Xb=0;a.g.Ke=0;a.ja=0;a.elapsedTime=0;a.g.ma=a.g.width>>1;a.g.ka=a.g.height>>1;a.g.ma&=a.g.width-1;a.g.ka&=a.g.height-1;a.fv=!0;a.Db=-1};ha.prototype.gD=function(a,b,c){b&&(c.Jc=a[0]);return[c.Jc]};
ha.prototype.LB=function(a,b,c){b&&(c.qd=a[0]);return[c.qd]};ha.prototype.UB=function(a,b,c){b&&(c.g.yc=a[0]);return[c.g.yc]};ha.prototype.OB=function(a,b,c){b&&(c.Ha=a[0]);return[c.Ha]};ha.prototype.JB=function(a,b,c){b&&(c.g.Db=a[0]);return[c.g.Db]};ha.prototype.Ev=function(a,b,c){b&&(c.i=a[0]);return[c.i]};ha.prototype.lD=function(a,b,c){b&&(c.Ig=a[0]);return[c.Ig]};ha.prototype.mv=function(a,b,c){b&&(c.Gd=a[0],U.iy(F.lB,c.Gd),a=c.Gd?U.rr(F.tu):F.$c,c.Dz(a),c.dc.current=1===c.O&&c.ca===F.$c?c.yc([1,
1],!0,c):c.yc([c.kf(),1],!0,c));return[c.Gd]};ha.prototype.jE=function(a){U.nD(F.tu,a.O*a.ca);a.Di.current=a.mv([!0],!0,a)};ha.prototype.$C=function(a,b,c){b&&(c.cf=a[0],U.iy(F.hy,c.cf));return[c.cf]};ha.prototype.tD=function(a,b,c){b&&(c.Ae=a[0],U.iy(F.fE,c.Ae));return[c.Ae]};ha.prototype.Hl=function(a,b,c){b&&(c.rh=a[0],c.ph=a[1],c.qh=a[2]);return[c.rh,c.ph,c.qh]};ha.prototype.Oo=function(a,b,c){b&&(c.ra.current!==F.Yh&&(c.ra.current=c.ze(F.Yh,!0,c)),c.ga.current[0]&&(c.ga.current=c.nf([!1],!0,
c)),c.Ca=a[0]);return[c.Ca]};ha.prototype.TF=function(a,b,c){b&&(c.g.sd=a[0]);return[c.g.sd]};ha.prototype.RB=function(a,b,c){b&&(c.ke=a[0]);return[c.ke]};ha.prototype.DA=function(a,b,c){b&&(c.g.jb=a[0]);return[c.g.jb]};ha.prototype.rA=function(a,b,c){b&&(c.ed=a[0],c.ed&&!c.g.Ya&&(c.hb||c.wc)&&(c.hd.current=c.Nj([!0],!0,c)));return[c.ed]};ha.prototype.Px=function(a,b,c){b&&(c.g.ab=a,c.g.lk(),c.g.rh(),0===(c.g.counter&1)?c.g.cg(c.g.va):c.g.cg(c.g.Va));return c.g.ab};ha.prototype.mz=function(a,b,c){b&&
(c.g.Ad=a[0]);return[c.g.Ad]};ha.prototype.vA=function(a,b,c){b&&(c.pd=a[0]);return[c.pd]};ha.prototype.Ov=function(a,b,c){b&&(c.g.Fa=a[0],c.iA());return[c.g.Fa]};ha.prototype.ap=function(a,b,c){b&&(c.C.j=a[0]);c.C.ve(!0);return[c.C.j]};ha.prototype.Sg=function(a,b,c){b&&(c.C.F=a[0]);c.C.ve(!0);return[c.C.F]};ha.prototype.yg=function(a,b,c){var d=c.g.qb;if(d!==a){c.g.jj(a,b,c);1<c.g.Re&&(c.C.O=c.g.Re);for(b=0;b<=c.g.Mb;b+=1)c.li[b].current=a!==F.zq[b]?[!1]:[!0];c.m.s=!0;c.m.H=c.g.hd;-1!==d&&!c.g.pa[a].H(c.g.O,
c)&&c.g.pa[d].H(c.g.O,c)&&c.g.lk();c.rd.current=[c.g.yc&&0<c.g.lb]}};ha.prototype.kf=function(){var a=F.hB;this.ca>F.$c&&(this.ca=F.$c);var b=Math.sqrt((this.ca-F.Bg)/(F.$c-F.Bg));var c=(this.O-F.Zg)/(this.Hf-F.Zg);return 0===c?b*(1-a):c*(1-a)+1+a};ha.prototype.Jz=function(a){var b=F.hB;this.ca>F.$c&&(this.ca=F.$c);a<=1-b?(a/=1-b,this.ca=Math.round(F.Bg+a*a*(F.$c-F.Bg)),this.O=1):(a<1+b?a=0:(a-=1+b,a/=1-b),this.ca=F.$c,this.O=Math.round(F.Zg+a*(this.Hf-F.Zg)))};ha.prototype.yc=function(a,b,c){var d=
c.kf();b&&(d=a[0],c.Jz(d));c.ca>F.$c&&(c.ca=F.$c);return[d,Math.round(c.ca)<F.$c?String(Math.round(c.ca))+"/s":String(Math.round(c.O))+"x"]};ha.prototype.Ys=function(a){a.hk=a.g.zoom;a.ka&&(a.hk*=a.Wb);a.gt=a.g.angle;a.rz=a.g.Gb;a.ya=a.g.ma;a.Ib=a.g.ka};ha.prototype.kD=function(a){a.Gg=a.g.width/2-a.g.ma;a.Hg=a.g.height/2-a.g.ka;a.ii=a.g.zoom;a.Eg=a.g.angle;a.Fg=a.g.Gb;a.Wf=a.g.width/2-a.ya;a.Hi=a.g.height/2-a.Ib;a.Qk=a.gt;a.Gi=a.rz;a.Ii=a.ka?a.hk/a.Wb:a.hk;a.Kc=0};ha.prototype.KF=function(a,b){a.g.zoom=
a.Qz;a.ka&&(a.g.zoom/=a.Wb);a.kc&&(a.kc.current=a.Qd([a.g.zoom,a.g.zoom],!1,a));a.g.angle=a.Bi;a.sa&&(a.sa.current=[a.Bi,a.Bi]);a.g.Gb=a.Ei;a.fb&&(a.fb.current=[a.Hk(a.Ei),a.Ei]);a.g.ma=a.va;a.g.ka=a.Cb;b&&(a.yg(a.jo,1,a),a.Na&&(a.g.Qd=0),a.ca=a.Zn,a.O=a.ho,a.dc.current=1===a.O&&a.ca===F.$c?a.yc([1,1],!0,a):a.yc([a.kf(),1],!0,a),a.g.Aa=a.Ci,a.kb.current=[a.Ci,a.Ci],b=Math.sqrt(a.Hp),a.Ea.current=a.pf([b,b],!0,a),a.xg.current=this.Px(this.Uf,!0,a))};ha.prototype.bE=function(a){a?(this.g.ma+=this.g.Ma,
this.g.ka+=this.g.za,this.g.zoom*=this.g.eb):(this.Dl(),this.g.ma-=this.g.Ma,this.g.ka-=this.g.za,this.g.zoom/=this.g.eb,this.Dl());this.g.zoom<F.Bb?this.g.zoom=F.Bb:this.g.zoom>F.Pb&&(this.g.zoom=F.Pb)};ha.prototype.fD=function(a){a.elapsedTime=0;a.Na||(a.g.Qg(a,a.qb),a.g.Lh())};ha.prototype.reset=function(a){var b=!1,c=!1,d=a.s.F();this.Gl=!1;this.mh&&this.g.Hk();0===a.g.counter&&a.C.Hb();if(0===a.elapsedTime||a.Bo)b=!0;a.wa||-1===a.Sb||a.g.counter>=a.Sb&&(c=!0);a.g.Xb=0;a.g.Ke=0;c||b||(a.za&&(a.nb=
!0),a.mb&&(a.Lb=!0),-1!==a.Sb&&(a.wa=!0),-1!==a.uc&&(a.Kb=!0),a.jn&&(a.ia=!1));a.elapsedTime=0;a.g.Ma=0;a.g.za=0;a.g.eb=1;if(b){(this.g.ja||this.g.s)&&null!==this.g.Cb&&a.Mn&&(a.g.Ub=!0);a.za&&(a.nb=!1);a.mb&&(a.Lb=!1);a.jn&&(a.ia=!0);if(!c||a.za&&a.s.H||a.ia)a.KF(a,b),a.ia&&a.yb(!0,!1,F.ig);a.wa=!1;c||(a.Kb=!1)}a.Na||(a.g.Qg(a,a.qb),Array.Gf(a.g.j,a.g.wa),Array.Gf(a.g.j,a.g.m),-1!==a.g.S&&a.g.Ug(),a.g.O||-1!==a.g.i||a.g.cg(a.g.va));a.Zb||a.g.Mh();a.g.Lh();a.Lw=-1;a.ic=!1;a.s.$a();a.pb&&(a.pb=!1,
a.C.notification.clear(!0,!1));a.g.Ag(a.pb);b?d&&d.fs?d.we!==a.Te&&(a.C.notification.notify(Pb.Pm(a,d.we),15,21600,15,!1),a.Te=d.we):(a.C.notification.clear(!1,!1),a.Te=""):(a.C.notification.clear(!1,!1),a.Te="");a.Db=-1;a.g.Ig=0;a.P=!1;a.bd=!1;a.pc=!1;a.ma=1;a.Fl();a.rb=!1;a.hz()};ha.prototype.di=function(a){var b=this.g.vb;if(a){var c="pause";a="pause [Enter]"}else a="play [Enter]",this.g.ja||this.g.s?(this.g.Ub&&(b=!b),c=b?"reverse":"play"):c="play";if(this.g.ja||this.g.s)if(b=this.g.vb,this.g.Ub&&
(b=!b),b){var d="stepback";b="stepforward";var f="step back [Shift Tab]";var e="step forward [Tab]"}else d="stepforward",b="stepback",f="step forward [Tab]",e="step back [Shift Tab]";else d="stepforward",b="stepback",f="step forward [Tab]",e="step back [Shift Tab]";this.hc.h[F.ue]=this.m.h(d);d=this.hc.W;d[F.ue]=f;this.hc.W=d;this.hc.h[F.Jo]=this.m.h(b);d=this.hc.W;d[F.Jo]=e;this.hc.W=d;this.hc.h[F.rj]=this.m.h(c);this.hc.W[F.rj]=a};ha.prototype.QK=function(a,b){b=a.C.i.v[b].lower;a.C.ja(a.h);U.Fm=
!1;a.Ua=b;a.$h(U.Ce[a.Ua].pattern,!1)};ha.prototype.vB=function(a){U.Fm=!0;a.C.ja(a.Vl)};ha.prototype.cL=function(a){localStorage.setItem(F.pB,"y");a.qz()};ha.prototype.xc=function(a,b){b.Hd=a;b.v=1;b.jk=!0;b.Ho=[];b.No=[];this.$u=!0};ha.prototype.fI=function(a){a.xc(F.hv,a)};ha.prototype.aH=function(a){a.xc(F.jy,a)};ha.prototype.fH=function(a){a.xc(F.mr,a)};ha.prototype.PJ=function(a){a.xc(F.yy,a)};ha.prototype.QF=function(a){a.xc(F.iu,a)};ha.prototype.oE=function(a){a.xc(F.Ht,a)};ha.prototype.eJ=
function(a){a.xc(F.Lv,a)};ha.prototype.UF=function(a){a.xc(F.ju,a)};ha.prototype.sE=function(a){a.xc(F.Kt,a)};ha.prototype.PF=function(a,b,c){b&&(c.v=c.B[a][0],c.jk=!1);return a};ha.prototype.dv=function(a,b,c){b&&(c.Yd=a[0],c.Yd&&c.zk(c));return[c.Yd]};ha.prototype.gI=function(a){a.zk(a)};ha.prototype.Aw=function(a,b,c){b&&(c.wd=a[0]);return[c.wd]};ha.prototype.gv=function(a,b,c){b&&(c.Xb=a[0],c.Xb&&(c.po=!0));return[c.Xb]};ha.prototype.ze=function(a,b,c){var d=a;if(b){switch(a){case F.el:c.uj=!1;
c.I||c.g.la?d=c.ra.current:(c.hb=!0,c.Yc.current=c.oe([!1],!0,c),c.wc=!1);c.nn(c);c.ed&&(c.hd.current=c.Nj([!0],!0,c));break;case F.fl:c.hb=!1;c.Yc.current=c.oe([!1],!0,c);c.wc=!0;c.ed&&(c.hd.current=c.Nj([!0],!0,c));break;case F.Yh:c.hb=!1,c.wc=!1,c.Yc.current=c.oe([!1],!0,c),c.nn(c),c.ed&&(c.hd.current=c.Nj([!1],!0,c))}c.Ho=[];c.No=[];c.ga.current[0]&&(c.ga.current=c.nf([!1],!0,c),c.C.m=!0);c.Ca&&(c.Ca=!1,c.Ne.current=c.Oo([c.Ca],!0,c))}c.kt(d);return d};ha.prototype.kt=function(a){if(this.v||this.da)this.h.ba("grab");
else switch(a){case F.el:this.h.ba("auto");break;case F.Yh:this.h.ba("grab");break;case F.fl:this.h.ba("crosshair")}};ha.prototype.sB=function(a,b,c){b&&(c.zb=a,c.Kk(),c.Ue.current=[!1],c.C.m=!0,c.na?c.jz(c,a):c.C.notification.notify("Clipboard "+a+" active",15,80,15,!0));return c.zb};ha.prototype.RF=function(){return F.Yy[this.Ld.current]};ha.prototype.Mw=function(a,b,c){b&&(c.pg=a,c.Va=F.Yy[a]);return c.pg};ha.prototype.FK=function(a){a.I||(a.pg+=1,3<a.pg&&(a.pg=0),a.Ld.current=a.Mw(a.pg,!0,a))};
ha.prototype.wt=function(a){var b=-1,c,d=0,f=0,e=0,g=0;for(c=0;c<a.length&&-1===b;){switch(a.charAt(c)){case "N":d+=1;break;case "S":f+=1;break;case "E":e+=1;break;case "W":g+=1;break;default:b=-2}c+=1}if(1<d||1<f||1<e||1<g)b=-2;-2!==b&&(b=d|e<<1|f<<2|g<<3);return b};ha.prototype.$z=function(a){var b=-1,c;'"'===a.charAt(0)&&(a=a.substring(1,a.length-1));if(this.g.D)for(c=0;c<this.ff.length&&-1===b;)void 0!==this.ff[c]&&this.ff[c]===a&&(b=c),c+=1;else if(2>=this.g.i)if(this.g.O)for(c=0;c<F.ff.length&&
-1===b;)F.ff[c]===a&&(b=c),c+=1;else"alive"===a?b=1:"dead"===a&&(b=0);else if("dead"===a)b=0;else if(this.g.s)b=this.wt(a);else if(this.g.v)for(c=0;c<y.Lo.length&&-1===b;)y.Lo[c]===a&&(b=c),c+=1;else if(this.g.G)for(c=0;c<y.Ko.length&&-1===b;)y.Ko[c]===a&&(b=c),c+=1;else"alive"===a?b=1:"dying "===a.substring(0,6)&&(b=Number(a.substring(6))+1,b>=this.g.i&&(b=-1));return b};ha.prototype.oh=function(a){var b="";if(this.g.D)b=void 0===this.ff[a]?"state "+String(a):this.ff[a];else if(2>=this.g.i)if(this.g.O)b=
F.ff[a];else switch(a){case 0:b="dead";break;case 1:b="alive";break;default:b="state "+String(a)}else 0===a?b=this.g.la?"state 0":"dead":this.g.s?(0!==(a&1)&&(b+="N"),0!==(a&2)&&(b+="E"),0!==(a&4)&&(b+="S"),0!==(a&8)&&(b+="W")):b=this.g.v?y.Lo[a]:this.g.G?y.Ko[a]:this.g.la?"state "+String(a):1===a?"alive":"dying "+String(a-1);return b};ha.prototype.gy=function(a,b,c){var d=a;b&&(2>=c.g.i?c.rf=a:(a+=c.Ub,c.rf=0===a?0:c.g.la||c.g.s||c.g.D||c.g.v||c.g.G?a:c.g.i-a),c.Nh?c.C.notification.notify("Replace: Now click on a cell",
15,180,15,!0):(c.Yc.current=c.oe([!1],!0,c),c.C.notification.notify("Drawing with state "+a+" ("+c.oh(a)+")",15,120,15,!0)));return d};ha.prototype.Vd=function(a){var b=this.g.i,c=this.$b;-1===b&&(c=b=2);this.g.O&&(c=b=7);a<b&&(a>=c?(this.Ub=a-c+1,a=c-1):a>=this.Ub?a-=this.Ub:(this.Ub=a,a=0),this.Ya.current=this.gy(a,!0,this),this.Wm.current=this.qy([this.Ub/(this.g.i-this.$b),0],!0,this))};ha.prototype.eG=function(a,b,c){var d=0;if(b)for(;d<a.length;)a[d]&&(a[d]=!1,c.Ya.current=c.gy(d,!0,c)),d+=
1;return a};ha.prototype.CF=function(a){var b=0,c=this.rf,d=this.g.mb;var f=this.fa;var e=d.J,g=d.L;var k=d.K;d=d.N;var l=(this.g.width>>1)-(this.S>>1)+(this.aa<<1);var p=(this.g.height>>1)-(this.V>>1)+(this.ba<<1);2<this.g.i&&!(this.g.la||this.g.s||this.g.D||this.g.v||this.g.G)&&0<a&&(a=this.g.i-a);this.P&&(e=f.J+l,g=f.L+l,e>g&&(l=g,g=e,e=l),k=f.K+p,d=f.N+p,k>d&&(l=d,d=k,k=l));if(c!==a){for(;k<=d;k+=1)for(f=e;f<=g;f+=1)p=this.g.nb(f,k,!1),2<this.g.i&&!(this.g.v||this.g.G||this.g.s||this.g.D)&&0<
p&&(p=this.g.i-p),p===a&&(this.oa(f,k,c,!1),b+=1);0<b&&(!this.g.O&&!this.g.v||6!==a&&6!==c||this.g.rb(),this.$("replace states"))}else this.C.notification.notify("Cell and drawing state are the same",15,120,15,!0)};ha.prototype.tn=function(a,b,c){var d=a.rf,f=a.g.mb,e=0,g=0;if(0<d)if(2<a.g.i&&!(a.g.la||a.g.s||a.g.D||a.g.v||a.g.G)&&(d=a.g.i-d),a.g.O&&1<d&&(g=d&1),a.g.O&&b)if(c){for(c=f.K;c<=f.N;c+=1)for(b=f.J;b<=f.L;b+=1){var k=a.g.nb(b,c,!1);3<=k&&5>=k&&(a.oa(b,c,k&1,!1),e+=1)}0<e&&(a.g.v?a.$("clear [R]Super marked cells"):
a.$("clear [R]History marked cells"))}else{for(c=f.K;c<=f.N;c+=1)for(b=f.J;b<=f.L;b+=1)k=a.g.nb(b,c,!1),1<k&&(a.oa(b,c,k&1,!1),e+=1);0<e&&(a.g.v?a.$("clear Super cells"):(this.g.rb(),a.$("clear History cells")))}else{for(c=f.K;c<=f.N;c+=1)for(b=f.J;b<=f.L;b+=1)k=a.g.nb(b,c,!1),k===d&&(a.oa(b,c,g,!1),e+=1);0<e&&((a.g.O||a.g.v)&&6===d&&this.g.rb(),a.$("clear state "+d+" cells"))}return e};ha.prototype.Od=function(a,b,c){var d=a,f=c.Kb,e=c.wa,g=c.nb,k=c.nc,l=c.ia,p=c.Lb,n=40,q=0,m=0,r=0,u=0,t=0,v=0,
B=0;if(b){c.uj=!1;switch(a){case F.Tv:c.nc=c.Bo||c.$a&&0===c.g.counter&&0===c.elapsedTime?!1:!0;c.$a&&!c.nc?(a=F.rj,c.Ob=!0):(a=F.ue,c.Ob=!1);c.$("");c.reset(c);b="Reset";!c.wa&&e&&-1!==c.Sb&&(m=1);c.wa&&!e&&-1!==c.Sb&&(m=-1);!c.Kb&&f&&-1!==c.uc&&(r=1);c.Kb&&!f&&-1!==c.uc&&(r=-1);!l&&c.ia&&(B=1);l&&!c.ia&&(B=-1);!c.nb&&g&&(u=1);c.nb&&!g&&(u=-1);!c.Lb&&p&&(t=1);c.Lb&&!p&&(t=-1);!c.nc&&k&&c.$a&&(v=1);c.nc&&!k&&c.$a&&(v=-1);if(0!==m||0!==r||0!==u||0!==t||0!==v||0!==B)b="",0!==m&&(q+=1,b+="Loop"),0!==
r&&(0<q&&(b=0<Math.abs(u)+Math.abs(t)+Math.abs(v)+Math.abs(B)?b+", ":b+" and "),q+=1,b+="Stop"),0!==u&&(0<q&&(b=0<Math.abs(t)+Math.abs(v)+Math.abs(B)?b+", ":b+" and "),q+=1,b+="Waypoints"),0!==t&&(0<q&&(b=0<Math.abs(v)+Math.abs(B)?b+", ":b+" and "),q+=1,b+="Track"),0!==v&&(0<q&&(b=0!==B?b+", ":b+" and "),q+=1,b+="AutoStart"),0!==B&&(0<q&&(b+=" and "),b+="AutoFit"),b=0<r||0<m||0<u||0<t||0<v||0<B?b+" On":b+" Off",n=120;c.C.notification.notify(b,15,n,15,!0);break;case F.rj:c.Ob?(c.Ob=!1,c.$(""),(c.g.counter!==
c.uc||c.Kb||c.Vc)&&c.C.notification.notify("Pause",15,40,15,!0),c.Gh=performance.now()-c.Gh,c.io&&c.C.notification.notify("Playback time "+(c.Gh/1E3).toFixed(2),15,300,15,!1)):(c.za&&!c.nb&&(c.g.ja||c.g.s)&&(c.g.vb||!c.g.vb&&c.g.Ub)&&c.bt(c),c.Ob=!0,c.$(""),c.oo&&U.vy(c),c.C.notification.notify("Play",15,40,15,!0),c.Gh=performance.now());break;case F.Jo:if(c.Ob)c.Ob=!1,c.$(""),c.C.notification.notify("Pause",15,40,15,!0);else{if((c.g.ja||c.g.s)&&null!==c.g.Cb){c.g.Ub=!c.g.Ub;c.g.Ub&&c.$("reverse playback");
c.$("");for(f=0;f<c.O;f+=1)c.zi(),c.ja=c.g.counter*c.ec,c.eg()&&-1===c.Db&&(c.Db=c.g.counter,c.Vc&&(-1===c.Sb||c.wa)&&(c.g.s||c.g.ja?c.C.notification.notify("Life ended at generation "+(c.g.Xb+c.Fa),15,600,15,!1):c.C.notification.notify("Life ended at generation "+(c.g.counter+c.Fa),15,600,15,!1)));c.g.Ub=!0}else 0<c.g.counter&&(q=c.g.B,c.mt(c.g.counter-c.O)?c.Io(c):c.Aq(c.g.counter-c.O),0===q&&0<c.g.B&&(c.Db=-1),0===c.g.counter&&(c.g.O||-1!==c.g.i||c.g.cg(c.g.va)));c.ia&&c.yb(!0,!0,F.ig)}break;case F.ue:c.Ob?
(c.Ob=!1,c.$(""),(c.g.counter!==c.uc||c.Kb||c.Vc)&&c.C.notification.notify("Pause",15,40,15,!0),c.Gh=performance.now()-c.Gh,c.io&&c.C.notification.notify("Playback time "+(c.Gh/1E3).toFixed(2),15,300,15,!1)):(c.sd=!0,c.$(""))}d=a;c.di(c.Ob)}return d};ha.prototype.Rg=function(a,b,c){b&&(c.ic=!0,c.g.angle=a[0]);return[c.g.angle,c.g.angle]};ha.prototype.Hk=function(a){var b=.5/(.5-F.Ok/2);a=(a-F.fq)/(F.Kv-F.fq);a<.5-F.Ok/2?a*=b:a>.5+F.Ok/2?(a-=.5+F.Ok/2,a=a*b+.5):a=.5;return a};ha.prototype.ZG=function(a){var b=
.5/(.5-F.Ok/2);a<.5-F.Ok/2?a*=b:a>.5+F.Ok/2?(a-=.5+F.Ok/2,a=a*b+.5):a=.5;return(F.Kv-F.fq)*a+F.fq};ha.prototype.Qj=function(a,b,c){b&&(c.ic=!0,c.g.Gb=c.ZG(a[0]));return[a[0],c.g.Gb]};ha.prototype.Jl=function(a,b,c){b?(c.ic=!0,c.g.Aa=a[0]+.5|0,a=a[0]):a=c.g.Aa;return[a,c.g.Aa]};ha.prototype.pf=function(a,b,c){return b?(c.ic=!0,c.g.nc=a[0]*a[0],[a[0],c.g.nc*F.jm]):[Math.sqrt(c.g.nc),c.g.nc*F.jm]};ha.prototype.cF=function(a,b,c,d){var f=Math.round(-this.g.ca/2),e=Math.floor((this.g.ca-1)/2),g=Math.round(-this.g.$/
2),k=Math.floor((this.g.$-1)/2),l=this.rf;if(-1===c&&-1===d){if(-1!==this.g.S&&(0===this.g.ca&&(f=-this.g.width/2,e=this.g.width/2-1),0===this.g.$&&(g=-this.g.height/2,k=this.g.height/2-1),this.Pj(a,b),c=this.Fc-this.g.width/2,d=this.Gc-this.g.height/2,c<f||c>e||d<g||d>k))return!0;this.$l=this.ZC();2<this.g.i&&!(this.g.la||this.g.s||this.g.D||this.g.v||this.g.G)&&(l=this.g.i-l);this.$l=this.ei&&this.$l===l?0:this.rf}else this.Pj(c,d),c=this.Fc,d=this.Gc,this.Pj(a,b),a=this.Fc,b=this.Gc,this.ZE(c,
d,a,b,this.$l)&&this.g.rb();0<this.g.B&&(this.Db=-1);return!1};ha.prototype.oA=function(){var a=Math.abs(this.Os-this.Ns),b=Math.abs(this.Qs-this.Ps),c=Math.abs(this.bm-this.am),d=Math.abs(this.dm-this.cm),f=F.Bb*Math.pow(F.Pb/F.Bb,this.kc.current[0]);f*=Math.sqrt(c*c+d*d)/Math.sqrt(a*a+b*b);f<F.Bb?f=F.Bb:f>F.Pb&&(f=F.Pb);f=Math.log(f/F.Bb)/Math.log(F.Pb/F.Bb);this.kc.current=this.Qd([f,f],!0,this);this.Ns=this.am;this.Ps=this.cm;this.Os=this.bm;this.Qs=this.dm};ha.prototype.XF=function(a,b,c,d,f,
e){if(!e.Ia)switch(f){case 0:e.Ns=a;e.Ps=b;e.Os=c;e.Qs=d;e.am=a;e.cm=b;e.bm=c;e.dm=d;break;case 1:e.am=a;e.cm=b;e.oA();break;case 2:e.bm=a,e.dm=b,e.oA()}e.C.ve(!0)};ha.prototype.iG=function(a,b,c,d){d.pd&&!c&&(d.hc.current=d.Od(F.ue,!0,d))};ha.prototype.LF=function(a,b,c,d){d.Ia||d.wB(a,b,c,d,!1)};ha.prototype.JE=function(a,b){b=(a.Ic-b)/a.$f;-1!==a.Ic&&(0<b?a.an(a,b):0>b&&a.Wn(a,-b))};ha.prototype.FE=function(a,b){b=(a.Ic-b)/a.$f;-1!==a.Ic&&(0<b?a.Sn(a,b):0>b&&a.Un(a,-b))};ha.prototype.nE=function(a){this.g.Na-=
3*Math.sign(a);0>this.g.Na&&(this.g.Na=0);this.g.Na>this.g.Bc-this.g.Ec&&(this.g.Na=this.g.Bc-this.g.Ec)};ha.prototype.VE=function(a,b){b=(a.Ic-b)/(24*this.h.s);-1!==a.Ic&&(a.g.Na+=b,0>a.g.Na&&(a.g.Na=0),a.g.Na>a.g.Bc-a.g.Ec&&(a.g.Na=a.g.Bc-a.g.Ec))};ha.prototype.NE=function(a,b,c){b=(a.Eh-b)/a.g.da;c=(a.Ic-c)/a.g.da/a.g.wh();if(!a.ia&&-1!==a.Ic){var d=a.g.ha||a.g.Z?0:-a.g.angle;if(a.ab)a.za&&!a.nb&&(a.hc.current=a.Od(F.ue,!0,a));else{var f=Math.sin(d/180*Math.PI);d=Math.cos(d/180*Math.PI);a.ic=!0;
a.g.ma+=b*d+c*-f;a.g.ka+=b*f+c*d}}};ha.prototype.pE=function(a,b,c){var d=a.Ob,f=a.Ma,e=!1;a.ae||(a.Ob&&a.nj&&(a.Ob=!1,a.uj=!0),d&&(a.Ma=0,a.$(""),a.Ma=f),e=a.cF(b,c,a.Eh,a.Ic),d&&a.$(""));return e};ha.prototype.RE=function(a,b,c){a.na||a.ZK(a,b,c)};ha.prototype.Yz=function(a,b){var c=this.g.width>>1,d=this.g.height>>1;this.mc?(c-=Math.floor(this.Bd/2)-this.aa-this.aa,d-=Math.floor(this.Ad/2)-this.ba-this.ba):(c=this.H,d=this.F);0===this.g.ca?(a.J=0,a.L=this.g.width-1):(a.J=Math.round((this.g.width-
this.g.ca)/2)+b,a.L=a.J+this.g.ca-1);0===this.g.$?(a.K=0,a.N=this.g.height-1):(a.K=Math.round((this.g.height-this.g.$)/2)+b,a.N=a.K+this.g.$-1);return[c,d]};ha.prototype.ZK=function(a,b,c){var d=a.fa,f=new Ua(0,0,0,0),e=(a.g.width>>1)-(a.S>>1)+(a.aa<<1),g=(a.g.height>>1)-(a.V>>1)+(a.ba<<1),k=a.g.ja?-1:0;-1!==a.g.S&&(g=a.Yz(f,k),e=g[0],g=g[1]);if(-1!==b&&-1!==c)if(a.P&&a.ym(a),a.Pj(b,c),-1===a.Ic)a.wz=b,a.yz=c,a.P=!1,a.bd=!1;else{if(a.pc)d.L=a.Fc-e,d.N=a.Gc-g;else if(b!==a.wz||c!==a.yz)b=!1,-1!==a.g.S&&
(a.Fc<f.J||a.Fc>f.L||a.Gc<f.K||a.Gc>f.N)&&(b=!0),b||(a.pc=!0,d.J=a.Fc-e,d.L=d.J,d.K=a.Gc-g,d.N=d.K);a.pc&&(a.sz(a),-1!==a.g.S?(g=a.Yz(f,k),e=g[0],g=g[1]):(e=(a.g.width>>1)-(a.S>>1)+(a.aa<<1),g=(a.g.height>>1)-(a.V>>1)+(a.ba<<1)));a.pc&&-1!==a.g.S&&(f.J-=e,f.L-=e,f.K-=g,f.N-=g,d.J<d.L?(d.J<f.J&&(d.J=f.J),d.L>f.L&&(d.L=f.L)):(d.L<f.J&&(d.L=f.J),d.J>f.L&&(d.J=f.L)),d.K<d.N?(d.K<f.K&&(d.K=f.K),d.N>f.N&&(d.N=f.N)):(d.N<f.K&&(d.N=f.K),d.K>f.N&&(d.K=f.N)))}};ha.prototype.ym=function(a){a.P=!1;a.bd=!1;a.$("cancel selection");
a.pc=!1};ha.prototype.BE=function(a){a.na?a.Ls(a,a.Fc,a.Gc,!0):a.UK(a)};ha.prototype.zk=function(a){var b=a.fa,c=a.g.A,d=b.J,f=b.K,e=b.L,g=b.N,k,l=0,p=(a.g.width>>1)-(a.S>>1)+(a.aa<<1),n=(a.g.height>>1)-(a.V>>1)+(a.ba<<1);a.g.Nb=!0;a.g.bc();if(d>e){var q=d;d=e;e=q}f>g&&(q=f,f=g,g=q);d<c.J-p&&(d=c.J-p);f<c.K-n&&(f=c.K-n);e>c.L-p&&(e=c.L-p);g>c.N-n&&(g=c.N-n);c=e+1;q=d-1;var m=g+1;var r=f-1;for(k=f;k<=g;k+=1)for(f=d;f<=e;f+=1){var u=a.g.nb(f+p,k+n,!1);0<u&&(k<m&&(m=k),k>r&&(r=k),f<c&&(c=f),f>q&&(q=
f),l+=1)}0<l&&(b.J=c,b.K=m,b.L=q,b.N=r)};ha.prototype.UK=function(a){var b=a.fa;if(a.pc)if(a.P=!0,a.pc=!1,a.bd=!1,a.Yd&&a.zk(a),a.P){var c=b.L<b.J?b.J-b.L+1:b.L-b.J+1;b=b.N<b.K?b.K-b.N+1:b.N-b.K+1;a.$("selection ("+c+" x "+b+")")}else a.ym(a)};ha.prototype.xE=function(a,b,c){-1!==b&&-1!==c&&(a.cv=!0,b=a.ZC(),a.Nh?(a.CF(b),a.Nh=!1,a.Yc.current=a.oe([!1],!0,a)):(a.$l=b,a.Vd(b)))};ha.prototype.tE=function(a){a.uj&&(a.Ob=!0,a.uj=!1,a.C.ve(!0));0<a.Ma&&(a.g.bc(),a.$(""))};ha.prototype.wB=function(a,b,
c,d,f){var e=!1;-1!==a&&-1!==b&&d.C.A&&(c?(d.ga.current[0]||(d.v?d.JE(d,b):d.da?d.FE(d,b):d.rb&&d.Nb!==F.Uh&&0!==d.g.Bc?d.VE(d,b):!d.hb&&!d.wc||f?d.NE(d,a,b):d.hb?e=d.pE(d,a,b):d.wc&&d.RE(d,a,b)),e||(d.Eh=a,d.Ic=b)):-1!==d.Eh?(d.v||d.ga.current[0]||(d.hb?d.ae?d.xE(d,a,b):d.tE(d):d.wc&&d.BE(d)),d.Eh=-1,d.Ic=-1):d.v||d.ga.current[0]||(d.ae?d.Nh?d.C.notification.notify("Replace: Now click on a cell",15,180,15,!0):d.C.notification.notify("Pick: Now click on a cell",15,180,15,!0):d.na&&d.C.notification.notify("Now click to paste",
15,180,15,!0)))};ha.prototype.gg=function(a,b){this.ia||(8>this.g.zoom&&(0>a?a=-8:0<a&&(a=8),0>b?b=-8:0<b&&(b=8)),this.Ic=this.Eh=0,this.wB(a,b,!0,this,!0),this.Ic=this.Eh=-1)};ha.prototype.Mb=function(a){return Math.ceil(Math.log2(a+1))};ha.prototype.EE=function(a){var b=new Uint8Array(6*Math.ceil(a.length/8)),c,d,f,e;var g=7;for(e=c=d=0;d<a.length;){var k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a.charAt(d));for(f=5;0<=f;--f)e|=(k>>f&1)<<g,--g,0>g&&(b[c]=e,e=0,
g=7,c+=1);d+=1}7>g&&(b[c]=e);return b};ha.prototype.decode=function(a){a=new Ub(this.EE(a));var b,c=a.h(12);var d=a.h(12);var f=a.h(4);var e=c/d;var g=c/e,k=new Uint8Array(e),l=new Uint8Array(e),p=new Uint8Array(e),n=c,q=d-2*f,m=0,r=0,u=0,t=0;for(b=0;b<e;b+=1)k[b]=a.h(4),l[b]=a.h(4),n-=k[b]+l[b];var v=this.Mb(e);for(b=0;b<e;b+=1)p[b]=a.h(v);v=this.Mb(Math.ceil(-1+Math.sqrt(1-8*-n*q)/2));var B=a.h(v);var w=a.h(this.Mb(n));var z=new Uint32Array(B);z[0]=a.h(this.Mb(n));var E=a.h(this.Mb(B));for(b=1;0<
E;)z[b]=z[b-1]+1,b+=1,--E;E=b+a.h(this.Mb(B));for(v=2;b<E;)z[b]=z[b-1]+a.h(v)+1,b+=1;E=b+a.h(this.Mb(B));for(v=3;b<E;)z[b]=z[b-1]+a.h(v)+1,b+=1;for(v=this.Mb(w);b<B;)z[b]=z[b-1]+a.h(v),b+=1;v=this.Mb(Math.ceil(-1+Math.sqrt(1-8*-n*q)/2));w=a.h(v);var H=a.h(this.Mb(n));B=new Uint32Array(w);B[0]=a.h(this.Mb(n));E=a.h(this.Mb(w));for(b=1;0<E;)B[b]=B[b-1]+1,b+=1,--E;E=b+a.h(this.Mb(w));for(v=2;b<E;)B[b]=B[b-1]+a.h(v)+1,b+=1;E=b+a.h(this.Mb(w));for(v=3;b<E;)B[b]=B[b-1]+a.h(v)+1,b+=1;for(v=this.Mb(H);b<
w;)B[b]=B[b-1]+a.h(v),b+=1;v=this.Mb(q);w=new Uint32Array(q);for(b=0;b<q;b+=1)w[b]=a.h(v);v=new Uint32Array(n);for(b=H=0;b<e;b+=1){var L=k[b];var M=l[b];for(E=0;E<g-L-M;E+=1)v[H]=p[b]*g+L+E,H+=1}E=document.createElement("canvas");E.width=c;E.height=d;b=E.getContext("2d");b.clearRect(0,0,c,d);p=b.createImageData(c,d);H=new Uint32Array(p.data.buffer);g=-1;l=k=0;d=this.Mb(z.length);for(e=this.Mb(B.length);l<q;)if(-1===g)u=a.h(1),r=a.h(1),g=(w[l]+f)*c,m=0;else{E=a.h(2);switch(E){case 0:E=a.h(1);t=0===
E?4:3;break;case 1:t=0;break;case 2:E=a.h(1);1===E?t=2:(E=a.h(1),0===E?t=5:(E=a.h(1),t=0===E?6:7));break;case 3:t=1}0===t&&(0===r?(t=a.h(d),t=t===z.length?n-m:z[t]):(t=a.h(e),t=t===B.length?n-m:B[t]));for(E=0;E<t;E+=1)1===r&&(H[g+v[m]]=4294967295),1===u&&(H[g+v[m]]^=H[k+v[m]]),m+=1;r=1-r;m===n&&(k=g,l+=1,g=-1)}b.putImageData(p,0,0);return b};ha.prototype.pJ=function(a){var b=F.lr,c=[8,11,16,17,44],d,f,e;if(null===b)if(U.kr)b=U.kr;else{b=this.decode("dYAoERERERISIiIiIiIiJEM1WIZofMZlWId3d3iHd3iYiIiIiIiIh3uIuJi///M5mZMyC0EbBhyUl4KjK22WobTmDU1FnYowAQgxBSlXHn5JaKT5p7jeDIBDMugiAAgSABKlFgQIAoGA8EIEE80EEEQkdAREbIKgUAQwKWOERomkoiqgsecuwaYy0WU24SQ68O+MLBCJEHGFICBKT58+egefPnz458+fPQFQFQFQDJTROEXxnGg9L/pz7947/886KzofQOLLR0kNoL6KgNADA7oD6KgONC8kyDsX0DUlLTpGSUQIAwEEJ/////+l16AZIJYVBSoOxUVRUoEDISQK4hBAiQOgO3//6z//8oC1nBLnz58mTnQ5SxTn3vnH6Av+is6RmyM5kr9DaC/H/oApbRG0FTm/H635d5bKQLJA75rVAVAVAV1/n+255aF0NovxcVG8tJUVE9P49CUVDVB2KhKgQZT7pHFQ+stDbOq91NoID9IagotoqEqNILHqaB3fMIwYMGC4tDlLFQdKAseeo/SHk4/YdygNKm1B2mgBB3tnFukclD1nqnKB9RHKp4iQKaIKkQLJA75r1AVAVAba0dUdVH/f/EdOktI9IvfQdloDlUZeoWWUBoe9QJtQdpJBQdt7wgdI2lD1WUZkcVIVHBHVF1K1F8tAcv1JoKDeoa+RGmBUFCFqMoq4UDuFCL3fMG9N6b03pvWvE4Sf6HKWKdqA5f99AaL/R+eL31jURL/QGh6iag6gCCg6UUBJ+EPWeqckrCGt6I0RorvLunqKpUCyQO+atQFQFQFdWMX/yOdQehtE45n0VijSdQ1g3QGhqif0D+gaKg6P+UZyt5Ieo7lpXQWzamaiqiqdRaDuc9Q1vwKiNFCQRVReNj407u/nz589Dz58+eDem9N6b07chSlLFRZsgL/+pdCG6wqGsG6A4vxUT+gf0DRUHZoBBWkoXqFPTVypyW3OcEdp+VRFRIkE/jUyBZIHfz58+el58+fODBgwULUBUBXCUsVOfvcZrEx3Glaiu6UqGqDqb0Dp7SOnND6A04qUtTtR9FQeoNEfpD/+o/VVWKCP/9L8tGf/6A3fz58+el58+fODBgwW3CrKWKdvn+/f/x3U1Q2deaAPoDi+kf5/oPGg7CROVDejTiBXKnGSKcEegbSiCiBIO/nz589Lz58+cGDBgoCoCoCoCt0pYp3N+3/t+X6G0NobRGi8YxqiqmxULjQX4/U2oc06W5adVKOqGo8IbT2i9F8+MrFXUR3SBCWoqiRFQFRCJDNZ2QqylinvPnH8dvqQovXfK99Aaa7x3SdhMnMYx6JPTVypxmLjBlMKASCg7oYiQLvmnoCoC3i3bxtR1pUHHLye7Dtxyx2ohSgM26Co9TOoGpzQfSFqM0DoXPc6F5VHVIWqqEdUHVLULornpzRv9qKqW1ZXfOyFWUsU/f+f358ah0ZqtT8iLP+iqUB/H6F7oKxakpC1A4wjUElcqccQSDInhIaGEgoAhiJAu+aYkJGZbKZBlLFP95d83jjQdptuiNM40BjWiFKTRFQX4/RBS+htHaE18qT9VNT+mtF30YesaqDQG752Qqylinv47e+f0n//p/VOhu2IJlejQOgNAIUMEDYoR39LU4x35o3RE1cqcaMyKKm6Q0MJBQBD0W0V3zA4MGDBjqCoKgsMuEWoQRSxTxJIuO/oc220qjGgsap0JRUkhUFQOmcaF0BoLGgdBaZIKKVJ2q2oHRWgdMaR+o0pPCJDIkVUMijlu+YHBgwYLbjhSlLFP8u/jHfxrbVOhu2IFj9AaA0BoKEQEBYs0f+lB0aBQJxAkiCCCFTjRVAUSjQSQJxNLGMbvmBwYMGDHUFQVBYZUcKUpYp/FjP//fxr7GhMbMhK4/ROnNMUcsVYaAx/////6cqxqA6ZG6D0to/SGgMrFnU9jd8wKb03pvTencpSxT3L//+35a61RobtA8Efz0DoDHERoIIDioFDf0pMaBPJMSyk6LKiumYQlCgiiChEEkCcTO+YN6b03pvTcICoCoCt82o60p6x+L5zR+tv5Y0NjT2eNQVD1Pc9M5590DRIVAUSFFR1+Wh6jgjqatLOoSoXSmk81T61stEZ7u+YN6b03pvTeuUpYp7t7Fz047rYqfQ3aReXbeegdAZ0ToEToqDmNLHot4JnPRUyUpjQGN0TtmKChQdRFQqCSBOpTnvLu75g3pvTem9N7agKgKgKp9HaE0dzkjpZGAAMHkjpG/mO28u0yR0k5joAuNM2dE1BCCUXP6NK5qD0bgWgIvGMAAYwABmreoLGi9JaC0BUTF8oPYtSInXfz58+el58+fKmDBgwU/Lnz58miUsU7/bPjj9d6mvJAd/xeXcaA0BoDvO9n2Ql4qFg30zREuJJKUbtkhMTt9D6I0MgkgTyS13rQ8+fPnoPQOgc4YjSGKNIY4qOsskAAG/xUdULbUHT/8qjrGmYAAEXQWif56P0TpFVajs6ZRoqERCFIAAKKoIAAkAAC7+fPnz0PPnz59YEufPnyaJSxUvabLPa0v40B34PIDQGgNAaE0JIILUTT/6ZNkhYSUJ6oSu+auaM0ZpqkqQqAqQqAqQoNIAANIqQqE7xfv2nsVIVO4wABjTGdBaAUr+xp6otEiESAIAAIqKIAAkAAC753FLFT6B8xWn8tBn72oAhCgkKD/QcgiSJC13zVqAqAqAqiqSsqkrKpKkpYmpKozp9DVJVN40dj0SINmkFaDKDWJEha75hGDBgwXMUsVLzx9itQomEHu+a9QFQFQGn6lKKlKKlLL/////////4qUssaB73jlUpU9pDCQpIqG3fMG9N6b03pvXKwUHGgO/tiHfNaoCoCoCp+pa2pa2pap6paoynQlOkrV50loaHfMCm9N6b03p3KwUGLeWdE6WXu+acqgqCoFCEgAEgLRo7FTlGjsUY7Y7UJRo7BS5Shd8wODBgwXOwVFQFnu8nz589A8+fPnoHnz56EqAqAqAsufPnu+d4");
var g=b.getImageData(0,0,b.canvas.width,b.canvas.height);var k=new Uint32Array(g.data.buffer);for(d=0;d<c.length;d+=1)for(e=0;40>e;e+=1){var l=e*b.canvas.width+40*c[d];for(f=0;40>f;f+=1)0!==k[l+f]&&(k[l+f]=4285558896)}b.putImageData(g,0,0);c=document.createElement("canvas");c.width=b.canvas.width;c.height=b.canvas.height;U.kr=c.getContext("2d");U.kr.drawImage(b.canvas,0,0)}this.m=new vb(b,a);this.m.add("play",40,40);this.m.add("pause",40,40);this.m.add("tostart",40,40);this.m.add("menu",40,40);this.m.add("stepback",
40,40);this.m.add("stepforward",40,40);this.m.add("autofit",40,40);this.m.add("fit",40,40);this.m.add("grid",40,40);this.m.add("shrink",40,40);this.m.add("draw",40,40);this.m.add("hexgrid",40,40);this.m.add("lines",40,40);this.m.add("pan",40,40);this.m.add("pick",40,40);this.m.add("states",40,40);this.m.add("hexagongrid",40,40);this.m.add("trianglegrid",40,40);this.m.add("inside",40,40);this.m.add("undo",40,40);this.m.add("redo",40,40);this.m.add("drawpause",40,40);this.m.add("invertselection",40,
40);this.m.add("autoshrink",40,40);this.m.add("selectlibrary",40,40);this.m.add("cut",40,40);this.m.add("copy",40,40);this.m.add("paste",40,40);this.m.add("flipx",40,40);this.m.add("flipy",40,40);this.m.add("rotatecw",40,40);this.m.add("rotateccw",40,40);this.m.add("random",40,40);this.m.add("smart",40,40);this.m.add("outside",40,40);this.m.add("select",40,40);this.m.add("reverse",40,40);this.m.add("uturn",40,40);this.m.add("nudgeright",40,40);this.m.add("nudgeleft",40,40);this.m.add("nudgeup",40,
40);this.m.add("nudgedown",40,40);this.m.add("advancesel",40,40);this.m.add("cancelsel",40,40);this.m.add("trirectgrid",40,40);this.m.add("download",40,40);this.m.add("changestate",40,40);this.m.add("advanceoutside",40,40)};ha.prototype.eE=function(a,b,c){var d="",f,e=null;""===a&&(a="Life");a=a.replace(/[\n\r]/g,"\n");for(f=a.indexOf("\n");0===f||0<f&&"#"===a[0];)a=a.substring(f+1),f=a.indexOf("\n");f=a.indexOf("\n");-1!==f&&(a=a.substring(0,f).trim(),f=a.indexOf("rule="),-1!==f?a=a.substring(f+
6).trim():(f=a.indexOf("rule ="),-1!==f&&(a=a.substring(f+7).trim())));var g="x = 1, y = 1, rule = "+(a+"\nb!");var k=a;f=a.indexOf(":");-1!==f&&(k=a.substring(0,f));k===this.Y&&-1!==this.g.wf.indexOf("@RULE")&&(g+="\n"+this.g.wf);try{e=this.X.create("",g,this.g.T,b,c,[],!0,this)}catch(l){e=null}e&&e.I&&(d=a);return d};ha.prototype.iE=function(a,b,c){b=a.ua.indexOf("\n");c.C.notification.notify(a.h,15,300,15,!0);-1===b?c.C.notification.notify(a.ua,15,300,15,!1):c.C.notification.notify(a.ua.substring(0,
b),15,300,15,!1);c.C.ve(!0)};ha.prototype.nz=function(a,b,c){b=b[0];a=b.indexOf(":");-1!==a?(c.Y=b.substring(0,a),c.ug=b.substring(a)):(c.Y=b,c.ug="");c.Wa="";a=c.g.mh(c,c.g,!0,c.g.i,c.g.i,[],!0);c.yd&&(c.displayWidth=c.We,c.displayHeight=c.Ve);c.$h(a,!1)};ha.prototype.gE=function(a){var b=a.Y+a.ug;""===b&&(b=this.CA);var c=window.prompt("Change rule",b);null!==c&&(this.CA=b,c=a.eE(c,a.nz,a.iE),a.X.ra||(""!==c?a.nz(null,[c],a):a.iE(null,[c],a)))};ha.prototype.zp=function(a,b,c,d,f){var e=this.Y;""!==
a&&(e=e.substring(0,e.length-a.length));this.Wa=this.Y=e+=b;a=this.g.mh(this,this.g,!0,c,d,f,!0);this.yd&&(this.displayWidth=this.We,this.displayHeight=this.Ve);this.$h(a,!1)};ha.prototype.FG=function(a){a.zp(a.g.O?"History":"","Super",a.g.O?7:2,26,a.g.O?F.PH:F.jK)};ha.prototype.rG=function(a){a.zp(a.g.v?"Super":"","History",a.g.v?26:2,7,a.g.v?F.nK:F.iK)};ha.prototype.zG=function(a){a.zp(a.g.O?"History":"Super","",a.g.O?7:26,2,a.g.O?F.OH:F.oK)};ha.prototype.Gz=function(){var a=this.g.aa.v;var b="",
c,d;var f="R"+a+",C"+(this.g.aa.ca+",");a=this.X.sa(a,this.g.aa.type,this.g.aa.oa);switch(this.g.aa.type){case this.X.u:b="FC"+this.g.aa.S+"E"+this.g.aa.Y;break;case this.X.i:b="";break;case this.X.j:b="N";break;case this.X.Z:b="C";break;case this.X.$:b="2";break;case this.X.P:b="+";break;case this.X.V:b="X";break;case this.X.Y:b="*";break;case this.X.G:b="H";break;case this.X.O:b="B";break;case this.X.I:b="D";break;case this.X.S:b="#";break;case 10:b="@"+this.g.aa.V;this.g.ha?b+="H":this.g.Z&&(b+=
"L");break;case this.X.D:b="3";break;case this.X.A:b="A";break;case this.X.H:b="L";break;case this.X.v:b="G";break;case 15:b="W"+this.g.aa.V,this.g.ha?b+="H":this.g.Z&&(b+="L")}var e=this.G.random()*a/a;f+="S";var g=-1;for(c=d=0;d<a;)this.G.random()<e?-1===g&&(0<c&&(f+=","),f+=String(d),g=d,c+=1):-1!==g&&(g!==d-1&&(f+="-"+String(d-1)),g=-1),d+=1;-1!==g&&g!==d-1&&(f+="-"+String(d-1));0===c&&(g=this.G.random()*a|0,f+=String(g));f+=",B";e=this.G.random()*(a-1)/(a-1);g=-1;d=1;for(c=0;d<a;)this.G.random()<
e?-1===g&&(0<c&&(f+=","),f+=String(d),g=d,c+=1):-1!==g&&(g!==d-1&&(f+="-"+String(d-1)),g=-1),d+=1;-1!==g&&g!==d-1&&(f+="-"+String(d-1));0===c&&(g=this.G.random()*(a-1)|1,f+=String(g));""!==b&&(f+=",N"+b);this.g.aa.ea&&(f+=",P",-1!==this.g.aa.ma&&(f=-1>this.g.aa.ma?f+"#":f+this.g.aa.ma,-1!==this.g.aa.la&&(f=-1>this.g.aa.la?f+",#":f+(","+this.g.aa.la),-1!==this.g.aa.ia&&(f=-1>this.g.aa.ia?f+",#":f+(","+this.g.aa.ia)))));return f};ha.prototype.Iz=function(){var a=this.g.aa.v;var b="";var c="R"+a+",C"+
(this.g.aa.ca+",");c+="M1,";a=this.X.sa(a,this.g.aa.type,this.g.aa.oa);a+=1;switch(this.g.aa.type){case this.X.u:b="FC"+this.g.aa.S+"E"+this.g.aa.Y;break;case this.X.i:b="M";break;case this.X.j:b="N";break;case this.X.Z:b="C";break;case this.X.$:b="2";break;case this.X.P:b="+";break;case this.X.V:b="X";break;case this.X.Y:b="*";break;case this.X.G:b="H";break;case this.X.O:b="B";break;case this.X.I:b="D";break;case this.X.S:b="#";break;case 10:b="@"+this.g.aa.V;this.g.ha?b+="H":this.g.Z&&(b+="L");
break;case this.X.D:b="3";break;case this.X.A:b="A";break;case this.X.H:b="L";break;case this.X.v:b="G";break;case 15:b="W"+this.g.aa.V,this.g.ha?b+="H":this.g.Z&&(b+="L")}var d=this.G.random()*a|0;c+="S"+String(d);d=(this.G.random()*(a-d)|0)+d;c+=".."+String(d);d=(this.G.random()*(a-1)|0)+1;c+=",B"+String(d);d=(this.G.random()*(a-d)|0)+d;c+=".."+String(d);return c+(",N"+b)};ha.prototype.Oz=function(){var a="W";var b=2*(127*this.G.random()|0);return a+=String(b)};ha.prototype.Kz=function(a){var b=
"B",c,d,f=8,e="";if(this.g.ha)switch(this.g.jh){case this.X.pa:f=6;e=this.X.Wa;break;case this.X.qa:f=3,e=this.X.Ib}else if(this.g.Z)switch(this.g.lh){case this.X.la:f=3;e=this.X.Fa;break;case this.X.ua:f=6;e=this.X.lb;break;case this.X.va:f=6;e=this.X.mb;break;case this.X.ma:f=9;e=this.X.Ia;break;case this.X.ia:f=12;e=this.X.Ha;break;case this.X.ta:f=9;e=this.X.kb;break;case this.X.wa:f=3,e=this.X.nb}else this.g.wd&&(f=4,e=this.X.rb);var g=new Uint8Array(f+1);var k=new Uint8Array(f+1);var l=d=50;
-1!==this.af&&(l=d=this.af);-1!==this.bf&&(d=this.bf);-1!==this.wg&&(l=this.wg);for(c=0;c<=f;c+=1)g[c]=d,k[c]=l;-1===this.af&&-1===this.bf&&(g[0]=25);for(c=0;c<this.Zc.length;c+=2)this.Zc[c]<=f&&(g[this.Zc[c]]=this.Zc[c+1]);for(c=0;c<this.Sd.length;c+=2)this.Sd[c]<=f&&(k[this.Sd[c]]=this.Sd[c+1]);for(c=2<this.g.i||a?1:0;c<=f;)100*this.G.random()<=g[c]&&(b+=String(c)),c+=1;b+="/S";for(c=0;c<=f;c+=1)100*this.G.random()<=k[c]&&(b+=String(c));2<this.g.i&&!this.g.v&&!this.g.G&&(b+="/"+this.g.i);return b+=
e.toUpperCase()};ha.prototype.Mz=function(a){var b=a?"2PCA4,":"M",c,d=!1;var f=0;var e=[];var g=this.g.ic;if(this.En){d=new Uint8Array(16);a=new Uint8Array(16);for(c=0;16>c;c+=1)d[c]=c,a[c]=g[c];for(c=0;16>c;c+=1){var k=g[c];for(f=a=0;16>f;f+=1)k===g[f]&&(a+=1);var l=new Uint8Array(a);for(f=a=0;16>f;f+=1)k===g[f]&&(l[a]=f,a+=1);e[c]=l}for(c=1;16>c;c+=1).5>=this.G.random()&&(l=e[c],a=this.G.random()*l.length|0,a=l[a],g=d[c],d[c]=d[a],d[a]=g);for(c=0;15>c;c+=1)b+=d[c]+",";b+=d[c]}else if(this.Cn){c=
16;a?(a=0,f|=1):(a=16*this.G.random()|0,15===a?(d=!0,f|=32769,--c):(a=0,f|=1));b+=String(a);for(--c;65535!==f;){a=this.G.random()*c|0;for(k=0;0<=a;)0===(f&1<<k)&&--a,k+=1;b+=","+String(k-1);f|=1<<k-1;--c}d&&(b+=",0")}else{a?a=0:(a=16*this.G.random()|0,15===a?d=!0:a=0);b+=String(a)+",";for(c=1;15>c;c+=1)a=16*this.G.random()|0,b+=String(a)+",";a=d?0:16*this.G.random()|0;b+=String(a)}return b};ha.prototype.nm=function(a,b){var c="",d,f,e=0,g,k=[],l=a.lm,p=a.pm,n=a.wj/100,q=!1;-1!==a.Y.indexOf("|")&&
(q=!0);if(2>=a.g.i||a.sm){k[0]="b";k[1]="o";var m=2}else for(m=a.g.i,k[0]=".",f=0;f<m-1;f+=1)k[f+1]=24<=f?String.fromCharCode(112+(f/24|0)-1)+String.fromCharCode(65+f%24):String.fromCharCode(65+f);-1!==a.g.Td&&(l=1);for(d=0;d<l;d+=1){if(this.g.s){var r=0;this.G.random()<=n&&(r|=1);this.G.random()<=n&&(r|=2);this.G.random()<=n&&(r|=4);this.G.random()<=n&&(r|=8)}else r=this.G.random()<=n?(this.G.random()*(m-1)|0)+1:0;for(f=g=1;f<p;f+=1)this.g.s?(e=0,this.G.random()<=n&&(e|=1),this.G.random()<=n&&(e|=
2),this.G.random()<=n&&(e|=4),this.G.random()<=n&&(e|=8)):e=this.G.random()<=n?(this.G.random()*(m-1)|0)+1:0,e!==r&&(1<g&&(c+=g),c+=k[r],g=0,r=e),g+=1;0!==e&&(1<g&&(c+=g),c+=k[e]);d<l-1&&(c+="$\n")}c+="!\n";a.om||b||(a.g.D||(a.g.ja||a.g.s?(a.Y=a.Mz(a.g.s),q&&(a.Y+="|"+a.Mz(a.g.s))):a.g.Da?a.Gy?(a.Y=a.Iz(),q&&(a.Y+="|"+a.Iz())):(a.Y=a.Gz(),q&&(a.Y+="|"+a.Gz())):-1!==a.g.Td?(a.Y=a.Oz(),q&&(a.Y+="|"+a.Oz())):(a.Y=a.Kz(q),q&&(a.Y+="|"+a.Kz(q)))),a.g.O&&(a.Y+="History"),a.g.v&&(a.Y+="Super"),a.g.G&&(a.Y+=
"Investigator"),b=db.Sp(a.Y),a.Wa=null!==b?b:"");b=a.g.di;b+="x = "+a.pm+", y = "+a.lm+", rule = ";b+=(""===a.Wa?a.Y:a.Wa)+a.ug+"\n";b=b+c+a.g.wf;if(a.Pd.locked||a.$j||2===a.ma&&0!==a.Eb[1].tg||window.confirm("Create new random pattern?"))a.yd&&(a.displayWidth=a.We,a.displayHeight=a.Ve),a.$h(b,!1),a.hE(a)};ha.prototype.AB=function(a){var b=window.prompt("Create new pattern with rule",a.Y+a.ug);null!==b&&(b=a.eE(b,a.NB,a.IB),a.X.ra||(""!==b?a.NB(null,[b],a):a.IB(null,[b],a)))};ha.prototype.IB=function(a,
b,c){b=a.ua.indexOf("\n");c.C.notification.notify(a.h,15,300,15,!0);-1===b?c.C.notification.notify(a.ua,15,300,15,!1):c.C.notification.notify(a.ua.substring(0,b),15,300,15,!1);c.C.ve(!0)};ha.prototype.NB=function(a,b,c){a=b[0];b="x = 1, y = 1, rule = "+a+"\nb!";c.yd&&(c.displayWidth=c.We,c.displayHeight=c.Ve);var d=a;var f=a.indexOf(":");-1!==f&&(d=a.substring(0,f));f=this.g.wf.indexOf("@RULE");d===this.Y&&-1!==f&&(b+="\n"+this.g.wf.substring(f));c.$h(b,!1)};ha.prototype.iA=function(){this.hd.h=this.g.ha?
this.g.Fa?[this.m.h("hexgrid")]:[this.m.h("hexagongrid")]:this.g.Z?this.g.Fa?[this.m.h("trirectgrid")]:[this.m.h("trianglegrid")]:[this.m.h("grid")]};ha.prototype.mG=function(a,b){a.C.A&&(a.jh||(a.yj=-b.deltaY,1===b.deltaMode&&(a.yj*=45),a.C.ve(!0)),b.preventDefault())};ha.prototype.Mu=function(){var a=this.s.Y(0===this.Zm?0:this.Kc/this.Zm),b=this.Eg,c=this.Qk,d=this.Fg,f=this.Gi;this.g.ma=this.g.width/2-(this.Gg+a*(this.Wf-this.Gg));this.g.ka=this.g.height/2-(this.Hg+a*(this.Hi-this.Hg));this.g.zoom=
this.ii*Math.pow(this.Ii/this.ii,a);180<c-b?b+=360:-180>c-b&&(c+=360);this.g.angle=(b+a*(c-b))%360;this.g.Gb=d+a*(f-d);this.mo&&(this.g.nc=this.qt+a*(this.ht-this.qt),this.Ea.current=this.pf([this.g.nc,this.g.nc],!1,this));this.hn&&(this.g.Aa=this.tt+a*(this.jt-this.tt),this.kb.current=this.Jl([this.g.Aa,this.g.Aa],!1,this));this.Kc+=1;this.Kc>this.Zm&&(this.Kc=-1,this.g.zoom=this.Ii,this.g.angle=c%360,this.g.Gb=this.Gi,this.g.ma=this.g.width/2-this.Wf,this.g.ka=this.g.height/2-this.Hi,this.mo&&(this.g.nc=
this.ht,this.Ea.current=this.pf([this.g.nc,this.g.nc],!1,this)),this.hn&&(this.g.Aa=this.jt,this.kb.current=this.Jl([this.g.Aa,this.g.Aa],!1,this)));this.kc&&(this.kc.current=this.Qd([this.g.zoom,this.g.zoom],!1,this));this.sa&&(this.sa.current=this.Rg([this.g.angle,this.g.angle],!1,this));this.fb&&(this.fb.current=this.Qj([this.Hk(this.g.Gb),this.g.Gb],!1,this))};ha.prototype.fK=function(){var a=this.s,b=a.m.length,c,d=this.S,f=this.V,e=a.D();for(c=0;c<b;c+=1){var g=a.m[c];e.Xg=!0;e.x=-g.x+d/2;e.Af=
!0;e.y=-g.y+f/2;e.hf=!0;e.zoom=g.zoom;e.re=!0;a.add(e,this);c<b-1&&(e=a.D())}};ha.prototype.it=function(a,b){var c=a.s.i[b];a.Gg=a.g.width/2-a.g.ma;a.Hg=a.g.height/2-a.g.ka;a.ii=a.g.zoom;a.Eg=a.g.angle;a.Fg=a.g.Gb;a.Wf=c.Af?c.x:a.Gg;a.Hi=c.hf?c.y:a.Hg;a.Ii=c.re?c.zoom:a.ii;a.Qk=c.Wg?c.angle:a.Eg;a.Gi=c.dh?c.Gb:a.Fg;a.g.ha&&(a.Wf+=a.g.ka/2);a.mo=c.Kh;a.mo&&(a.qt=a.g.nc,a.ht=c.depth/F.jm);a.hn=c.Vh;a.hn&&(a.tt=a.g.Aa,a.jt=c.Aa);a.Kc=0;a.Zm=c.i;a.Mu();c.j&&a.fD(a);c.h===Va.play?a.hc.current=a.Od(F.rj,
!0,a):c.h===Va.stop&&a.Ob&&(a.hc.current=a.Od(F.ue,!0,a));c.xe&&a.yg(c.Mc,a.g.Re,a);a.C.notification.notify("POI "+(b+1),15,60,15,!0);""!==c.we?a.C.notification.notify(c.we,15,180,15,!1):a.C.notification.clear(!1,!0);c.ti&&(a.uc=c.uc);c.gi&&(a.Sb=c.Sb);c.sf&&(a.ca=Math.sqrt((c.dd-F.Bg)/(a.ec-F.Bg)));c.De&&(a.O=c.step);if(c.sf||c.De)a.dc.current=a.yc([a.kf(),1],!0,a);c.vq&&(a.g.counter>c.Ac&&a.fD(a),a.g.counter<c.Ac&&(a.jh=!0,a.Kq=c.Ac,a.Jq=!1));c.Wk&&(a.g.Ya=c.grid);c.ds&&(this.Jc=c.ql);c.$r&&(this.Rm=
c.ep)};ha.prototype.Rc=function(a,b,c){var d=b/a.g.eb;c&&(b=1<=b?Math.round(b):1/Math.round(1/b),d=b/a.g.eb);a.ab||(a.Gg=a.g.width/2-a.g.ma,a.Hg=a.g.height/2-a.g.ka,a.ii=a.g.zoom,a.Eg=a.g.angle,a.Fg=a.g.Gb,a.Wf=a.Gg,a.Hi=a.Hg,a.Ii=d,a.Qk=a.Eg,a.Gi=a.Fg,a.Kc=0)};ha.prototype.nI=function(a){a.dc.current=a.yc([1,1],!0,a)};ha.prototype.WK=function(a){a.Io(a)};ha.prototype.uF=function(a){a.Ts(a)};ha.prototype.IE=function(a){a.pb&&a.il(a);-1!==a.Ta&&a.Ym(a,!0,!0)};ha.prototype.aG=function(a){var b=U.rr(F.$x);
b=window.prompt("Enter refresh rate",0===b?"Auto":String(b));if(null!==b){if("auto"===b.toLowerCase())b=0;else if(b=parseInt(b,10),25>b||500<b)a.C.notification.notify("Invalid refresh rate specified",15,240,15,!0),b=-1;0<=b&&(U.nD(F.$x,b),U.pq=0!==b,0===b&&(b=U.sA),a.ec=b,a.C.ec=b,U.ec=b)}};ha.prototype.Ak=function(a){a.yf||a.zf||a.xf||a.le||a.Bf||a.me||a.wf?(a.yf=!1,a.zf=!1,a.le=!1,a.xf=!1,a.Bf=!1,a.wf=!1,a.me=!1):a.ga.current=[!1]};ha.prototype.EF=function(a){a.xf=!0};ha.prototype.qE=function(a){a.le=
!0};ha.prototype.PK=function(a){a.yf=!0};ha.prototype.uK=function(a){a.wf=!0};ha.prototype.uE=function(a){a.Bf=!0};ha.prototype.$G=function(a){a.zf=!0};ha.prototype.iJ=function(a){a.AB(a)};ha.prototype.iF=function(a){a.nm(a,!1)};ha.prototype.dF=function(a){a.nm(a,!0)};ha.prototype.oz=function(a){a.hE(a);a.P?a.C.notification.notify("Selection saved",15,120,15,!0):a.C.notification.notify("Pattern saved",15,120,15,!0)};ha.prototype.BI=function(a){a.oB(a)};ha.prototype.dG=function(a){a.gE(a)};ha.prototype.rJ=
function(a){a.me=!0};ha.prototype.HK=function(a,b,c,d){b&&(a[0]?(b=d-c.aA,c.yg(F.zq[b],1,c),c.ga.current[0]&&(c.ga.current=c.nf([!1],!0,c))):(c.ga.current[0]&&(c.ga.current=c.nf([!1],!0,c)),a[0]=!0));return a};ha.prototype.Js=function(a){a.rb=!1};ha.prototype.AG=function(a){a.Uz(a)};ha.prototype.hA=function(a){a.g.Tl()};ha.prototype.fA=function(a){a.g.Sl()};ha.prototype.sG=function(a){a.g.Rl()};ha.prototype.lE=function(a){a.g.Ql()};ha.prototype.Sz=function(a){"Empty"===a.Ab||"none"===a.Ab||""===a.Ab?
a.C.notification.notify("No Identify Results",15,120,15,!1):(0!==a.v&&(a.v=0,a.od.current=a.mf([0!==a.v],!0,a)),a.ga.current[0]&&(a.ga.current=a.nf([!1],!0,a),a.C.m=!0),a.Pe.current=a.Cl(F.Wj,!0,a),a.Kd.current=a.Oj(F.Uh,!0,a),a.g.Na=0,a.rb=!0)};ha.prototype.ZF=function(a){a.Ca=!1;a.Ne.current=a.Oo([a.Ca],!0,a)};ha.prototype.hF=function(){Wb()};ha.prototype.IF=function(a){a.Vb=[];a.da=0;a.kt(a.ra.current)};ha.prototype.GC=function(a){--a.Hc;0>a.Hc&&(a.Hc=a.s.i.length-1);a.it(a,a.Hc)};ha.prototype.QB=
function(a){a.Hc+=1;a.Hc>=a.s.i.length&&(a.Hc=0);a.it(a,a.Hc)};ha.prototype.OJ=function(a){a.Ua+=1;a.Ua>=U.Ce.length&&(a.Ua=0);a.$h(U.Ce[a.Ua].pattern,!1)};ha.prototype.yE=function(a){--a.Ua;0>a.Ua&&(a.Ua=U.Ce.length-1);a.$h(U.Ce[a.Ua].pattern,!1)};ha.prototype.dI=function(a){a.xt();a.v&&(a.v=0);a.ga.current[0]=!1;a.C.m=!0};ha.prototype.gH=function(a){a.jk=!0};ha.prototype.RK=function(a){a.xc(F.Pg,a)};ha.prototype.kF=function(a,b){var c=0;if((a.g.O||a.g.v)&&b)for(;c<a.ea.length;)1<a.ea[c]&&(a.ea[c]&=
1),c+=1;else for(;c<a.ea.length;)a.ea[c]=0,c+=1};ha.prototype.vz=function(a){var b=a.fa,c=b.J,d=b.L,f=b.K;b=b.N;var e=a.g.A,g;var k=(a.g.width>>1)-(a.S>>1)+(a.aa<<1);var l=(a.g.height>>1)-(a.V>>1)+(a.ba<<1);var p=0;if(!a.I&&a.P){-1!==a.g.S&&(k=this.H,l=this.F);if(c>d){var n=d;d=c;c=n}f>b&&(n=b,b=f,f=n);c+=k;d+=k;f+=l;b+=l;a.g.Nb=!0;a.g.bc();n=e.J;l=e.K;k=e.L;e=e.N;for(g=l;g<=e;g+=1)for(l=n;l<=k;l+=1)if(!(g>=f&&g<=b&&l>=c&&l<=d)){var q=a.g.nb(l,g,!1);0!==q&&(p|=a.oa(l,g,0,!1))}(a.g.O||a.g.v)&&p&&this.g.rb();
a.g.Nb=!0;a.g.bc();a.$("clear cells outside selection")}};ha.prototype.wF=function(a,b){var c=a.fa,d=c.J,f=c.L,e=c.K;c=c.N;var g=(a.g.width>>1)-(a.S>>1)+(a.aa<<1),k=(a.g.height>>1)-(a.V>>1)+(a.ba<<1);if(!a.I&&a.P){-1!==a.g.S&&(g=this.H,k=this.F);if(d>f){var l=f;f=d;d=l}e>c&&(l=c,c=e,e=l);if((a.g.O||a.g.v)&&b)for(l=e;l<=c;l+=1)for(e=d;e<=f;e+=1){var p=a.g.nb(e+g,l+k,!1);1<p&&a.oa(e+g,l+k,p&1,!1)}else for(l=e;l<=c;l+=1)for(e=d;e<=f;e+=1)p=a.g.nb(e+g,l+k,!1),0!==p&&a.oa(e+g,l+k,0,!1);(a.g.O||a.g.v)&&
this.g.rb();a.g.Nb=!0;a.g.bc();a.bd=!1;(a.g.O||a.g.v)&&b?a.g.O?a.$("clear History cells in selection"):a.$("clear Super cells in selection"):a.$("clear cells in selection")}};ha.prototype.GH=function(a){a.Rc(a,a.g.zoom*a.g.eb,!0)};ha.prototype.pF=function(a){a.yb(!0,!0,F.Rp)};ha.prototype.UE=function(a){a.yb(!0,!0,F.Eu)};ha.prototype.dt=function(a,b){a.I||(a.na?a.kF(a,b):a.wF(a,b))};ha.prototype.AF=function(a){a.dt(a,!1)};ha.prototype.gF=function(a){a.vz(a)};ha.prototype.sF=function(a){a.dt(a,!0)};
ha.prototype.dE=function(a){a.ra.current!==F.el&&(a.ra.current=a.ze(F.el,!0,a));a.Nh=!0;a.Yc.current=a.oe([!0],!0,a)};ha.prototype.Rs=function(a){var b=this.fa,c=this.g.A,d=(this.g.width>>1)-(this.S>>1)+(this.aa<<1),f=(this.g.height>>1)-(this.V>>1)+(this.ba<<1);-1!==this.g.S&&(d=this.H,f=this.F);0<this.g.B||!a?(this.g.Nb=!0,this.g.bc(),this.g.v||this.g.G||this.g.D||!(this.g.s||this.g.Da&&2===this.g.i||2<this.g.i)?(b.J=c.J-d,b.K=c.K-f,b.L=c.L-d,b.N=c.N-f):(this.g.Dn(b),b.J-=d,b.L-=d,b.K-=f,b.N-=f),
this.P=!0,this.bd=!1,c=b.L<b.J?b.J-b.L+1:b.L-b.J+1,b=b.N<b.K?b.K-b.N+1:b.N-b.K+1,a&&this.$("select all ("+c+" x "+b+")")):(this.C.notification.notify("No live cells to Select",15,120,15,!1),this.P&&this.ym(this))};ha.prototype.uz=function(a){a.Rs(!0)};ha.prototype.KC=function(a,b,c){a.I||(!a.Tg&&a.Xb&&(b?a.Ai(a):a.I?a.Ai(a):c?a.Dn(a,!0):a.Dn(a,!1)),a.Gp(a,a.zb,!1,!1))};ha.prototype.rK=function(a){a.KC(a,!1,!1)};ha.prototype.Gp=function(a,b,c,d){var f=a.fa,e=f.J,g=f.L,k=f.K;f=f.N;var l,p=0,n=a.g.i,
q=2<n&&!(this.g.la||this.g.s||this.g.D||this.g.v||this.g.G),m=(a.g.width>>1)-(a.S>>1)+(a.aa<<1),r=(a.g.height>>1)-(a.V>>1)+(a.ba<<1),u=0;if(a.P){if(e>g){var t=g;g=e;e=t}k>f&&(t=f,f=k,k=t);var v=g-e+1;var B=f-k+1;-1!==a.g.S&&(m=this.H,r=this.F);var w=a.g.T.h(ra.cb,v*B,"View.pasteBuffer"+b,!1);t=0;for(l=k;l<=f;l+=1)for(k=e;k<=g;k+=1){var z=a.g.nb(k+m,l+r,!1);0<z&&q&&(z=n-z);w[t]=z;0<z&&(p+=1);u|=a.oa(k+m,l+r,0,!1);t+=1}(a.g.O||a.g.v)&&u&&this.g.rb();a.bb[b]={buffer:w,width:v,height:B,count:p};a.ea=
w;a.Ec=v;a.Dc=B;a.Kk();a.g.Nb=!0;a.g.bc();a.ln=!0;a.bd=!0;d||(c?a.$("advance outside"):a.$("cut"))}};ha.prototype.wn=function(a,b,c){0!==a.v?($a.ku=!0,$a.im="",$a.qB(a),a.Ge(a,$a.im),$a.ku=!1,$a.im=""):(a.Tg||!a.Xb&&a.P||(b?a.Ai(a):a.I?a.Ai(a):c?a.Dn(a,!0):a.Dn(a,!1)),a.P&&(a.lI(a,a.zb),a.po||(a.po=!0,a.C.notification.notify("Disable Sync for faster internal clipboard",15,360,15,!1))))};ha.prototype.dL=function(a){a.yn(a,!0,!1)};ha.prototype.cJ=function(a){a.wn(a,!1,!0)};ha.prototype.QH=function(a){a.wn(a,
!0,!1)};ha.prototype.FH=function(a){a.Cz(a)};ha.prototype.bI=function(a){a.Hn(a,!1)};ha.prototype.AI=function(a){a.Hn(a,!0)};ha.prototype.TB=function(a){navigator.clipboard.readText().then(b=>a.YI(a,b))};ha.prototype.eI=function(a){a.wn(a,!1,!1)};ha.prototype.XI=function(a){var b=a.fa,c=b.J,d=b.K,f=b.L,e=b.N,g,k,l=(a.g.width>>1)-(a.S>>1)+(a.aa<<1),p=(a.g.height>>1)-(a.V>>1)+(a.ba<<1),n=!0;b=[];if(a.P){if(c>f){var q=c;c=f;f=q}d>e&&(q=d,d=e,e=q);q=f-c+1;if(q!==e-d+1)a.C.notification.notify("Weighted needs a square selection",
15,180,15,!0),n=!1;else if(0===(q&1))a.C.notification.notify("Weighted size must be odd",15,180,15,!0),n=!1;else if(3>q||99<q)a.C.notification.notify("Weighted size must be >= 3 and <= 99",15,180,15,!0),n=!1;if(n){n="";var m=0;for(k=d;k<=e;k+=1)for(g=c;g<=f;g+=1)d=a.g.nb(g+l,k+p,!1),b[b.length]=d,d>m&&(m=d);if(7>=m)for(c=0;c<b.length;c+=1)d=b[c],n+="0123456789abcdef"[d];else for(c=0;c<b.length;c+=1)d=b[c],n+="0123456789abcdef"[d>>4],n+="0123456789abcdef"[d&15];a.g.ha?n+="H":a.g.Z&&(n+="L");a.Ge(a,
n);a.C.notification.notify("Weighted R"+(q-1>>1)+" copied to clipboard",15,180,15,!0)}}else a.C.notification.notify("Weighted needs a selection",15,180,15,!0)};ha.prototype.WF=function(a){var b="",c;for(c=a.length-1;0<=c;--c){var d="0123456789abcdef".indexOf(a[c]);d=(d&1)<<3|(d&2)<<1|(d&4)>>1|(d&8)>>3;b+="0123456789abcdef"[d]}return b};ha.prototype.eH=function(a){var b=a.fa,c=b.J,d=b.K,f=b.L;b=b.N;var e=0,g,k=(a.g.width>>1)-(a.S>>1)+(a.aa<<1),l=(a.g.height>>1)-(a.V>>1)+(a.ba<<1);var p=!0;if(a.P){if(c>
f){var n=c;c=f;f=n}d>b&&(n=d,d=b,b=n);n=f-c+1;if(n!==b-d+1)a.C.notification.notify("CoordCA needs a square selection",15,180,15,!0),p=!1;else if(0===(n&1))a.C.notification.notify("CoordCA size must be odd",15,180,15,!0),p=!1;else if(3>n||99<n)a.C.notification.notify("CoordCA size must be >= 3 and <= 99",15,180,15,!0),p=!1;if(p){var q="";var m=d+(b-d+1>>1);var r=c+(f-c+1>>1);var u=3;for(g=d;g<=b;g+=1)for(p=c;p<=f;p+=1)if(g!==m||p!==r){var t=a.g.nb(p+k,g+l,!1);0<t&&(e|=1<<u);--u;0>u&&(q+="0123456789abcdef"[e],
u=3,e=0)}a.g.ha?q+="H":a.g.Z&&(0===(c+k+d+l&1)&&(q=this.WF(q)),q+="L");a.Ge(a,q);a.C.notification.notify("CoordCA R"+(n-1>>1)+" copied to clipboard",15,180,15,!0)}}else a.C.notification.notify("CoordCA needs a selection",15,180,15,!0)};ha.prototype.Cz=function(a){2<a.g.i?a.XI(a):a.eH(a)};ha.prototype.lI=function(a,b){var c=a.fa,d=c.J,f=c.K,e=c.L;c=c.N;var g,k=0,l=a.g.i,p=2<l&&!(a.g.la||a.g.s||a.g.D||a.g.v||a.g.G),n=a.H-a.aa,q=a.F-a.ba;if(a.P){if(d>e){var m=d;d=e;e=m}f>c&&(m=f,f=c,c=m);var r=e-d+1;
var u=c-f+1;a.mc&&(-1!==a.g.S?(n+=a.ac-d,q+=a.sc-f):(n+=2*a.ac,q+=2*a.sc));var t=a.g.T.h(ra.cb,r*u,"View.pasteBuffer"+b,!1);m=0;for(g=f;g<=c;g+=1)for(f=d;f<=e;f+=1){var v=a.g.nb(f+n,g+q,!1);0<v&&p&&(v=l-v);t[m]=v;0<v&&(k+=1);m+=1}a.bb[b]={buffer:t,width:r,height:u,count:k};a.ea=t;a.Ec=r;a.Dc=u;a.Kk();a.ln=!0;a.bd=!0}};ha.prototype.nn=function(a){a.na=!1;a.C.notification.clear(!0,!1)};ha.prototype.lt=function(a,b){var c=a.Ld.current,d=a.Xb,f=a.zb,e=a.fa,g=e.J,k=e.L,l=e.K,p=e.N,n,q=a.g.i,m=2<q&&!(this.g.la||
this.g.s||this.g.D||this.g.v||this.g.G),r=(a.g.width>>1)-(a.S>>1)+(a.aa<<1),u=(a.g.height>>1)-(a.V>>1)+(a.ba<<1),t;if(b)a.P&&(a.zb=F.tj,a.Xb=!1,a.Gp(a,a.zb,!0,!1),a.Xb=d,a.g.gl(a.qb),a.g.Sf(),a.ja=a.g.counter*a.ec,a.g.eg(a),a.$(""),a.Ld.current=1,a.Xb=!1,a.yn(a,!0,!0),a.Xb=d,a.Ld.current=c,a.zb=f);else if(a.P){if(g>k){var v=k;k=g;g=v}l>p&&(v=p,p=l,l=v);a.Rs(!1);b=e.J;c=e.L;d=e.K;f=e.N;b>c&&(v=c,c=b,b=v);d>f&&(v=f,f=d,d=v);-1!==a.g.S&&(r=this.H,u=this.F);var B=new Uint8Array((c-b+1)*(f-d+1));var w=
t=0;for(n=d;n<=f;n+=1)for(v=b;v<=c;v+=1){if(!(v>=g&&v<=k&&n>=l&&n<=p)){var z=a.g.nb(v+r,n+u,!1);0<z&&m&&(z=q-z);B[w]=z;t|=a.oa(v+r,n+u,0,!1)}w+=1}(a.g.O||a.g.v)&&t&&this.g.rb();a.g.Nb=!0;a.g.bc();e.J=g;e.L=k;e.K=l;e.N=p;a.$("advance selection");a.g.gl(a.qb);a.g.Sf();a.ja=a.g.counter*a.ec;a.g.eg(a);a.$("");a.Rs(!1);if(e.J<g||e.L>k||e.K<l||e.N>p){w=t=0;for(n=e.K;n<=e.N;n+=1)for(v=e.J;v<=e.L;v+=1)v>=g&&v<=k&&n>=l&&n<=p||(t|=a.oa(v+r,n+u,0,!1)),w+=1;(a.g.O||a.g.v)&&t&&this.g.rb();a.g.Nb=!0;a.g.bc()}w=
t=0;for(n=d;n<=f;n+=1)for(v=b;v<=c;v+=1)v>=g&&v<=k&&n>=l&&n<=p||(t|=a.oa(v+r,n+u,B[w],!1)),w+=1;(a.g.O||a.g.v)&&t&&this.g.rb();a.g.Nb=!0;a.g.bc();e.J=g;e.L=k;e.K=l;e.N=p;a.$("advance selection")}};ha.prototype.Ls=function(a,b,c,d){var f=a.Ec,e=a.Dc,g=a.ea;var k=a.Rb;var l=a.g.width;var p=a.g.height;var n=0;switch(a.rc+.5|0){case F.QC:b-=f>>1;break;case F.RC:b-=f-1;break;case F.VC:c-=e>>1;break;case F.PC:b-=f>>1;c-=e>>1;break;case F.OC:b-=f-1;c-=e>>1;break;case F.UC:c-=e-1;break;case F.SC:b-=f>>1;
c-=e-1;break;case F.TC:b-=f-1,c-=e-1}k.J=b;k.K=c;k.L=b+f;k.N=c+e;for(a.Dk(a,k);l!==a.g.width;)b+=l>>1,l<<=1;for(;p!==a.g.height;)c+=p>>1,p<<=1;switch(this.RF()){case F.Ro:for(p=k=0;p<e;p+=1)for(l=0;l<f;l+=1){var q=g[k];if(this.g.s){var m=this.g.nb(b+l,c+p,!1);n|=a.oa(b+l,c+p,m|q,!1)}else 0<q&&(n|=a.oa(b+l,c+p,q,!1));k+=1}break;case F.hq:for(p=k=0;p<e;p+=1)for(l=0;l<f;l+=1)q=g[k],n|=a.oa(b+l,c+p,q,!1),k+=1;break;case F.Kr:for(p=k=0;p<e;p+=1)for(l=0;l<f;l+=1)q=g[k],m=this.g.nb(b+l,c+p,!1),n|=a.oa(b+
l,c+p,m^q,!1),k+=1;break;case F.Jr:for(p=k=0;p<e;p+=1)for(l=0;l<f;l+=1)q=g[k],m=this.g.nb(b+l,c+p,!1),n|=a.oa(b+l,c+p,m&q,!1),k+=1}(a.g.O||a.g.v||a.g.G)&&n&&this.g.rb();a.na=!1;a.C.notification.clear(!0,!1);d&&a.$("paste")};ha.prototype.qg=function(a,b,c){var d=(a.g.width>>1)-(a.S>>1)+(a.aa<<1),f=(a.g.height>>1)-(a.V>>1)+(a.ba<<1),e=a.fa,g=e.J,k=e.K,l=e.L,p=e.N;var n=0;var q=a.g.width-1;var m=0;var r=a.g.height-1,u=0;if(!a.I&&a.P){if(g>l){var t=l;l=g;g=t}k>p&&(t=p,p=k,k=t);t=l-g+1;var v=p-k+1;-1!==
a.g.S&&(d=this.H,f=this.F);-1!==a.g.S&&(0!==a.g.ca?(n=Math.round((a.g.width-a.g.ca)/2)-1,q=n+a.g.ca-1+2):(n=0,q=a.g.width-1),0!==a.g.$?(m=Math.round((a.g.height-a.g.$)/2)-1,r=m+a.g.$-1+2):(m=0,r=a.g.height-1));-1===a.g.S&&(a.Ck(g+d+b,k+f+c),d=(a.g.width>>1)-(a.S>>1)+(a.aa<<1),f=(a.g.height>>1)-(a.V>>1)+(a.ba<<1),e=a.fa,g=e.J,k=e.K,l=e.L,p=e.N,g>l&&(l=g),k>p&&(p=k),-1!==a.g.S&&(d=this.H,f=this.F),a.Ck(l+d+b,p+f+c),d=(a.g.width>>1)-(a.S>>1)+(a.aa<<1),f=(a.g.height>>1)-(a.V>>1)+(a.ba<<1),e=a.fa,g=e.J,
k=e.K,l=e.L,p=e.N,g>l&&(t=l,l=g,g=t),k>p&&(t=p,p=k,k=t),t=l-g+1,v=p-k+1,-1!==a.g.S&&(d=this.H,f=this.F));a.g.Da&&(-1===a.g.S?(n+=2*a.g.aa.m+1,q-=2*a.g.aa.m+1,m+=2*a.g.aa.v+1,r-=2*a.g.aa.v+1):(n+=1,--q,m+=1,--r));if(g+d+b>n&&l+d+b<q&&k+f+c>m&&p+f+c<r){a.bb[F.tj]=null;a.Gp(a,F.tj,!1,!0);d+=b;f+=c;n=0;l=a.bb[F.tj].buffer;for(m=0;m<v;m+=1)for(q=0;q<t;q+=1)p=l[n],u|=a.oa(g+q+d,k+m+f,p,!1),n+=1;a.bb[F.tj]=null;(a.g.O||a.g.v)&&u&&this.g.rb();e.J+=b;e.L+=b;e.K+=c;e.N+=c;a.$("nudge "+(0===b?-1===c?"up":"down":
-1===b?"left":"right"))}else a.C.notification.notify("No room to nudge selection",15,180,15,!0)}};ha.prototype.hJ=function(a,b){var c,d=this.g.i,f=2<d&&!(this.g.la||this.g.s||this.g.D||this.g.v||this.g.G);-1===d&&(d=2);this.g.O&&(d=7);for(c=0;256>c;c+=1)a[c]=c;if(f)for(c=1;256>c;c+=1)b=d-c,0>b?b=0:b>=d&&(b=d-1),a[c]=b;else if(2===d)if(b.H||b.D)for(c=0;256>c;c+=1)a[c]=c&1;else if(b.S)for(c=2;256>c;c+=1)a[c]=0;else{if(b.Da){for(c=0;256>c;c+=1)a[c]=0;a[64]=1}}else if(this.g.O)if(b.D)for(a[14]=0,a[16]=
0,a[18]=0,a[20]=0,a[22]=0,a[24]=0,a[9]=1,a[11]=1,a[13]=1,a[15]=1,a[17]=1,a[19]=1,a[21]=1,a[23]=1,a[25]=1,a[10]=2,a[12]=2,a[7]=3,a[8]=4,c=26;256>c;c+=1)a[c]=0;else{if(b.S){for(c=2;256>c;c+=1)a[c]=0;a[3]=6}}else if(this.g.v){if(b.S){for(c=2;256>c;c+=1)a[c]=0;a[3]=6}}else if(this.g.G&&(b.H||b.D)){for(c=2;256>c;c+=1)a[c]=0;a[6]=3}for(c=0;256>c;c+=1)a[c]>=d&&(a[c]=0)};ha.prototype.gG=function(a,b,c){a=this.X.create("",a,this.g.T,null,null,null,!1,this);var d,f,e=0,g=0,k=new Uint8Array(256);if(null!==a.ca){this.hJ(k,
a);var l=this.X.ea;var p=this.X.da;var n=this.g.T.h(ra.cb,l*p,"View.pasteBuffer"+this.zb,!1);for(f=0;f<p;f+=1){var q=a.ca[f];for(d=0;d<l;d+=1){var m=q[d];n[e]=k[m];0<m&&(g+=1);e+=1}}this.bb[this.zb]={buffer:n,width:l,height:p,count:g};this.ea=n;this.Ec=l;this.Dc=p;this.Kk();this.Iq(b,c)}else this.C.notification.notify("Could not decode system clipboard",15,180,15,!0),console.log(this.X.U)};ha.prototype.cG=function(a,b){this.Iq(a,b)};ha.prototype.qF=function(a,b){Bc(this,a,b)};ha.prototype.Iq=function(a,
b){var c=(this.g.width>>1)-(this.S>>1)+(this.aa<<1),d=(this.g.height>>1)-(this.V>>1)+(this.ba<<1),f=this.fa,e=f.J,g=f.K,k=f.L;f=f.N;var l,p;if(null!==this.bb[this.zb])if(a)if(this.P)if(e>k&&(a=e,e=k,k=a),g>f&&(a=g,g=f,f=a),k=k-e+1,f=f-g+1,this.Ec>k||this.Dc>f)this.C.notification.notify("Paste does not fit in selection",15,180,15,!0);else{a=this.rc;this.rc=F.Lr;for(p=g;p<=g+f-this.Dc;p+=this.Dc)for(l=e;l<=e+k-this.Ec;l+=this.Ec)this.Ls(this,l+c,p+d,!1);this.rc=a;this.Yd&&this.zk(this);b?this.$("advance outside"):
this.$("paste to selection")}else this.C.notification.notify("Paste to Selection needs a selection",15,180,15,!0);else this.jz(this,this.zb),this.C.notification.notify("Now click to paste",15,180,15,!0)};ha.prototype.yn=function(a,b,c){a.I||(a.Xb?a.qF(b,c):a.Iq(b,c))};ha.prototype.VK=function(a){a.Ls(a,a.Fc,a.Gc,!0)};ha.prototype.kC=function(a){a.yn(a,!1,!1)};ha.prototype.jz=function(a,b){0<=b&&b<a.bb.length&&(null!==a.bb[b]?(a.na=!0,a.ea=a.bb[b].buffer,a.Ec=a.bb[b].width,a.Dc=a.bb[b].height,a.ra.current!==
F.fl&&(a.ra.current=a.ze(F.fl,!0,a))):(a.na=!1,a.C.notification.notify("Clipboard empty",15,180,15,!0)))};ha.prototype.SE=function(a,b){var c,d=a.g.i;-1===d&&(d=2);if(a.g.s)for(c=0;c<a.ea.length;c+=1){var f=0;100*a.G.random()<=a.Hb&&(f|=1);100*a.G.random()<=a.Hb&&(f|=2);100*a.G.random()<=a.Hb&&(f|=4);100*a.G.random()<=a.Hb&&(f|=8);a.ea[c]=f}else for(c=0;c<a.ea.length;c+=1)f=100*a.G.random()<=a.Hb?2===d||b?a.rf:(a.G.random()*(d-1)|0)+1:0,a.ea[c]=f};ha.prototype.$E=function(a,b){var c=a.fa,d=c.J,f=
c.L,e=c.K;c=c.N;var g=(a.g.width>>1)-(a.S>>1)+(a.aa<<1),k=(a.g.height>>1)-(a.V>>1)+(a.ba<<1),l=a.g.i,p=0;if(a.P){if(d>f){var n=f;f=d;d=n}e>c&&(n=c,c=e,e=n);-1===l&&(l=2);-1!==a.g.S&&(g=this.H,k=this.F);if(a.g.s)for(n=e;n<=c;n+=1)for(e=d;e<=f;e+=1){var q=0;100*a.G.random()<=a.Hb&&(q|=1);100*a.G.random()<=a.Hb&&(q|=2);100*a.G.random()<=a.Hb&&(q|=4);100*a.G.random()<=a.Hb&&(q|=8);p=a.oa(e+g,n+k,q,!1)}else for(n=e;n<=c;n+=1)for(e=d;e<=f;e+=1)q=100*a.G.random()<=a.Hb?2===l||b?a.rf:(a.G.random()*(l-1)|
0)+1:0,p|=a.oa(e+g,n+k,q,!1);(a.g.O||a.g.v)&&p&&this.g.rb();a.g.Nb=!0;a.g.bc();a.$("random "+a.Hb+"%")}};ha.prototype.An=function(a,b){a.I||(a.na?a.SE(a,b):a.$E(a,b))};ha.prototype.WE=function(a){a.I||a.An(a,!1)};ha.prototype.OE=function(a){a.An(a,!0)};ha.prototype.xF=function(a){var b=a.Ec,c=a.Dc,d=b>>1,f,e,g;for(e=g=0;e<c;e+=1){if(a.g.s)for(f=0;f<d;f+=1){var k=a.ea[g+f];var l=a.ea[g+b-f-1];a.ea[g+f]=l&5|(l&2)<<2|(l&8)>>2;a.ea[g+b-f-1]=k&5|(k&2)<<2|(k&8)>>2}else for(f=0;f<d;f+=1)k=a.ea[g+f],a.ea[g+
f]=a.ea[g+b-f-1],a.ea[g+b-f-1]=k;g+=b}};ha.prototype.BF=function(a){var b=a.fa,c=b.J,d=b.L,f=b.K;b=b.N;var e,g=a.g.i,k=2<g&&!(this.g.la||this.g.s||this.g.D||this.g.v||this.g.G),l=(a.g.width>>1)-(a.S>>1)+(a.aa<<1),p=(a.g.height>>1)-(a.V>>1)+(a.ba<<1),n=0;if(a.P){if(c>d){var q=d;d=c;c=q}f>b&&(q=b,b=f,f=q);-1!==a.g.S&&(l=this.H,p=this.F);q=a.g.T.h(ra.cb,d-c+1,"View.flipRow",!1);for(e=f;e<=b;e+=1){for(f=c;f<=d;f+=1){var m=a.g.nb(f+l,e+p,!1);k&&0<m&&(m=g-m);q[f-c]=m}if(a.g.s)for(f=c;f<=d;f+=1)m=q[d-f],
a.oa(f+l,e+p,m&5|(m&2)<<2|(m&8)>>2,!1);else for(f=c;f<=d;f+=1)n|=a.oa(f+l,e+p,q[d-f],!1)}(a.g.O||a.g.v)&&n&&this.g.rb();a.g.Nb=!0;a.g.bc();a.$("flip horizontally")}};ha.prototype.FF=function(a){var b=a.Ec,c=a.Dc,d=c>>1,f,e,g;for(f=g=0;f<b;f+=1){if(a.g.s)for(e=0;e<d;e+=1){var k=a.ea[g+e*b];var l=a.ea[g+(c-e-1)*b];a.ea[g+e*b]=l&10|(l&1)<<2|(l&4)>>2;a.ea[g+(c-e-1)*b]=k&10|(k&1)<<2|(k&4)>>2}else for(e=0;e<d;e+=1)k=a.ea[g+e*b],a.ea[g+e*b]=a.ea[g+(c-e-1)*b],a.ea[g+(c-e-1)*b]=k;g+=1}};ha.prototype.JF=function(a){var b=
a.fa,c=b.J,d=b.L,f=b.K;b=b.N;var e,g=a.g.i,k=2<g&&!(this.g.la||this.g.s||this.g.D||this.g.v||this.g.G),l=(a.g.width>>1)-(a.S>>1)+(a.aa<<1),p=(a.g.height>>1)-(a.V>>1)+(a.ba<<1),n=0;if(a.P){if(c>d){var q=d;d=c;c=q}f>b&&(q=b,b=f,f=q);-1!==a.g.S&&(l=this.H,p=this.F);for(q=a.g.T.h(ra.cb,b-f+1,"View.flipColumn",!1);c<=d;c+=1){for(e=f;e<=b;e+=1){var m=a.g.nb(c+l,e+p,!1);k&&0<m&&(m=g-m);q[e-f]=m}if(a.g.s)for(e=f;e<=b;e+=1)m=q[b-e],a.oa(c+l,e+p,m&10|(m&1)<<2|(m&4)>>2,!1);else for(e=f;e<=b;e+=1)n|=a.oa(c+l,
e+p,q[b-e],!1)}(a.g.O||a.g.v)&&n&&this.g.rb();a.g.Nb=!0;a.g.bc();a.$("flip vertically")}};ha.prototype.RD=function(a,b){var c=a.Ec,d=a.Dc,f,e,g=a.g.T.h(ra.cb,c*d,"View.pasteBuffer",!1);for(e=0;e<d;e+=1)for(f=0;f<c;f+=1)if(a.g.s)if(b){var k=a.ea[e*c+f];g[f*d+(d-e-1)]=k<<1&15|(k&8)>>3}else k=a.ea[e*c+f],g[(c-f-1)*d+e]=k>>1&15|(k&1)<<3;else b?g[f*d+(d-e-1)]=a.ea[e*c+f]:g[(c-f-1)*d+e]=a.ea[e*c+f];a.ea=g;a.Ec=d;a.Dc=c};ha.prototype.cE=function(a,b,c){a.$F(a,b,c)};ha.prototype.$F=function(a,b,c){var d=
a.fa,f=d.J,e=d.L,g=d.K,k=d.N,l=0,p=a.g.i;var n=!0;var q=2<p&&!(this.g.la||this.g.s||this.g.D||this.g.v||this.g.G),m=a.g.ja?-1:0;var r=Math.round((a.g.width-a.g.ca)/2)+m;var u=Math.round((a.g.height-a.g.$)/2)+m;var t=r+a.g.ca-1;var v=u+a.g.$-1;m=(a.g.width>>1)-(a.S>>1)+(a.aa<<1);var B=(a.g.height>>1)-(a.V>>1)+(a.ba<<1),w=0;if(a.P){-1!==a.g.S&&(m=this.H,B=this.F);if(f>e){var z=e;e=f;f=z}g>k&&(z=k,k=g,g=z);z=f+(e-f+1-1>>1);var E=g+(k-g+1-1>>1);var H=z+g-E;var L=E+f-z;var M=z+k-E;E=E+e-z;var N=d.J;var V=
d.K;var X=d.L;var I=d.N;d.J=H;d.K=L;d.L=M;d.N=E;d.J>d.L&&(z=d.J,d.J=d.L,d.L=z);d.K>d.N&&(z=d.K,d.K=d.N,d.N=z);if(-1!==a.g.S){if(d.J+m<r||d.L+m>t||d.K+B<u||d.N+B>v)a.C.notification.notify("Rotation does not fit in bounded grid",15,180,15,!0),n=!1}else a.sz(a)?(a.C.notification.notify("Rotation does not fit on grid",15,180,15,!0),n=!1):(m=(a.g.width>>1)-(a.S>>1)+(a.aa<<1),B=(a.g.height>>1)-(a.V>>1)+(a.ba<<1),-1!==a.g.S&&(m=this.H,B=this.F));if(n){b?(n=L,v=M,t=1,u=-1):(n=E,v=H,t=-1,u=1);r=a.g.T.h(ra.Ip,
3*(e-f+1)*(k-g+1),"View.rotateCells",!1);for(M=g;M<=k;M+=1){z=n;for(H=f;H<=e;H+=1)L=a.g.nb(H+m,M+B,!1),q?0<L&&(L=p-L):a.g.s&&(L=b?L<<1&15|(L&8)>>3:L>>1&15|(L&1)<<3),r[l]=v,r[l+1]=z,r[l+2]=L,l+=3,z+=t;v+=u}m=(a.g.width>>1)-(a.S>>1)+(a.aa<<1);B=(a.g.height>>1)-(a.V>>1)+(a.ba<<1);-1!==a.g.S&&(m=this.H,B=this.F);for(l=0;l<r.length;)H=r[l],M=r[l+1],L=r[l+2],w|=a.oa(H+m,M+B,L,!1),l+=3;for(H=f;H<d.J;H+=1)for(M=g;M<=k;M+=1)w|=a.oa(H+m,M+B,0,!1);for(H=d.L+1;H<=e;H+=1)for(M=g;M<=k;M+=1)w|=a.oa(H+m,M+B,0,!1);
for(M=g;M<d.K;M+=1)for(H=f;H<=e;H+=1)w|=a.oa(H+m,M+B,0,!1);for(M=d.N+1;M<=k;M+=1)for(H=f;H<=e;H+=1)w|=a.oa(H+m,M+B,0,!1);(a.g.O||a.g.v)&&w&&this.g.rb();a.g.Nb=!0;a.g.bc();a.$(c)}else d.J=N,d.K=V,d.L=X,d.N=I}};ha.prototype.ME=function(a){a.ym(a)};ha.prototype.sK=function(a){a.I||a.qg(a,-1,0)};ha.prototype.AK=function(a){a.I||a.qg(a,1,0)};ha.prototype.GK=function(a){a.I||a.qg(a,0,-1)};ha.prototype.gK=function(a){a.I||a.qg(a,0,1)};ha.prototype.YK=function(a){a.lt(a,!0)};ha.prototype.bL=function(a){a.lt(a,
!1)};ha.prototype.nt=function(a){a.I||(a.na?a.xF(a):a.BF(a))};ha.prototype.pt=function(a){a.I||(a.na?a.FF(a):a.JF(a))};ha.prototype.ND=function(a){a.I||(a.na?a.RD(a,!0):a.cE(a,!0,"rotate clockwise"))};ha.prototype.ED=function(a){a.I||(a.na?a.RD(a,!1):a.cE(a,!1,"rotate counter-clockwise"))};ha.prototype.RH=function(a){var b=0,c=a.g.i;if(!a.I)for(-1===c&&(c=2);b<a.ea.length;){var d=a.ea[b];a.ea[b]=c-d-1;b+=1}};ha.prototype.ZH=function(a){var b=a.fa,c=b.J,d=b.L,f=b.K;b=b.N;var e=(a.g.width>>1)-(a.S>>
1)+(a.aa<<1),g=(a.g.height>>1)-(a.V>>1)+(a.ba<<1),k=a.g.i,l=0;if(!a.I&&a.P){if(c>d){var p=d;d=c;c=p}f>b&&(p=b,b=f,f=p);-1===k&&(k=2);-1!==a.g.S&&(e=this.H,g=this.F);for(p=f;p<=b;p+=1)for(f=c;f<=d;f+=1){var n=a.g.nb(f+e,p+g,!1);!(a.g.v||a.g.G||a.g.s||a.g.D)&&2<k&&0<n&&(n=k-n);l|=a.oa(f+e,p+g,k-n-1,!1)}(a.g.O||a.g.v)&&l&&this.g.rb();a.g.Nb=!0;a.g.bc();a.$("invert cells in selection")}};ha.prototype.jA=function(a){a.I||(a.na?a.RH(a):a.ZH(a))};ha.prototype.bt=function(a){a.g.Ub=a.g.Ub?!1:!0;a.di(a.Ob);
var b=a.g.vb;a.g.Ub&&(b=!b);a.C.notification.notify("Playback "+(b?"Reverse":"Forward"),15,40,15,!0)};ha.prototype.lF=function(a){a.yb(!0,!0,F.ig);a.Ob||(a.ic=!0)};ha.prototype.Az=function(a){if(a.g.D&&2===a.g.i){var b=a.g.Uo();a.Ge(a,b)}};ha.prototype.Ez=function(a){var b=a.Y;a.g.D&&(b=Za.iH(b),""===b&&(b=a.X.hb));a.Ge(a,b)};ha.prototype.kG=function(a){if(0!==a.v||0!==a.da)a.v=0,a.od.current=a.mf([0!==a.v],!0,a),a.da=0;0===a.g.B?(a.C.notification.notify("No live cells to Identify",15,120,15,!1),
a.pb=!1,a.rb=!1):(a.pb?(a.pb=!1,a.C.notification.notify("Identify cancelled",15,120,15,!1)):(a.pb=!0,a.rb=!1,a.g.Na=0,a.C.notification.notify("Identifying...",15,216E3,15,!1)),a.$(""));a.Pe.current=a.Cl(F.Wj,!0,a);a.Kd.current=a.Oj(F.Uh,!0,a);a.g.Ag(a.pb);a.v=0;a.Ak(a);a.Ak(a);a.C.m=!0;a.h.locked=!1};ha.prototype.tG=function(a){a.je=1};ha.prototype.mE=function(a){a.je=2};ha.prototype.lG=function(a){a.je=3};ha.prototype.bA=function(a){var b=window.prompt("Enter generation",String(""===a.cn?String(a.g.counter):
a.cn)),c=!1;a.lf=-1;if(null!==b){var d=b;"b"===b.substring(b.length-1).toLowerCase()&&(b=b.substring(0,b.length-1),c=!0);if("+"===b.charAt(0)){var f=a.g.counter;f+=parseInt(b.substring(1),10)}else"-"===b.charAt(0)?(f=a.g.counter,f-=parseInt(b.substring(1),10)):f=parseInt(b,10);0<=f&&f<=F.Jv?(a.cn=d,f!==a.g.counter&&(a.eg()?a.C.notification.notify("No live cells",15,360,15,!1):(a.Ta=f,a.ga.current=a.nf([!1],!0,a),a.C.m=!0,a.Vc&&a.C.notification.notify("Going to generation "+f,15,1E4,15,!1),a.C.notification.clear(!0,
!1),f<a.g.counter&&(a.g.Qg(a,!1),a.mt(a.g.counter)),c&&(a.lf=performance.now()),a.fi=f-a.g.counter))):a.C.notification.notify("Invalid generation specified",15,240,15,!0)}};ha.prototype.il=function(a){a.kG(a)};ha.prototype.Nj=function(a,b,c){b&&(c.g.Ya=a[0]);return[c.g.Ya]};ha.prototype.eA=function(a,b,c){b&&(c.md=a[0]);return[c.md]};ha.prototype.gA=function(a,b,c){b&&(c.nj=a[0]);return[c.nj]};ha.prototype.Yt=function(a,b,c){b&&(c.Md=a[0]);return[c.Md]};ha.prototype.zu=function(a,b,c){b&&(c.Ff=a[0]);
return[c.Ff]};ha.prototype.nf=function(a,b,c){b&&(0===c.v&&0===c.da||!a[0]||(c.v=0,c.od.current=c.mf([0!==c.v],!0,c),c.da=0),!a[0]&&0<c.Vb.length&&(c.da=1),a[0]||c.Ak(c),a[0]&&(c.C.notification.clear(!1,!1),c.C.notification.clear(!0,!1)));return a};ha.prototype.eu=function(a,b,c){b&&(c.ei=a[0]);return[c.ei]};ha.prototype.wu=function(a,b,c){b&&(c.Dg=a[0]);return[c.Dg]};ha.prototype.kA=function(){this.Nb!==F.Uh&&(this.Wc===F.Wj?this.g.Um(this.Jd):this.Wc===F.KB&&this.g.Nm(this.Jd))};ha.prototype.Oj=
function(a,b,c){b&&(c.Nb=a,c.kA());return c.Nb};ha.prototype.Cl=function(a,b,c){b&&(c.Wc=a,c.Nb===F.Uh&&(c.Kd.current=c.Oj(F.Wp,!0,c)),c.kA());return c.Wc};ha.prototype.oe=function(a,b,c){b&&(c.ae=a[0],c.ae?c.Nh?c.C.notification.notify("Replace: Now click on a cell",15,180,15,!0):c.C.notification.notify("Pick: Now click on a cell",15,180,15,!0):(c.cv||c.C.notification.clear(!0,!1),c.cv=!1,c.Nh=!1));return[c.ae]};ha.prototype.cA=function(a,b,c){b&&(c.ia=a[0],c.ia&&!c.Ob&&c.yb(!0,!0,F.ig));return[c.ia]};
ha.prototype.tK=function(a,b,c){b&&-1!==c.Sb&&(c.wa=!a[0],c.za?(c.nb=c.wa,c.C.notification.notify("Loop and Waypoints "+(c.wa?"Off":"On"),15,40,15,!0)):c.mb?(c.Lb=c.wa,c.C.notification.notify("Loop and Track "+(c.wa?"Off":"On"),15,40,15,!0),c.bE(c.Lb)):c.C.notification.notify("Loop "+(c.wa?"Off":"On"),15,40,15,!0));return[c.wa]};ha.prototype.hK=function(a,b,c){b&&c.$a&&(c.nc=!a[0]);return[c.nc]};ha.prototype.BK=function(a,b,c){b&&-1!==c.uc&&(c.Kb=!a[0]);return[c.Kb]};ha.prototype.Hu=function(a,b,
c){b&&(c.mb?(c.Lb=!a[0],c.bE(c.Lb),-1!==c.Sb&&(c.wa=c.Lb)):c.za&&(c.nb=!a[0],c.nb?(c.C.notification.clear(!1,!1),c.Te=""):(c.ic=!0,c.elapsedTime=c.s.wa(c.g.counter),c.s.O(c,c.elapsedTime,c.g.counter,!1),c.s.O(c,c.elapsedTime,c.g.counter,!1)),-1!==c.Sb&&(c.wa=c.nb)));return c.mb?[c.Lb]:[c.nb]};ha.prototype.mf=function(a,b,c){b&&(c.v=a[0]?1:0,c.v?(c.ga.current[0]&&(c.ga.current=c.nf([!1],!0,c)),c.C.notification.clear(!1,!1),c.C.notification.clear(!0,!1)):(c.xc(F.Pg,c),c.v=0));c.kt(c.ra.current);return[0!==
c.v]};ha.prototype.BG=function(a){a.Ys(a)};ha.prototype.SF=function(a){a.kD(a)};ha.prototype.mI=function(a){a.Sz(a)};ha.prototype.Nz=function(a){var b=a.sa.current[0];b=45*Math.floor((b+22.5)/45);360<=b&&(b=0);a.sa.current=a.Rg([b,b],!0,a)};ha.prototype.CI=function(){U.xD()};ha.prototype.ZI=function(a){U.vy(a)};ha.prototype.GF=function(){U.jD()};ha.prototype.YE=function(a){a.tn(a,!1,!1)};ha.prototype.LC=function(a,b,c){b&&(c.Le=a[0]);return[c.Le]};ha.prototype.lC=function(a,b,c){b&&(c.g.Xc=a[0],c.g.Ri());
return[c.g.Xc]};ha.prototype.Yo=function(a,b,c){b&&(c.Lg=a[0]);c.C.ve(!0);return[c.Lg]};ha.prototype.Un=function(a,b){1<a.da&&(a.da-=b,1>a.da&&(a.da=1))};ha.prototype.Sn=function(a,b){a.da<a.Vb.length-a.Ba+1&&(a.da+=b,a.da>a.Vb.length-a.Ba+1&&(a.da=a.Vb.length-a.Ba+1))};ha.prototype.Wn=function(a,b){1<a.v&&(a.v-=b,1>a.v&&(a.v=1))};ha.prototype.an=function(a,b){a.v<a.fj-a.Ba&&(a.v+=b,a.v>a.fj-a.Ba&&(a.v=a.fj-a.Ba))};ha.prototype.CE=function(a){for(var b=a.B.length-1,c=!1;0<=b&&!c;)a.v<=a.B[b][0]?--b:
c=!0;c&&(a.v=a.B[b][0])};ha.prototype.qJ=function(a){for(var b=0,c=!1;b<a.B.length&&!c;)a.v>=a.B[b][0]?b+=1:c=!0;c&&(a.v=a.B[b][0])};ha.prototype.hG=function(a){for(this.g.s&&this.g.counter<a&&(1===(this.g.counter&1)?this.g.h.o.fill(0):this.g.P.o.fill(0));this.g.counter<a;)this.g.gl(!1),this.g.Sf(),this.g.Oh(),this.g.eg(this),this.on();this.elapsedTime=this.Je[a];this.ja=a*this.ec};ha.prototype.Aq=function(a){var b=this.qa+(0<this.g.i?this.g.i:0);!this.qb&&this.C.jb&&(this.C.jb=!1,0>a&&(a=0),this.elapsedTime=
this.Je[a],this.ja=a*this.ec,-1!==this.Db&&a>this.Db+b?this.g.counter=a:this.g.Gl(a,this),this.elapsedTime=this.Je[a],this.ja=a*this.ec,this.s.hb(this.elapsedTime),this.ic=!0,a!==this.g.counter&&(this.jh=!0,this.Kq=a,this.g.Qg(this,!1),this.C.notification.notify("Computing previous generations",15,1E4,15,!0),this.Jq=!0))};ha.prototype.dA=function(a){a.style.width="2em";a.style.height="2em";a.style.padding=0;a.style.border="none";a.style.outline="none";a.style.boxShadow="none";a.style.background="transparent";
a.style.position="fixed";a.style.left="-100px";a.style.top="0px"};ha.prototype.Ge=function(a,b){var c=document.getElementById("ViewerCopy"),d=null;U.zA=b;if(window.ClipboardItem)try{d=new ClipboardItem({"text/plain":Cc().then(()=>new Promise(async f=>{f(new Blob([b],{type:"text/plain"}))}))})}catch(f){}d?navigator.clipboard.write([d]):navigator.clipboard.writeText(b);a.C.notification.notify("Copied to external clipboard",15,180,15,!0);c&&(c.innerHTML=b,c.value=c.innerHTML)};ha.prototype.Dd=function(a){var b=
hb.qf,c=Object.keys(b),d=a.h,f=a.j;a=a.i;for(var e="",g=!1,k=null,l=0;l<c.length&&!g;)k=b[c[l]],k[1]===d&&k[2]===f&&k[3]===a?(g=!0,l=c.length):l+=1;g?e=k[0]:e=d+" "+f+" "+a;return e};ha.prototype.Ej=function(a,b){return a.h===b.h&&a.j===b.j&&a.i===b.i};ha.prototype.Hn=function(a,b){var c="#C "+C.ml+" ",d=String(-(a.g.width/2-a.g.ma-a.g.Ma|0)),f=String(-(a.g.height/2-a.g.ka-a.g.za|0)),e=a.g.zoom,g=String(a.g.angle|0),k=String(a.g.Gb|0),l=a.g.pa[a.g.qb];0!==a.g.counter&&(c+=C.uq+" "+a.g.counter+" ");
c+=C.gf+" "+d+" "+C.jf+" "+f+" ";c+=C.se+" "+(e===(e|0)?String(e):String(e.toFixed(2)))+" ";c+=C.Lk+" "+g+" ";0!==a.g.Gb&&(c+=C.sl+" "+k+" ");c+=C.Mm+"\n";if(b){c+="#C "+C.ml+" ";if(a.ua){if(2<a.g.i){if(c+=C.tb+" "+C.lp+" "+a.Dd(l.F),c+=" "+C.tb+" "+C.kp+" "+a.Dd(l.A),a.Ej(l.j.i,l.F)||(c+=" "+C.tb+" "+C.op+" "+a.Dd(l.j.i)),a.Ej(l.j.h,l.j.i)||(c+=" "+C.tb+" "+C.np+" "+a.Dd(l.j.h)),l.G||(c+=" "+C.tb+" "+C.yq+" "+a.Dd(l.m.i)),l.G||!a.Ej(l.m.h,l.m.i))c+=" "+C.tb+" "+C.xq+" "+a.Dd(l.m.h)}else c+=C.tb+
" "+C.lp+" "+a.Dd(l.v),c+=" "+C.tb+" "+C.kp+" "+a.Dd(l.i.h),a.Ej(l.i.h,l.i.i)||(c+=" "+C.tb+" "+C.wq+" "+a.Dd(l.i.i)),a.Ej(l.h.i,l.v)||(c+=" "+C.tb+" "+C.op+" "+a.Dd(l.h.i)),a.Ej(l.h.h,l.h.i)||(c+=" "+C.tb+" "+C.np+" "+a.Dd(l.h.h));c+=" "+C.Mm+"\n#C "+C.ml+" "}c+=C.dk+" "+l.name+" ";a.qa!==a.dj&&(c+=C.ro+" "+a.qa+" ");a.Ee!==a.rB&&(c+=C.Kp+" "+a.Ee+" ");c+=C.up+" "+a.displayWidth+" ";c+=C.qo+" "+a.displayHeight+" ";c+=C.Mm+"\n"}a.Ge(a,c)};ha.prototype.hE=function(a){var b=a.g.mh(a,a.g,!0,a.g.i,a.g.i,
[],!1);a.element.innerHTML=b.replace(/\n/g,"<br>");a.element.value=b};ha.prototype.YI=function(a,b){if(a.Pd.locked||a.$j||window.confirm("Open clipboard?"))a.element.innerHTML=b,a.element.value=a.element.innerHTML,yb(a.element)};ha.prototype.Ai=function(a){Ea.wb?a.Ge(a,U.Ce[a.Ua].pattern):a.Ge(a,Fb(a.element))};ha.prototype.Dn=function(a,b){a.Ge(a,a.g.mh(a,a.g,b,a.g.i,a.g.i,[],!1))};ha.prototype.pA=function(a,b){var c=b.charCode||b.keyCode;if(a.jh?Qb.mJ(a,c,b):a.pb?Qb.nJ(a,c,b):-1!==a.Ta?Qb.lJ(a,
c,b):U.Fm?Qb.oJ(a,c,b):Qb.kJ(a,c,b))a.C.ve(!0),b.preventDefault(),b.stopPropagation()};ha.prototype.PE=function(){this.g.O||this.g.v?(this.Nf.setPosition(da.Fb,-85,-130),this.cg.setPosition(da.Fb,-130,-130),this.g.O?(this.tc.setPosition(da.Fb,-175,-130),this.tc.W="random fill [Shift 5]",this.ge.setPosition(da.Fb,-280,-130)):(this.tc.setPosition(da.Fb,-220,-130),this.tc.W="random multi-state fill [Shift 5]",this.Oh.setPosition(da.Fb,-175,-130),this.ge.setPosition(da.Fb,-325,-130))):2>=this.g.i?(this.Nf.setPosition(da.Fb,
-40,-130),this.cg.setPosition(da.Fb,-85,-130),this.tc.setPosition(da.Fb,-130,-130),this.tc.W="random fill [Shift 5]",this.ge.setPosition(da.Fb,-235,-130)):(this.Nf.setPosition(da.Fb,-40,-130),this.cg.setPosition(da.Fb,-85,-130),this.g.s?(this.tc.setPosition(da.Fb,-130,-130),this.tc.W="random multi-state fill [Shift 5]",this.ge.setPosition(da.Fb,-235,-130)):(this.tc.setPosition(da.Fb,-175,-130),this.tc.W="random multi-state fill [Shift 5]",this.Oh.setPosition(da.Fb,-130,-130),this.ge.setPosition(da.Fb,
-280,-130)))};ha.prototype.mA=function(){var a=!(this.g.la||this.g.v||this.g.G||this.g.D);if(this.displayHeight<F.dl){var b=50;this.Zk.setPosition(da.ad,10,b);this.$k.setPosition(da.ib,0,b);this.Yk.setPosition(da.qc,-160,b);b+=50;a?(this.al.setPosition(da.ad,10,b),this.Ni.setPosition(da.ib,0,b),this.Li.setPosition(da.qc,-160,b),0<this.s.B()?(this.th.setPosition(da.ad,10,150),this.sh.setPosition(da.ib,0,150),this.Mi.setPosition(da.qc,-160,150)):(this.th.setPosition(da.ad,10,150),this.sh.setPosition(da.ib,
0,150))):(this.Ni.setPosition(da.ad,10,b),this.Li.setPosition(da.ib,0,b),this.th.setPosition(da.qc,-160,b),b+=50,this.sh.setPosition(da.ad,10,b),0<this.s.B()&&this.Mi.setPosition(da.ib,0,b))}else b=0<this.s.B()?-200:-175,this.Zk.setPosition(da.gb,0,b),b+=50,this.$k.setPosition(da.gb,0,b),b+=50,this.Yk.setPosition(da.gb,0,b),b+=50,a&&(this.al.setPosition(da.gb,0,b),b+=50),this.Ni.setPosition(da.gb,0,b),b+=50,this.Li.setPosition(da.gb,0,b),b+=50,this.th.setPosition(da.gb,0,b),b+=50,this.sh.setPosition(da.gb,
0,b),this.Mi.setPosition(da.gb,0,b+50)};ha.prototype.Hz=function(){var a="white",b="black",c="rgb(0,240,32)",d="blue",f="grey",e="white";var g=this.Lc[F.Zq];-1!==g?(a="rgb("+(g>>16)+","+(g>>8&255)+","+(g&255)+")",this.m.s=!0):(this.m.s=!0,g=16777215);this.m.P=this.g.fc?-16777216|(g&255)<<16|(g>>8&255)<<8|g>>16:g>>16<<24|(g>>8&255)<<16|(g&255)<<8|255;g=this.Lc[F.Wq];-1!==g?this.m.s=!0:(this.m.s=!0,g=7368816);this.m.H=this.g.fc?-16777216|(g&255)<<16|(g>>8&255)<<8|g>>16:g>>16<<24|(g>>8&255)<<16|(g&255)<<
8|255;g=this.Lc[F.Xq];-1!==g?b="rgb("+(g>>16)+","+(g>>8&255)+","+(g&255)+")":g=0;this.Co=g;this.m.S=this.g.fc?-16777216|(g&255)<<16|(g>>8&255)<<8|g>>16:g>>16<<24|(g>>8&255)<<16|(g&255)<<8|255;g=this.Lc[F.$q];-1!==g&&(c="rgb("+(g>>16)+","+(g>>8&255)+","+(g&255)+")");g=this.Lc[F.br];-1!==g&&(d="rgb("+(g>>16)+","+(g>>8&255)+","+(g&255)+")");g=this.Lc[F.ar];-1!==g?f="rgb("+(g>>16)+","+(g>>8&255)+","+(g&255)+")":g=8421504;this.m.O=this.g.fc?-16777216|(g&255)<<16|(g>>8&255)<<8|g>>16:g>>16<<24|(g>>8&255)<<
16|(g&255)<<8|255;g=this.Lc[F.Yq];-1!==g&&(e="rgb("+(g>>16)+","+(g>>8&255)+","+(g&255)+")");this.C.Ub(a,b,c,d,f,e,this.ci);this.cj.cc=this.cu;this.cj.cd=this.du};ha.prototype.NJ=function(){var a,b=0;this.h=this.C.vb(this.jF,this.ks,this);this.h.O=this.LF;this.h.ma=this.iG;this.C.pa=this.XF;this.Jd=this.h.j(da.ib,0,52,480,48,"Banner");this.Jd.Qb("32px Arial");this.cl=this.h.j(da.ib,-160,140,160,32,"Cells");this.Ct=this.h.j(da.ib,-160,180,160,32,"Bounding Box");this.Gt=this.h.j(da.ib,-160,240,160,32,
"Direction");this.bu=this.h.j(da.ib,-160,280,160,32,"Period");this.vu=this.h.j(da.ib,-160,320,160,32,"Slope");this.yu=this.h.j(da.ib,-160,360,160,32,"Speed");this.Xt=this.h.j(da.ib,-160,400,160,32,"Heat");this.Ku=this.h.j(da.ib,-160,440,160,32,"Volatility");this.Ri=this.h.j(da.ib,-160,460,160,32,"Mod");this.At=this.h.j(da.ib,-160,500,160,32,"Active Cells");this.Gu=this.h.j(da.ib,-160,540,160,32,"Temperature");this.Qi=this.h.j(da.ib,80,140,320,32,"");this.Qo=this.h.j(da.ib,80,180,320,32,"");this.Xo=
this.h.j(da.ib,80,220,320,32,"");this.$o=this.h.j(da.ib,80,260,320,32,"");this.bp=this.h.j(da.ib,80,300,320,32,"");this.jl=this.h.j(da.ib,80,340,320,32,"");this.hl=this.h.j(da.ib,80,380,320,32,"");this.qp=this.h.j(da.ib,80,420,320,32,"");this.Si=this.h.j(da.ib,80,460,320,32,"");this.bl=this.h.j(da.ib,80,500,320,32,"");this.kl=this.h.j(da.ib,80,540,320,32,"");this.nl=this.h.j(da.ad,0,40,16,20,"X");this.nl.Qb(F.Jg);this.nl.Qm=da.te;this.rl=this.h.j(da.ad,70,40,16,20,"Y");this.rl.Qb(F.Jg);this.rl.Qm=
da.te;this.ll=this.h.j(da.ad,140,40,16,20,"A");this.ll.Qb(F.Jg);this.ll.Qm=da.te;this.Ah=this.h.j(da.ad,16,40,54,20,"");this.Ah.Qb(F.Jg);this.Ah.i=da.right;this.Ah.W="camera X position";this.Bh=this.h.j(da.ad,86,40,54,20,"");this.Bh.Qb(F.Jg);this.Bh.i=da.right;this.Bh.W="camera Y position";this.vh=this.h.j(da.ad,156,40,40,20,"");this.vh.Qb(F.Jg);this.vh.i=da.right;this.vh.W="camera angle";this.Zu=this.h.j(da.ad,196,40,4,20,"");this.rp=this.h.j(da.qc,-280,40,20,20,"E");this.rp.Qb(F.Jg);this.vp=this.h.j(da.qc,
-210,40,20,20,"S");this.vp.Qb(F.Jg);this.wp=this.h.j(da.qc,-140,40,20,20,"W");this.wp.Qb(F.Jg);this.sp=this.h.j(da.qc,-70,40,20,20,"N");this.sp.Qb(F.Jg);this.wh=this.h.j(da.qc,-260,40,50,20,"");this.wh.Qb(F.Jg);this.wh.i=da.right;this.wh.W="bounding box east edge velocity";this.yh=this.h.j(da.qc,-190,40,50,20,"");this.yh.Qb(F.Jg);this.yh.i=da.right;this.yh.W="bounding box south edge velocity";this.zh=this.h.j(da.qc,-120,40,50,20,"");this.zh.Qb(F.Jg);this.zh.i=da.right;this.zh.W="bounding box west edge velocity";
this.xh=this.h.j(da.qc,-50,40,50,20,"");this.xh.Qb(F.Jg);this.xh.i=da.right;this.xh.W="bounding box north edge velocity";this.ih=this.h.m(this.hK,da.qc,-210,0,38,20,["START"],[!1],da.wb);this.ih.Qb(F.Zr);this.ih.W=["autostart ["+this.D+" O]"];this.Mg=this.h.m(this.BK,da.qc,-210,20,38,20,["STOP"],[!1],da.wb);this.Mg.Qb(F.Zr);this.Mg.W=["stop ["+this.D+" P]"];this.Nc=this.h.m(this.Hu,da.qc,-172,0,38,20,["WAYPT"],[!1],da.wb);this.Nc.Qb(F.Zr);this.Nc.W=["toggle waypoint mode [W]"];this.Mf=this.h.m(this.tK,
da.qc,-172,20,38,20,["LOOP"],[!1],da.wb);this.Mf.Qb(F.Zr);this.Mf.W=["toggle loop mode [Shift P]"];this.ra=this.h.m(this.ze,da.ad,90,0,120,40,["","",""],F.Yh,da.si);this.ra.h=[this.m.h("draw"),this.m.h("select"),this.m.h("pan")];this.ra.W=["draw [F2]","select [F4]","pan [F5]"];this.jd=this.h.m(this.PF,da.qc,-80,100,80,60,["1","2"],0,da.si);this.jd.orientation=da.vertical;this.jd.W=["",""];this.jd.Qb("14px Arial");this.ft=this.h.i(this.cL,da.qc,-110,40,60,40,"OK");this.ft.W="confirm setting disabled and hide warning";
this.od=this.h.m(this.mf,da.qc,-40,0,40,40,["Help"],[!1],da.wb);this.od.W=["toggle help display [H]"];this.od.Qb("16px Arial");this.Ao=this.h.i(this.RK,da.qc,-40,50,40,40,"^");this.Ao.W="show help topics [Backspace]";this.Yn=this.h.i(this.gH,da.qc,-40,100,40,40,"<");this.Yn.W="show help sections [Ins]";this.Zk=this.h.i(this.fI,da.ib,0,50,150,40,"Keys");this.Zk.W="show keyboard shortcuts [K]";this.$k=this.h.i(this.aH,da.ib,0,100,150,40,"Scripts");this.$k.W="show script commands [S]";this.Yk=this.h.i(this.fH,
da.ib,0,150,150,40,"Info");this.Yk.W="show pattern and engine information [I]";this.al=this.h.i(this.PJ,da.ib,0,200,150,40,"Themes");this.al.W="show colour Themes [E]";this.Ni=this.h.i(this.QF,da.ib,0,250,150,40,"Colours");this.Ni.W="show colour names [L]";this.Li=this.h.i(this.oE,da.ib,0,300,150,40,"Aliases");this.Li.W="show rule aliases [A]";this.th=this.h.i(this.eJ,da.ib,0,350,150,40,"Memory");this.th.W="show memory usage [Y]";this.sh=this.h.i(this.UF,da.ib,0,400,150,40,"Comments");this.sh.W="show pattern comments [C]";
this.Mi=this.h.i(this.sE,da.ib,0,450,150,40,"Annotations");this.Mi.W="show annotations [N]";this.Xd=this.h.m(this.cA,da.ad,0,0,40,40,["Auto"],[!1],da.wb);this.Xd.h=[this.m.h("autofit")];this.Xd.W=["toggle autofit [Shift F]"];this.Xd.Qb("16px Arial");this.Xf=this.h.i(this.lF,da.ad,45,0,40,40,"");this.Xf.h=this.m.h("fit");this.Xf.W="fit pattern to display [F]";this.hd=this.h.m(this.Nj,da.qc,-85,0,40,40,["Grid"],[!1],da.wb);this.hd.h=[this.m.h("grid")];this.hd.W=["toggle gridlines [X]"];this.hd.Qb("16px Arial");
this.If=this.h.Ea(da.bh);this.If.locked=!0;this.Yf=this.h.j(da.bh,0,-130,42,30,"Gen");this.Yf.i=da.left;this.Yf.Qb(F.Kg);this.Yf.W="generation";this.gd=this.h.j(da.bh,42,-130,98,30,"");this.gd.i=da.right;this.gd.Qb(F.Kg);this.gd.W="generation";this.Lj=this.h.j(da.bh,0,-100,70,30,"Time");this.Lj.i=da.left;this.Lj.Qb(F.Kg);this.Lj.W="elapsed time";this.Vf=this.h.j(da.bh,70,-100,70,30,"");this.Vf.i=da.right;this.Vf.Qb(F.Kg);this.Vf.W="elapsed time";this.df=this.h.j(da.bh,210,-70,130,30,"");this.df.i=
da.left;this.df.Qb(F.Kg);this.df.W="selection size";this.vb=this.h.j(da.bh,0,-70,210,30,"");this.vb.i=da.left;this.vb.Qb(F.Kg);this.vb.W="cell state at cursor position";this.jb=this.h.m(this.Yo,da.bh,0,-40,100,40,["T 0"],[this.Lg],da.wb);this.jb.W=["toggle generation statistics [G]\ngeneration "+(this.g.counter+this.Fa)];this.vc=this.h.j(da.bh,0,-40,this.displayWidth-40,40,"");this.vc.i=da.left;this.vc.M=!0;this.$e=this.h.j(da.Fb,-70,-130,70,30,"Alive");this.$e.i=da.left;this.$e.Qb(F.Kg);this.$e.W=
"current population";this.Rd=this.h.j(da.Fb,-140,-130,70,30,"");this.Rd.i=da.right;this.Rd.Qb(F.Kg);this.Rd.W="alive";this.Qc=this.h.j(da.Fb,-70,-100,70,30,"Births");this.Qc.i=da.left;this.Qc.Qb(F.Kg);this.Qc.W="cells born this generation";this.fd=this.h.j(da.Fb,-140,-100,70,30,"");this.fd.i=da.right;this.fd.Qb(F.Kg);this.fd.W="births";this.Ie=this.h.j(da.Fb,-70,-70,70,30,"Deaths");this.Ie.i=da.left;this.Ie.Qb(F.Kg);this.Ie.W="cells died this generation";this.Ke=this.h.j(da.Fb,-140,-70,70,30,"");
this.Ke.i=da.right;this.Ke.Qb(F.Kg);this.Ke.W="deaths";this.ie=this.h.j(da.bh,0,-160,140,30,this.Y);this.ie.Qb(F.Kg);this.kc=this.h.G(this.Qd,da.ib,0,0,F.Lq,40,0,1,.1,"Zoom ","",1);this.kc.W="camera zoom [[ / ]]";this.kb=this.h.G(this.Jl,da.fr,-84,0,40,292,F.tr,F.Br,1,"Layers ","",0);this.kb.W="number of layers [Q / A]";this.Ea=this.h.G(this.pf,da.fr,-40,0,40,292,1,0,.1,"Depth ","",2);this.Ea.W="depth between layers [P / L]";this.fb=this.h.G(this.Qj,da.gz,0,0,40,292,0,1,.5,"Tilt ","",1);this.fb.W=
"camera tilt [' / /]";this.sa=this.h.G(this.Rg,da.ib,0,50,390,40,0,359,0,"Angle ","\u00b0",0);this.sa.W="camera angle [< / >]";this.Cf=this.h.i(this.dI,da.Fb,-40,-90,40,40,"");this.Cf.h=this.m.h("shrink");this.Cf.W="shrink to thumbnail [N]";this.vo=this.h.j(da.ib,0,100,120,40,"");this.Id=this.h.m(this.Ov,da.gb,-100,-100,180,40,["Use Rectangles"],[this.g.Fa],da.wb);this.Id.W=["toggle hexagonal cells [?]"];this.wi=this.h.m(this.DA,da.gb,100,-100,180,40,["Cell Borders"],[this.g.jb],da.wb);this.wi.W=
["toggle cell borders ["+this.D+" B]"];this.rd=this.h.m(this.UB,da.gb,-100,-50,180,40,["Major GridLines"],[this.g.yc],da.wb);this.rd.W=["toggle major gridlines [Shift X]"];this.nk=this.h.m(this.gD,da.gb,100,-50,180,40,["Starfield"],[this.Jc],da.wb);this.nk.W=["toggle starfield display [S]"];this.dg=this.h.m(this.RB,da.gb,-100,0,180,40,["Annotations"],[this.ke],da.wb);this.dg.W=["toggle annotations ["+this.D+" L]"];this.xg=this.h.m(this.Px,da.gb,100,0,180,40,["Bas","Age","Rbw","Nbr"],this.g.ab,da.si);
this.xg.W=["basic shader ["+this.D+" W]","cell age shader ["+this.D+" W]","rainbow shader ["+this.D+" W]","neighbour count shader ["+this.D+" W]"];this.xg.Qb("18px Arial");this.Fj=this.h.m(this.rA,da.gb,-100,50,180,40,["Auto GridLines"],[this.ed],da.wb);this.Fj.W=["automatically turn on gridlines for Draw and Select and off for Pan ["+this.A+" G]"];this.Wd=this.h.m(this.mz,da.gb,100,50,180,40,["Alt GridLines"],[this.g.Ad],da.wb);this.Wd.W=["toggle alternating gridlines ["+this.D+" D]"];this.xp=this.h.i(this.GH,
da.gb,-100,100,180,40,"Integer Zoom");this.xp.W="set zoom to nearest integer [Shift 1]";this.hm=this.h.m(this.lC,da.gb,100,100,180,40,["Render Quality"],[this.g.Xc],da.wb);this.hm.W=["toggle anti-aliased cell display ["+this.A+" Q]"];this.zo=this.h.i(this.bA,da.gb,-100,-75,180,40,"Go To Gen");this.zo.W="go to specified generation [Shift N]";this.Oi=this.h.m(this.LB,da.gb,100,-75,180,40,["AutoFit History"],[this.qd],da.wb);this.Oi.W=["toggle AutoFit History [Shift H]"];this.Ng=this.h.m(this.zu,da.gb,
-100,-25,180,40,["Throttle"],[this.Ff],da.wb);this.Ng.W=["toggle playback throttling ["+this.D+" T]"];this.Ag=this.h.m(this.Yt,da.gb,100,-25,180,40,["Perf. Warning"],[this.Md],da.wb);this.Ag.W=["toggle performance warning display [Shift W]"];this.Re=this.h.m(this.TF,da.gb,-100,25,180,40,["Kill Gliders"],[this.g.sd],da.wb);this.Re.W=["toggle kill escaping gliders ["+this.A+" L]"];this.Gj=this.h.m(this.vA,da.gb,100,25,180,40,["AutoHide UI"],[this.pd],da.wb);this.Gj.W=["toggle hide UI on playback ["+
this.D+" U]"];this.Di=this.h.m(this.mv,da.gb,100,75,180,40,["Use Saved"],[this.Gd],da.wb);this.Di.W=["toggle use saved default playback speed [Shift E]"];this.$s=this.h.i(this.jE,da.gb,-100,75,180,40,"Save Speed");this.$s.W="save default playback speed ["+this.A+" E]";this.Ws=this.h.i(this.dG,da.gb,-100,-100,180,40,"Change Rule");this.Ws.W="change rule ["+this.D+" R]";this.Ox=this.h.i(this.iJ,da.gb,100,-100,180,40,"New Pattern");this.Ox.W="new pattern ["+this.D+" N]";this.zx=this.h.i(this.BI,da.gb,
-100,-50,180,40,"Load Pattern");this.zx.W="load last saved pattern ["+this.A+" O]";this.Em=this.h.i(this.oz,da.gb,100,-50,180,40,"Save Pattern");this.Em.W="save pattern ["+this.A+" S]";this.tm=this.h.i(this.iF,da.gb,-100,0,180,40,"Rand All");this.tm.W="randomize pattern and rule ["+this.D+" Z]";this.wm=this.h.i(this.dF,da.gb,100,0,180,40,"Rand Pattern");this.wm.W="randomize pattern and keep rule ["+this.A+" "+this.D+" Z]";this.Pi=this.h.i(this.il,da.gb,-100,50,180,40,"Identify");this.Pi.W="identify oscillator or spaceship period [F6]";
this.Ml=this.h.i(this.mI,da.gb,100,50,180,40,"Last Identify");this.Ml.W="show last identify results [Shift F6]";this.et=this.h.i(this.tG,da.gb,-100,100,180,40,"Save Image");this.et.W="save image [O]";this.ct=this.h.i(this.mE,da.gb,100,100,180,40,"Save Graph");this.ct.W="save population graph image [Shift O]";this.Fy=this.h.i(this.TB,da.gb,-100,-100,180,40,"Open Clipboard");this.Fy.W="open clipboard as pattern ["+this.A+" Shift O]";this.Ap=this.h.i(this.QH,da.gb,100,-100,180,40,"Copy Original");this.Ap.W=
"copy original pattern ["+this.A+" Shift C]";this.Jn=this.h.i(this.Ez,da.gb,-100,-50,180,40,"Copy Rule");this.Jn.W="copy rule definition ["+this.A+" J]";this.Ik=this.h.i(this.Az,da.gb,100,-50,180,40,"Copy as MAP");this.Ik.W="copy rule definition as MAP ["+this.D+" M]";this.Fn=this.h.i(this.FH,da.gb,-100,0,180,40,"Copy Nhood");this.Fn.W="copy CoordCA neighbourhood definition ["+this.A+" B]";this.Ln=this.h.i(this.cJ,da.gb,100,0,180,40,"Copy All");this.Ln.W="copy current pattern with comments ["+this.A+
" "+this.D+" C]";this.Bp=this.h.i(this.bI,da.gb,-100,50,180,40,"Copy Position");this.Bp.W="copy camera position [K]";this.Cp=this.h.i(this.AI,da.gb,100,50,180,40,"Copy View");this.Cp.W="copy camera position and view [Shift K]";this.qn=this.h.i(this.dL,da.gb,-100,100,180,40,"Paste To Seln");this.qn.W="paste to selection ["+this.A+" Shift V]";this.rk=this.h.m(this.gv,da.gb,100,100,180,40,["External Sync"],[this.Xb],da.wb);this.rk.W=["sync cut and copy with external clipboard ["+this.D+" S]"];this.fm=
this.h.i(this.yE,da.pl,-135,-150,120,40,"Prev");this.fm.W="go to previous pattern [Page Up]";this.Pl=this.h.i(this.OJ,da.pl,135,-150,120,40,"Next");this.Pl.W="go to next pattern [Page Down]";this.kn=this.h.i(this.vB,da.pl,0,-150,120,40,"Patterns");this.kn.W="show all patterns [Home]";this.cj=this.h.i(this.hF,da.Fb,-40,-85,40,40,"X");this.cj.W="close window";this.cj.Qb("24px Arial");this.cj.cc="red";this.Hq=this.h.i(this.IF,da.Fb,-40,-85,40,40,"X");this.Hq.W="close errors [Esc]";this.em=this.h.i(this.GC,
da.gz,10,0,40,40,"<");this.em.W="go to previous POI [Shift J]";this.Ol=this.h.i(this.QB,da.fr,-50,0,40,40,">");this.Ol.W="go to next POI [J]";this.ij=this.h.G(this.Uo,da.ib,0,45,172,40,0,1,this.eb,"Opacity ","%",0);this.ij.W="graph opacity [7 / 9]";this.To=this.h.i(this.Js,da.qc,-40,45,40,40,"X");this.To.W="close results [Esc]";this.Kd=this.h.m(this.Oj,da.qc,-40,45,40,120,["Res","Tbl","Map"],this.Nb,da.si);this.Kd.W=["show Identify results [Shift F6]","table [E]","map [E]"];this.Kd.Qb("15px Arial");
this.Kd.Qm=da.te;this.Pe=this.h.m(this.Cl,da.qc,-40,45,40,80,["Per","Frq"],this.Wc,da.si);this.Pe.W=["cell periods ["+this.D+" E]","cell frequencies ["+this.D+" E]"];this.Pe.Qb("15px Arial");this.Pe.Qm=da.te;this.uh=this.h.i(this.AG,da.qc,-40,45,40,40,"");this.uh.W="download cell map [D]";this.uh.h=this.m.h("download");this.Ui=this.h.i(this.hA,da.qc,-40,45,40,40,"");this.Ui.h=this.m.h("nudgeup");this.Ui.W="scroll table up [PgUp]";this.Ti=this.h.i(this.fA,da.qc,-40,45,40,40,"");this.Ti.h=this.m.h("nudgedown");
this.Ti.W="scroll table down [PgDown]";this.yt=this.h.i(this.ZF,da.qc,-40,45,40,40,"X");this.yt.W="close graph [Y]";this.bj=this.h.m(this.eA,da.qc,-85,45,40,40,[""],[!1],da.wb);this.bj.h=[this.m.h("lines")];this.bj.W=["toggle graph lines/points [Shift Y]"];this.Yb=this.h.m(this.Hl,da.qc,-210,45,120,40,["Pop","Bth","Dth"],[this.rh,this.ph,this.qh],da.wb);this.Yb.W=["toggle population [Shift F3]","toggle births [Shift F4]","toggle deaths [Shift F5]"];this.Yb.Qb("15px Arial");this.Yc=this.h.m(this.oe,
da.ad,0,45,40,40,[""],[this.ae],da.wb);this.Yc.h=[this.m.h("pick")];this.Yc.W=["pick state [F3]"];this.qk=this.h.m(this.wu,da.ad,45,45,40,40,[""],[this.Dg],da.wb);this.qk.h=[this.m.h("states")];this.qk.W=["toggle states display ["+this.A+" D]"];this.Zl=this.h.m(this.gA,da.ad,90,45,40,40,[""],[this.nj],da.wb);this.Zl.h=[this.m.h("drawpause")];this.Zl.W=["toggle pause playback while drawing ["+this.A+" P]"];this.lk=this.h.m(this.eu,da.ad,135,45,40,40,[""],[this.ei],da.wb);this.lk.h=[this.m.h("smart")];
this.lk.W=["toggle smart drawing [Shift F2]"];this.ga=this.h.m(this.nf,da.Fb,-40,-40,40,40,[""],[!1],da.wb);this.ga.h=[this.m.h("menu")];this.ga.W=["toggle settings menu [M]"];this.Xl=this.h.i(this.qE,da.gb,-100,-75,150,40,"Pattern");this.Xl.W="pattern actions";this.zn=this.h.i(this.EF,da.gb,100,-75,150,40,"Clipboard");this.zn.W="clipboard actions";this.vd=this.h.i(this.rJ,da.gb,-100,75,150,40,"Theme");this.vd.W="choose colour theme";this.Ne=this.h.m(this.Oo,da.gb,100,75,150,40,["Graph"],[this.Ca],
da.wb);this.Ne.W=["toggle population graph display [Y]"];this.Pk=this.h.i(this.PK,da.gb,-100,-25,150,40,"Display");this.Pk.W="display settings";this.un=this.h.i(this.uE,da.gb,100,-25,150,40,"Playback");this.un.W="playback settings and actions";this.Eq=this.h.i(this.uK,da.gb,-100,25,150,40,"General");this.Eq.W="general actions";this.uo=this.h.i(this.pF,da.gb,-100,-100,180,40,"Fit Selection");this.uo.W="fit selection to display ["+this.A+" F]";this.pn=this.h.i(this.UE,da.gb,100,-100,180,40,"Center Pattern");
this.pn.W="center pattern ["+this.A+" M]";this.vn=this.h.i(this.YE,da.gb,-100,-50,180,40,"Clear Drawing");this.vn.W="clear drawing state cells ["+this.A+" "+this.D+" K]";this.Nm=this.h.i(this.Nz,da.gb,100,-50,180,40,"Snap Angle");this.Nm.W="snap angle to nearest 45 degrees ["+this.D+" /]";this.Qn=this.h.i(this.BG,da.gb,-100,0,180,40,"Save View");this.Qn.W="save current view [Shift V]";this.Kn=this.h.i(this.SF,da.gb,100,0,180,40,"Restore View");this.Kn.W="restore saved view [V]";this.ko=this.h.i(this.CI,
da.gb,-100,50,180,40,"Stop All");this.ko.W="stop all Viewers [Shift Z]";this.no=this.h.i(this.ZI,da.gb,100,50,180,40,"Stop Others");this.no.W="stop other Viewers [Z]";this.In=this.h.i(this.GF,da.gb,-100,100,180,40,"Reset All");this.In.W="reset all Viewers [Shift R]";this.tl=this.h.i(this.$G,da.gb,100,25,150,40,"Advanced");this.tl.W="advanced settings and actions";this.Ji=this.h.m(this.Sg,da.gb,-100,-100,180,40,["Frame Times"],[this.C.F],da.wb);this.Ji.W=["toggle timing display [T]"];this.Mj=this.h.m(this.ap,
da.gb,100,-100,180,40,["Timing Details"],[this.C.j],da.wb);this.Mj.W=["toggle timing details [Shift T]"];this.ck=this.h.m(this.LC,da.gb,-100,-50,180,40,["Relative Gen"],[this.Le],da.wb);this.ck.W=["toggle absolute/relative generation display [Shift G]"];this.Rj=this.h.m(this.tD,da.gb,100,-50,180,40,["Y Direction"],[this.Ae],da.wb);this.Rj.W=["toggle y coordinate direction [F9]"];this.Vi=this.h.m(this.OB,da.gb,-100,0,180,40,["Info Bar"],[this.Ha],da.wb);this.Vi.W=["toggle Information Bar [Shift I]"];
this.nh=this.h.m(this.JB,da.gb,100,0,180,40,["Fast Lookup"],[this.g.Db],da.wb);this.nh.W=["toggle fast lookup [F7]"];this.Um=this.h.m(this.lD,da.gb,-100,50,180,40,["State Number"],[this.Ig],da.wb);this.Um.W=["toggle state number display [F8]"];this.gk=this.h.m(this.$C,da.gb,100,50,180,40,["Safe Mode"],[this.cf],da.wb);this.gk.W=["toggle safe mode [Shift F9]"];this.Us=this.h.i(this.aG,da.gb,-100,100,180,40,"Refresh Rate");this.Us.W=["set refresh rate"];U.R&&(this.Ll=this.h.m(this.Ev,da.gb,100,100,
180,40,["WASM Engine"],[this.i],da.wb),this.Ll.W=["toggle WASM engine ["+this.D+"`]"]);this.Ed=this.h.i(this.Ak,da.pl,0,-100,120,40,"Back");this.Ed.W="back to previous menu [Backspace]";this.xi=this.h.i(this.IE,da.pl,0,-100,120,40,"Cancel");this.xi.W="cancel operation [Esc]";this.xi.G=!0;var c=-1;for(a=0;a<=this.g.Mb;a+=1){var d=F.zq[a];var f=F.pK[a];f!==c?(b=120,c=f):b+=60;this.li[a]=this.h.m(this.HK,da.ib,140*f-210,b,120,40,[this.to(d)],[!1],da.wb);this.li[a].W=["select "+this.to(d)+" theme"];this.li[a].Qb("20px Arial")}this.aA=
this.li[0].id;this.Xz=this.h.j(da.ib,-210,60,120,40,"Default");this.Tz=this.h.j(da.ib,-70,60,120,40,"Classic");this.Zz=this.h.j(da.ib,70,60,120,40,"Program");this.Vz=this.h.j(da.ib,210,60,120,40,"Basic");this.Tm=this.h.i(this.nI,da.Fb,-405,-40,40,40,"1x");this.Tm.W="set 1x playback speed [0]";this.dc=this.h.G(this.yc,da.Fb,-360,-40,105,40,0,2,1,"","",-1);this.dc.W="playback speed [+ / -]";this.Ij=this.h.j(da.Fb,-284,-30,27,20,"0");this.Ij.Qb(F.Kg);this.Ij.M=!0;this.Pd=this.h.i(this.WK,da.Fb,-495,
-40,40,40,"");this.Pd.h=this.m.h("undo");this.Pd.W="undo ["+this.A+" Z]";this.Th=this.h.i(this.uF,da.Fb,-450,-40,40,40,"");this.Th.h=this.m.h("redo");this.Th.W="redo ["+this.A+" Y]";this.ag=this.h.m(this.Aw,da.qc,-130,0,40,40,["Icon"],[this.wd],da.wb);this.ag.W=["toggle icons ["+this.D+" I]"];this.ag.Qb("15px Arial");this.hc=this.h.m(this.Od,da.Fb,-205,-40,160,40,["","","",""],F.ue,da.si);this.hc.h=[this.m.h("tostart"),this.m.h("stepback"),this.m.h("stepforward"),this.m.h("play")];this.hc.W=["reset [R]",
"previous generation [Shift Tab]","next generation [Tab]","play [Enter]"];this.Ya=this.h.m(this.gy,da.qc,-280,45,280,20,"0123456".split(""),this.rf,da.si);this.Ya.W="dead;alive;history;mark 1;mark off;mark 2;kill".split(";");this.Ya.Qb("14px Arial");this.pa=this.h.m(this.eG,da.qc,-280,65,280,20,"      ".split(" "),[!1,!1,!1,!1,!1,!1,!1],da.wb);this.pa.W="dead;alive;history;mark 1;mark off;mark 2;kill".split(";");this.pa.s=1;this.pa.va(this.yF);this.Xm=this.h.i(null,da.ad,175,45,5,40,"");this.Xm.s=
0;this.Xm.locked=!0;this.Xm.border=0;this.Wm=this.h.G(this.qy,da.ad,180,45,130,40,0,1,0,"","",-1);this.Wm.W="select drawing states range";this.Hm=this.h.i(this.uz,da.ad,0,45,40,40,"All");this.Hm.h=this.m.h("select");this.Hm.W="select all cells ["+this.A+" A]";this.Hm.Qb("16px Arial");this.Vg=this.h.m(this.dv,da.ad,45,45,40,40,["Auto"],[this.Yd],da.wb);this.Vg.h=[this.m.h("autoshrink")];this.Vg.W=["toggle auto shrink selection ["+this.D+" A]"];this.Vg.Qb("16px Arial");this.yk=this.h.i(this.gI,da.ad,
90,45,40,40,"");this.yk.h=this.m.h("shrink");this.yk.W="shrink selection [Shift A]";this.Ue=this.h.m(null,da.ad,135,45,40,40,[""],[!1],da.wb);this.Ue.h=[this.m.h("selectlibrary")];this.Ue.W=["toggle clipboard library [Shift B]"];this.Gk=this.h.m(this.sB,da.ib,0,90,400,40,"0123456789".split(""),this.zb,da.si);this.Kk();this.Ld=this.h.m(this.Mw,da.qc,-160,45,160,40,["AND","CPY","OR","XOR"],F.Yy[this.pg],da.si);this.Ld.W=["paste mode [Shift M]","paste mode [Shift M]","paste mode [Shift M]","paste mode [Shift M]"];
this.Ld.Qb("16px Arial");this.Mk=this.h.i(this.rK,da.ad,180,45,40,40,"");this.Mk.h=this.m.h("cut");this.Mk.W="cut ["+this.A+" X]";this.Jk=this.h.i(this.eI,da.ad,225,45,40,40,"");this.Jk.h=this.m.h("copy");this.Jk.W="copy ["+this.A+" C]";this.jj=this.h.i(this.kC,da.ad,270,45,40,40,"");this.jj.h=this.m.h("paste");this.jj.W="paste ["+this.A+" V]";this.Bk=this.h.i(this.ME,da.Fb,-40,-220,40,40,"");this.Bk.h=this.m.h("cancelsel");this.Bk.W="cancel selection ["+this.A+" K]";this.Rl=this.h.i(this.sK,da.Fb,
-265,-175,40,40,"");this.Rl.h=this.m.h("nudgeleft");this.Rl.W="nudge left ["+this.D+" Left]";this.Sl=this.h.i(this.AK,da.Fb,-220,-175,40,40,"");this.Sl.h=this.m.h("nudgeright");this.Sl.W="nudge right ["+this.D+" Right]";this.Tl=this.h.i(this.GK,da.Fb,-175,-175,40,40,"");this.Tl.h=this.m.h("nudgeup");this.Tl.W="nudge up ["+this.D+" Up]";this.Ql=this.h.i(this.gK,da.Fb,-130,-175,40,40,"");this.Ql.h=this.m.h("nudgedown");this.Ql.W="nudge down ["+this.D+" Down]";this.Bj=this.h.i(this.bL,da.Fb,-85,-175,
40,40,"+Sel");this.Bj.h=this.m.h("advanceselection");this.Bj.W="advance selection ["+this.A+" Space]";this.Bj.Qb("15px Arial");this.Aj=this.h.i(this.YK,da.Fb,-40,-175,40,40,"+Out");this.Aj.h=this.m.h("advanceoutside");this.Aj.W="advance outside [Shift Space]";this.Aj.Qb("15px Arial");this.Rk=this.h.i(this.nt,da.Fb,-265,-85,40,40,"");this.Rk.h=this.m.h("flipx");this.Rk.W="flip horizontally ["+this.D+" X]";this.Tk=this.h.i(this.pt,da.Fb,-220,-85,40,40,"");this.Tk.h=this.m.h("flipy");this.Tk.W="flip vertically ["+
this.D+" Y]";this.Cm=this.h.i(this.ND,da.Fb,-175,-85,40,40,"");this.Cm.h=this.m.h("rotatecw");this.Cm.W="rotate clockwise [>]";this.Am=this.h.i(this.ED,da.Fb,-130,-85,40,40,"");this.Am.h=this.m.h("rotateccw");this.Am.W="rotate counter-clockwise [<]";this.Fk=this.h.i(this.AF,da.Fb,-85,-85,40,40,"");this.Fk.h=this.m.h("inside");this.Fk.W="clear cells in selection [Del]";this.Ek=this.h.i(this.gF,da.Fb,-40,-85,40,40,"");this.Ek.h=this.m.h("outside");this.Ek.W="clear cells outside selection [Shift Del]";
this.Of=this.h.i(this.sF,da.Fb,-40,-130,40,40,"R");this.Of.h=this.m.h("select");this.Of.W="clear History cells ["+this.A+" Del]";this.Of.Qb("16px Arial");this.Nf=this.h.i(this.dE,da.Fb,-40,-130,40,40,"");this.Nf.h=this.m.h("changestate");this.Nf.W="change cells to drawing state ["+this.D+" K]";this.cg=this.h.i(this.jA,da.Fb,-85,-130,40,40,"");this.cg.h=this.m.h("invertselection");this.cg.W="invert cells in selection ["+this.A+" I]";this.tc=this.h.i(this.WE,da.Fb,-130,-130,40,40,"");this.tc.h=this.m.h("random");
this.tc.W="random fill [Shift 5]";this.Oh=this.h.i(this.OE,da.Fb,-175,-130,40,40,"2");this.Oh.h=this.m.h("random");this.Oh.W="random 2-state fill ["+this.A+" Shift 5]";this.ge=this.h.G(this.HC,da.Fb,-275,-130,100,40,1,100,this.Hb,"","%",0);this.ge.W="random fill density";this.Mh=this.h.G(this.Bx,da.qc,-265,45,100,40,0,F.JC-1,this.rc,"","",-1);this.Mh.W="paste location [Shift L]";this.Mh.Qb("16px Arial");this.Fi=this.h.i(this.bt,da.Fb,-250,-40,40,40,"");this.Fi.h=this.m.h("uturn");this.Fi.W="reverse playback direction [U]";
this.Ue.ca([this.Gk]);this.ga.ca([this.vo,this.kb,this.Ea,this.sa,this.fb,this.Ed,this.vd,this.Xl,this.zn,this.tl,this.Pk,this.un,this.Ng,this.Ag,this.Cf,this.cj,this.Gj,this.Fj,this.Wd,this.xp,this.pn,this.Id,this.wi,this.dg,this.Re,this.Ne,this.Ji,this.vn,this.Mj,this.Vi,this.nk,this.In,this.ko,this.no,this.Nm,this.Oi,this.rd,this.fm,this.Pl,this.kn,this.Eq,this.Qn,this.Kn,this.Ml]);this.jb.ca([this.$e,this.Rd,this.Qc,this.fd,this.Ie,this.Ke,this.Yf,this.gd,this.Lj,this.Vf,this.ie]);this.od.ca([this.jd,
this.Ao,this.Yn])};ha.prototype.AE=function(a){var b=this,c=0,d=0;this.ta=a;this.ta.getContext&&(c=this.ta.width,d=this.ta.height,c!==this.Cc&&Ea.$p&&(c=this.Cc),c<F.ld&&(c=F.ld),d<F.Wh&&(d=F.Wh),c&=-8,this.ta.width!==c&&(this.ta.width=c),this.ta.height!==d&&(this.ta.height=d),this.la=this.ta.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.la.globalAlpha=1,this.la.fillStyle="black",this.la.imageSmoothingEnabled=!1,this.la.imageSmoothingQuality="high",this.la.fillRect(0,0,this.ta.width,this.ta.height),
this.la.textAlign="left",this.la.textBaseline="middle",this.displayWidth=this.ta.width,this.displayHeight=this.ta.height,this.g=new qa(this.la,this.displayWidth,this.displayHeight,512,256,this.X,this),this.g.No(this.la,this.displayWidth,this.displayHeight),this.Je=this.g.T.h(ra.nd,F.IC,"View.elapsedTimes",!1),this.Ud=new Tb(F.Ir,this.g.T),this.pJ(this.la),this.C=new Ka(this.ta,this.la,"24px Arial",this.m,this,this.VF),this.C.F=!1,this.g.Km(),this.NJ(),La(this.ta,"wheel",function(f){b.mG(b,f)},!1),
this.C.notification.S=!0,this.fz=this.g.T.Cj,this.C.ja(this.h),this.yd?(La(U.jg.j,"keydown",function(f){b.pA(b,f)},!1),U.jg.C=this.C):La(this.ta,"keydown",function(f){b.pA(b,f)},!1))};ha.prototype.to=function(a){var b=this.g.pa,c="";a|=0;a<b.length&&(c=b[a].name);return c};ha.prototype.jJ=function(a){var b=!1,c=this.g.pa,d=0;for(a=a.toLowerCase();d<c.length-1&&!b;)c[d].name.toLowerCase()===a?b=!0:d+=1;b||(d=-1);return d};ha.prototype.eF=function(a){var b=this.s.F();b.Af||(b.x=this.g.width/2-this.g.ma);
b.hf||(b.y=this.g.height/2-this.g.ka);b.re||(b.zoom=this.g.zoom);b.Wg||(b.angle=this.g.angle);b.dh||(b.Gb=this.g.Gb);b.Vh||(b.Aa=this.g.Aa);b.Kh||(b.depth=this.g.nc);b.sf||(b.dd=this.ca);b.De||(b.step=this.O);b.xe||(b.Mc=this.g.qb);this.s.Ya(a,this)};ha.prototype.tF=function(a){var b=a,c=this.la,d=a.length;c.font=(18*this.h.B|0)+"px "+F.hs;var f=c.measureText(a).width;if(500<f){--d;for(f=c.measureText(a.substring(0,d)+"...").width;500<f;)--d,f=c.measureText(a.substring(0,d)+"...").width;b=b.substring(0,
d)+"..."}return b};ha.prototype.mF=function(a,b){Pb.fJ(this,a,b)};ha.prototype.OF=function(){this.wd=this.io=!1;this.Uf=this.g.ab=y.kg;this.Ta=-1;this.Xp=this.oo=!1;this.g.ea=1<<F.TG;this.lh=this.Bl=-1;this.Ia=!1;this.sm=this.vm=this.Ss=this.Tg=this.ey=this.mn=this.C.da=!1;this.g.Ma=0;this.g.za=0;this.g.eb=1;this.Ha=this.jn=this.ia=this.Fe=!1;this.Tc=this.Uc=this.Z=null;this.bi=F.bi;this.He=null;this.ci=F.ci;this.g.Fd=this.g.so;this.g.Ed=this.g.oo;this.g.Dd=this.g.mo;this.g.Gd=this.g.uo;this.g.Hd=
this.g.xo;this.Df=F.kB;this.nc=this.$a=this.Bo=!1;this.uc=-1;this.Kb=!1;this.Sb=-1;this.Lg=this.Lb=this.pi=this.mb=this.mi=this.za=this.nb=this.wa=!1;this.qa=this.dj=2<this.g.i?63<256-this.g.i?63:256-this.g.i:63;this.Ee=this.rB;this.hb=!1;this.g.sd=!1;this.g.Ig=0};ha.prototype.vt=function(){this.Cd?(this.C.Wa?this.Tg||this.Ai(this):Gb(this.element),this.C.A=!1):(this.displayWidth=this.Kj,this.displayHeight=this.zt,this.ia?(this.ka=!1,this.yb(!0,!1,F.ig)):this.g.zoom=this.Dt,this.kc&&(this.kc.current=
this.Qd([this.g.zoom,this.g.zoom],!1,this)),this.v=this.Bt,this.ka=!1,this.C.Z=!1,this.h.M=!1,this.C.B||this.C.notification.notify("Shrink with hotkey N",15,100,15,!0),this.resize())};ha.prototype.VF=function(a){a.ka?(a.vt(),a.Ks&&!a.Ob&&(a.hc.current=a.Od(F.rj,!0,a))):a.Ia&&(a.Tg||a.Ai(a))};ha.prototype.resize=function(){this.Al&&(U.jg.G=this.zw-this.displayWidth,this.zw=this.displayWidth,this.Al=!1);this.ta.width=this.displayWidth;this.ta.height=this.displayHeight;this.la.textBaseline="middle";
this.g.rl(this.displayWidth,this.displayHeight);"Empty"!==this.Ab&&"none"!==this.Ab&&""!==this.Ab&&null!==this.g.bb&&(this.g.Pj(this),this.g.Nj(this.g.ck,this.g.Gk));this.HG();this.ia&&this.yb(!0,!1,F.ig)};ha.prototype.xt=function(){this.Kj=this.displayWidth;this.zt=this.displayHeight;this.Dt=this.g.zoom;this.Bt=this.v;this.displayWidth=this.displayWidth/this.Wb|0;this.displayHeight=this.displayHeight/this.Wb|0;this.g.zoom/=this.Wb;this.displayWidth&=-8;this.h.M=!0;this.C.Z=!0;this.C.pb=this.Wb;this.C.A=
!1;this.ka=!0;this.resize()};ha.prototype.bz=function(){var a=this.g.i,b;a>this.$b&&(a=this.$b);this.Ya.lower=[];this.Ya.W=[];this.Ya.Jf(40*a);this.pa.lower=[];this.pa.W=[];this.pa.current=[];this.pa.Jf(40*a);this.pa.s=1;for(b=0;b<a;b+=1){var c=b+this.Ub;this.Ya.lower[b]=String(c);var d=this.oh(c);10>c&&(d+=" ["+this.A+" "+c+"]");this.Ya.W[b]=d;this.pa.lower[b]="";this.pa.W[b]=d;this.pa.current[b]=!1}c=this.rf;0<c&&(this.g.la||this.g.s||this.g.D||this.g.v||this.g.G||(c=this.g.i-c));this.Ya.current=
c-this.Ub};ha.prototype.qD=function(){var a=this.g.i,b=this.h.s;this.rf=1;this.Ub=0;this.qk.current=[this.wu([!0],!0,this)];this.$b=7+((this.displayWidth/b-F.ld)/(40*b)|0);this.$b>a&&(this.$b=a);this.g.O?(this.Ya.lower="0123456".split(""),this.Ya.Jf(280),this.Ya.W=["dead ["+this.A+" 0]","alive ["+this.A+" 1]","history ["+this.A+" 2]","mark 1 ["+this.A+" 3]","mark off ["+this.A+" 4]","mark 2 ["+this.A+" 5]","kill ["+this.A+" 6]"],this.Ya.current=this.rf,this.pa.lower="      ".split(" "),this.pa.Jf(280),
this.pa.W=["dead ["+this.A+" 0]","alive ["+this.A+" 1]","history ["+this.A+" 2]","mark 1 ["+this.A+" 3]","mark off ["+this.A+" 4]","mark 2 ["+this.A+" 5]","kill ["+this.A+" 6]"],this.pa.s=1,this.pa.current=[!1,!1,!1,!1,!1,!1,!1]):2>=a?(this.Ya.lower=["0","1"],this.Ya.Jf(80),this.Ya.W=["dead ["+this.A+" 0]","alive ["+this.A+" 1]"],this.Ya.current=this.rf,this.pa.lower=["",""],this.pa.Jf(80),this.pa.W=["dead ["+this.A+" 0]","alive ["+this.A+" 1]"],this.pa.s=1,this.pa.current=[!1,!1]):(this.rf=this.g.la||
this.g.s||this.g.D||this.g.v||this.g.G?1:a-1,this.bz(),this.Ya.Jf(40*this.$b),this.pa.Jf(40*this.$b),this.Wm.current=this.qy([0,0],!0,this));this.Ya.setPosition(da.qc,-this.Ya.H,45);this.pa.setPosition(da.qc,-this.pa.H,65)};ha.prototype.Bz=function(a){var b=this.g.Mb;-1===a&&(a=this.ua?b:this.g.O?10:2<this.g.i&&!(this.g.v||this.g.G||this.g.s||this.g.D)?11:this.g.ja?17:this.g.s||this.g.D?18:1);this.yg(a,1,this)};ha.prototype.HG=function(){if(!this.yd){this.Ef=window.devicePixelRatio?window.devicePixelRatio:
1;var a=this.displayWidth*this.Ef;var b=document.body.clientWidth;this.Bc=1;a>b&&(this.Bc=b/this.displayWidth);this.C.ya=this.Bc;this.h.ya(1);this.m.I(1);this.$f=18;this.Zf=this.$f+"px "+F.Fu;this.Oe=this.$f+"px "+F.hs;this.xn();this.ta.style.transform="scale("+this.Bc+","+this.Bc+")";this.ta.style.transformOrigin="top left"}};ha.prototype.VG=function(){var a=document.body.clientWidth,b=window.innerHeight,c=this.displayWidth,d=this.displayHeight+80;if(U.jg){this.Ef=window.devicePixelRatio?window.devicePixelRatio:
1;if(U.jg.F){c=a;d=b-34;var f=1}else c*=this.Ef,d*=this.Ef,f=this.Ef;this.Bc=1;if(c>a||d>b)if(f=c/a,d/b>f&&(f=d/b),c/=f,d=this.displayHeight*this.Ef/f,f=c/this.displayWidth,d/this.displayHeight<f&&(f=d/this.displayHeight),c<F.ld||d<F.Wh)f=c/F.ld,d/F.Wh<f&&(f=d/F.Wh),c/=f,d/=f,this.Bc=f,f=1;this.displayWidth=c&-8;this.displayHeight=d|0;this.C.ya=this.Bc;U.jg.s=this.Bc;this.h.ya(f);this.m.I(f);this.$f=18*f|0;this.Zf=this.$f+"px "+F.Fu;this.Oe=this.$f+"px "+F.hs;this.xn();this.displayWidth!==this.zw&&
(this.Al=!0)}};ha.prototype.oF=function(){this.vk=!1;this.Fa=0;this.mc=!1;this.sc=this.ac=0;this.vg=this.Ze=this.ug=this.Wa=this.Y="";this.sn=this.mj=this.V=this.S=0;this.wk="(none)";this.g.la=!1;this.g.ja=!1;this.g.s=!1;this.g.O=!1;this.g.v=!1;this.g.G=!1;this.g.ha=!1;this.g.jh=this.X.pa;this.g.Z=!1;this.g.lh=this.X.ia;this.g.wd=!1;this.g.Td=-1;this.g.Eh=!1;this.g.i=-1;this.g.S=-1;this.ob=this.Na=this.g.Da=!1;this.g.D=!1;this.g.pd=null;this.g.qd=null;this.g.Jc=null;this.g.Nc=null;this.g.Rd=[];this.g.yb=
null;this.g.Fc=0;this.g.od=0;this.g.kh=0};ha.prototype.Dz=function(a){a<F.Bg&&(a=F.Bg);a>F.$c?(this.ca=F.$c,this.O=a/F.$c|0,this.O>this.Hf&&(this.O=this.Hf)):(this.ca=a,this.O=1);this.Zn=this.ca;this.ho=this.O};ha.prototype.$h=function(a,b){this.C.sa.reset();this.Ae=U.qr(F.fE);this.cf=U.qr(F.hy);this.Gd=U.qr(F.lB);this.Di.current=[this.Gd];this.ca=F.$c;this.O=1;this.Zn=this.ca;this.ho=this.O;if(this.Gd){var c=U.rr(F.tu);this.Dz(c)}this.dc.current=1===this.O&&this.ca===F.$c?this.yc([1,1],!0,this):
this.yc([this.kf(),1],!0,this);this.vb.M=!0;this.df.M=!0;this.X.F=!1;this.Gl=this.g.yf=!1;this.g.aa.v=1;this.We=this.displayWidth;this.Ve=this.displayHeight;a=this.X.create("",a,this.g.T,this.yi,this.bG,[b],!1,this);this.uA=this.X.U;if(this.X.ra){a=this.X.ea;c=this.X.da;var d=this.X.create("","x=1,y=1,rule=Life\n!",this.g.T,this.yi,this.yi,[b],!1,this);this.yi(d,[b],this);this.X.ea=a;this.X.da=c;this.displayWidth=this.We;this.displayHeight=this.Ve;this.C.notification.clear(!1,!0);this.C.notification.notify("Loading rule...",
15,1E4,15,!0)}else this.yi(a,[b],this)};ha.prototype.bG=function(a,b,c){b[b.length]=a.title;b[b.length]=a.F;c.displayWidth=c.We;c.displayHeight=c.Ve;c.X.U=c.uA;c.X.ob=!0;c.yi(null,b,c)};ha.prototype.qz=function(){var a,b=0,c=!1;if(navigator.userAgentData){var d=navigator.userAgentData;if("Windows"===d.platform&&d.brands)for(a=0;a<d.brands.length;a+=1)if("Google Chrome"===d.brands[a].brand||"Brave Browser"===d.brands[a].brand)c=!0,b=Number(d.brands[a].version)}c&&103<=b&&107>b&&(a=localStorage.getItem(F.pB),
"y"!==a?(this.C.notification.notify("If there are no cells displayed click on Help",15,300,15,!1),this.rn=!0):this.rn=!1)};ha.prototype.yi=function(a,b,c){var d=0,f,e=!1;var g=f=0;var k,l=b[0];var p=!1;var n="";c.g.B=0;c.Ud&&(c.Ud.h=new T(255,255,255));c.Pe.current=c.Cl(F.Wj,!0,c);c.Kd.current=c.Oj(F.Uh,!0,c);c.g.aa.ea=!1;c.Yb.current=c.Hl([!0,!0,!0],!0,c);c.g.Xc=!1;c.Db=-1;c.Ng.current=c.zu([!0],!0,c);c.me=!1;c.zf=!1;c.yf=!1;c.wf=!1;c.Bf=!1;c.le=!1;c.xf=!1;c.g.qb=-1;c.C.Hb();c.Xb=!0;c.Yd=!1;c.P=
!1;c.pc=!1;c.bb=[];for(k=0;k<F.tj;k+=1)c.bb[k]=null;c.bb[F.tj]=null;c.zb=0;c.ln=!1;c.ea=null;c.na=!1;c.Ec=0;c.Dc=0;c.bd=!1;c.Ld.current=c.Mw(2,!0,c);c.uj=!1;c.he=[];c.bk=[];c.Vb=[];c.Td=[];c.Eb=[];c.kh=[];c.Ma=0;c.ma=0;c.Hh=0;c.g.Nb=!1;c.Xc=[];c.Va=F.Ro;c.Ye=0;c.Wl=-1;c.kj=[];c.$d=0;c.El=!1;c.Zy=0;c.dz=0;c.Zd=-1;c.yp=!1;c.ng=F.Yi;c.rg=-F.Yi;c.mg=F.Yi;c.sg=-F.Yi;c.C.notification.clear(!0,!0);c.C.notification.clear(!1,!0);c.g.vb=!1;c.g.Ub=!1;c.Gy=!1;c.g.Nc=null;!a||null===a.ia&&-1===a.ma||(null===a.ia?
a.nb>=a.ma&&(c.X.U="Illegal state in pattern for @TREE",a=null):a.nb>=a.ta&&(c.X.U="Illegal state in pattern for @TABLE",a=null));a&&c.X.F&&a&&(-1===a.j||-1!==a.j&&(0===a.P||0===a.da))&&(c.X.U=null===a.ia?"@TREE B0 only valid with finite grid":"@TABLE B0 only valid with finite grid",a=null);if(a){c.vk=c.X.vb;c.Fa=c.X.Hb;c.mc=c.X.Ma;c.ac=c.X.eb;c.sc=c.X.fb;c.Bd=c.X.ea;c.Ad=c.X.da;c.S=a.width;c.V=a.height;-999999===c.Bd&&(c.Bd=c.S);-999999===c.Ad&&(c.Ad=c.V);c.Ze=a.name;c.vg=a.Db;c.wk=a.$a;""===c.wk&&
(c.wk="(none)");c.mj=a.F;c.sn=a.Wa;c.Y=a.h;c.Wa=a.V;c.ug=a.fb;c.g.di=a.u;c.g.wf=a.sa;c.ob=c.X.ob;c.g.O=a.H;c.g.v=a.D;c.g.G=a.S;c.Of.W="clear History cells ["+this.A+" Del]";c.g.v&&(c.Of.W="clear Super cells ["+this.A+" Del]");c.g.i=a.i;!c.ob&&2<a.F&&(c.g.i=a.F);c.g.yb=null;c.g.Rd=null;c.ff=[];c.g.D=!1;c.g.yf=!1;-1!==a.ma&&(c.g.Sd=a.mb,c.g.fi=a.ma,c.g.i=a.ma,c.g.$j=a.qb,c.g.ge=a.lb,c.g.pd=a.bb,c.g.qd=a.eb,c.g.Jc=a.Ha,c.g.Nc=a.na,c.ff=a.kb,c.g.yf=c.X.F,c.g.D=!0);null!==a.ia&&(c.g.Rd=a.Va,c.g.ed=a.Cb,
c.g.yb=a.ia,c.g.Fc=a.Ua,c.g.od=a.ab,c.g.kh=a.pb,c.g.i=a.ta,c.g.Jc=a.Ha,c.g.Nc=a.na,c.ff=a.kb,c.g.yf=c.X.F,c.g.D=!0);if(c.g.Da=a.Da){c.g.aa.P=a.G;c.g.aa.G=a.B;c.g.aa.$=c.g.T.h(ra.cb,a.B.length,"HROT.comboList",U.R);for(k=0;k<a.B.length;k+=1)c.g.aa.$[k]=a.G[k]&2|a.B[k]&1;c.g.aa.ca=a.i;c.g.aa.ea=a.yb;c.g.aa.la=a.Ya;c.g.aa.ma=a.jb;c.g.aa.ia=a.hb;c.g.aa.pb(a.m,a.v,a.ja,a.pa,a.s,a.Eb,a.Hb,a.za,a.Ba);if(c.X.ca)for(c.g.aa.Z=c.g.T.h(ra.cb,a.B.length,"HROT.altComboList",U.R),c.g.aa.ja=a.Ia,c.g.aa.ka=a.Ma,c.g.aa.na=
!0,k=0;k<a.B.length;k+=1)c.g.aa.Z[k]=a.Ia[k]&2|a.Ma[k]&1;else c.g.aa.na=!1;c.Gy=a.$}c.g.la=a.ga;c.g.ja=a.fa;c.g.Ad=c.g.ja;c.g.s=a.ka;c.g.Fa=!1;c.g.ha=a.ha;c.g.Eh=a.ha;c.g.jh=a.va;c.g.Z=a.s;c.g.lh=a.Z;c.g.wd=a.la;c.g.Td=a.qa;a.ka?(c.g.wk(a),c.g.Nc=a.na):a.na?c.g.En(a.na):c.g.Xd=!1;c.g.S=a.j;c.g.ca=a.P;c.g.$=a.da;c.g.ie=a.Ea;c.g.je=a.Fa;c.g.pg=a.Kb;c.g.nh=a.Mb;c.g.qg=a.Lb;d=-1===c.g.i?2:c.g.i;c.g.O&&(d=7);c.lj=new Uint32Array(d);for(k=0;k<d;k+=1)c.lj[k]=c.X.aa[k]}else c.oF();c.g.Db=c.g.dg()?!0:!1;c.g.Hq();
c.ke=!0;c.Ca=!1;c.md=!0;c.eb=F.jB;c.Zb=a?!1:!0;c.Vc=!0;c.Le=!1;c.U=c.X.U;c.g.bf=F.iB;c.aa=0;c.ba=0;c.Hc=-1;c.Kc=-1;c.jh=!1;c.h.locked=!1;c.qd=!1;c.ud=!1;c.g.zn();c.g.Bn();c.g.O&&c.g.Rm();c.g.O&&c.g.Cl();c.xd="";c.Jc=!1;c.Rm=!1;hb.Be();c.g.Lb=F.Qu;c.g.xc=F.Pu;c.g.lb=10;c.g.Dl=10;c.g.yc=!0;c.Xn=-1;c.Vn=-1;c.Gd||(c.ca=F.$c,c.O=1);c.g.Aa=1;c.g.nc=.1;c.g.angle=0;c.g.Gb=0;c.g.zoom=6;c.g.Io();c.g.ni();c.g.ma=c.g.width/2;c.g.ka=c.g.height/2;c.Zs=!1;c.Vs=!1;c.Xs=!1;c.va=0;c.Cb=0;c.Pa=-1;c.lb=-1;c.bc=-1;c.td=
-1;c.Lc.fill(-1);c.Ep=F.SB;c.Dp=F.Oq;c.Fp=F.cD;c.ka&&(c.$j?(c.displayHeight=c.Kj,c.displayWidth=c.Kj,c.g.zoom=this.Dt,c.v=this.Bt):c.vt());c.ne=!1;c.C.Z=!1;c.Wb=F.mB;c.Cd=!1;c.C.wa=!1;c.yo=!1;c.Na=a?!1:!0;c.I=!1;c.g.Ya=!1;c.g.jb=!1;c.hc.M=!1;c.ra.M=!1;c.jb.M=!1;c.dc.M=!1;c.ga.M=!1;c.kb.M=!1;c.Ea.M=!1;c.vd.M=!1;c.Ng.M=!1;c.Ag.M=!1;c.h.M=!1;c.If.M=!1;c.Pd.M=!1;c.Th.M=!1;c.Xl.M=!1;c.tl.M=!1;c.un.M=!1;c.Pk.M=!1;c.Ed.M=!1;c.Fi.M=!1;c.Tm.M=!1;c.ga.current=[!1];c.jb.current=[!1];c.v=0;c.da=0;c.Ue.current=
[!1];c.Vg.current=c.dv([c.Yd],!0,c);c.rk.current=c.gv([c.Xb],!0,c);c.po=!1;c.ra.current=c.ze(F.Yh,!0,c);c.ge.current=c.HC([50,50],!0,c);c.Mh.current=c.Bx([F.Lr,F.Lr],!0,c);c.od.current=c.mf([0!==c.v],!0,c);c.Fd=[96,96,96];c.g.rd=c.g.fc?4284506208:1616929023;c.g.ng="rgb("+c.Fd[0]+","+c.Fd[1]+","+c.Fd[2]+")";c.Pf=[128,128,128];c.g.Le=c.g.fc?4286611584:2155905279;c.Sf=[0,255,0];c.g.fj="rgb(0,255,0)";c.Rf=[255,0,0];c.g.Vi="rgb(255,0,0)";c.Tf=[255,128,0];c.g.ij="rgb(255,128,0)";c.s.reset();c.za=!1;c.s.ia();
c.pd=!1;c.qb=!1;c.Md=!0;c.ua=!1;c.Qf=!1;c.g.Dc=!1;c.pm=F.Rr;c.lm=F.Rr;c.wj=50;c.om=!1;c.Cn=!1;c.En=!1;c.af=-1;c.bf=-1;c.wg=-1;c.Zc=[];c.Sd=[];c.Mn=!1;c.Ks=!1;c.Rz=!0;c.Pz=!0;c.Te="";a?a.title&&(n=a.title):(1<b.length&&(n=b[1]),c.Hz());c.g.O?(c.qf=[0,65280,128,14221272,16711680,16776960,6316128],c.Bn="[R]History"):(c.qf=hb.ru,c.Bn="(default)");c.OF();c.Yj=Date.now().toString();this.Yl="";""!==n&&(a?d=-1===a.i?a.F:a.i:d=b[2],c.g.O&&(d=7),c.g.s&&(d=16),c.g.v&&(d=26),c.g.G&&(d=21),c.mF(n,d),a&&(c.Yl=
("\n"+a.u).replace(/\n#C /g,"\n").replace(/\n# /g,"\n").replace(/#CXRLE .*?\n/g,"\n").replace(/\n#C/g,"\n").replace(/\[\[ .*? \]\][ \n]/g,"").replace(/\n#(?:N|O)[^\n]*/g,"\n").substring(1),"\n"==c.Yl&&(c.Yl="")),c.Vb.length&&(c.da=1),c.ka&&l&&(c.ka=!1),-1<c.Pa&&(c.Pa&=-8,c.Pa!==c.displayWidth&&(c.displayWidth=c.Pa,e=!0)),-1<c.lb&&c.lb!==c.displayHeight&&(c.displayHeight=c.lb,e=!0),c.yd&&(-1<c.bc?(c.bc&=-8,c.bc!==c.displayWidth&&(c.displayWidth=c.bc,e=!0)):c.displayWidth<F.ld&&(c.displayWidth=F.ld),
-1<c.td&&c.td!==c.displayHeight&&(c.displayHeight=c.td,e=!0)));c.yd||(k=(document.body.clientWidth&-8)-8,Ea.fullScreen?(c.displayWidth=k,c.displayHeight=window.innerHeight-130,c.displayWidth<F.ld&&(c.displayWidth=F.ld),c.displayHeight<F.Wh&&(c.displayHeight=F.Wh),e=!0):c.displayWidth>k&&(e=!0));c.g.ab!==y.kg&&(2<c.g.i||c.g.Da||c.g.s||c.g.O||c.g.v||c.g.G||c.g.D)&&(c.g.ab=y.kg);if(!c.ob||c.g.D||c.g.v||c.g.G)c.qa=0;c.G.Be(c.Yj);c.g.Da&&c.g.aa.nb(c.Yj);c.yd&&(c.We=c.displayWidth,c.Ve=c.displayHeight,
c.Al=!0,U.jg.u(U.jg));a&&a.wa&&0===c.Xc.length&&(c.ob=!1);c.qD();c.Hz();c.mA();c.PE();c.g.On();c.g.u=c.qa;c.g.ih=c.Ee;c.Cd&&!c.Ca&&(c.Zb=!0,c.Ca=!1);c.g.Ol(!c.Zb);d=c.Ki();a&&(a.width>c.g.ea-d-2*Math.abs(c.aa+c.ac)||a.height>c.g.ea-d-2*Math.abs(c.aa-c.ac))&&(c.U=a.width>c.g.ea-d||a.height>c.g.ea-d?"Pattern too big":"Pattern too big at specified location",a.wa=!0,c.ob=!1);a&&-1!==a.j&&(d=c.Ki(),a.P>c.g.ea-d||a.da>c.g.ea-d)&&(c.U="Bounded grid too big",c.ob=!1,c.g.S=-1);c.ob||(c.g.Db=!1,c.g.pb=-1);
c.g.Dp(c);c.g.dg()&&c.g.Db&&c.qK();c.yp&&(c.Bz(c.Bl),c.g.rh(),c.GE());c.cp=!1;a&&(-1!==c.g.S?(f=c.g.ca,g=c.g.$,0===f&&(f=a.width),0===g&&(g=a.height)):(f=a.width,g=a.height,0<c.Xc.length&&(f=c.jG(f),g=c.fG(g))));d=c.Ki();c.mc&&(c.aa+=c.ac,c.ba+=c.sc);k=c.g.width<c.g.ea&&f+d+2*Math.abs(c.aa)>=c.g.width;for(n=c.g.height<c.g.ea&&g+d+2*Math.abs(c.ba)>=c.g.height;k||n;){p=!0;l=b=0;k&&(b=c.g.width>>1,c.g.width*=2,c.va+=c.g.width>>2);n&&(l=c.g.height>>1,c.g.height*=2,c.Cb+=c.g.height>>2);k&&(c.ya+=c.g.width>>
2);n&&(c.Ib+=c.g.height>>2);c.g.ha&&n&&(c.va-=c.g.height>>3,c.ya-=c.g.height>>3);c.g.ma+=b;c.g.ka+=l;c.g.ha&&(c.g.ma-=l/2|0);c.g.A.J+=b;c.g.A.L+=b;c.g.A.N+=l;c.g.A.K+=l;c.g.ya.J+=b;c.g.ya.L+=b;c.g.ya.N+=l;c.g.ya.K+=l;c.g.zb.J+=b;c.g.zb.L+=b;c.g.zb.N+=l;c.g.zb.K+=l;c.g.mb.J+=b;c.g.mb.L+=b;c.g.mb.N+=l;c.g.mb.K+=l;if(0<c.g.pc)for(k=0;k<c.g.pc;k+=1){var q=c.g.wc[(k<<1)+1];n=(q>>16)+b;q=(q&65535)+l;c.g.wc[(k<<1)+1]=n<<16|q}k=c.g.width<c.g.ea&&f+d+2*Math.abs(c.aa)>=c.g.width;n=c.g.height<c.g.ea&&g+d+2*
Math.abs(c.ba)>=c.g.height}p&&c.g.Vf(!1,!1,!1);a&&a.Da&&c.g.aa.resize(c.g.width,c.g.height);a&&c.kE(c.S,c.V,c.Bd,c.Ad);c.C.notification.m=c.Uc?"rgb("+c.Uc[0]+","+c.Uc[1]+","+c.Uc[2]+")":c.C.notification.B;if(null===c.Z)for(k=0;k<c.qf.length;k+=1)c.$m[k]=c.X.aa[k]?F.wD:F.vD;c.g.Wa?(c.g.pi(c.qf,c.Z),c.g.Dc=!0):c.g.Dc=!1;a&&!a.wa&&a.I&&c.YH(a);c.ie.Jb=""!==c.Wa?c.Wa:c.Y;c.ie.W=c.Y;""!==c.Wa&&(c.ie.W+=" alias "+c.Wa);""!==c.Y&&(c.ie.W+="\n"+c.ut());c.rb=!1;c.Nv="none";c.Ab="none";c.$i="none";c.Kl="none";
c.aj="none";c.Il="none";c.fn="none";c.vi="none";c.Nl="none";c.Wi="none";c.Fh="none";c.hh="none";c.Xi="none";c.pb=!1;c.Pi.current=[c.pb];c.g.Ag(c.pb);c.Ag.current=c.Yt([c.Md],!0,c);(c.g.D||c.g.la)&&-1!==c.Lc[F.Tj]&&(null===c.Z?(c.Z=c.g.T.h(ra.be,256,"View.customColours",!1),c.Z.fill(-1),c.Z[0]=c.Lc[F.Tj],c.Lc[F.Tj]=-1,c.Lc[F.bo]=-1):-1===c.Z[0]&&(c.Z[0]=c.Lc[F.Tj]));c.Bz(c.Bl);c.g.rh();c.g.rc=c.Z;c.g.Aq();c.g.la||!c.ob&&2<c.g.i?c.g.Rj(c.qf,c.Z):c.g.oi();c.g.kb(1);c.wi.current=[c.g.jb];c.lk.current=
c.eu([c.ei],!0,c);c.ij.current=c.Uo([c.eb,c.eb],!1,c);c.bj.current=[c.md];c.Xd.current=[c.ia];c.hd.current=[c.g.Ya];c.xg.current=c.g.ab;c.g.counter=0;c.g.Xb=0;c.g.Ke=0;c.ja=0;c.elapsedTime=0;c.ra.m=[!1,!1,!1];if(c.Na){if(a&&(c.g.bj(c.ud),c.Z))for(k=0;k<c.Z.length;k+=1)c.qf[k]=c.Z[k];c.MF=c.qf.length;c.g.Rj(c.qf,c.Z);c.g.Zc.reset();c.Zb=!0;c.Ca=!1}else{c.g.bj(c.ud);c.g.Lh();2>=c.g.i&&c.g.cg(c.g.va);c.on();0<c.Xc.length&&(c.g.bj(c.ud),c.g.Lh(),2>=c.g.i&&c.g.cg(c.g.va));c.g.O&&c.X.aa[2]&&c.g.sm(a,c.H,
c.F);c.g.Oo(c.g.va,c.g.h);f=0;g=c.g.i;c.g.O?g=7:-1===g&&(g=2);for(k=1;k<g;k+=1)f+=c.lj[k];a&&0===c.g.B&&!c.El&&0===f&&(c.g.la||(a.wa?c.C.notification.notify("Pattern too big!",15,F.Bu,15,!1):""===c.U&&c.C.notification.notify("New pattern",15,300,15,!1)));""!==c.U&&c.C.notification.notify("Invalid pattern!",15,300,15,!1);-1!==c.g.S&&c.g.Ug();if(!c.Cd||c.$a||-1!==c.Ta||c.Fe)c.g.cp(c.qb,c),c.g.Qg(c,c.qb)}c.Ag.current=[c.Md];c.Ng.current=[c.Ff];c.Re.current=[c.g.sd];c.Gj.current=[c.pd];c.Fj.current=[c.ed];
c.Wd.current=[c.g.Ad];c.Wd.locked=!c.g.ja;c.g.Z?(c.Id.current=[c.g.Fa],c.Id.W=["toggle triangular cells [?]"]):(c.Id.W=["toggle hexagonal cells [?]"],c.Id.current=c.g.ha?[c.g.Fa]:[!0]);c.Fi.locked=(c.g.ja||c.g.s)&&null!==c.g.Cb?!1:!0;0===c.s.B()?(c.dg.locked=!0,c.ke=!1):(c.dg.locked=!1,c.ke=!0);c.dg.current=[c.ke];c.Vi.current=[c.Ha];c.g.D||(c.g.Db=!1);c.nh.current=[c.g.Db];c.ck.current=[c.Le];c.hm.current=[c.g.Xc];c.nk.current=[c.Jc];c.Oi.current=[c.qd];c.s.i.length?(c.em.M=!1,c.Ol.M=!1):(c.em.M=
!0,c.Ol.M=!0);if(c.g.ha||c.g.Z)c.g.yc=!1;0===c.g.lb?(c.rd.current=[!1],c.rd.locked=!0):(c.rd.current=[c.g.yc],c.rd.locked=!1);c.Zb||c.g.Mh();d=c.g.zoom;f=c.g.ma;g=c.g.ka;p=c.ka;c.ka=!1;c.yb(!0,!1,F.ig);c.ka=p;c.Zs?c.g.zoom=d:!c.ia&&c.g.zoom>F.ZB&&(c.g.zoom=F.ZB);c.Vs&&(c.g.ma=f);c.Xs&&(c.g.ka=g);c.za&&c.eF(c.Vb);c.ka&&c.yo&&(c.g.zoom=c.Jt);c.Qz=c.g.zoom;c.kc.current=c.Qd([c.g.zoom,c.g.zoom],!1,c);c.va=c.g.ma;c.Cb=c.g.ka;c.Bi=c.g.angle;c.sa.current=[c.Bi,c.Bi];c.Ei=c.g.Gb;c.fb.current=[c.Hk(c.Ei),
c.Ei];c.jo=c.g.qb;c.yg(c.jo,c.g.Re,c);c.Zn=c.ca;c.ho=c.O;c.dc.current=1===c.O&&c.ca===F.$c?c.yc([1,1],!0,c):c.yc([c.kf(),1],!0,c);c.Ci=c.g.Aa;c.kb.current=[c.Ci,c.Ci];c.Hp=c.g.nc;d=Math.sqrt(c.Hp);c.Ea.current=c.pf([d,d],!0,c);c.$a&&!c.nc?(c.Ob=!0,c.hc.current=F.rj):(c.Ob=!1,c.hc.current=F.ue);c.Fe&&!c.Cd&&c.il(c);c.di(c.Ob);c.displayWidth>F.ld&&!c.yd?(k=c.displayWidth-F.ld+F.Lq,k>F.Is&&(k=F.Is),c.kc.Jf(k)):c.kc.Jf(F.Lq);if(e||c.ka)c.ka?c.xt():c.resize();a||(c.X.Na?c.C.notification.notify("Pattern too big!",
15,F.Bu,15,!1):c.C.notification.notify("Invalid pattern!",15,F.Bu,15,!1));c.Vb.length?c.v=0:c.da=0;c.ob||(c.I=!0,c.g.Dc=!1,c.g.la=!0,c.g.O=!1,c.g.v=!1,c.g.G=!1,c.mA());if(c.I||c.g.la)c.ra.m[F.el]=!0,c.ra.m[F.fl]=!0;c.I?(c.hc.M=!0,c.If.M=!0,c.dc.M=!0,c.Pd.M=!0,c.Th.M=!0,c.Fi.M=!0,c.Tm.M=!0,c.Na&&(c.kb.M=!0,c.Ea.M=!0,c.vd.M=!0,c.g.Aa=1),c.vc.M=!1,""===c.U?(c.vc.Jb=" "+C.Fq,c.vc.cd=c.C.cd,c.vc.setPosition(da.bh,c.jb.H,-40),c.ka?c.vc.Jf(c.Kj-(40+c.jb.H)):c.vc.Jf(c.displayWidth-(40+c.jb.H)),c.jb.M=!1):
(c.vc.Jb=c.U,c.vc.cd=c.bi,c.vc.setPosition(da.bh,0,-40),c.ka?c.vc.Jf(c.Kj-40):c.vc.Jf(c.displayWidth-40),c.jb.M=!0)):c.vc.M=!0;540>c.displayHeight?c.Ed.setPosition(da.pl,0,-85):c.Ed.setPosition(da.pl,0,-100);c.iA();c.ic=!1;c.Ys(c);c.so()?(c.Qc.Jb="Density",c.Qc.W="cell density"):(c.Qc.Jb="Births",c.Qc.W="cells born this generation");c.C.m=!0;c.C.ve(!0);c.yd&&c.Ey&&(c.Ey.nodeValue=""===c.xd?F.lo:c.tF(c.xd));Ea.wb?(e=c.Ze,""===e&&(e="Universe "+(c.Ua+1)),U.Fm||c.C.notification.notify(e,15,120,15,!0),
c.fm.M=!1,c.Pl.M=!1,c.kn.M=!1):(c.fm.M=!0,c.Pl.M=!0,c.kn.M=!0);c.$("");c.Fr&&pc(c);c.Rm||(8===c.g.zoom||.125===c.g.zoom)&&0<c.Lh&&0===(c.Lh&3)&&1===(c.Td.length&5)?(c.mh=!0,c.g.Hk()):c.mh=!1;c.g.Ri();(c.g.ja||c.g.s)&&null!==c.g.Cb&&c.Mn&&(c.g.Ub=!0,c.di(c.Ob));c.vm&&""===c.U&&(c.$j||(c.$j=!0,c.nm(c,!0)),c.$j=!1);-1!==c.Ta&&(c.Vc&&(0===c.g.B?(c.C.notification.notify("No live cells",15,360,15,!1),c.Ta=-1):c.C.notification.notify("Going to generation "+c.Ta,15,1E4,15,!1)),c.C.notification.clear(!0,!1));
a||(a=c.g.la,c.g.la=!1,c.g.Qd=1,c.g.oi(),c.g.la=a);c.g.la&&(c.Zb=!0,c.Ca=!1);c.Ne.locked=c.Zb;c.Ne.current=[c.Ca];c.Rj.current=[c.Ae];c.gk.current=[c.cf];c.ag.current=c.Aw([c.wd],!0,c);c.qz();c.C.Wa=c.cf&&c.g.ea===1<<F.Iv};console.group("LifeViewer");U.R=!1;U.xb=!1;va.T=new fb;U.T=va.T;La(window,"load",function(){requestAnimationFrame(U.yB)},!1);La(window,"resize",function(){if(Ea.fullScreen){var a=U.Pc[0][1];a.displayWidth=(document.body.clientWidth&-8)-8;a.displayHeight=window.innerHeight-130;a.displayWidth<
F.ld&&(a.displayWidth=F.ld);a.displayHeight<F.Mx&&(a.displayHeight=F.Mx);if(a.displayWidth>F.ld&&!a.yd){var b=a.displayWidth-F.ld+F.Lq;b>F.Is&&(b=F.Is);a.kc.Jf(b)}else a.kc.Jf(F.Lq);b=a.rf;a.qD();a.rf=b;a.bz();a.resize();a.C.ve(!0)}else for(b=0;b<U.Pc.length;b+=1)a=U.Pc[b][1],a.resize(),a.C.ve(!0)},!1);window.updateViewer=Gb;window.updateMe=yb;var $a={ri:0,im:"",ku:!1,mK:function(a){a=y.Lo[a];var b=a.substring(a.length-1);10<a.length&&(a=a.replace(/marked/,"mkd"),a=a.replace(/trail/,"trl"),10<a.length&&
(a="1"<=b&&"9">=b?a.substring(0,9)+b:a.substring(0,10)));return a},cH:function(a){a=y.Ko[a];10<a.length&&(a=a.replace(/killer/,"klr"),a=a.replace(/births/,"bth"),10<a.length&&(a=a.substring(0,10)));return a},AJ:function(a,b,c,d,f,e,g,k,l,p){var n=k,q=a.h.s,m=this.ri*q,r=this.ri*a.h.s,u=!1,t=a.u;e&&(e.fillStyle===a.C.Va&&(u=!0),t>=p&&t<=p+a.Ba&&(e.font=a.Zf,u||(e.fillStyle=1<(a.v|0)?a.ci:a.C.ca),e.fillText(b,g+m,k+r),u||(e.fillStyle=a.ci),e.fillText(c,g+m+e.measureText(b).width,k+r),u||(e.fillStyle=
(a.v|0)<a.fj-a.Ba?a.ci:a.C.ca),e.fillText(d,g+m+e.measureText(b+c).width,k+r),u||(e.fillStyle=a.ci),e.font=a.Oe,e.fillText(f,g+m+a.j[0]*q,k+r),n+=l));a.u+=1;return n},Vt:function(a){a/=1048576;return 10>a?String(a.toFixed(1)):String(a.toFixed(0))},BJ:function(a,b,c,d,f,e,g,k){var l=a.u;d&&(g-=6,l>=k&&l<=k+a.Ba&&(k=d.fillStyle,0===this.ri?(d.save(),d.imageSmoothingEnabled=!0,d.translate(f,e-(g>>1)-1),d.scale(g/c,g/c),d.drawImage(a.g.Vd,0,c*b,c,c,0,0,c,c),d.restore()):d.fillRect(f+2,e-(g>>1)-1+2,g,
g),d.fillStyle=k))},Za:function(a,b,c,d,f,e,g,k,l){var p=a.u;f&&(k-=6,p>=l&&p<=l+a.Ba&&(a=f.fillStyle,0===this.ri?(f.fillStyle="rgb("+b+","+c+","+d+")",f.fillRect(e,g-(k>>1)-1,k,k)):f.fillRect(e+2,g-(k>>1)-1+2,k,k),f.fillStyle=a))},measureText:function(a,b,c,d){var f=d?a.No:a.Ho;f[a.u]?b=f[a.u]:(b.font=0===d?a.Zf:a.Oe,b=b.measureText(c).width,f[a.u]=b);return b},l:function(a,b,c,d,f,e,g,k){var l=e,p=String(c).indexOf("\t"),n=0,q=a.h.s,m=this.ri*q,r=this.ri*a.h.B,u=a.u>=k&&a.u<=k+a.Ba;$a.ku&&0===$a.ri&&
(""===b?$a.im+=c+"\n":"H / Esc"!==b&&($a.im+=b+"\t"+c+"\n"));if(b.length){u&&(d.font=a.Zf,d.fillText(b,f+m,e+r));b=this.measureText(a,d,b,0);b>a.j[n]*q&&""!==c&&(u&&(e+=g,l+=g),a.u+=1,u=a.u>=k&&a.u<=k+a.Ba);u&&(d.font=a.Oe);for(;-1!==p;)u&&d.fillText(c.substring(0,p),f+m+a.j[n]*q,e+r),n+=1,c=c.substring(p+1),p=c.indexOf("\t");p=!1;if(a.jc&&(b=this.measureText(a,d,c,1),f+a.j[n]*q+b>d.canvas.width)){var t=c.toLowerCase();b=t.indexOf("|");-1===b&&("r"===t[0]?b=t.indexOf("b"):"m"!==t[0]&&(b=t.indexOf("s")),
-1===b&&(b=t.indexOf("/"),-1!==b&&"m"!==t[0]?b+=1:(b=c.length>>1,t=t.indexOf(",",b),-1!==t&&(b=t+1))));-1!==b&&(u&&(d.fillText(c.substring(0,b),f+m+a.j[n]*q,e+r),e+=g,l+=g),a.u+=1,(u=a.u>=k&&a.u<=k+a.Ba)&&d.fillText("  "+c.substring(b),f+m+a.j[n]*q,e+r),p=!0)}p||u&&d.fillText(c,f+m+a.j[n]*q,e+r)}else d.font=a.Oe,u&&d.fillText(c,f+m,e+r);u&&(l+=g);a.u+=1;return l},ub:function(a,b,c){var d=hb.qf,f=Object.keys(d),e,g=!1,k=0;for(e="    "+a+"\t"+b+"\t"+c+("\t#"+(16777216|a<<16|b<<8|c).toString(16).slice(-6).toUpperCase());k<
f.length&&!g;){var l=d[f[k]];l[1]===a&&l[2]===b&&l[3]===c?(e+="\t"+l[0],g=!0,k=f.length):k+=1}return e},qe:function(a){return this.ub(a.h,a.j,a.i)},uG:function(a){var b=0,c=0;0<a.g.B&&(b=a.g.A.L-a.g.A.J+1,c=a.g.A.N-a.g.A.K+1);-1!==a.g.S&&(0!==a.g.ca&&(b=a.g.ca),0!==a.g.$&&(c=a.g.$));return b+" x "+c},xG:function(a){var b="AutoFit";a.qd&&(b+=" History");a.ud&&(b+=" State 1");return b},MC:function(a,b){b-=a.length;for(var c="";0<b;)c+=" ",--b;return c+a},gu:function(a){var b=a.indexOf(","),c=a.lastIndexOf(",");
return[parseInt(a.substring(4,b),10),parseInt(a.substring(b+1,c),10),parseInt(a.substring(c+1,a.length-1),10)]},iD:function(a,b,c,d,f,e){var g=d;switch(a.Hd){case F.Pg:this.JJ(a,b,c,d,f,e);break;case F.hv:this.DJ(a,b,c,d,f,e);break;case F.jy:this.HJ(a,b,c,d,f,e);break;case F.mr:this.CJ(a,b,c,d,f,e);break;case F.yy:this.IJ(a,b,c,d,f,e);break;case F.iu:this.vJ(a,b,c,d,f,e);break;case F.Ht:this.tJ(a,b,c,d,f,e);break;case F.Lv:this.EJ(a,b,c,d,f,e);break;case F.ju:this.wJ(a,b,c,d,f,e);break;case F.Kt:this.uJ(a,
b,c,d,f,e)}a.fj=a.u-1;a.u=1;a.j[0]=120;d=g+f*(a.Ba+2);a.Hd!==F.Pg?d=this.AJ(a,"Up"," / ","Down","scroll help",b,c,d,f,0):d+=f;a.yd?this.l(a,"H","close help",b,c,d,f,0):this.l(a,"H / Esc","close help",b,c,d,f,0)},JJ:function(a,b,c,d,f,e){var g=U.R?F.Nx:F.uD;a.u=1;a.jc=!1;a.B=[];a.j[0]=108;a.B[0]=[a.u,"Top"];d=this.l(a,"",F.lo+" "+g+" build "+F.js+" by "+F.PD,b,c,d,f,e);U.R&&(d=this.l(a,"","Alpha release for testing",b,c,d,f,e));a.rn&&(d=this.l(a,"","",b,c,d,f,e),d=this.l(a,"","If there are no cells displayed please go to chrome://flags",
b,c,d,f,e),this.l(a,"","and set Out-of-process 2D canvas rasterization to Disabled. ",b,c,d,f,e))},uJ:function(a,b,c,d,f,e){var g,k=0,l=a.h.s;a.u=1;a.jc=!1;a.B=[];a.B[k]=[a.u,"Top"];k+=1;a.j[0]=128;a.j[1]=208;a.j[2]=288;a.j[3]=368;d=this.l(a,"","Annotations",b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);a.B[k]=[a.u,"Labels"];k+=1;d=this.l(a,"","Labels:",b,c,d,f,e);d=this.l(a,"Number",a.s.m.length,b,c,d,f,e);for(g=0;g<a.s.m.length;g+=1){var p="Label "+String(g+1);d=this.l(a,p,a.s.ya(g),b,c,d,f,e);d=this.l(a,
" ",a.s.za(g),b,c,d,f,e);d=this.l(a," ",a.s.Ba(g),b,c,d,f,e);p=this.gu(a.s.Ca(g));this.Za(a,p[0],p[1],p[2],b,c+a.j[0]*l,d,f,e);d=this.l(a,"Colour",this.ub(p[0],p[1],p[2]),b,c,d,f,e)}d=this.l(a,"","",b,c,d,f,e);a.B[k]=[a.u,"Arrows"];k+=1;d=this.l(a,"","Arrows:",b,c,d,f,e);d=this.l(a,"Number",a.s.s.length,b,c,d,f,e);for(g=0;g<a.s.s.length;g+=1)p="Arrow "+String(g+1),d=this.l(a,p,a.s.ea(g),b,c,d,f,e),d=this.l(a," ",a.s.fa(g),b,c,d,f,e),d=this.l(a," ",a.s.ga(g),b,c,d,f,e),p=this.gu(a.s.Oq(g)),this.Za(a,
p[0],p[1],p[2],b,c+a.j[0]*l,d,f,e),d=this.l(a,"Colour",this.ub(p[0],p[1],p[2]),b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);a.B[k]=[a.u,"Polygons"];d=this.l(a,"","Polygons:",b,c,d,f,e);d=this.l(a,"Number",a.s.u.length,b,c,d,f,e);for(g=0;g<a.s.u.length;g+=1)p="Polygon "+String(g+1),d=this.l(a,p,a.s.Ta(g),b,c,d,f,e),d=this.l(a," ",a.s.Ua(g),b,c,d,f,e),d=this.l(a," ",a.s.Va(g),b,c,d,f,e),p=this.gu(a.s.Wa(g)),this.Za(a,p[0],p[1],p[2],b,c+a.j[0]*l,d,f,e),d=this.l(a,"Colour",this.ub(p[0],p[1],p[2]),b,c,d,f,e)},
DJ:function(a,b,c,d,f,e){var g,k=0;a.u=1;a.B=[];a.jc=!0;a.j[0]=124;a.B[k]=[a.u,"Top"];k+=1;d=this.l(a,"","Keyboard commands",b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);a.B[k]=[a.u,"Playback"];k+=1;d=this.l(a,"","Playback controls:",b,c,d,f,e);if(a.Na)d=this.l(a,"R","reset",b,c,d,f,e);else{d=this.l(a,"Enter","toggle play / pause",b,c,d,f,e);d=this.l(a,"Space","pause / next generation",b,c,d,f,e);d=this.l(a,"B","pause / previous generation",b,c,d,f,e);d=this.l(a,"Backspace","pause / previous generation",
b,c,d,f,e);d=this.l(a,"Tab","pause / next step",b,c,d,f,e);d=this.l(a,"Shift Tab","pause / previous step",b,c,d,f,e);if(a.g.ja||a.g.s)d=this.l(a,"U","toggle playback direction",b,c,d,f,e);d=a.yd?this.l(a,"Esc","close LifeViewer",b,c,d,f,e):this.l(a,"Esc","pause if playing",b,c,d,f,e);d=this.l(a,"R","reset to generation 0",b,c,d,f,e);d=this.l(a,"Shift N","go to generation",b,c,d,f,e);d=this.l(a,"-","decrease playback speed",b,c,d,f,e);d=this.l(a,"+","increase playback speed",b,c,d,f,e);d=this.l(a,
"Shift -","minimum playback speed",b,c,d,f,e);d=this.l(a,"Shift +","maximum playback speed",b,c,d,f,e);d=this.l(a,"0","reset step and speed",b,c,d,f,e);d=this.l(a,a.A+" P","toggle pause playback while drawing",b,c,d,f,e);a.g.dg()&&(d=this.l(a,"F7","toggle fast lookup",b,c,d,f,e));d=this.l(a,a.D+" T","toggle throttling",b,c,d,f,e);a.za?-1!==a.Sb?(d=this.l(a,"W","toggle waypoint playback and loop",b,c,d,f,e),d=this.l(a,"Shift P","toggle just loop",b,c,d,f,e)):d=this.l(a,"W","toggle waypoint playback",
b,c,d,f,e):-1!==a.Sb&&(d=this.l(a,"W","toggle loop",b,c,d,f,e));a.$a&&(d=this.l(a,a.D+" O","toggle autostart",b,c,d,f,e));-1!==a.uc&&(d=this.l(a,a.D+" P","toggle stop",b,c,d,f,e))}d=this.l(a,"","",b,c,d,f,e);a.B[k]=[a.u,"Multi"];k+=1;d=this.l(a,"","Multi-Viewer controls:",b,c,d,f,e);Ea.wb&&(d=this.l(a,"Page Up","previous universe",b,c,d,f,e),d=this.l(a,"Page Down","next universe",b,c,d,f,e),d=this.l(a,"Home","first universe",b,c,d,f,e),d=this.l(a,"End","last universe",b,c,d,f,e));d=this.l(a,"Shift R",
"reset all LifeViewers to generation 0",b,c,d,f,e);d=this.l(a,"Z","stop playback in all other LifeViewers",b,c,d,f,e);d=this.l(a,"Shift Z","stop playback in all LifeViewers",b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);a.B[k]=[a.u,"Camera"];k+=1;d=this.l(a,"","Camera controls:",b,c,d,f,e);if(a.displayHeight>=F.dl||(a.ka&&a.zt)>=F.dl)d=this.l(a,"M","toggle settings menu",b,c,d,f,e);d=this.l(a,"V","restore saved camera position",b,c,d,f,e);d=this.l(a,"Shift V","save current camera position",b,c,d,f,e);var l=
a.s.i.length;if(0<l&&(d=this.l(a,"J","jump to next point of interest",b,c,d,f,e),d=this.l(a,"Shift J","jump to previous point of interest",b,c,d,f,e),9<l&&(l=9),!a.hb&&!a.wc))for(g=1;g<=l;g+=1)d=this.l(a,a.D+" "+String(g),"jump to POI #"+String(g),b,c,d,f,e);d=this.l(a,"F","fit pattern to display",b,c,d,f,e);d=this.l(a,"Shift F","toggle autofit",b,c,d,f,e);d=this.l(a,"Shift H","toggle autofit history mode",b,c,d,f,e);d=this.l(a,a.A+" F","fit selection to display",b,c,d,f,e);d=this.l(a,a.A+" M","center pattern on display",
b,c,d,f,e);a.g.O&&(d=this.l(a,"Shift S","toggle autofit state 1 mode",b,c,d,f,e));d=this.l(a,"[","zoom out",b,c,d,f,e);d=this.l(a,"]","zoom in",b,c,d,f,e);d=this.l(a,"Shift [","halve zoom",b,c,d,f,e);d=this.l(a,"Shift ]","double zoom",b,c,d,f,e);d=this.l(a,"1","1x zoom",b,c,d,f,e);d=this.l(a,"2","2x zoom",b,c,d,f,e);d=this.l(a,"4","4x zoom",b,c,d,f,e);d=this.l(a,"8","8x zoom",b,c,d,f,e);d=this.l(a,"6","16x zoom",b,c,d,f,e);d=this.l(a,"3","32x zoom",b,c,d,f,e);d=this.l(a,"Shift 1","integer zoom",b,
c,d,f,e);d=this.l(a,"Shift 2","-2x zoom",b,c,d,f,e);d=this.l(a,"Shift 4","-4x zoom",b,c,d,f,e);d=this.l(a,"Shift 8","-8x zoom",b,c,d,f,e);d=this.l(a,"Shift 6","-16x zoom",b,c,d,f,e);d=this.l(a,"Shift 3","-32x zoom",b,c,d,f,e);d=this.l(a,"Left","pan left",b,c,d,f,e);d=this.l(a,"Right","pan right",b,c,d,f,e);d=this.l(a,"Up","pan up",b,c,d,f,e);d=this.l(a,"Down","pan down",b,c,d,f,e);d=this.l(a,"Shift Left","pan north west",b,c,d,f,e);d=this.l(a,"Shift Right","pan south east",b,c,d,f,e);d=this.l(a,"Shift Up",
"pan north east",b,c,d,f,e);d=this.l(a,"Shift Down","pan south west",b,c,d,f,e);d=this.l(a,"<","rotate left",b,c,d,f,e);d=this.l(a,">","rotate right",b,c,d,f,e);d=this.l(a,"Shift <","rotate left 90 degrees",b,c,d,f,e);d=this.l(a,"Shift >","rotate right 90 degrees",b,c,d,f,e);d=this.l(a,a.D+" <","rotate left 45 degrees",b,c,d,f,e);d=this.l(a,a.D+" >","rotate right 45 degrees",b,c,d,f,e);d=this.l(a,"5","reset angle",b,c,d,f,e);d=this.l(a,a.D+" /","snap angle to nearest 45 degrees",b,c,d,f,e);d=this.l(a,
"'","tilt down",b,c,d,f,e);d=this.l(a,"/","tilt up",b,c,d,f,e);d=this.l(a,"@","reset tilt",b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);a.Na||(a.B[k]=[a.u,"View"],k+=1,d=this.l(a,"","View controls:",b,c,d,f,e),d=this.l(a,"Q","increase number of layers",b,c,d,f,e),d=this.l(a,"A","decrease number of layers",b,c,d,f,e),d=this.l(a,"P","increase layer depth",b,c,d,f,e),d=this.l(a,"L","decrease layer depth",b,c,d,f,e),d=this.l(a,"C","next colour theme",b,c,d,f,e),d=this.l(a,"Shift C","previous colour theme",
b,c,d,f,e),d=this.l(a,a.D+" C","default theme",b,c,d,f,e),d=this.l(a,"","",b,c,d,f,e));a.B[k]=[a.u,"Display"];k+=1;d=this.l(a,"","Display controls:",b,c,d,f,e);a.Na||(d=this.l(a,"G","toggle generation statistics",b,c,d,f,e),d=this.l(a,"Shift G","toggle generation display mode",b,c,d,f,e),a.Zb||(d=this.l(a,"Y","toggle population graph",b,c,d,f,e),d=this.l(a,"Shift Y","toggle graph lines",b,c,d,f,e),d=this.l(a,"7","decrease graph opacity",b,c,d,f,e),d=this.l(a,"9","increase graph opacity",b,c,d,f,e),
d=this.l(a,"Shift F3","toggle population plot",b,c,d,f,e),d=this.l(a,"Shift F4","toggle births plot",b,c,d,f,e),d=this.l(a,"Shift F5","toggle deaths plot",b,c,d,f,e)),d=this.l(a,"Shift W","toggle performance warning",b,c,d,f,e));a.g.ha?d=this.l(a,"?","toggle hexagons for hexagonal grid",b,c,d,f,e):a.g.Z&&(d=this.l(a,"?","toggle triangles for triangular grid",b,c,d,f,e));d=this.l(a,"T","toggle timing information",b,c,d,f,e);d=this.l(a,"Shift T","toggle extended timing information",b,c,d,f,e);U.R&&
(d=this.l(a,a.D+" `","toggle WASM engine",b,c,d,f,e));d=this.l(a,"I","toggle pattern and engine information",b,c,d,f,e);d=this.l(a,"Shift I","toggle information bar",b,c,d,f,e);d=this.l(a,a.D+" I","toggle icons",b,c,d,f,e);d=this.l(a,a.A+" Q","toggle cell anti-aliasing",b,c,d,f,e);d=this.l(a,a.D+" B","toggle cell borders",b,c,d,f,e);d=this.l(a,"X","toggle gridlines",b,c,d,f,e);0<a.g.lb&&(d=this.l(a,"Shift X","toggle major gridlines",b,c,d,f,e));d=this.l(a,a.A+" G","toggle auto gridlines",b,c,d,f,
e);a.g.ja&&(d=this.l(a,a.D+" D","toggle alternating gridlines",b,c,d,f,e));if(a.g.O||a.g.v||-1===a.g.i)d=this.l(a,a.D+" G","convert pattern to [R]Super",b,c,d,f,e),d=this.l(a,a.D+" H","convert pattern to [R]History",b,c,d,f,e),d=this.l(a,a.D+" J","convert pattern to [R]Standard",b,c,d,f,e);0<a.s.B()&&(d=this.l(a,a.D+" L","toggle annotation display",b,c,d,f,e));d=this.l(a,a.A+" L","toggle kill escaping gliders",b,c,d,f,e);a.ne&&(d=this.l(a,"N","toggle thumbnail view",b,c,d,f,e));d=this.l(a,"S","toggle stars",
b,c,d,f,e);d=this.l(a,"O","save screenshot",b,c,d,f,e);d=this.l(a,"Shift O","save population graph screenshot",b,c,d,f,e);d=this.l(a,";","save black and white screenshot",b,c,d,f,e);d=this.l(a,"Shift U","toggle UI",b,c,d,f,e);d=this.l(a,a.D+" U","toggle autohide UI during playback",b,c,d,f,e);-1===a.g.i&&(d=this.l(a,a.D+" W","cycle cell shader",b,c,d,f,e));d=this.l(a,"D","download cell map",b,c,d,f,e);d=this.l(a,"E","cycle identify results display",b,c,d,f,e);d=this.l(a,a.D+" E","cycle identify results type",
b,c,d,f,e);d=this.l(a,"F8","toggle cell state display",b,c,d,f,e);d=this.l(a,"Shift F8","toggle y coordinate direction",b,c,d,f,e);d=this.l(a,"F9","toggle popup window maximize",b,c,d,f,e);d=this.l(a,"Shift E","toggle use saved default playback speed",b,c,d,f,e);d=this.l(a,a.A+" E","save default playback speed",b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);a.B[k]=[a.u,"Pattern"];k+=1;d=this.l(a,"","Pattern controls:",b,c,d,f,e);d=this.l(a,a.D+" N","new pattern",b,c,d,f,e);d=this.l(a,a.D+" R","change rule",
b,c,d,f,e);d=this.l(a,a.A+" O","open original or last saved pattern",b,c,d,f,e);d=this.l(a,a.A+"+Shift O","open clipboard as pattern",b,c,d,f,e);d=this.l(a,a.A+" S","save pattern",b,c,d,f,e);d=this.l(a,a.D+" Z","randomize pattern and rule",b,c,d,f,e);d=this.l(a,a.A+"+"+a.D+" Z","randomize pattern only",b,c,d,f,e);d=this.l(a,"F6","toggle pattern identification",b,c,d,f,e);d=this.l(a,"Shift F6","display last identification result",b,c,d,f,e);d=this.l(a,"Shift F9","toggle Safe Mode",b,c,d,f,e);d=this.l(a,
"","",b,c,d,f,e);a.B[k]=[a.u,"Clipboard"];k+=1;d=this.l(a,"","External clipboard controls:",b,c,d,f,e);d=this.l(a,a.D+" S","toggle sync cut and copy with external clipboard",b,c,d,f,e);d=this.l(a,a.A+"+Shift C","copy original pattern",b,c,d,f,e);d=this.l(a,a.A+" C","copy current selection",b,c,d,f,e);d=this.l(a,a.A+"+"+a.D+" C","copy current selection with comments",b,c,d,f,e);d=this.l(a,a.A+"+Shift X","cut original pattern",b,c,d,f,e);d=this.l(a,a.A+" X","cut current selection",b,c,d,f,e);d=this.l(a,
a.A+"+"+a.D+" X","cut current selection with comments",b,c,d,f,e);d=this.l(a,a.A+" J","copy rule definition",b,c,d,f,e);a.g.D&&2===a.g.i&&(d=this.l(a,a.D+" M","copy rule definition as MAP",b,c,d,f,e));d=this.l(a,"K","copy camera position",b,c,d,f,e);d=this.l(a,"Shift K","copy camera position and view",b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);a.B[k]=[a.u,"Edit"];k+=1;d=this.l(a,"","Edit controls:",b,c,d,f,e);d=this.l(a,"F1","toggle draw/pan mode",b,c,d,f,e);d=this.l(a,"F2","draw mode",b,c,d,f,e);d=this.l(a,
"Shift F2","toggle smart drawing",b,c,d,f,e);d=this.l(a,"F3","pick mode",b,c,d,f,e);d=this.l(a,"F4","select mode",b,c,d,f,e);d=this.l(a,"F5","pan mode",b,c,d,f,e);d=this.l(a,a.A+" A","select all",b,c,d,f,e);d=this.l(a,"Shift A","shrink selection",b,c,d,f,e);d=this.l(a,a.D+" A","toggle auto-shrink selection",b,c,d,f,e);d=this.l(a,a.A+" C","copy",b,c,d,f,e);d=this.l(a,a.A+" D","toggle states display",b,c,d,f,e);d=this.l(a,a.A+" I","invert selection",b,c,d,f,e);d=this.l(a,a.A+" K","remove selection",
b,c,d,f,e);d=this.l(a,a.A+" V","paste",b,c,d,f,e);d=this.l(a,a.A+"+Shift V","paste to selection",b,c,d,f,e);d=this.l(a,a.A+" X","cut",b,c,d,f,e);d=this.l(a,a.A+" Y","redo edit",b,c,d,f,e);d=this.l(a,a.A+" Z","undo edit",b,c,d,f,e);d=this.l(a,a.A+"+Shift Z","redo edit",b,c,d,f,e);d=this.l(a,a.A+" Space","advance selection",b,c,d,f,e);d=this.l(a,"Shift Space","advance outside",b,c,d,f,e);d=this.l(a,"Shift L","cycle paste location",b,c,d,f,e);d=this.l(a,"Shift M","cycle paste mode",b,c,d,f,e);2<a.g.i?
(d=this.l(a,"Shift 5","multi-state random fill",b,c,d,f,e),a.g.s||(d=this.l(a,a.A+"+Shift 5","2-state random fill",b,c,d,f,e))):d=this.l(a,"Shift 5","random fill",b,c,d,f,e);d=this.l(a,a.D+" K","pick cell state to replace with drawing state",b,c,d,f,e);d=this.l(a,a.A+"+"+a.D+" K","clear current drawing state cells",b,c,d,f,e);d=this.l(a,"Del","clear cells in selection",b,c,d,f,e);d=this.l(a,"Shift Del","clear outside selection",b,c,d,f,e);a.g.O&&(d=this.l(a,a.A+" Del","clear [R]History cells",b,c,
d,f,e),d=this.l(a,a.D+" Del","clear [R]History marked cells",b,c,d,f,e));d=this.l(a,">","rotate selection clockwise",b,c,d,f,e);d=this.l(a,"<","rotate selection counter-clockwise",b,c,d,f,e);d=this.l(a,a.D+" X","flip selection horizontally",b,c,d,f,e);d=this.l(a,a.D+" Y","flip selection vertically",b,c,d,f,e);d=this.l(a,a.D+" Left","nudge selection 1 cell left",b,c,d,f,e);d=this.l(a,a.D+" Right","nudge selection 1 cell right",b,c,d,f,e);d=this.l(a,a.D+" Up","nudge selection 1 cell up",b,c,d,f,e);
d=this.l(a,a.D+" Down","nudge selection 1 cell down",b,c,d,f,e);d=this.l(a,"Esc","hide paste",b,c,d,f,e);d=this.l(a,"Enter","perform paste",b,c,d,f,e);a.g.O?l=7:(l=-1===a.g.i?2:a.g.i,10<l&&(l=10));for(g=0;g<l;g+=1)d=this.l(a,a.A+" "+g,"select state "+g+" for drawing",b,c,d,f,e);d=this.l(a,"Shift B","toggle clipboard library",b,c,d,f,e);for(g=0;10>g;g+=1)d=this.l(a,a.D+" "+g,"make clipboard "+g+" active",b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);a.B[k]=[a.u,"Help"];d=this.l(a,"","Help controls:",b,c,
d,f,e);d=this.l(a,"Up","scroll up one line",b,c,d,f,e);d=this.l(a,"Down","scroll down one line",b,c,d,f,e);d=this.l(a,"Page Up","scroll up one page",b,c,d,f,e);d=this.l(a,"Page Down","scroll down one page",b,c,d,f,e);d=this.l(a,"Shift Page Up","scroll up one section",b,c,d,f,e);d=this.l(a,"Shift Page Down","scroll down one section",b,c,d,f,e);d=this.l(a,"Home","go to first help page",b,c,d,f,e);d=this.l(a,"End","go to last help page",b,c,d,f,e);this.l(a,"Ins","show help sections",b,c,d,f,e)},HJ:function(a,
b,c,d,f,e){var g=0,k;a.u=1;a.jc=!1;a.B=[];a.j[0]=252;a.B[g]=[a.u,"Top"];g+=1;d=this.l(a,"","Scripts",b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);d=this.l(a,"","Scripts must be embedded in pattern comments",b,c,d,f,e);d=this.l(a,"","Commands must be surrounded by whitespace",b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);a.B[g]=[a.u,"Params"];g+=1;d=this.l(a,"","Parameter conventions:",b,c,d,f,e);d=this.l(a,"A|B","either A or B",b,c,d,f,e);d=this.l(a,"(A)","A is optional",b,c,d,f,e);d=this.l(a,"A*","zero or more A",
b,c,d,f,e);d=this.l(a,"A+","one or more A",b,c,d,f,e);d=this.l(a,"<1..3>","integer range",b,c,d,f,e);d=this.l(a,"<1.0..3.0>","decimal range",b,c,d,f,e);d=this.l(a,'"<string>"',"text string",b,c,d,f,e);d=this.l(a," "+C.fe+"B","program build number",b,c,d,f,e);d=this.l(a," "+C.fe+"N","pattern name",b,c,d,f,e);d=this.l(a," "+C.fe+"O","pattern originator",b,c,d,f,e);d=this.l(a," "+C.fe+"R","rule name",b,c,d,f,e);d=this.l(a," "+C.fe+"A","rule alias",b,c,d,f,e);d=this.l(a," "+C.fe+"D","rule neighbourhood",
b,c,d,f,e);d=this.l(a," "+C.fe+"T","program title",b,c,d,f,e);d=this.l(a," "+C.fe+"S","random seed",b,c,d,f,e);d=this.l(a," "+C.fe+"G","current generation (Labels)",b,c,d,f,e);d=this.l(a," "+C.fe+"H","reversible generation (Labels)",b,c,d,f,e);d=this.l(a," "+C.fe+"I","current generation relative (Labels)",b,c,d,f,e);d=this.l(a," "+C.fe+"J","reversible generation relative (Labels)",b,c,d,f,e);d=this.l(a," "+C.fe+"P","current population (Labels)",b,c,d,f,e);d=this.l(a," "+C.fe+"0..9","saved timing as average fps",
b,c,d,f,e);d=this.l(a," "+C.fe+C.fe,C.fe+" symbol",b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);a.B[g]=[a.u,"General"];g+=1;d=this.l(a,"","General:",b,c,d,f,e);d=this.l(a,C.ml,"start script section",b,c,d,f,e);d=this.l(a,C.Mm,"end script section",b,c,d,f,e);d=this.l(a,C.wy,"suppress overwrite warning",b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);a.B[g]=[a.u,"Playback"];g+=1;d=this.l(a,"","Playback:",b,c,d,f,e);d=this.l(a,C.Rq+" ("+C.Tb+")","start play automatically",b,c,d,f,e);d=this.l(a,C.hi+" <1..>|"+C.Tb,
"loop at generation",b,c,d,f,e);d=this.l(a,C.ui+" <1..>|"+C.Tb,"stop at generation",b,c,d,f,e);d=this.l(a,C.es+" <1..>","play to generation on load",b,c,d,f,e);d=this.l(a,C.qm+" <"+F.Bg+".."+F.pI+">","set steps per second",b,c,d,f,e);d=this.l(a,C.Om+" <"+F.Zg+".."+a.Hf+">","set generations per step",b,c,d,f,e);(a.g.ja||a.g.s)&&a.g.Cb&&(d=this.l(a,C.by,"set initial playback to Reverse",b,c,d,f,e));d=this.l(a,C.Ru,"always use hard reset",b,c,d,f,e);d=this.l(a,C.Qq,"identify pattern automatically",b,
c,d,f,e);d=this.l(a,C.Fq,"disable playback",b,c,d,f,e);d=this.l(a,C.Dw,"disable step back",b,c,d,f,e);d=this.l(a,C.Fw,"disable stop messages",b,c,d,f,e);d=this.l(a,C.Ew,"disable performance warning",b,c,d,f,e);d=this.l(a,C.Hw,"disable playback throttling",b,c,d,f,e);d=this.l(a,C.Cu,"starting playback pauses others",b,c,d,f,e);d=this.l(a,C.bv,"ignore other pause requests",b,c,d,f,e);d=this.l(a,C.Ax,"show playback duration",b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);a.B[g]=[a.u,"Camera"];g+=1;d=this.l(a,
"","Camera:",b,c,d,f,e);d=this.l(a,C.Lk+" <0..359>","set camera angle",b,c,d,f,e);d=this.l(a,C.sl+" <0.0..5.0>","set camera tilt",b,c,d,f,e);d=this.l(a,C.gf+" <-"+(a.g.ea>>1)+".."+(a.g.ea>>1)+">","set camera x position",b,c,d,f,e);d=this.l(a,C.jf+" <-"+(a.g.ea>>1)+".."+(a.g.ea>>1)+">","set camera y position",b,c,d,f,e);d=this.l(a,C.se+" <"+Number(-1/F.Bb).toFixed(1)+".."+F.Pb.toFixed(1)+">","set camera zoom",b,c,d,f,e);d=this.l(a,C.It,"same as "+C.se,b,c,d,f,e);d=this.l(a,C.Pq+" ("+C.Tb+")","fit pattern to display",
b,c,d,f,e);d=this.l(a,C.Yu+" ("+C.Tb+")","autofit uses pattern history",b,c,d,f,e);d=this.l(a,C.ty+" ("+C.Tb+")","autofit only uses state 1",b,c,d,f,e);d=this.l(a,C.Cq+" X Y","camera tracking",b,c,d,f,e);d=this.l(a," X ","horizontal speed cells/gen",b,c,d,f,e);d=this.l(a," Y ","vertical speed cells/gen",b,c,d,f,e);d=this.l(a,C.Sm+" E S W N","camera box tracking",b,c,d,f,e);d=this.l(a," E ","east edge speed cells/gen",b,c,d,f,e);d=this.l(a," S ","south edge speed cells/gen",b,c,d,f,e);d=this.l(a," W ",
"west edge speed cells/gen",b,c,d,f,e);d=this.l(a," N ","north edge speed cells/gen",b,c,d,f,e);d=this.l(a,C.Bq+" P X Y","camera tracking with loop",b,c,d,f,e);d=this.l(a," P ","period",b,c,d,f,e);d=this.l(a," X ","horizontal speed cells/gen",b,c,d,f,e);d=this.l(a," Y ","vertical speed cells/gen",b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);a.B[g]=[a.u,"Waypoints"];g+=1;d=this.l(a,"","Waypoints:",b,c,d,f,e);d=this.l(a,C.uq+" <0..>","waypoint at generation",b,c,d,f,e);d=this.l(a,C.yx+" <0.0..>","pause for time",
b,c,d,f,e);d=this.l(a,C.Yg+" "+C.hg+"|"+C.gf+"|"+C.jf+"|"+C.se,"linear motion",b,c,d,f,e);d=this.l(a,C.ai+" "+C.hg+"|"+C.gf+"|"+C.jf+"|"+C.se,"bezier motion (default)",b,c,d,f,e);d=this.l(a,C.zD,"save timing at waypoint start",b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);a.B[g]=[a.u,"POIs"];g+=1;d=this.l(a,"","Points of interest:",b,c,d,f,e);d=this.l(a,C.Nr,"define point of interest",b,c,d,f,e);d=this.l(a,C.Mr+" <0..>","start POI at generation",b,c,d,f,e);d=this.l(a,C.kq,"reset generation at POI",b,c,d,
f,e);d=this.l(a,C.Vo,"start playback at POI",b,c,d,f,e);d=this.l(a,C.Wo,"stop playback at POI",b,c,d,f,e);d=this.l(a,C.lq+" <"+Va.bD+".."+Va.aD+">","set POI transition speed",b,c,d,f,e);d=this.l(a,"<command>|ALL "+C.zc,"use initial value for POI",b,c,d,f,e);d=this.l(a,C.Nd+"<string>"+C.Nd,"define message",b,c,d,f,e);d=this.l(a,C.Cx,"add Labels as POIs",b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);a.B[g]=[a.u,"Annotations"];g+=1;d=this.l(a,"","Annotations:",b,c,d,f,e);d=this.l(a,C.Zp+" X Y ZOOM","define label at position",
b,c,d,f,e);d=this.l(a," ("+C.de+") "+C.Nd+"<string>"+C.Nd,"... fix position, label text ",b,c,d,f,e);d=this.l(a,C.wv+" <"+F.gC+".."+F.bC+">","define label font size",b,c,d,f,e);d=this.l(a," ("+C.de+")","... optionally fix size",b,c,d,f,e);d=this.l(a,C.rv+" <0.0..1.0>","define label font alpha",b,c,d,f,e);d=this.l(a,C.xv+" <0..> <0..> <0..>","generation range / fade",b,c,d,f,e);d=this.l(a,C.sv+" <0..359>","label angle",b,c,d,f,e);d=this.l(a," ("+C.de+")","... optionally fix angle",b,c,d,f,e);d=this.l(a,
C.zv+" D|"+C.Tb,"label view distance",b,c,d,f,e);d=this.l(a,C.Av+" MINZOOM MAXZOOM|"+C.Tb,"label zoom visibility",b,c,d,f,e);d=this.l(a,C.yv+" DX DY|"+C.de,"label move per generation",b,c,d,f,e);d=this.l(a,C.vv+" ("+C.Tb+")","turn label shadow on or off",b,c,d,f,e);d=this.l(a,C.qv+" "+C.nv+"|"+C.ov+"|"+C.pv,"set label text alignment",b,c,d,f,e);d=this.l(a,C.Lp+" X1 Y1 X2 Y2 ZOOM","define arrow at position",b,c,d,f,e);d=this.l(a," ("+C.de+")","... fix position",b,c,d,f,e);d=this.l(a,C.Qt+" <"+F.Cr+
".."+F.ur+"> <0.0..1.0>","line width and head multiple",b,c,d,f,e);d=this.l(a,C.Nt+" <0.0..1.0>","define arrow alpha",b,c,d,f,e);d=this.l(a,C.Rt+" <0..> <0..> <0..>","generation range / fade",b,c,d,f,e);d=this.l(a,C.Ot+" <0..359>","arrow angle",b,c,d,f,e);d=this.l(a," ("+C.de+")","... optionally fix angle",b,c,d,f,e);d=this.l(a,C.Tt+" D|"+C.Tb,"arrow view distance",b,c,d,f,e);d=this.l(a,C.Ut+" MINZOOM MAXZOOM|"+C.Tb,"arrow zoom visibility",b,c,d,f,e);d=this.l(a,C.St+" DX DY|"+C.de,"arrow move per generation",
b,c,d,f,e);d=this.l(a,C.Pt+" ("+C.Tb+")","turn arrow shadow on or off",b,c,d,f,e);d=this.l(a,C.Fx+" X1 Y1 X2 Y2 .. ZOOM","define outline polygon",b,c,d,f,e);d=this.l(a," ("+C.de+")","... fix position",b,c,d,f,e);d=this.l(a,C.Or+" X1 Y1 X2 Y2 .. ZOOM","define filled polygon",b,c,d,f,e);d=this.l(a," ("+C.de+")","... fix position",b,c,d,f,e);d=this.l(a,C.Hx+" <"+F.Cr+".."+F.ur+">","line width",b,c,d,f,e);d=this.l(a,C.Dx+" <0.0..1.0>","define polygon alpha",b,c,d,f,e);d=this.l(a,C.Ix+" <0..> <0..> <0..>",
"generation range / fade",b,c,d,f,e);d=this.l(a,C.Ex+" <0..359>","polygon angle",b,c,d,f,e);d=this.l(a," ("+C.de+")","... optionally fix angle",b,c,d,f,e);d=this.l(a,C.Kx+" D|"+C.Tb,"polygon view distance",b,c,d,f,e);d=this.l(a,C.Lx+" MINZOOM MAXZOOM|"+C.Tb,"polygon zoom visilibility",b,c,d,f,e);d=this.l(a,C.Jx+" DX DY|"+C.de,"polygon move per generation",b,c,d,f,e);d=this.l(a,C.Gx+" ("+C.Tb+")","turn polygon shadow on or off",b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);a.B[g]=[a.u,"Display"];g+=1;d=this.l(a,
"","Display:",b,c,d,f,e);d=this.l(a,C.up+" <"+F.ld+".."+a.Cc+">","set LifeViewer width",b,c,d,f,e);d=this.l(a,C.qo+" <"+F.Wh+".."+F.bq+">","set LifeViewer height",b,c,d,f,e);d=this.l(a,C.nq+" <"+F.ld+".."+a.Cc+">","set popup width",b,c,d,f,e);d=this.l(a,C.mq+" <"+F.Wh+".."+F.bq+">","set popup height",b,c,d,f,e);d=this.l(a,C.pp+" "+C.Nd+"<string>"+C.Nd,"set popup window title",b,c,d,f,e);d=this.l(a,C.xm+" <"+F.Br+".."+F.tr+">","set number of layers",b,c,d,f,e);d=this.l(a,C.km+" <"+F.Ar.toFixed(1)+
".."+F.aC.toFixed(1)+">","set layer depth",b,c,d,f,e);d=this.l(a,C.Vp+" ("+C.Tb+")","display gridlines",b,c,d,f,e);d=this.l(a,C.Up+" <0..16>","set major grid line interval",b,c,d,f,e);d=this.l(a,C.Kp+" <0.."+(2<a.g.i?1:63)+">","number of age states to draw",b,c,d,f,e);d=this.l(a,C.ro+" <0.."+(2<a.g.i?1:63)+">","number of history states to draw",b,c,d,f,e);d=this.l(a,C.sq+" ("+C.Tb+")","display stars",b,c,d,f,e);d=this.l(a,C.rq+" ("+C.Tb+")","display snow",b,c,d,f,e);a.g.ha?(d=this.l(a,C.Tu,"hexagonal cells for grid",
b,c,d,f,e),d=this.l(a,C.bs,"offset square cells for grid",b,c,d,f,e)):a.g.Z&&(d=this.l(a,C.Wy,"triangular cells for grid",b,c,d,f,e),d=this.l(a,C.bs,"rectangular cells for grid",b,c,d,f,e));d=this.l(a,C.Zt,"display cell borders",b,c,d,f,e);d=this.l(a,C.cz,"display cells as icons",b,c,d,f,e);d=this.l(a,C.Cw,"disable menus and hotkeys",b,c,d,f,e);d=this.l(a,C.Wu,"hide menus during playback",b,c,d,f,e);d=this.l(a,C.oy,"show timing information",b,c,d,f,e);d=this.l(a,C.Du,"extended timing information",
b,c,d,f,e);d=this.l(a,C.my,"show generation statistics",b,c,d,f,e);d=this.l(a,C.ny,"show information bar",b,c,d,f,e);d=this.l(a,C.ly+" shader","set the cell shader",b,c,d,f,e);d=this.l(a," "+C.Mp,"use alive and dead colours",b,c,d,f,e);d=this.l(a," "+C.oq,"use rainbow colours",b,c,d,f,e);d=this.l(a," "+C.Mo,"use neighbour count colours",b,c,d,f,e);d=this.l(a," "+C.gq,"same as "+C.Mo,b,c,d,f,e);d=this.l(a,C.Qx,"use high quality rendering",b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);a.B[g]=[a.u,"Thumb"];
g+=1;d=this.l(a,"","Thumbnails:",b,c,d,f,e);d=this.l(a,C.Dy+" ("+C.Tb+")","start at 1/"+a.Wb+" size",b,c,d,f,e);d=this.l(a,C.Ay+" <"+F.jC+".."+F.dC+">","set thumbnail divisor",b,c,d,f,e);d=this.l(a,C.zy+" ("+C.Tb+")","thumbnail launches viewer",b,c,d,f,e);d=this.l(a,C.Cy+" <"+Number(-1/F.Bb).toFixed(1)+".."+F.Pb.toFixed(1)+">","set thumbnail zoom",b,c,d,f,e);d=this.l(a,C.By,"start playback on thumbnail expand",b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);a.B[g]=[a.u,"Graph"];g+=1;d=this.l(a,"","Population Graph:",
b,c,d,f,e);d=this.l(a,C.hr,"display population graph",b,c,d,f,e);d=this.l(a,C.Nu+" <0.0..1.0>","population graph opacity",b,c,d,f,e);d=this.l(a,C.Ou,"population graph use points",b,c,d,f,e);d=this.l(a,C.Hr,"disable population graph",b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);a.B[g]=[a.u,"Colours"];g+=1;d=this.l(a,"","Colours:",b,c,d,f,e);a.g.v||a.g.G||a.g.D||a.g.la?d=this.l(a,C.tb+" "+C.lp+" R G B","set background color",b,c,d,f,e):(d=this.l(a,C.dk+" <0.."+(a.g.Mb-1)+">|name","set theme",b,c,d,f,e),d=
this.l(a," name = "+C.mp,"set custom theme",b,c,d,f,e),d=this.l(a,C.tb+" "+C.lp+" R G B","set theme background",b,c,d,f,e),a.g.s||(d=this.l(a,C.tb+" "+C.kp+" R G B","set theme alive color",b,c,d,f,e),2>=a.g.i&&(d=this.l(a,C.tb+" "+C.wq+" R G B","set theme alive ramp",b,c,d,f,e))),d=this.l(a,C.tb+" "+C.op+" R G B","set theme dead color",b,c,d,f,e),d=this.l(a,C.tb+" "+C.np+" R G B","set theme dead ramp",b,c,d,f,e),!a.g.s&&2<a.g.i&&(d=this.l(a,C.tb+" "+C.yq+" R G B","set theme dying color",b,c,d,f,e),
d=this.l(a,C.tb+" "+C.xq+" R G B","set theme dying ramp",b,c,d,f,e)));d=this.l(a,C.tb+" "+C.wA+" R G B","set boundary color",b,c,d,f,e);d=this.l(a,C.tb+" <0.."+(-1===a.g.i?a.g.O?"6":"1":String(a.g.i-1))+"> R G B","set state color",b,c,d,f,e);a.g.O&&(d=this.l(a,C.tb+" "+C.Kw+" R G B","set [R]History state color "+F.aJ,b,c,d,f,e),d=this.l(a,C.tb+" "+C.Nw+" R G B","set [R]History state color "+F.bJ,b,c,d,f,e),d=this.l(a,C.tb+" "+C.Xu+" R G B","set [R]History state color "+F.NH,b,c,d,f,e),d=this.l(a,
C.tb+" "+C.Fv+" R G B","set [R]History state color "+F.WB,b,c,d,f,e),d=this.l(a,C.tb+" "+C.Hv+" R G B","set [R]History state color "+F.YB,b,c,d,f,e),d=this.l(a,C.tb+" "+C.Gv+" R G B","set [R]History state color "+F.XB,b,c,d,f,e),d=this.l(a,C.tb+" "+C.jv+" R G B","set [R]History state color "+F.PB,b,c,d,f,e));a.g.s&&(d=this.l(a,C.tb+" N*E*S*W* R G B","set PCA state color",b,c,d,f,e));if(a.g.D)for(k=0;k<a.ff.length;k+=1)if(void 0!==a.ff[k]){var l=a.ff[k];var p=a.$z(l);if(0<=a.wt(l)||a.nA(l)||a.cI(l)||
a.lz(l)||a.lA(l))l='"'+l+'"';d=this.l(a,C.tb+" "+l+" R G B","set state "+p+" color ",b,c,d,f,e)}d=this.l(a,C.tb+" "+C.$t+" R G B","set bounded color",b,c,d,f,e);d=this.l(a,C.tb+" "+C.oD+" R G B","set select color",b,c,d,f,e);d=this.l(a,C.tb+" "+C.vj+" R G B","set paste color",b,c,d,f,e);d=this.l(a,C.tb+" "+C.pD+" R G B","set selected cells color",b,c,d,f,e);d=this.l(a,C.tb+" "+C.Vp+" R G B","set grid color",b,c,d,f,e);d=this.l(a,C.tb+" "+C.Up+" R G B","set grid major color",b,c,d,f,e);d=this.l(a,
C.tb+" "+C.sq+" R G B","set star color",b,c,d,f,e);d=this.l(a,C.tb+" "+C.rq+" R G B","set snow color",b,c,d,f,e);d=this.l(a,C.tb+" "+C.xy+" R G B","set waypoint message color",b,c,d,f,e);d=this.l(a,C.tb+" "+C.Au+" R G B","set error message color",b,c,d,f,e);d=this.l(a,C.tb+" "+C.Su+" R G B","set help message color",b,c,d,f,e);d=this.l(a,C.tb+" "+C.DB+" R G B","set graph background color",b,c,d,f,e);d=this.l(a,C.tb+" "+C.CB+" R G B","set graph axis color",b,c,d,f,e);d=this.l(a,C.tb+" "+C.BB+" R G B",
"set graph alive color",b,c,d,f,e);d=this.l(a,C.tb+" "+C.EB+" R G B","set graph birth color",b,c,d,f,e);d=this.l(a,C.tb+" "+C.FB+" R G B","set graph death color",b,c,d,f,e);d=this.l(a,C.tb+" "+C.Zp+" R G B","set label text color",b,c,d,f,e);d=this.l(a,C.tb+" "+C.Lp+" R G B","set arrow line color",b,c,d,f,e);d=this.l(a,C.tb+" "+C.eD+" R G B","set polygon color",b,c,d,f,e);d=this.l(a,C.tb+" "+C.ID+" R G B","set UI foreground color",b,c,d,f,e);d=this.l(a,C.tb+" "+C.GD+" R G B","set UI background color",
b,c,d,f,e);d=this.l(a,C.tb+" "+C.JD+" R G B","set UI highlight text color",b,c,d,f,e);d=this.l(a,C.tb+" "+C.LD+" R G B","set UI selected color",b,c,d,f,e);d=this.l(a,C.tb+" "+C.KD+" R G B","set UI locked color",b,c,d,f,e);d=this.l(a,C.tb+" "+C.HD+" R G B","set UI border color",b,c,d,f,e);d=this.l(a,C.tb+" "+C.DD+" R G B","set title bar color",b,c,d,f,e);d=this.l(a,C.tb+" "+C.BD+" R G B","set title bar background color",b,c,d,f,e);d=this.l(a,C.tb+" "+C.BA+" R G B","set close button color",b,c,d,f,
e);d=this.l(a,C.tb+" "+C.AA+" R G B","set close button background color",b,c,d,f,e);d=this.l(a,C.hu,"same as "+C.tb,b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);a.B[g]=[a.u,"Pattern"];g+=1;d=this.l(a,"","Pattern:",b,c,d,f,e);d=this.l(a,C.Fs+" <-"+(a.g.ea>>1)+".."+(a.g.ea>>1)+">","set pattern x offset",b,c,d,f,e);d=this.l(a,C.Gs+" <-"+(a.g.ea>>1)+".."+(a.g.ea>>1)+">","set pattern y offset",b,c,d,f,e);d=this.l(a,C.uu+" <"+F.eC+".."+F.$B+">","set boundary delete range",b,c,d,f,e);d=this.l(a,C.Bw,"disable pattern source copy",
b,c,d,f,e);d=this.l(a,C.Gw,"hide pattern source",b,c,d,f,e);d=this.l(a,C.sr+" <"+F.fC+".."+F.Iv+">","set maximum grid size 2^n",b,c,d,f,e);d=this.l(a,C.Zo+" name X Y (<1..>)+","create a named recipe",b,c,d,f,e);d=this.l(a,C.Lm+" name rle|"+C.Zh+" W H","create a named set of cells",b,c,d,f,e);d=this.l(a," (X Y) (TRANS)","... X Y and transformation",b,c,d,f,e);d=this.l(a," "+C.Ry,"identity",b,c,d,f,e);d=this.l(a," "+C.Oy,"flip",b,c,d,f,e);d=this.l(a," "+C.Py,"flip X",b,c,d,f,e);d=this.l(a," "+C.Qy,
"flip Y",b,c,d,f,e);d=this.l(a," "+C.Uy,"swap X and Y",b,c,d,f,e);d=this.l(a," "+C.Vy,"swap X and Y and flip",b,c,d,f,e);d=this.l(a," "+C.Ty,"rotate clockwise",b,c,d,f,e);d=this.l(a," "+C.Sy,"rotate counter-clockwise",b,c,d,f,e);d=this.l(a,C.vj+" name|rle|"+C.Zh+" W H (X Y)","paste cells at optional X Y",b,c,d,f,e);d=this.l(a," (TRANS)","... optional transformation",b,c,d,f,e);d=this.l(a," (XT|YT dp1 dt1 dp2 dt2 ... dpn dtn)","... optional slow salvo definition",b,c,d,f,e);d=this.l(a,C.iq+" <0..>",
"set paste generation",b,c,d,f,e);d=this.l(a," (recipe|<1..>+)*","... optional delta list",b,c,d,f,e);d=this.l(a,C.iq+" "+C.Pp+" <1..>","set paste interval",b,c,d,f,e);d=this.l(a," (<0..> (<1..>))","... optional start and end",b,c,d,f,e);d=this.l(a,C.Ow+" X Y","set position delta for "+C.iq+" "+C.Pp,b,c,d,f,e);d=this.l(a,C.mx+" <0..15>|mode","set paste mode",b,c,d,f,e);d=this.l(a," 0   0000  "+C.wx,"",b,c,d,f,e);d=this.l(a," 1   0001  "+C.Xw,"",b,c,d,f,e);d=this.l(a," 2   0010  "+C.Qw,"",b,c,d,f,
e);d=this.l(a," 3   0011  "+C.qx+"|"+C.Yw,"",b,c,d,f,e);d=this.l(a," 4   0100  "+C.Sw,"",b,c,d,f,e);d=this.l(a," 5   0101  "+C.ux,"",b,c,d,f,e);d=this.l(a," 6   0110  "+C.sx,"",b,c,d,f,e);d=this.l(a," 7   0111  "+C.lx,"",b,c,d,f,e);d=this.l(a," 8   1000  "+C.bx,"",b,c,d,f,e);d=this.l(a," 9   1001  "+C.px,"",b,c,d,f,e);d=this.l(a," 10  1010  "+C.ix,"",b,c,d,f,e);d=this.l(a," 11  1011  "+C.Uw,"",b,c,d,f,e);d=this.l(a," 12  1100  "+C.gx,"",b,c,d,f,e);d=this.l(a," 13  1101  "+C.Ww,"",b,c,d,f,e);d=this.l(a,
" 14  1110  "+C.$w,"",b,c,d,f,e);d=this.l(a," 15  1111  "+C.kx,"",b,c,d,f,e);d=this.l(a,C.kv,"suppress escaping gliders",b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);a.B[g]=[a.u,"Randomize"];d=this.l(a,"","Randomize:",b,c,d,f,e);d=this.l(a,C.Zx,"create random pattern",b,c,d,f,e);d=this.l(a,C.Yx,"create 2-state random pattern",b,c,d,f,e);d=this.l(a,C.Vx+" <string>","set random seed",b,c,d,f,e);d=this.l(a,C.Xx+" <"+F.eq+".."+F.yr+">","set random pattern width",b,c,d,f,e);d=this.l(a,C.Tx+" <"+F.Mv+".."+F.xr+
">","set random pattern height",b,c,d,f,e);d=this.l(a,C.Sx+" <"+F.Dr+".."+F.wr+">","set random pattern fill percentage",b,c,d,f,e);d=this.l(a,C.Qr+" "+C.de,"keep rule fixed",b,c,d,f,e);a.g.ja||a.g.s?(d=this.l(a,C.Ux,"only generate reversible rules",b,c,d,f,e),this.l(a,C.Wx,"only generate fixed population rules",b,c,d,f,e)):a.g.Da||-1!==a.g.Td||(d=this.l(a,C.Qr+" <item> <0..100>","set percentage chance for <item>",b,c,d,f,e),d=this.l(a," "+C.hg,"all conditions",b,c,d,f,e),d=this.l(a," "+C.Pr,"all birth conditions",
b,c,d,f,e),d=this.l(a," "+C.Sr,"all survival conditions",b,c,d,f,e),d=this.l(a," "+C.Pr+"<0..n>","specified birth condition",b,c,d,f,e),this.l(a," "+C.Sr+"<0..n>","specified survival condition",b,c,d,f,e))},CJ:function(a,b,c,d,f,e){var g,k,l=0,p=0,n=U.Pc.length,q=a.g.pa[a.g.qb],m=0,r=a.h.s;a.u=1;a.jc=!1;a.B=[];a.j[0]=128;a.j[1]=210;a.j[2]=270;a.j[3]=330;a.j[4]=430;a.B[m]=[a.u,"Top"];m+=1;d=this.l(a,"","Information",b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);a.B[m]=[a.u,"Display"];m+=1;d=this.l(a,"","Display:",
b,c,d,f,e);d=this.l(a,"Size",a.displayWidth+" x "+a.displayHeight,b,c,d,f,e);d=this.l(a,"Scale",a.h.s.toFixed(2),b,c,d,f,e);d=this.l(a,"Pixel Ratio",a.Ef.toFixed(2),b,c,d,f,e);d=this.l(a,"Window Zoom",a.Bc.toFixed(2),b,c,d,f,e);d=this.l(a,"Refresh",U.ec+"Hz "+(U.pq?"Fixed":"Auto"),b,c,d,f,e);Ea.$p&&(d=this.l(a,"Limit Width",a.Cc,b,c,d,f,e));var u=a.g.da;1>u&&(u=-1/u);d=this.l(a,"View","X "+-(a.g.width/2-(a.g.ma+a.g.Ma)|0)+"  Y "+-(a.g.height/2-(a.g.ka+a.g.za)|0)+"  Z "+u.toFixed(2)+"  ANGLE "+a.g.angle.toFixed(0),
b,c,d,f,e);u=a.hk;1>u&&(u=1/u);d=this.l(a,"Saved View","X "+-(a.g.width/2-a.ya|0)+"  Y "+-(a.g.height/2-a.Ib|0)+"  Z "+u.toFixed(2)+"  ANGLE "+a.gt.toFixed(0),b,c,d,f,e);d=this.l(a,"Origin","X "+a.g.Ma.toFixed(2)+"  Y "+a.g.za.toFixed(2)+"  Z "+a.g.eb.toFixed(3),b,c,d,f,e);var t=a.I?a.Na?"Multi-State Viewer":"Viewer":a.g.O?"History Player":"Player";t=a.yd?t+" (PopUp)":t+" (InLine)";d=this.l(a,"Type",t,b,c,d,f,e);t=a.g.ha?"Hexagonal":a.g.Z?"Triangular":"Square";d=this.l(a,"Mode",t,b,c,d,f,e);t="Rectangular";
a.g.ha&&!a.g.Fa?t="Hexagonal":a.g.Z&&!a.g.Fa&&(t="Triangular");d=this.l(a,"Cells",t,b,c,d,f,e);d=this.l(a,"Quality",a.g.Xc?"High":"Standard",b,c,d,f,e);a.ne&&(d=this.l(a,"Thumbnail","1/"+a.Wb,b,c,d,f,e));d=this.l(a,"","",b,c,d,f,e);a.B[m]=[a.u,"Pattern"];m+=1;d=this.l(a,"","Pattern:",b,c,d,f,e);""!==a.Ze&&(d=this.l(a,"Name",a.Ze,b,c,d,f,e));""!==a.vg&&(d=this.l(a,"Originator",a.vg,b,c,d,f,e));d=this.l(a,"Actual Size",a.S+" x "+a.V,b,c,d,f,e);-999999!==a.Bd&&-999999!==a.Ad&&(d=this.l(a,"Specified",
a.Bd+" x "+a.Ad,b,c,d,f,e));0<a.Xc.length&&(d=this.l(a,"Pastes",a.Xc.length,b,c,d,f,e),d=this.l(a,"Paste Size",a.rg-a.ng+1+" x "+(a.sg-a.mg+1)+" from ("+a.ng+", "+a.mg+") to ("+a.rg+", "+a.sg+")",b,c,d,f,e),d=this.l(a,"Paste Max T",a.Zd+(a.El?" + "+C.Pp:""),b,c,d,f,e));0<a.Td.length&&(d=this.l(a,"RLEs",a.Td.length,b,c,d,f,e));0<a.he.length&&(d=this.l(a,"Recipes",a.he.length,b,c,d,f,e));d=this.l(a,"Offset","X "+a.aa+"  Y "+a.ba,b,c,d,f,e);a.vk&&(d=this.l(a,"CXRLE Gen",a.Fa,b,c,d,f,e));a.mc&&(d=this.l(a,
"CXRLE Pos","X "+a.ac+"  Y "+a.sc,b,c,d,f,e));a.cp&&(d=this.l(a,"Clipped",(0===a.g.ca?"Inf":a.g.ca)+" x "+(0===a.g.$?"Inf":a.g.$)+" "+a.X.Xb(a.g.S),b,c,d,f,e));a.ob?t=a.Y:(t=a.Y,""===t&&(t="(none)"));if("MAP"===t.substring(0,3)&&89===t.length)for(d=this.l(a,"Rule","MAP",b,c,d,f,e),u=3;89>u;)d=this.l(a,"  "+(u-3),t.substring(u,u+16),b,c,d,f,e),u+=16;else a.jc=!0,d=this.l(a,"Rule",t,b,c,d,f,e),a.jc=!1;""!==a.Wa&&(d=this.l(a,"Alias",a.Wa,b,c,d,f,e));a.g.D&&(t=null===a.g.yb?"@TREE ["+a.g.$j+"]":"@TABLE ["+
a.g.Fc+(0<a.g.kh?" / "+a.g.kh:"")+"]",t=null===a.g.ua&&null===a.g.Yd||!a.g.Db||-1!==a.g.pb?t+" using standard lookup":t+" using fast lookup",d=this.l(a,"Type",t,b,c,d,f,e),a.g.dg()&&a.ob&&(t="",-1===a.g.pb?(u=null===a.g.Yd?a.g.ua.length:4*a.g.Yd.length,t=(1048576<=u?t+((u>>20)+"Mb"):1024<=u?t+((u>>10)+"Kb"):t+(u+" bytes"))+(" fast lookup created in "+(a.g.Ef/1E3).toFixed(1)+" seconds")):(u=a.g.i,t+="Creating fast lookup ("+(100*a.g.pb/(u*u*u*u*u)|0)+"%)"),d=this.l(a,"Lookup",t,b,c,d,f,e)));d=this.l(a,
"N'hood",a.ut(),b,c,d,f,e);if(a.g.Da)switch(a.g.aa.type){case 15:u=2*a.g.aa.v+1;for(g=0;g<u;g+=1)t=a.g.aa.V.length>u*u?" "+a.g.aa.V.substring(g*u*2,(g+1)*u*2):" "+a.g.aa.V.substring(g*u,(g+1)*u),d=this.l(a,t,"",b,c,d,f,e);break;case 10:for(u=2*a.g.aa.v+1,g=0;g<u;g+=1){t=" ";for(k=0;k<u;k+=1)t=g===u>>1&&k===u>>1?t+"0":t+(a.g.aa.Bm[u-1-g][u-1-k]?"1":"0");d=this.l(a,t,"",b,c,d,f,e)}}t=String(a.mj);2<a.mj&&a.sn!==a.mj&&(t=a.sn+" of "+t);d=this.l(a,"States",t,b,c,d,f,e);if(a.lj)for(g=1;g<a.mj;g+=1)a.lj[g]&&
(d=this.l(a,"State "+g,a.lj[g]+"\t"+a.oh(g),b,c,d,f,e));if(a.g.Nc)if(a.j[1]=200,a.j[2]=280,a.j[3]=360,a.j[4]=440,a.g.Nc[0].Sq!==Da.Vr)d=this.l(a,"Icons",Da.WJ[a.g.Nc[0].Sq],b,c,d,f,e);else{d=this.l(a,"Icons","Size\tNumber\tColours\tGrayScale",b,c,d,f,e);for(k=0;k<a.g.Nc.length;k+=1)l=a.g.Nc[k].width,p=a.g.Nc[k].height,t=l+"x"+l+"\t"+p/l+"\t"+a.g.Nc[k].Jw+"\t"+(a.g.Nc[k].ir?"Yes":"No"),d=this.l(a," ",t,b,c,d,f,e);for(k=0;k<p/l;k+=1)this.BJ(a,k,a.g.Vd.width,b,c+a.j[0]*r,d,f,e),t=a.oh(k+1),d=this.l(a,
"Icon "+String(k+1),"      "+t,b,c,d,f,e)}d=this.l(a,"Decoder",a.wk,b,c,d,f,e);-1!==a.bn&&(d=this.l(a,"Last Bench","gens: "+a.lv+"  time: "+a.bn.toFixed(1)+"s  gps: "+(a.lv/a.bn).toFixed(1),b,c,d,f,e));d=this.l(a,"","",b,c,d,f,e);if("none"!==a.Ab&&"Empty"!==a.Ab){a.B[m]=[a.u,"Identify"];m+=1;d=this.l(a,"","Identify:",b,c,d,f,e);d=this.l(a,"Type",a.Ab,b,c,d,f,e);d=this.l(a,"Cells",a.vi,b,c,d,f,e);""!==a.g.Ah&&(d=this.l(a,"  T Min/Max",a.g.Ah,b,c,d,f,e));"Oscillator"===a.Ab&&(d=this.l(a,"Active",a.dn,
b,c,d,f,e));d=this.l(a,"Bounding",a.Il,b,c,d,f,e);""!==a.g.zh&&(d=this.l(a,"  T Min/Max",a.g.zh,b,c,d,f,e));"Oscillator"===a.Ab?(d=this.l(a,"Period",a.$i,b,c,d,f,e),d=this.l(a,"Mod",a.Xi,b,c,d,f,e)):"Still Life"!==a.Ab&&(d=this.l(a,"Direction",a.Kl,b,c,d,f,e),d=this.l(a,"Period",a.$i,b,c,d,f,e),d=this.l(a,"Mod",a.Xi,b,c,d,f,e),d=this.l(a,"Slope",a.Nl,b,c,d,f,e),d=this.l(a,"Speed",a.aj,b,c,d,f,e));"Still Life"!==a.Ab&&-1===a.g.S&&(d=this.l(a,"Heat",a.Wi,b,c,d,f,e));if("Oscillator"===a.Ab)if(-1===a.g.S&&
(d=this.l(a,"Temperature",a.gn,b,c,d,f,e)),""===a.hh)d=this.l(a,"Volatility",a.Fh+" | N/A",b,c,d,f,e);else{d=this.l(a,"Volatility",a.Fh+" | "+a.hh,b,c,d,f,e);a.j[1]=235;a.j[2]=310;a.j[3]=390;a.j[4]=430;a.j[5]=470;a.j[6]=510;a.j[7]=600;d=this.l(a,"  Period","    Count\t% Total\t% Rotor\tColour",b,c,d,f,e);for(g=a.g.bb.length-1;0<g;--g)u=a.g.bb[g],0<u&&(this.Za(a,a.g.Rc[g]>>16,a.g.Rc[g]>>8&255,a.g.Rc[g]&255,b,c+a.j[0]*r,d,f,e),l=this.ub(a.g.Rc[g]>>16,a.g.Rc[g]>>8&255,a.g.Rc[g]&255).trim(),d=1<g?this.l(a,
"  "+g,"    "+u+"\t"+(Math.floor(1E4*u/a.g.Og)/100).toFixed(2)+"%\t"+(Math.floor(1E4*u/a.g.vi)/100).toFixed(2)+"%\t"+l,b,c,d,f,e):this.l(a,"  "+g,"    "+u+"\t"+(Math.floor(1E4*u/a.g.Og)/100).toFixed(2)+"%\t\t"+l,b,c,d,f,e));a.g.Dk||(d=this.l(a,"  Back","\t\t\t"+this.ub(0,0,0).trim(),b,c,d,f,e));d=this.l(a,"  Frequency","    Count\t% Total\t\tColour",b,c,d,f,e);for(g=a.g.mi-1;0<=g;--g)u=a.g.Mf[g],this.Za(a,a.g.fd[g]>>16,a.g.fd[g]>>8&255,a.g.fd[g]&255,b,c+a.j[0]*r,d,f,e),l=this.ub(a.g.fd[g]>>16,a.g.fd[g]>>
8&255,a.g.fd[g]&255).trim(),k=a.g.df[g],d=this.l(a,"  "+u,"    "+k+"\t"+(100*k/a.g.li).toFixed(2)+"%\t\t"+l,b,c,d,f,e);a.g.Kb&&(this.Za(a,96,96,96,b,c+a.j[0]*r,d,f,e),d=a.g.G?this.l(a,"  State3","    "+a.g.Kb+"\t\t\t"+this.ub(96,96,96).trim(),b,c,d,f,e):this.l(a,"  State6","    "+a.g.Kb+"\t\t\t"+this.ub(96,96,96).trim(),b,c,d,f,e));this.Za(a,0,0,0,b,c+a.j[0]*r,d,f,e);-1!==a.g.S&&(this.Za(a,128,128,128,b,c+a.j[0]*r,d,f,e),d=this.l(a,"  Bounded","\t\t\t"+this.ub(128,128,128).trim(),b,c,d,f,e));this.Za(a,
80,80,80,b,c+a.j[0]*r,d,f,e);d=this.l(a,"  Grid","\t\t\t"+this.ub(80,80,80).trim(),b,c,d,f,e)}"Still Life"===a.Ab&&(d=this.l(a,"Density",a.en,b,c,d,f,e));d=this.l(a,"Generation",a.fn,b,c,d,f,e);d=this.l(a,"Time","Period: "+a.g.Ek.toFixed(1)+" seconds   Total: "+a.g.Fk.toFixed(1)+" seconds",b,c,d,f,e);d=this.l(a,"Buffer",a.Dv,b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e)}a.B[m]=[a.u,"Grid"];m+=1;d=this.l(a,"","Grid:",b,c,d,f,e);d=this.l(a,"Size",a.g.width+" x "+a.g.height,b,c,d,f,e);d=this.l(a,"Maximum",
a.g.ea+" x "+a.g.ea,b,c,d,f,e);d=this.l(a,"Area",this.uG(a),b,c,d,f,e);d=a.g.D||a.g.G?0!==(a.g.counter&1)?this.l(a,"Tiles",a.g.Md(a.g.H)+" / "+a.g.Md(a.g.m),b,c,d,f,e):this.l(a,"Tiles",a.g.Md(a.g.j)+" / "+a.g.Md(a.g.m),b,c,d,f,e):0!==(a.g.counter&1)?this.l(a,"Tiles",a.g.Md(a.g.H)+" / "+a.g.Md(a.g.wa)+" / "+a.g.Md(a.g.m),b,c,d,f,e):this.l(a,"Tiles",a.g.Md(a.g.j)+" / "+a.g.Md(a.g.wa)+" / "+a.g.Md(a.g.m),b,c,d,f,e);a.g.vd&&(d=this.l(a,"State6",a.g.Md(a.g.vd),b,c,d,f,e));d=this.l(a,"Tile Size","16 x 16",
b,c,d,f,e);d=this.l(a,"Generation",a.g.counter,b,c,d,f,e);0!==a.Fa&&(d=this.l(a,"AbsoluteGen",a.g.counter+a.Fa,b,c,d,f,e));a.g.ja&&(d=this.l(a,"MargolusGen",a.g.Xb+a.Fa,b,c,d,f,e));a.g.s&&(d=this.l(a,"PCAGen",a.g.Xb+a.Fa,b,c,d,f,e));(a.g.ja||a.g.s)&&a.g.Cb&&(k=a.g.vb,a.g.Ub&&(k=!k),d=this.l(a,"Direction",k?"Reverse":"Forward",b,c,d,f,e));d=this.l(a,"DeleteRange",a.g.bf,b,c,d,f,e);a.g.sd&&(d=this.l(a,"KillGliders",a.g.Ig,b,c,d,f,e));d=this.l(a,"","",b,c,d,f,e);-1!==a.g.S&&(a.B[m]=[a.u,"Bounded"],m+=
1,d=this.l(a,"","Bounded grid:",b,c,d,f,e),d=this.l(a,"Type",a.X.Xb(a.g.S),b,c,d,f,e),d=0===a.g.ca?this.l(a,"Width","Infinite",b,c,d,f,e):this.l(a,"Width",a.g.ca,b,c,d,f,e),4!==a.g.S?(d=0===a.g.$?this.l(a,"Height","Infinite",b,c,d,f,e):this.l(a,"Height",a.g.$,b,c,d,f,e),2===a.g.S&&(d=a.g.pg?this.l(a,"Twist","Horizontal",b,c,d,f,e):this.l(a,"Twist","Vertical",b,c,d,f,e)),0!==a.g.ie&&(d=this.l(a,"H'Shift",a.g.ie,b,c,d,f,e)),0!==a.g.je&&(d=this.l(a,"V'Shift",a.g.je,b,c,d,f,e))):d=a.g.qg?this.l(a,"Axis",
"Top Left",b,c,d,f,e):this.l(a,"Axis","Top Right",b,c,d,f,e),d=this.l(a,"","",b,c,d,f,e));a.B[m]=[a.u,"AutoFit"];m+=1;d=this.l(a,"","AutoFit:",b,c,d,f,e);d=this.l(a,"Enabled",a.ia?"On":"Off",b,c,d,f,e);d=this.l(a,"Mode",this.xG(a),b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);a.B[m]=[a.u,"Track"];m+=1;d=this.l(a,"","Track:",b,c,d,f,e);d=this.l(a,"Enabled",a.mb&&!a.Lb?"On":"Off",b,c,d,f,e);a.mb&&(a.mi?(d=this.l(a,"Mode","Track Box",b,c,d,f,e),d=this.l(a,"Definition","E "+a.Og.toFixed(3)+"  S "+a.Qg.toFixed(3)+
"  W "+a.oi.toFixed(3)+"  N "+a.ni.toFixed(3),b,c,d,f,e)):(d=this.l(a,"Mode","Track",b,c,d,f,e),d=this.l(a,"Definition","X "+a.Og.toFixed(3)+"  Y "+a.Qg.toFixed(3),b,c,d,f,e)));d=this.l(a,"Current","E "+a.Nn.toFixed(3)+"  S "+a.Rn.toFixed(3)+"  W "+a.Tn.toFixed(3)+"  N "+a.Pn.toFixed(3),b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);a.B[m]=[a.u,"Undo/Redo"];m+=1;d=this.l(a,"","Undo/Redo:",b,c,d,f,e);d=this.l(a,"Enabled",a.qb?"Off":"On",b,c,d,f,e);if(!a.qb)for(d=this.l(a,"Snapshots",a.g.Zc.aa()+"/"+a.g.Zc.j.length,
b,c,d,f,e),d=this.l(a,"Buffer",(a.g.Zc.V()>>10)+"K",b,c,d,f,e),d=this.l(a,"Next Gen",a.g.pf,b,c,d,f,e),d=this.l(a,"Undo",a.ma,b,c,d,f,e),d=this.l(a,"Redo",a.Hh-a.ma,b,c,d,f,e),g=0;g<F.tj;g+=1)null!==a.bb[g]&&(d=this.l(a,"Clip "+g+(g===a.zb?"*":""),a.bb[g].width+" x "+a.bb[g].height,b,c,d,f,e));d=this.l(a,"","",b,c,d,f,e);a.B[m]=[a.u,"Engine"];m+=1;d=this.l(a,"","Engine:",b,c,d,f,e);d=this.l(a,"Name",F.lo,b,c,d,f,e);d=this.l(a,"Edition",U.R?F.Nx:F.uD,b,c,d,f,e);d=this.l(a,"Build",F.js,b,c,d,f,e);U.R&&
(d=this.l(a,"WASM",a.i?"On":"Off",b,c,d,f,e));d=this.l(a,"Author",F.PD,b,c,d,f,e);d=this.l(a,"Decoders","RLE, Life 1.06, Life 1.05, Cells",b,c,d,f,e);d=this.l(a,"N'hoods","Moore, Hexagonal, von Neumann, Triangular, 1D,",b,c,d,f,e);d=this.l(a," ","Circular, Cross, L2, Saltire, Star, Checkerboard,",b,c,d,f,e);d=this.l(a," ","Aligned Checkerboard, Hash, Tripod, Asterisk,",b,c,d,f,e);d=this.l(a," ","Far Corners/Edges, Custom (CoordCA),",b,c,d,f,e);d=this.l(a," ","Gaussian and Weighted",b,c,d,f,e);d=this.l(a,
"Rules","Wolfram, Totalistic, Generations, Margolus,",b,c,d,f,e);d=this.l(a," ","Isotropic Non-Totalistic (Hensel, Callahan),",b,c,d,f,e);d=this.l(a," ","Alternating, MAP, Larger than Life (LtL),",b,c,d,f,e);d=this.l(a," ","Higher-range outer-totalistic (HROT),",b,c,d,f,e);d=this.l(a," ","Partitioned cellular automata (PCA),",b,c,d,f,e);d=this.l(a," ","[R]History, [R]Super, [R]Investigator",b,c,d,f,e);d=this.l(a," ","and Non-Deterministic",b,c,d,f,e);d=this.l(a,"Repository","RuleTable (@TABLE, @TREE, @COLORS,",
b,c,d,f,e);d=this.l(a," ","@ICONS and @NAMES)",b,c,d,f,e);d=this.l(a,"BoundedGrid","Plane, Torus, Klein, Cross-surface and Sphere",b,c,d,f,e);d=this.l(a,"Viewers",n,b,c,d,f,e);d=this.l(a,"Playing",U.DK(),b,c,d,f,e);if(Ea.wb){u=U.Ce.length;d=this.l(a,"Universe","Multi ("+(a.Ua+1)+" of "+u+")",b,c,d,f,e);a.jc=!0;for(g=0;g<u;g+=1)d=this.l(a,String(g+1)+(g===a.Ua?"*":""),U.Ce[g].name,b,c,d,f,e),d=this.l(a," ",U.Ce[g].QJ,b,c,d,f,e),d=this.l(a," ",U.Ce[g].width+" x "+U.Ce[g].height,b,c,d,f,e);a.jc=!1}else d=
this.l(a,"Universe","Single",b,c,d,f,e);d=this.l(a,"Exclusive",a.oo?"Yes":"No",b,c,d,f,e);d=this.l(a,"IgnorePause",a.Xp?"Yes":"No",b,c,d,f,e);d=this.l(a,"Endian",Ma.fc?"Little":"Big",b,c,d,f,e);d=this.l(a,"ArrayFill",Ma.Lt?"Yes":"No",b,c,d,f,e);d=this.l(a,"ArraySlice",Ma.Mt?"Yes":"No",b,c,d,f,e);d=this.l(a,"CopyWithin",Ma.copyWithin?"Yes":"No",b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);a.j[1]=300;a.j[2]=380;a.j[3]=460;a.B[m]=[a.u,"Rule Cache"];m+=1;d=this.l(a,"","Rule Cache:",b,c,d,f,e);d=this.l(a,"Entries",
Za.rules.length,b,c,d,f,e);if(0<Za.rules.length)for(d=this.l(a,"Entry","Name\tSize Kb\tFetch\tDecode",b,c,d,f,e),g=0;g<Za.rules.length;g+=1)t=Za.rules[g].name,17<t.length&&(t=t.substring(0,17)+"*"),d=this.l(a,String(g),t+"\t"+(Za.zr[g].size>>10)+"\t"+Za.zr[g].fetch+"ms\t"+Za.zr[g].decode+"ms",b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);a.j[1]=210;a.j[2]=270;a.j[3]=330;a.g.D||a.g.G||a.g.v||a.g.la||(a.B[m]=[a.u,"Theme"],m+=1,d=this.l(a,"","Theme:",b,c,d,f,e),d=this.l(a,"Name",a.g.pa[a.g.qb].name,b,c,d,f,
e),d=this.l(a,"History",a.qa,b,c,d,f,e),2>=a.g.i&&(d=this.l(a,"Age",a.Ee,b,c,d,f,e)),d=this.l(a,"","",b,c,d,f,e));a.B[m]=[a.u,"Cells"];m+=1;d=this.l(a,"","Cells:",b,c,d,f,e);switch(a.g.ab){case y.kg:t=a.g.pa[a.g.qb].H(a.g.O,a)?"Cell Age":"Basic";break;case y.vf:t="Rainbow";break;case y.lg:t="Neighbour Count";break;case y.Kf:t="Basic";break;default:t="Unknown"}d=this.l(a,"Shader",t,b,c,d,f,e);this.Za(a,a.g.sa[0],a.g.ra[0],a.g.qa[0],b,c+a.j[0]*r,d,f,e);d=this.l(a,"Background",this.ub(a.g.sa[0],a.g.ra[0],
a.g.qa[0]),b,c,d,f,e);if(a.g.la||a.g.D)for(g=1;g<a.g.i;g+=1)this.Za(a,a.g.sa[g],a.g.ra[g],a.g.qa[g],b,c+a.j[0]*r,d,f,e),d=this.l(a,"State "+g,this.ub(a.g.sa[g],a.g.ra[g],a.g.qa[g]),b,c,d,f,e);else if(a.g.s){for(g=1;16>g;g+=1)k=g+a.qa,this.Za(a,a.g.sa[k],a.g.ra[k],a.g.qa[k],b,c+a.j[0]*r,d,f,e),t="",g&1&&(t+="N"),g&2&&(t+="E"),g&4&&(t+="S"),g&8&&(t+="W"),d=this.l(a,t,this.ub(a.g.sa[k],a.g.ra[k],a.g.qa[k]),b,c,d,f,e);0<a.qa&&(k=a.qa,this.Za(a,a.g.sa[k],a.g.ra[k],a.g.qa[k],b,c+a.j[0]*r,d,f,e),d=this.l(a,
"Dead",this.ub(a.g.sa[k],a.g.ra[k],a.g.qa[k]),b,c,d,f,e),1<a.qa&&(k=1,q.h.h.h!==q.h.i.h||q.h.h.j!==q.h.i.j||q.h.h.i!==q.h.i.i?(this.Za(a,a.g.sa[k],a.g.ra[k],a.g.qa[k],b,c+a.j[0]*r,d,f,e),d=this.l(a,"DeadRamp",this.ub(a.g.sa[k],a.g.ra[k],a.g.qa[k]),b,c,d,f,e)):d=this.l(a,"DeadRamp","    (none)",b,c,d,f,e)))}else if(2<a.g.i)if(a.g.v||a.g.G)for(g=1;g<a.g.i;g+=1)this.Za(a,a.g.sa[g],a.g.ra[g],a.g.qa[g],b,c+a.j[0]*r,d,f,e),d=a.g.v?this.l(a,this.mK(g),this.ub(a.g.sa[g],a.g.ra[g],a.g.qa[g]),b,c,d,f,e):this.l(a,
this.cH(g),this.ub(a.g.sa[g],a.g.ra[g],a.g.qa[g]),b,c,d,f,e);else{k=a.g.i+a.qa-1;this.Za(a,a.g.sa[k],a.g.ra[k],a.g.qa[k],b,c+a.j[0]*r,d,f,e);d=this.l(a,"Alive",this.ub(a.g.sa[k],a.g.ra[k],a.g.qa[k]),b,c,d,f,e);for(g=1;g<a.g.i-1;g+=1)k=a.g.i-g+a.qa-1,this.Za(a,a.g.sa[k],a.g.ra[k],a.g.qa[k],b,c+a.j[0]*r,d,f,e),d=this.l(a,"Dying "+g,this.ub(a.g.sa[k],a.g.ra[k],a.g.qa[k]),b,c,d,f,e);0<a.qa&&(k=a.qa,this.Za(a,a.g.sa[k],a.g.ra[k],a.g.qa[k],b,c+a.j[0]*r,d,f,e),d=this.l(a,"Dead",this.ub(a.g.sa[k],a.g.ra[k],
a.g.qa[k]),b,c,d,f,e),1<a.qa&&(k=1,q.h.h.h!==q.h.i.h||q.h.h.j!==q.h.i.j||q.h.h.i!==q.h.i.i?(this.Za(a,a.g.sa[k],a.g.ra[k],a.g.qa[k],b,c+a.j[0]*r,d,f,e),d=this.l(a,"DeadRamp",this.ub(a.g.sa[k],a.g.ra[k],a.g.qa[k]),b,c,d,f,e)):d=this.l(a,"DeadRamp","    (none)",b,c,d,f,e)))}else 12===a.g.qb&&a.g.Da?(q=a.g.pa[11],this.Za(a,q.i.h.h,q.i.h.j,q.i.h.i,b,c+a.j[0]*r,d,f,e),d=this.l(a,"Alive",this.qe(q.i.h),b,c,d,f,e),q=a.g.pa[a.g.qb]):(this.Za(a,q.i.h.h,q.i.h.j,q.i.h.i,b,c+a.j[0]*r,d,f,e),d=this.l(a,"Alive",
this.qe(q.i.h),b,c,d,f,e),0<a.Ee&&a.g.pa[a.g.qb].H(a.g.O,a)&&a.g.ab!==y.Kf&&(q.i.h.h!==q.i.i.h||q.i.h.j!==q.i.i.j||q.i.h.i!==q.i.i.i?(this.Za(a,q.i.i.h,q.i.i.j,q.i.i.i,b,c+a.j[0]*r,d,f,e),d=this.l(a,"AliveRamp",this.qe(q.i.i),b,c,d,f,e)):d=this.l(a,"AliveRamp","    (none)",b,c,d,f,e))),0<a.qa&&a.g.pa[a.g.qb].H(a.g.O,a)&&a.g.ab!==y.Kf&&(this.Za(a,q.h.i.h,q.h.i.j,q.h.i.i,b,c+a.j[0]*r,d,f,e),d=this.l(a,"Dead",this.qe(q.h.i),b,c,d,f,e),1<a.qa&&(q.h.h.h!==q.h.i.h||q.h.h.j!==q.h.i.j||q.h.h.i!==q.h.i.i?
(this.Za(a,q.h.h.h,q.h.h.j,q.h.h.i,b,c+a.j[0]*r,d,f,e),d=this.l(a,"DeadRamp",this.qe(q.h.h),b,c,d,f,e)):d=this.l(a,"DeadRamp","    (none)",b,c,d,f,e)));if(a.g.O)for(g=3;6>=g;g+=1)u=128+F.sb[g],l=this.ub(a.g.sa[u],a.g.ra[u],a.g.qa[u]),t=F.ff[g],this.Za(a,a.g.sa[u],a.g.ra[u],a.g.qa[u],b,c+a.j[0]*r,d,f,e),d=this.l(a,t,l,b,c,d,f,e);-1!==a.g.S&&(256>a.g.i+a.g.u?(this.Za(a,a.Pf[0],a.Pf[1],a.Pf[2],b,c+a.j[0]*r,d,f,e),d=this.l(a,"Bounded",this.ub(a.Pf[0],a.Pf[1],a.Pf[2]),b,c,d,f,e)):(this.Za(a,a.g.sa[2],
a.g.ra[2],a.g.qa[2],b,c+a.j[0]*r,d,f,e),d=this.l(a,"Bounded*",this.ub(a.g.sa[2],a.g.ra[2],a.g.qa[2]),b,c,d,f,e)));this.Za(a,a.Fd[0],a.Fd[1],a.Fd[2],b,c+a.j[0]*r,d,f,e);d=this.l(a,"Boundary",this.ub(a.Fd[0],a.Fd[1],a.Fd[2]),b,c,d,f,e);d=this.l(a,"Borders",a.g.jb?"On":"Off",b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);a.B[m]=[a.u,"Gridlines"];m+=1;d=this.l(a,"","Gridlines:",b,c,d,f,e);t=a.g.Ya?"On":"Off";a.g.Ya&&!a.g.ke()&&(t+=" (Hidden)");d=this.l(a,"Enabled",t,b,c,d,f,e);1!==a.g.lb&&(this.Za(a,a.g.Lb>>
16,a.g.Lb>>8&255,a.g.Lb&255,b,c+a.j[0]*r,d,f,e),d=this.l(a,"Line Color",this.ub(a.g.Lb>>16,a.g.Lb>>8&255,a.g.Lb&255),b,c,d,f,e));0<a.g.lb&&(this.Za(a,a.g.xc>>16,a.g.xc>>8&255,a.g.xc&255,b,c+a.j[0]*r,d,f,e),d=this.l(a,"Major Color",this.ub(a.g.xc>>16,a.g.xc>>8&255,a.g.xc&255),b,c,d,f,e));t=0<a.g.lb&&a.g.yc?String(a.g.lb):"Off";d=this.l(a,"Interval",t,b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);a.B[m]=[a.u,"UI"];d=this.l(a,"","UI:",b,c,d,f,e);m+=1;u=a.Lc[F.Zq];-1===u&&(u=16777215);this.Za(a,u>>16,u>>8&255,
u&255,b,c+a.j[0]*r,d,f,e);d=this.l(a,"Foreground",this.ub(u>>16,u>>8&255,u&255),b,c,d,f,e);u=a.Lc[F.Xq];-1===u&&(u=0);this.Za(a,u>>16,u>>8&255,u&255,b,c+a.j[0]*r,d,f,e);d=this.l(a,"Background",this.ub(u>>16,u>>8&255,u&255),b,c,d,f,e);u=a.Lc[F.$q];-1===u&&(u=61472);this.Za(a,u>>16,u>>8&255,u&255,b,c+a.j[0]*r,d,f,e);d=this.l(a,"Highlight",this.ub(u>>16,u>>8&255,u&255),b,c,d,f,e);u=a.Lc[F.br];-1===u&&(u=255);this.Za(a,u>>16,u>>8&255,u&255,b,c+a.j[0]*r,d,f,e);d=this.l(a,"Selected",this.ub(u>>16,u>>8&
255,u&255),b,c,d,f,e);u=a.Lc[F.ar];-1===u&&(u=8421504);this.Za(a,u>>16,u>>8&255,u&255,b,c+a.j[0]*r,d,f,e);d=this.l(a,"Locked",this.ub(u>>16,u>>8&255,u&255),b,c,d,f,e);u=a.Lc[F.Yq];-1===u&&(u=16777215);this.Za(a,u>>16,u>>8&255,u&255,b,c+a.j[0]*r,d,f,e);d=this.l(a,"Border",this.ub(u>>16,u>>8&255,u&255),b,c,d,f,e);a.Uc?(this.Za(a,a.Uc[0],a.Uc[1],a.Uc[2],b,c+a.j[0]*r,d,f,e),d=this.l(a,"Text*",this.ub(a.Uc[0],a.Uc[1],a.Uc[2]),b,c,d,f,e)):(this.Za(a,255,255,255,b,c+a.j[0]*r,d,f,e),d=this.l(a,"Text",this.ub(255,
255,255),b,c,d,f,e));a.Tc?(this.Za(a,a.Tc[0],a.Tc[1],a.Tc[2],b,c+a.j[0]*r,d,f,e),d=this.l(a,"Error*",this.ub(a.Tc[0],a.Tc[1],a.Tc[2]),b,c,d,f,e)):(this.Za(a,255,48,48,b,c+a.j[0]*r,d,f,e),d=this.l(a,"Error",this.ub(255,96,96),b,c,d,f,e));a.He?(this.Za(a,a.He[0],a.He[1],a.He[2],b,c+a.j[0]*r,d,f,e),d=this.l(a,"Help*",this.ub(a.He[0],a.He[1],a.He[2]),b,c,d,f,e)):(this.Za(a,32,255,255,b,c+a.j[0]*r,d,f,e),d=this.l(a,"Help",this.ub(32,255,255),b,c,d,f,e));u=Number("0x"+a.CD.substring(1));this.Za(a,u>>16,
u>>8&255,u&255,b,c+a.j[0]*r,d,f,e);d=this.l(a,"TitleFG",this.ub(u>>16,u>>8&255,u&255),b,c,d,f,e);u=Number("0x"+a.AD.substring(1));this.Za(a,u>>16,u>>8&255,u&255,b,c+a.j[0]*r,d,f,e);d=this.l(a,"TitleBG",this.ub(u>>16,u>>8&255,u&255),b,c,d,f,e);u=Number("0x"+a.du.substring(1));this.Za(a,u>>16,u>>8&255,u&255,b,c+a.j[0]*r,d,f,e);d=this.l(a,"CloseFG",this.ub(u>>16,u>>8&255,u&255),b,c,d,f,e);u=Number("0x"+a.cu.substring(1));this.Za(a,u>>16,u>>8&255,u&255,b,c+a.j[0]*r,d,f,e);d=this.l(a,"CloseBG",this.ub(u>>
16,u>>8&255,u&255),b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);a.B[m]=[a.u,"Selection"];m+=1;d=this.l(a,"","Selection Boxes:",b,c,d,f,e);this.Za(a,a.Sf[0],a.Sf[1],a.Sf[2],b,c+a.j[0]*r,d,f,e);d=this.l(a,"Selection",this.ub(a.Sf[0],a.Sf[1],a.Sf[2]),b,c,d,f,e);this.Za(a,a.Rf[0],a.Rf[1],a.Rf[2],b,c+a.j[0]*r,d,f,e);d=this.l(a,"Paste Box",this.ub(a.Rf[0],a.Rf[1],a.Rf[2]),b,c,d,f,e);this.Za(a,a.Tf[0],a.Tf[1],a.Tf[2],b,c+a.j[0]*r,d,f,e);d=this.l(a,"Paste Cell",this.ub(a.Tf[0],a.Tf[1],a.Tf[2]),b,c,d,f,e);d=this.l(a,
"","",b,c,d,f,e);a.B[m]=[a.u,"Graph"];m+=1;d=this.l(a,"","Population Graph:",b,c,d,f,e);d=this.l(a,"Enabled",a.Ca?"On":"Off",b,c,d,f,e);d=this.l(a,"Disabled",a.Zb?"On":"Off",b,c,d,f,e);d=this.l(a,"Mode",a.md?"Lines":"Points",b,c,d,f,e);-1===a.g.S?(n="",a.rh&&(n="Population"),a.ph&&(n=""===n?"Births":n+", Births"),a.qh&&(n=""===n?"Deaths":n+", Deaths"),""===n&&(n="<none>")):n="Population";d=this.l(a,"Data",n,b,c,d,f,e);d=this.l(a,"Opacity",a.eb.toFixed(2),b,c,d,f,e);this.Za(a,a.g.Fd[0],a.g.Fd[1],a.g.Fd[2],
b,c+a.j[0]*r,d,f,e);d=this.l(a,"Bg Color",this.ub(a.g.Fd[0],a.g.Fd[1],a.g.Fd[2]),b,c,d,f,e);this.Za(a,a.g.Ed[0],a.g.Ed[1],a.g.Ed[2],b,c+a.j[0]*r,d,f,e);d=this.l(a,"Axis Color",this.ub(a.g.Ed[0],a.g.Ed[1],a.g.Ed[2]),b,c,d,f,e);this.Za(a,a.g.Dd[0],a.g.Dd[1],a.g.Dd[2],b,c+a.j[0]*r,d,f,e);d=this.l(a,"Alive Color",this.ub(a.g.Dd[0],a.g.Dd[1],a.g.Dd[2]),b,c,d,f,e);this.Za(a,a.g.Gd[0],a.g.Gd[1],a.g.Gd[2],b,c+a.j[0]*r,d,f,e);d=this.l(a,"Birth Color",this.ub(a.g.Gd[0],a.g.Gd[1],a.g.Gd[2]),b,c,d,f,e);this.Za(a,
a.g.Hd[0],a.g.Hd[1],a.g.Hd[2],b,c+a.j[0]*r,d,f,e);d=this.l(a,"Death Color",this.ub(a.g.Hd[0],a.g.Hd[1],a.g.Hd[2]),b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);a.B[m]=[a.u,"Stars"];m+=1;d=this.l(a,"","Stars:",b,c,d,f,e);d=this.l(a,"Enabled",a.Jc?"On":"Off",b,c,d,f,e);this.Za(a,a.Ud.h.h,a.Ud.h.j,a.Ud.h.i,b,c+a.j[0]*r,d,f,e);d=this.l(a,"Color",this.qe(a.Ud.h),b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);a.B[m]=[a.u,"Snow"];m+=1;d=this.l(a,"","Snow:",b,c,d,f,e);d=this.l(a,"Enabled",a.mh?a.Rm?"On":"Secret":"Off",
b,c,d,f,e);this.Za(a,a.Df>>16,a.Df>>8&255,a.Df&255,b,c+a.j[0]*r,d,f,e);d=this.l(a,"Color",this.ub(a.Df>>16,a.Df>>8&255,a.Df&255),b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);a.B[m]=[a.u,"Randomize"];m+=1;d=this.l(a,"","Randomize:",b,c,d,f,e);d=this.l(a,"Pattern",a.vm?"On":"Off",b,c,d,f,e);d=this.l(a,"States",a.sm?"2":"All",b,c,d,f,e);d=this.l(a,"Custom Seed",a.Ss?"On":"Off",b,c,d,f,e);d=this.l(a,"Seed",a.Yj,b,c,d,f,e);d=this.l(a,"Width",a.pm,b,c,d,f,e);d=this.l(a,"Height",a.lm,b,c,d,f,e);d=this.l(a,"Fill",
a.wj+"%",b,c,d,f,e);d=this.l(a,"Rule Fixed",a.om?"Yes":"No",b,c,d,f,e);if(!a.om)if(a.g.ja||a.g.s)d=this.l(a,"Reversible",a.Cn?"Only":"Any",b,c,d,f,e),d=this.l(a,"FixedPop",a.En?"Yes":"No",b,c,d,f,e);else if(!a.g.Da&&-1===a.g.Td){if(-1===a.bf&&-1===a.wg){d=this.l(a,"Chance ALL"+(-1===a.af?"*":""),-1===a.af?"50%":a.af+"%",b,c,d,f,e);k=!1;for(g=0;g<a.Zc.length;g+=2)0===a.Zc[g]&&(k=!0);k||(d=this.l(a,"Chance B0*","25%",b,c,d,f,e))}else d=this.l(a,"Chance B"+(-1===a.bf?"*":""),-1===a.bf?"50%":a.bf+"%",
b,c,d,f,e),d=this.l(a,"Chance S"+(-1===a.wg?"*":""),-1===a.wg?"50%":a.wg+"%",b,c,d,f,e);for(g=0;g<a.Zc.length;g+=2)d=this.l(a,"Chance B"+a.Zc[g],a.Zc[g+1]+"%",b,c,d,f,e);for(g=0;g<a.Sd.length;g+=2)d=this.l(a,"Chance S"+a.Sd[g],a.Sd[g+1]+"%",b,c,d,f,e)}d=this.l(a,"","",b,c,d,f,e);a.B[m]=[a.u,"Script"];m+=1;d=this.l(a,"","Script:",b,c,d,f,e);d=this.l(a,"Commands",a.Lh,b,c,d,f,e);d=this.l(a,"Errors",a.py,b,c,d,f,e);if(a.za)for(d=this.l(a,"","",b,c,d,f,e),a.B[m]=[a.u,"Waypoints"],m+=1,d=this.l(a,"","Waypoints:",
b,c,d,f,e),d=this.l(a,"Enabled",a.nb?"Off":"On",b,c,d,f,e),d=this.l(a,"Number",a.s.h.length,b,c,d,f,e),g=0;g<a.s.h.length;g+=1)t=String(g),g===a.s.v&&(t=a.s.V(a.elapsedTime)?t+">":t+"*"),d=this.l(a,t,a.s.jb(g,C.Nd),b,c,d,f,e);if(a.s.i.length)for(d=this.l(a,"","",b,c,d,f,e),a.B[m]=[a.u,"POIs"],d=this.l(a,"","Points of interest:",b,c,d,f,e),d=this.l(a,"Number",a.s.i.length,b,c,d,f,e),g=0;g<a.s.i.length;g+=1)t=String(g+1),g===a.Hc&&(t+="*"),g===a.lh&&(t+=" INITIAL"),k=!1,n=a.s.Ha(g),""!==n&&(d=this.l(a,
k?" ":t,(k?"  ":"")+n,b,c,d,f,e),k=!0),n=a.s.Pa(g),""!==n&&(d=this.l(a,k?" ":t,(k?"  ":"")+n,b,c,d,f,e),k=!0),n=a.s.Ia(g),""!==n&&(d=this.l(a,k?" ":t,(k?"  ":"")+n,b,c,d,f,e),k=!0),n=a.s.Fa(g),""!==n&&(d=this.l(a,k?" ":t,(k?"  ":"")+n,b,c,d,f,e),k=!0),n=a.s.Na(g),""!==n&&(d=this.l(a,k?" ":t,(k?"  ":"")+n,b,c,d,f,e),k=!0),n=a.s.Ma(g,C.Nd),""!==n&&(d=this.l(a,k?" ":t,(k?"  ":"")+n,b,c,d,f,e))},IJ:function(a,b,c,d,f,e){var g,k,l=0,p=a.h.s;a.u=1;a.jc=!1;a.B=[];a.j[0]=130;a.j[1]=200;a.j[2]=250;a.j[3]=
300;a.j[4]=390;a.B[l]=[a.u,"Top"];l+=1;d=this.l(a,"","Themes",b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);d=this.l(a,"","Themes are used to provide a visual representation of",b,c,d,f,e);d=this.l(a,"","cell history and longevity and also define grid colours",b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);d=this.l(a,"","Grid:",b,c,d,f,e);d=this.l(a,"GRID","grid line colour",b,c,d,f,e);d=this.l(a,"GRIDMAJOR","major grid line colour and interval",b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);if(2>=a.g.i)for(d=this.l(a,
"","Two-state Themes:",b,c,d,f,e),d=this.l(a,"BACKGROUND","cell never occupied",b,c,d,f,e),d=this.l(a,"ALIVE","cell just born",b,c,d,f,e),d=this.l(a,"ALIVERAMP","cell alive for several generations",b,c,d,f,e),d=this.l(a,"DEAD","cell just died",b,c,d,f,e),d=this.l(a,"DEADRAMP","cell dead for several generations",b,c,d,f,e),d=this.l(a,"","",b,c,d,f,e),d=this.l(a,"",a.Ee+" ("+C.Kp+") states from ALIVE to ALIVERAMP",b,c,d,f,e),d=this.l(a,"",a.qa+" ("+C.ro+") states from DEAD to DEADRAMP",b,c,d,f,e),g=
0;g<a.g.pa.length-1;g+=1){d=this.l(a,"","",b,c,d,f,e);var n=a.g.pa[g];a.B[l]=[a.u,n.name];l+=1;d=this.l(a,"Name"+(g===a.g.qb&&2>=a.g.i?"*":""),n.name,b,c,d,f,e);this.Za(a,n.v.h,n.v.j,n.v.i,b,c+a.j[0]*p,d,f,e);d=this.l(a,"BACKGROUND",this.qe(n.v),b,c,d,f,e);if(12===g&&a.g.Da)n=a.g.pa[11],this.Za(a,n.i.h.h,n.i.h.j,n.i.h.i,b,c+a.j[0]*p,d,f,e),d=this.l(a,"ALIVE",this.qe(n.i.h),b,c,d,f,e),n=a.g.pa[g];else if(this.Za(a,n.i.h.h,n.i.h.j,n.i.h.i,b,c+a.j[0]*p,d,f,e),d=this.l(a,"ALIVE",this.qe(n.i.h),b,c,d,
f,e),n.i.h.h!==n.i.i.h||n.i.h.j!==n.i.i.j||n.i.h.i!==n.i.i.i)this.Za(a,n.i.i.h,n.i.i.j,n.i.i.i,b,c+a.j[0]*p,d,f,e),d=this.l(a,"ALIVERAMP",this.qe(n.i.i),b,c,d,f,e);this.Za(a,n.h.i.h,n.h.i.j,n.h.i.i,b,c+a.j[0]*p,d,f,e);d=this.l(a,"DEAD",this.qe(n.h.i),b,c,d,f,e);if(n.h.h.h!==n.h.i.h||n.h.h.j!==n.h.i.j||n.h.h.i!==n.h.i.i)this.Za(a,n.h.h.h,n.h.h.j,n.h.h.i,b,c+a.j[0]*p,d,f,e),d=this.l(a,"DEADRAMP",this.qe(n.h.h),b,c,d,f,e);this.Za(a,n.s>>16,n.s>>8&255,n.s&255,b,c+a.j[0]*p,d,f,e);d=this.l(a,"GRID",this.ub(n.s>>
16,n.s>>8&255,n.s&255),b,c,d,f,e);0<n.B&&(this.Za(a,n.u>>16,n.u>>8&255,n.u&255,b,c+a.j[0]*p,d,f,e),d=this.l(a,"GRIDMAJOR",this.ub(n.u>>16,n.u>>8&255,n.u&255),b,c,d,f,e));d=a.g.ja&&0<n.B?this.l(a,"GRIDMAJOR",2,b,c,d,f,e):this.l(a,"GRIDMAJOR",n.B,b,c,d,f,e)}else if(a.g.s)for(d=this.l(a,"","PCA Themes:",b,c,d,f,e),d=this.l(a,"BACKGROUND","cell never occupied",b,c,d,f,e),d=this.l(a,"DEAD","cell just died",b,c,d,f,e),d=this.l(a,"DEADRAMP","cell dead for several generations",b,c,d,f,e),d=this.l(a,"","",
b,c,d,f,e),d=this.l(a,"",a.qa+" ("+C.ro+") states from DEAD to DEADRAMP",b,c,d,f,e),g=0;g<a.g.pa.length-1;g+=1){d=this.l(a,"","",b,c,d,f,e);n=a.g.pa[g];a.B[l]=[a.u,n.name];l+=1;d=this.l(a,"Name"+(g===a.g.qb?"*":""),n.name,b,c,d,f,e);this.Za(a,n.v.h,n.v.j,n.v.i,b,c+a.j[0]*p,d,f,e);d=this.l(a,"BACKGROUND",this.qe(n.v),b,c,d,f,e);for(k=1;16>k;k+=1){this.Za(a,n.D[k-1].h,n.D[k-1].j,n.D[k-1].i,b,c+a.j[0]*p,d,f,e);var q="";k&1&&(q+="N");k&2&&(q+="E");k&4&&(q+="S");k&8&&(q+="W");d=this.l(a,q,this.ub(n.D[k-
1].h,n.D[k-1].j,n.D[k-1].i),b,c,d,f,e)}this.Za(a,n.j.i.h,n.j.i.j,n.j.i.i,b,c+a.j[0]*p,d,f,e);d=this.l(a,"DEAD",this.qe(n.j.i),b,c,d,f,e);if(n.j.h.h!==n.j.i.h||n.j.h.j!==n.j.i.j||n.j.h.i!==n.j.i.i)this.Za(a,n.j.h.h,n.j.h.j,n.j.h.i,b,c+a.j[0]*p,d,f,e),d=this.l(a,"DEADRAMP",this.qe(n.j.h),b,c,d,f,e);this.Za(a,n.s>>16,n.s>>8&255,n.s&255,b,c+a.j[0]*p,d,f,e);d=this.l(a,"GRID",this.ub(n.s>>16,n.s>>8&255,n.s&255),b,c,d,f,e);0<n.B&&(this.Za(a,n.u>>16,n.u>>8&255,n.u&255,b,c+a.j[0]*p,d,f,e),d=this.l(a,"GRIDMAJOR",
this.ub(n.u>>16,n.u>>8&255,n.u&255),b,c,d,f,e));d=this.l(a,"GRIDMAJOR",n.B,b,c,d,f,e)}else for(d=this.l(a,"","Multi-state Themes:",b,c,d,f,e),d=this.l(a,"BACKGROUND","cell never occupied",b,c,d,f,e),d=this.l(a,"ALIVE","cell alive",b,c,d,f,e),d=this.l(a,"DYING","cell just starting dying",b,c,d,f,e),d=this.l(a,"DYINGRAMP","cell about to die",b,c,d,f,e),d=this.l(a,"DEAD","cell just died",b,c,d,f,e),d=this.l(a,"DEADRAMP","cell dead for several generations",b,c,d,f,e),d=this.l(a,"","",b,c,d,f,e),d=this.l(a,
"","Rule defines "+(2>a.g.i?"":String(a.g.i-1)+" ")+"states from DYING to DYINGRAMP",b,c,d,f,e),d=this.l(a,"",a.qa+" (HISTORYSTATES) states from DEAD to DEADRAMP",b,c,d,f,e),g=0;g<a.g.pa.length-1;g+=1)d=this.l(a,"","",b,c,d,f,e),n=a.g.pa[g],a.B[l]=[a.u,n.name],l+=1,d=this.l(a,"Name"+(g===a.g.qb&&2<a.g.i?"*":""),n.name,b,c,d,f,e),this.Za(a,n.F.h,n.F.j,n.F.i,b,c+a.j[0]*p,d,f,e),d=this.l(a,"BACKGROUND",this.qe(n.F),b,c,d,f,e),12===g&&a.g.Da&&(n=a.g.pa[11]),this.Za(a,n.A.h,n.A.j,n.A.i,b,c+a.j[0]*p,d,
f,e),d=this.l(a,"ALIVE",this.qe(n.A),b,c,d,f,e),3===a.g.i?(this.Za(a,n.m.h.h,n.m.h.j,n.m.h.i,b,c+a.j[0]*p,d,f,e),d=this.l(a,"DYING",this.qe(n.m.h),b,c,d,f,e)):(this.Za(a,n.m.i.h,n.m.i.j,n.m.i.i,b,c+a.j[0]*p,d,f,e),d=this.l(a,"DYING",this.qe(n.m.i),b,c,d,f,e),3<a.g.i&&(n.m.h.h!==n.m.i.h||n.m.h.j!==n.m.i.j||n.m.h.i!==n.m.i.i)&&(this.Za(a,n.m.h.h,n.m.h.j,n.m.h.i,b,c+a.j[0]*p,d,f,e),d=this.l(a,"DYINGRAMP",this.qe(n.m.h),b,c,d,f,e))),12===g&&a.g.Da&&(n=a.g.pa[12]),255>a.g.i&&(this.Za(a,n.j.i.h,n.j.i.j,
n.j.i.i,b,c+a.j[0]*p,d,f,e),d=this.l(a,"DEAD",this.qe(n.j.i),b,c,d,f,e)),256>a.g.i&&(n.j.h.h!==n.j.i.h||n.j.h.j!==n.j.i.j||n.j.h.i!==n.j.i.i)&&(this.Za(a,n.j.h.h,n.j.h.j,n.j.h.i,b,c+a.j[0]*p,d,f,e),d=this.l(a,"DEADRAMP",this.qe(n.j.h),b,c,d,f,e)),this.Za(a,n.s>>16,n.s>>8&255,n.s&255,b,c+a.j[0]*p,d,f,e),d=this.l(a,"GRID",this.ub(n.s>>16,n.s>>8&255,n.s&255),b,c,d,f,e),0<n.B&&(this.Za(a,n.u>>16,n.u>>8&255,n.u&255,b,c+a.j[0]*p,d,f,e),d=this.l(a,"GRIDMAJOR",this.ub(n.u>>16,n.u>>8&255,n.u&255),b,c,d,f,
e)),d=this.l(a,"GRIDMAJOR",n.B,b,c,d,f,e);this.l(a,"","",b,c,d,f,e)},vJ:function(a,b,c,d,f,e){var g,k=hb.qf,l=Object.keys(k),p=a.h.s;a.u=1;a.jc=!1;a.B=[];a.j[0]=260;a.j[1]=330;a.j[2]=380;a.j[3]=430;a.j[4]=a.displayWidth;a.B[0]=[a.u,"Top"];d=this.l(a,"","Colours",b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);d=this.l(a,"","The following names can be used in place of R G B or hex specification",b,c,d,f,e);d=this.l(a,"","for example [[ COLOUR ALIVE Green ]]",b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);for(g=0;g<
l.length;g+=1){var n=k[l[g]];this.Za(a,n[1],n[2],n[3],b,c+a.j[0]*p,d,f,e);d=this.l(a,n[0],this.ub(n[1],n[2],n[3]),b,c,d,f,e)}},tJ:function(a,b,c,d,f,e){var g,k=0,l=db.kd,p=db.ky;a.u=1;a.jc=!1;a.B=[];a.j[0]=260;a.B[k]=[a.u,"Top"];k+=1;d=this.l(a,"","Aliases",b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);d=this.l(a,"","Alias names can be used as rule names in RLE",b,c,d,f,e);d=this.l(a,"","for example 'rule = HighLife'",b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);d=this.l(a,"","* denotes duplicate definition",
b,c,d,f,e);d=this.l(a,"","+ denotes duplicate alias name",b,c,d,f,e);a.jc=!0;for(g=0;g<l.length;g+=1)""===l[g][1]?(d=this.l(a,"","",b,c,d,f,e),a.B[k]=[a.u,p[k-1]],k+=1,d=this.l(a,"",l[g][0]+" Aliases:",b,c,d,f,e)):""!==l[g][0]&&(d=this.l(a,l[g][0]+" "+(l[g][2]?"*":"")+(l[g][3]?"+":""),l[g][1],b,c,d,f,e))},wJ:function(a,b,c,d,f,e){var g=0,k,l=a.Yl;a.u=1;a.jc=!1;a.B=[];a.j[0]=128;d=this.l(a,"","Pattern Comments",b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);""!==a.Ze&&(d=this.l(a,"Name",a.Ze,b,c,d,f,e));""!==
a.vg&&(d=this.l(a,"Originator",a.vg,b,c,d,f,e));if(""!==a.Ze||""!==a.vg)d=this.l(a,"","",b,c,d,f,e);if(""===l)this.l(a,"None","",b,c,d,f,e);else{b.font=a.Zf;var p=b.measureText("M").width;var n=a.displayWidth/p|0;n-=5;for(p=l.indexOf("\n",g);-1!==p;){for(;p-g>n;){for(k=n;" "!==l.charAt(g+k)&&0<k;)--k;0===k?(d=this.l(a,l.substring(g,g+n),"",b,c,d,f,e),g+=n):(d=this.l(a,l.substring(g,g+k),"",b,c,d,f,e),g+=k+1)}d=this.l(a,l.substring(g,p),"",b,c,d,f,e);g=p+1;p=l.indexOf("\n",g)}}},EJ:function(a,b,c,
d,f,e){var g,k=0,l=U.Pc.length,p=0,n=0,q=0,m=0,r;a.u=1;a.jc=!1;a.B=[];a.j[0]=128;a.j[1]=200;a.j[2]=290;a.j[3]=530;a.B[k]=[a.u,"Top"];k+=1;d=this.l(a,"","Memory usage",b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);if(1<l){a.B[k]=[a.u,"All"];k+=1;d=this.l(a,"","Memory (all "+l+" LifeViewers):",b,c,d,f,e);for(g=0;g<l;g+=1)if(r=U.oH(g))p+=r.g.T.s,q+=r.g.T.j>>10,n+=r.g.T.u,m+=r.g.T.m>>10;d=this.l(a,"In Use",p-n+"\t"+((q>>10)-(m>>10))+"M",b,c,d,f,e);d=this.l(a,"Allocations",p+"\t"+(q>>10)+"M",b,c,d,f,e);d=this.l(a,
"Frees",n+"\t"+(m>>10)+"M",b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e)}a.B[k]=[a.u,"Current"];d=this.l(a,"","Memory (this LifeViewer):",b,c,d,f,e);d=this.l(a,"In Use",a.g.T.s-a.g.T.u+"\t"+this.Vt(a.g.T.j-a.g.T.m)+"M\t"+(a.g.T.j-a.g.T.m),b,c,d,f,e);d=this.l(a,"Allocations",a.g.T.s+"\t"+this.Vt(a.g.T.j)+"M\t"+a.g.T.j,b,c,d,f,e);d=this.l(a,"Frees",a.g.T.u+"\t"+this.Vt(a.g.T.m)+"M\t"+a.g.T.m,b,c,d,f,e);d=this.l(a,this.MC("Bytes",10),"Type\tElements\tName\tCount",b,c,d,f,e);for(g=0;g<a.g.T.i.length;g+=1)d=
this.l(a,this.MC(String(a.g.T.i[g].size),10),a.g.T.G(g),b,c,d,f,e);this.l(a,"","",b,c,d,f,e)},qB:function(a){var b=a.la,c=a.h.s,d=a.h.B,f=19*d;a.Ba=(a.displayHeight/f|0)-6;b.fillStyle=a.C.cc;b.globalAlpha=.7;b.fillRect(0,0,b.canvas.width,b.canvas.height);b.globalAlpha=1;b.fillStyle=a.C.cc;this.ri=2;$a.iD(a,b,6*c,14*d,f,a.v|0);b.fillStyle=a.ci;this.ri=0;$a.iD(a,b,6*c,14*d,f,a.v|0)},xJ:function(a,b,c,d,f,e,g,k,l,p){var n=k,q=a.h.s,m=this.ri*q,r=this.ri*a.h.s,u=0,t=!1,v=a.u;e.fillStyle===a.C.Va&&(t=
!0);v>=p&&v<=p+a.Ba&&(e.font=a.Zf,t||(e.fillStyle=1<(a.da|0)?a.bi:a.C.ca),e.fillText(b,g+m,k+r),t||(e.fillStyle=a.bi),e.fillText(c,g+m+e.measureText(b).width,k+r),t||(e.fillStyle=(a.da|0)<a.Vb.length-a.Ba+1?a.bi:a.C.ca),e.fillText(d,g+m+e.measureText(b+c).width,k+r),a.j[0]&&(u=a.j[0]*q),t||(e.fillStyle=a.bi),e.font=a.Oe,e.fillText(f,g+m+u,k+r),n+=l);return n},Tr:function(a,b,c,d,f,e,g,k){var l=e,p=a.h.s,n=0,q=a.u;q>=k&&q<=k+a.Ba&&(b.length&&(d.font=a.Zf,d.fillText(b,f,e),n=d.measureText(b+" ").width),
a.j[0]&&(n=a.j[0]*p),d.font=a.Oe,d.fillText(c,f+n,e),l+=g);a.u+=1;return l},hD:function(a,b,c,d,f,e){var g,k=a.Vb,l=d;a.u=1;a.j[0]=0;b.font=a.Oe;d=this.Tr(a,"",F.ZJ,b,c,d,f,e);for(g=0;g<k.length;g+=1)d=this.Tr(a,k[g][0],k[g][1],b,c,d,f,e);a.ka||(a.j[0]=120,a.u=1,d=l+f*(a.Ba+2),d=this.xJ(a,"Up"," / ","Down","scroll errors",b,c,d,f,0),d=this.Tr(a,"Esc","clear messages",b,c,d,f,0),this.Tr(a,"H  ","help",b,c,d,f,0))},WG:function(a){var b=a.la,c=a.h.s,d=a.h.B,f=19*d,e=7;a.ka&&(e=1);a.Ba=(a.displayHeight/
f|0)-e;b.fillStyle=a.C.cc;b.globalAlpha=.7;b.fillRect(0,0,b.canvas.width,b.canvas.height);b.globalAlpha=1;b.fillStyle=a.C.cc;this.hD(a,b,6*c,14*d,f,a.da|0);b.fillStyle=a.bi;this.hD(a,b,4*c,12*d,f,a.da|0)}},C={Nd:'"',ml:"[[",Mm:"]]",Qx:"QUALITY",zD:"TIME",Ax:"PLAYTIME",wy:"SUPPRESS",Mr:"POIT",zc:"INITIAL",Tb:"OFF",ty:"STATE1FIT",kq:"POIRESET",Vo:"POIPLAY",Wo:"POISTOP",lq:"POITRANS",Cx:"POIADDLABELS",Ru:"HARDRESET",Cq:"TRACK",Sm:"TRACKBOX",Bq:"TRACKLOOP",Fw:"NOREPORT",hr:"GRAPH",Hr:"NOGRAPH",Nu:"GRAPHOPACITY",
Ou:"GRAPHPOINTS",Ew:"NOPERFWARNING",Wu:"AUTOHIDEGUI",hg:"ALL",Yg:"LINEAR",ai:"BEZIER",Wy:"TRIANGULARCELLS",Tu:"HEXCELLS",bs:"SQUARECELLS",cz:"ICONS",Zt:"CELLBORDERS",Zh:"RANDCELLS",Zx:"RANDOMIZE",Yx:"RANDOMIZE2",Vx:"RANDSEED",Xx:"RANDWIDTH",Tx:"RANDHEIGHT",Sx:"RANDFILL",Ux:"RANDREVERSIBLE",Wx:"RANDFIXEDPOP",Qr:"RANDCHANCE",Pr:"B",Sr:"S",uu:"DELETERANGE",oy:"SHOWTIMING",Du:"EXTENDEDTIMING",my:"SHOWGENSTATS",ny:"SHOWINFOBAR",Gw:"NOSOURCE",Nr:"POI",pp:"TITLE",eD:"POLY",Gx:"POLYSHADOW",Or:"POLYFILL",
Fx:"POLYLINE",Dx:"POLYALPHA",Hx:"POLYSIZE",Ix:"POLYT",Ex:"POLYANGLE",Lx:"POLYZOOMRANGE",Jx:"POLYTRACK",Kx:"POLYVIEWDIST",Lp:"ARROW",Pt:"ARROWSHADOW",Nt:"ARROWALPHA",Qt:"ARROWSIZE",Rt:"ARROWT",Ot:"ARROWANGLE",Ut:"ARROWZOOMRANGE",St:"ARROWTRACK",Tt:"ARROWVIEWDIST",Zp:"LABEL",vv:"LABELSHADOW",rv:"LABELALPHA",wv:"LABELSIZE",xv:"LABELT",sv:"LABELANGLE",Av:"LABELZOOMRANGE",yv:"LABELTRACK",zv:"LABELVIEWDIST",qv:"LABELALIGN",ov:"LEFT",pv:"RIGHT",nv:"CENTER",de:"FIXED",sr:"MAXGRIDSIZE",sq:"STARS",rq:"SNOW",
mp:"CUSTOM",Fs:"XOFFSET",Gs:"YOFFSET",lp:"BACKGROUND",kp:"ALIVE",wq:"ALIVERAMP",op:"DEAD",np:"DEADRAMP",yq:"DYING",xq:"DYINGRAMP",ID:"UIFOREGROUND",qL:"UIFOREGROUNDA",GD:"UIBACKGROUND",oL:"UIBACKGROUNDA",JD:"UIHIGHLIGHT",rL:"UIHIGHTLIGHTA",LD:"UISELECT",tL:"UISELECTA",KD:"UILOCKED",sL:"UILOCKEDA",HD:"UIBORDER",pL:"UIBORDERA",DD:"TITLEFOREGROUND",BD:"TITLEBACKGROUND",BA:"CLOSEFOREGROUND",AA:"CLOSEBACKGROUND",wA:"BOUNDARY",$t:"BOUNDED",oD:"SELECT",pD:"SELECTED",Pq:"AUTOFIT",Yu:"HISTORYFIT",ro:"HISTORYSTATES",
Kp:"AGESTATES",Om:"STEP",Dw:"NOSTEPBACK",uq:"T",yx:"PAUSE",Vp:"GRID",Up:"GRIDMAJOR",xy:"TEXT",Au:"ERROR",Su:"HELP",Kw:"OFF",Nw:"ON",Xu:"HISTORY",Fv:"MARK1",Hv:"MARKOFF",Gv:"MARK2",jv:"KILL",DB:"GRAPHBG",CB:"GRAPHAXIS",BB:"GRAPHALIVE",EB:"GRAPHBIRTH",FB:"GRAPHDEATH",tb:"COLOR",hu:"COLOUR",sl:"TILT",Fq:"VIEWONLY",Cw:"NOGUI",Bw:"NOCOPY",Dy:"THUMBNAIL",Ay:"THUMBSIZE",zy:"THUMBLAUNCH",By:"THUMBSTART",Cu:"EXCLUSIVEPLAY",bv:"IGNOREEXCLUSIVE",dk:"THEME",ly:"SHADER",oq:"RAINBOW",gq:"NEIGHBOUR",Mo:"NEIGHBOR",
Mp:"BASIC",es:"STARTFROM",Rq:"AUTOSTART",Qq:"AUTOIDENTIFY",hi:"LOOP",ui:"STOP",Lk:"ANGLE",xm:"LAYERS",km:"DEPTH",qm:"GPS",se:"ZOOM",It:"Z",gf:"X",jf:"Y",up:"WIDTH",qo:"HEIGHT",nq:"POPUPWIDTH",mq:"POPUPHEIGHT",Cy:"THUMBZOOM",Hw:"NOTHROTTLE",by:"REVERSESTART",kv:"KILLGLIDERS",tB:"FASTLOOKUP",Zo:"RECIPE",Lm:"RLE",vj:"PASTE",iq:"PASTET",Ow:"PASTEDELTA",Pp:"EVERY",mx:"PASTEMODE",wx:"ZERO",Xw:"AND",Qw:"0010",qx:"X",Sw:"DIFF",ux:"Y",sx:"XOR",lx:"OR",bx:"NOR",px:"XNOR",ix:"NOTY",Uw:"1011",gx:"NOTX",Ww:"1101",
$w:"NAND",kx:"ONE",Yw:"COPY",Ry:"IDENTITY",Oy:"FLIP",Py:"FLIPX",Qy:"FLIPY",Uy:"SWAPXY",Vy:"SWAPXYFLIP",Ty:"RCW",Sy:"RCCW",xx:"XT",WC:"YT",fe:"#"},Qb={oJ:function(a,b,c){var d=!0,f=c.shiftKey,e=c.altKey,g=c.metaKey;if(c.ctrlKey||g||e)b=-1;switch(b){case 84:f?a.C.j=!a.C.j:a.Sg([!a.C.F],!0,a);break;case 27:U.Fm=!1;a.C.ja(a.h);break;default:d=!1}return d},lJ:function(a,b,c){var d=!0,f=c.shiftKey,e=c.altKey,g=c.metaKey;if(c.ctrlKey||g||e)b=-1;switch(b){case 84:f?a.C.j=!a.C.j:a.Sg([!a.C.F],!0,a);break;
case 27:a.Ym(a,!0,!1);break;default:d=!1}return d},nJ:function(a,b,c){var d=!0,f=c.shiftKey,e=c.ctrlKey,g=c.metaKey;c=c.altKey;if(!c||192!==b&&223!==b){if(e||g||c)b=-1;switch(b){case 84:f?a.C.j=!a.C.j:a.Sg([!a.C.F],!0,a);break;case 27:case 117:a.il(a);break;default:d=!1}}else U.R&&(a.Ll.current=a.Ev([!a.i],!0,a),a.C.notification.notify("WASM "+(a.i?"On":"Off"),15,40,15,!0));return d},ek:function(a,b){a.Hd===F.Pg?a.xc(b,a):a.Hd===b&&a.xc(F.Pg,a)},mJ:function(a,b,c){var d=!0,f=c.shiftKey,e=c.metaKey,
g=c.altKey;if(c.ctrlKey||e||g)b=-1;switch(b){case 84:f?a.C.j=!a.C.j:a.Sg([!a.C.F],!0,a);break;default:d=!1}return d},kJ:function(a,b,c){var d=!0,f=c.shiftKey,e=c.ctrlKey,g=c.altKey,k="";c.metaKey&&(e=!0);if(a.Ia)!a.mn&&85===b&&f&&(a.Ia=!a.Ia,a.h.M=a.Ia,a.C.da=a.Ia);else{e&&!g&&37<=b&&40>=b&&(37===b?b=33:38===b?b=36:39===b?b=34:40===b&&(b=35));if(g&&!e){if(48<=b&&57>=b)b-=48,a.wc||0===a.s.i.length?a.zb===b?a.na?a.jz(a,b):a.kC(a):a.Gk.current=a.sB(b,!0,a):(--b,0<=b&&b<a.s.i.length&&(a.Hc=b,a.it(a,a.Hc)));
else switch(b){case 37:a.qg(a,-1,0);break;case 38:a.qg(a,0,-1);break;case 39:a.qg(a,1,0);break;case 40:a.qg(a,0,1);break;case 46:if(a.g.O||a.g.v)a.tn(a,!0,!0),a.g.O?a.C.notification.notify("Cleared [R]History marked cells",15,120,15,!0):a.C.notification.notify("Cleared [R]Super marked cells",15,120,15,!0);break;case 65:a.Vg.current=a.dv([!a.Yd],!0,a);a.C.notification.notify("Auto-Shrink Selection "+(a.Yd?"On":"Off"),15,40,15,!0);break;case 66:a.wi.current=a.DA([!a.g.jb],!0,a);a.C.notification.notify("Cell Borders "+
(a.g.jb?"On":"Off"),15,40,15,!0);break;case 67:a.Na||!a.vd||a.vd.locked||(a.yg(a.jo,a.g.Re,a),a.g.la||a.me||a.C.notification.notify(a.to(a.g.qb)+" Theme",15,40,15,!0));break;case 68:a.g.ja&&2===a.g.lb&&(a.Wd.current=a.mz([!a.g.Ad],!0,a),a.C.notification.notify("Alternating Gridlines "+(a.g.Ad?"On":"Off"),15,40,15,!0));break;case 69:"Oscillator"===a.Ab&&null!==a.g.Pd&&(a.Wc+=1,a.Wc>F.KB&&(a.Wc=F.Wj),a.Pe.current=a.Cl(a.Wc,!0,a));break;case 71:a.g.O||-1===a.g.i?a.FG(a):a.g.v?a.C.notification.notify("Rule is already [R]Super",
15,120,15,!0):a.C.notification.notify("Unsupported rule for [R]Super",15,120,15,!0);break;case 72:-1===a.g.i&&!a.g.O||a.g.v?a.rG(a):a.g.O?a.C.notification.notify("Rule is already [R]History",15,120,15,!0):a.C.notification.notify("Unsupported rule for [R]History",15,120,15,!0);break;case 73:a.ag.locked||(a.ag.current=a.Aw([!a.wd],!0,a),a.C.notification.notify("Icons "+(a.wd?"On":"Off"),15,40,15,!0));break;case 74:a.g.O||a.g.v?a.zG(a):-1===a.g.i?a.C.notification.notify("Rule is already [R]Standard",
15,120,15,!0):a.C.notification.notify("Unsupported rule for [R]Standard",15,120,15,!0);break;case 75:a.dE(a);break;case 76:0<a.s.B()&&(a.dg.current=a.RB([!a.ke],!0,a),a.C.notification.notify("Annotations "+(a.ke?"On":"Off"),15,40,15,!0));break;case 77:a.Ik.locked||a.Az(a);break;case 78:a.AB(a);break;case 79:a.$a&&(a.nc=!a.nc,a.ih.current=[a.nc],a.C.notification.notify("AutoStart "+(a.nc?"Off":"On"),15,40,15,!0));break;case 80:-1!==a.uc&&(a.Kb=!a.Kb,a.Mg.current=[a.Kb],a.C.notification.notify("Stop "+
(a.Kb?"Off":"On"),15,40,15,!0));break;case 82:a.gE(a);break;case 83:a.rk.current=a.gv([!a.Xb],!0,a);a.C.notification.notify("Sync Clipboard "+(a.Xb?"On":"Off"),15,40,15,!0);break;case 84:a.Ng.current=a.zu([!a.Ff],!0,a);a.C.notification.notify("Throttling "+(a.Ff?"On":"Off"),15,40,15,!0);break;case 85:a.Gj.current=a.vA([!a.pd],!0,a);a.C.notification.notify("AutoHide UI "+(a.pd?"On":"Off"),15,80,15,!0);break;case 87:if(!(2<a.g.i||a.g.Da||a.g.s||a.g.O||a.g.v||a.g.G||a.g.D)){a.g.ab+=1;a.g.ab>y.lg&&(a.g.ab=
y.Kf);switch(a.g.ab){case y.kg:k="Cell Age";break;case y.lg:k="Neighbour Count";break;case y.vf:k="Rainbow";break;case y.Kf:k="Basic"}a.xg.current=a.Px(a.g.ab,!0,a);a.C.notification.notify(k+" Shader",15,80,15,!0)}break;case 88:a.nt(a);break;case 89:a.pt(a);break;case 90:a.tm.locked||a.nm(a,!1);break;case 188:b=a.sa.current[0];b-=45;0>b&&(b+=360);a.sa.current=a.Rg([b,b],!0,a);break;case 190:b=a.sa.current[0];b+=45;360<=b&&(b-=360);a.sa.current=a.Rg([b,b],!0,a);break;case 191:a.Nz(a);break;case 192:case 223:U.R&&
(a.Ll.current=a.Ev([!a.i],!0,a),a.C.notification.notify("WASM "+(a.i?"On":"Off"),15,40,15,!0))}b=-2}switch(b){case 191:f?a.g.ha?(a.Id.current=a.Ov([!a.g.Fa],!0,a),a.C.notification.notify("Hexagonal display uses "+(a.g.Fa?"Rectangles":"Hexagons"),15,120,15,!0)):a.g.Z&&(a.Id.current=a.Ov([!a.g.Fa],!0,a),a.C.notification.notify("Triangular display uses "+(a.g.Fa?"Rectangles":"Triangles"),15,120,15,!0)):a.fb.locked||(b=a.fb.current[0],.47<b&&.53>b?b=.46:(b-=.02,0>b&&(b=0)),a.fb.current=a.Qj([b,b],!0,
a));break;case 192:f?a.fb.locked||(a.fb.current=a.Qj([.5,0],!0,a)):a.fb.locked||(b=a.fb.current[0],.47<b&&.53>b?b=.54:(b+=.02,1<b&&(b=1)),a.fb.current=a.Qj([b,b],!0,a));break;case 8:0!==a.v?a.Hd!==F.Pg?a.xc(F.Pg,a):(a.v=0,a.od.current=a.mf([0!==a.v],!0,a),a.C.m=!0):a.ga.current[0]?(a.Ak(a),a.C.m=!0):a.I||a.hc.m[1]||(b=a.O,a.O=1,a.hc.current=a.Od(F.Jo,!0,a),a.O=b);break;case 66:e?a.Cz(a):f?(a.Ue.current=[!a.Ue.current[0]],a.C.m=!0):a.I||a.hc.m[1]||(b=a.O,a.O=1,a.hc.current=a.Od(F.Jo,!0,a),a.O=b);break;
case 13:a.na?a.VK(a):a.I||(a.hc.current===F.rj?a.hc.current=a.Od(F.rj,!0,a):a.hb&&a.C.ia||(a.hc.current=a.Od(F.rj,!0,a)));break;case 9:a.I||(a.Ob?a.hc.current=a.Od(F.ue,!0,a):f?(a.g.ja||a.g.s)&&null!==a.g.Cb?a.hc.current=a.Od(F.Jo,!0,a):0<a.g.counter&&(a.mt(a.g.counter-a.O)?a.Io(a):a.Aq(a.g.counter-a.O)):(a.sd=!0,a.$("")));break;case 32:a.I||(a.Ob?a.hc.current=a.Od(F.ue,!0,a):e||f?a.lt(a,f):(a.sd=!0,a.ot=!0,a.$("")));break;case 87:f?(a.Ag.current=a.Yt([!a.Md],!0,a),a.C.notification.notify("Performance Warning "+
(a.Md?"On":"Off"),15,40,15,!0)):a.mb?(a.Nc.current=a.Hu([a.Lb],!0,a),-1!==a.Sb?a.C.notification.notify("Track and Loop "+(a.Lb?"Off":"On"),15,40,15,!0):a.C.notification.notify("Track "+(a.Lb?"Off":"On"),15,40,15,!0)):a.za&&(a.Nc.current=a.Hu([a.nb],!0,a),-1!==a.Sb?a.C.notification.notify("Waypoints and Loop "+(a.nb?"Off":"On"),15,40,15,!0):a.C.notification.notify("Waypoints "+(a.nb?"Off":"On"),15,40,15,!0));break;case 68:e?(a.qk.current=a.wu([!a.Dg],!0,a),a.C.notification.notify("States Display "+
(a.Dg?"On":"Off"),15,80,15,!0)):a.uh.locked||a.Uz(a);break;case 69:0===a.v||a.g.la||a.g.v||a.g.G||a.g.D?f?(a.Di.current=a.mv([!a.Gd],!0,a),a.C.notification.notify("Using "+(a.Gd?"saved":"standard")+" default speed",15,80,15,!0)):e?(a.jE(a),a.C.notification.notify("Default speed saved as "+a.ca*a.O+"gps",15,120,15,!0)):"Oscillator"===a.Ab&&null!==a.g.Pd&&(a.Nb+=1,a.Nb>F.Wp&&(a.Nb=F.Uh),a.Kd.current=a.Oj(a.Nb,!0,a)):this.ek(a,F.yy);break;case 90:e?(g&&(a.wm.locked||a.nm(a,!0)),f?a.Ts(a):a.Pd.locked||
a.Io(a)):f?(b=U.xD(),0===b?a.C.notification.notify("No LifeViewers playing",15,100,15,!0):1<b&&a.C.notification.notify("Paused all LifeViewers",15,100,15,!0)):(b=U.vy(a),0<b&&(1<b?a.C.notification.notify("Paused "+b+" other LifeViewers",15,100,15,!0):a.C.notification.notify("Paused "+b+" other LifeViewer",15,100,15,!0)));break;case 88:e?a.KC(a,f,g):f?a.rd.locked||(a.rd.current=a.UB([!a.g.yc],!0,a),0<a.g.lb&&(a.C.notification.notify("Major Grid Lines "+(a.g.yc?"On":"Off"),15,40,15,!0),a.xn())):a.P||
a.na?a.nt(a):(a.g.Ya=!a.g.Ya,a.hd.current=a.Nj([a.g.Ya],!0,a),a.C.notification.notify("Grid Lines "+(a.g.Ya?"On":"Off"),15,40,15,!0));break;case 89:0!==a.v?this.ek(a,F.Lv):e?a.Ts(a):a.Zb?a.C.notification.notify("Graph Disabled",15,40,15,!0):f?(a.md=!a.md,a.bj.current=a.eA([a.md],!0,a),a.C.notification.notify("Graph "+(a.md?"Lines":"Points"),15,40,15,!0)):a.P||a.na?a.pt(a):(a.Ca=!a.Ca,a.Ne.current=a.Oo([a.Ca],!0,a),a.C.notification.notify("Population Graph "+(a.Ca?"On":"Off"),15,40,15,!0));break;case 75:0!==
a.v?this.ek(a,F.hv):e?g?(a.tn(a,!1,!1),b=a.rf,2<a.g.i&&!(a.g.la||a.g.s||a.g.D||a.g.v||a.g.G)&&0<b&&(b=a.g.i-b),a.g.D?a.C.notification.notify("Cleared state "+b+" cells",15,120,15,!0):a.C.notification.notify("Cleared "+a.oh(b)+" cells",15,120,15,!0)):a.ym(a):f?(a.Hn(a,!0),a.C.notification.notify("Copied view to clipboard",15,180,15,!0)):(a.Hn(a,!1),a.C.notification.notify("Copied position to clipboard",15,180,15,!0));break;case 80:e?(a.Zl.current=a.gA([!a.nj],!0,a),a.C.notification.notify("Pause while drawing "+
(a.nj?"On":"Off"),15,80,15,!0)):f?-1!==a.Sb&&(a.wa=!a.wa,a.Mf.current=[a.wa],a.C.notification.notify("Loop "+(a.wa?"Off":"On"),15,40,15,!0)):a.Na||a.Ea.locked||(a.Ea.current=.99>=a.Ea.current[0]?a.pf([a.Ea.current[0]+.01,a.Ea.current[1]],!0,a):a.pf([1,a.Ea.current[1]],!0,a));break;case 76:0!==a.v?this.ek(a,F.iu):e?a.Re.locked||(a.g.sd=!a.g.sd,a.C.notification.notify("Kill Gliders "+(a.g.sd?"On":"Off"),15,40,15,!0)):f?a.vK(a):a.Na||a.Ea.locked||(a.Ea.current=.01<=a.Ea.current[0]?a.pf([a.Ea.current[0]-
.01,a.Ea.current[1]],!0,a):a.pf([0,a.Ea.current[1]],!0,a));break;case 81:e?(a.hm.current=a.lC([!a.g.Xc],!0,a),a.C.notification.notify((a.g.Xc?"High":"Standard")+" Quality Rendering",15,80,15,!0)):!a.Na&&!a.kb.locked&&a.kb.current[0]<F.tr&&(a.kb.current=a.Jl([a.g.Aa+1,a.kb.current[1]],!0,a));break;case 65:0!==a.v?this.ek(a,F.Ht):f?a.P&&a.zk(a):e?a.ra.m[F.fl]||a.uz(a):!a.Na&&!a.kb.locked&&a.kb.current[0]>F.Br&&(a.kb.current=a.Jl([a.g.Aa-1,a.kb.current[1]],!0,a));break;case 82:f?U.jD():a.hc.current=
a.Od(F.Tv,!0,a);break;case 83:0!==a.v?this.ek(a,F.jy):e?a.Em.locked||a.oz(a):f?a.g.O&&(a.ud=!a.ud,a.C.notification.notify("AutoFit State 1 Mode "+(a.ud?"On":"Off"),15,40,15,!0)):(a.nk.current=a.gD([!a.Jc],!0,a),a.C.notification.notify("Stars "+(a.Jc?"On":"Off"),15,40,15,!0));break;case 78:0!==a.v?0<a.s.B()&&this.ek(a,F.Kt):f?a.I||a.bA(a):a.ne&&(a.ka?a.vt():(a.xt(),a.v&&(a.v=0)));break;case 86:e?a.jj.locked||a.yn(a,f,!1):f?(a.Ys(a),a.C.notification.notify("Saved camera position",15,100,15,!0)):a.ab||
a.kc.locked||(a.kD(a),a.C.notification.notify("Restored camera position",15,100,15,!0),a.Ob||(a.ic=!0));break;case 221:a.ab||a.kc.locked||(f?a.xk(a.kc.current[0],Math.log(a.g.zoom*a.g.eb*2/F.Bb)/Math.log(F.Pb/F.Bb)-a.kc.current[0]):a.xk(a.kc.current[0],.01));break;case 219:a.ab||a.kc.locked||(f?a.xk(a.kc.current[0],Math.log(a.g.zoom*a.g.eb/2/F.Bb)/Math.log(F.Pb/F.Bb)-a.kc.current[0]):a.xk(a.kc.current[0],-.01));break;case 53:case 101:e?f?a.g.s||a.An(a,!0):a.Vd(5):f?a.An(a,!1):a.sa.locked||(a.g.angle=
0,a.sa.current=[a.g.angle,a.g.angle]);break;case 49:case 97:e?a.Vd(1):a.kc.locked||(f?(a.Rc(a,a.g.zoom*a.g.eb,!0),a.C.notification.notify("Integer Zoom",15,40,15,!0)):a.Rc(a,1,!1));break;case 50:case 98:e?a.Vd(2):a.kc.locked||(f?a.Rc(a,.5,!1):a.Rc(a,2,!1));break;case 51:case 99:e?a.Vd(3):a.kc.locked||(f?a.Rc(a,.03125,!1):a.Rc(a,32,!1));break;case 52:case 100:e?a.Vd(4):a.kc.locked||(f?a.Rc(a,.25,!1):a.Rc(a,4,!1));break;case 54:case 102:e?a.Vd(6):a.kc.locked||(f?a.Rc(a,.0625,!1):a.Rc(a,16,!1));break;
case 55:e?a.Vd(7):a.Zb?a.C.notification.notify("Graph Disabled",15,40,15,!0):(0<a.eb&&(a.eb-=.05,0>a.eb&&(a.eb=0)),a.ij.current=a.Uo([a.eb,a.eb],!1,a));break;case 56:case 104:e?a.Vd(8):a.kc.locked||(f?a.Rc(a,.125,!1):a.Rc(a,8,!1));break;case 57:e?a.Vd(9):a.Zb?a.C.notification.notify("Graph Disabled",15,40,15,!0):(1>a.eb&&(a.eb+=.05,1<a.eb&&(a.eb=1)),a.ij.current=a.Uo([a.eb,a.eb],!1,a));break;case 48:case 96:e?a.Vd(0):a.dc.current=a.yc([1,1],!0,a);break;case 173:case 189:case 109:e&&189===b?d=!1:a.I||
(a.O>F.Zg?f?a.O=F.Zg:(--a.O,a.O<F.Zg&&(a.O=F.Zg)):a.ca>F.Bg&&(f?a.ca=F.Bg:(--a.ca,a.ca<F.Bg&&(a.ca=F.Bg))),a.dc.current=a.yc([a.kf(),1],!0,a));break;case 186:a.lG(a);break;case 61:case 187:case 107:e&&187===b?d=!1:a.I||(a.ca<F.$c?f?a.ca=F.$c:(a.ca+=1,a.ca>F.$c&&(a.ca=F.$c)):a.O<a.Hf&&(f?a.O=a.Hf:(a.O+=1,a.O>a.Hf&&(a.O=a.Hf))),a.dc.current=a.yc([a.kf(),1],!0,a));break;case 188:f&&(a.P||a.na)?a.ED(a):a.sa.locked||(b=a.sa.current[0],b=f?b-90:b-1,0>b&&(b+=360),a.sa.current=a.Rg([b,b],!0,a));break;case 190:f&&
(a.P||a.na)?a.ND(a):a.sa.locked||(b=a.sa.current[0],b=f?b+90:b+1,360<=b&&(b-=360),a.sa.current=a.Rg([b,b],!0,a));break;case 46:a.P?f?a.vz(a):(a.dt(a,e),e&&(a.g.O||a.g.v)&&(a.g.O?a.C.notification.notify("Cleared [R]History cells",15,120,15,!0):a.C.notification.notify("Cleared [R]Super cells",15,120,15,!0))):e&&(b=a.tn(a,e,!1))&&(a.g.O?a.C.notification.notify("Cleared [R]History cells",15,120,15,!0):a.C.notification.notify("Cleared [R]Super cells",15,120,15,!0));break;case 74:e&&!f?a.Ez(a):e&&f?d=!1:
a.s.i.length?a.ab||(f?a.GC(a):a.QB(a)):a.C.notification.notify("No POIs defined",15,80,15,!0);break;case 84:f?a.Mj.current=a.ap([!a.C.j],!0,a):a.Ji.current=a.Sg([!a.C.F],!0,a);break;case 85:f?!a.mn&&(a.Ia=!a.Ia,a.h.M=a.Ia,a.C.da=a.Ia)&&(a.v=0,a.da=0):(a.g.ja||a.g.s)&&a.g.Cb&&a.bt(a);break;case 71:e?(a.ed=!a.ed,a.Fj.current=a.rA([a.ed],!0,a),a.C.notification.notify("Auto Grid Lines "+(a.ed?"On":"Off"),15,40,15,!0)):f?a.vk&&(a.ck.current=a.LC([!a.Le],!0,a),a.C.notification.notify("Generation display "+
(a.Le?"Relative":"Absolute"),15,40,15,!0)):(a.Yo([!a.Lg],!0,a),a.jb&&(a.jb.current=[a.Lg],a.C.m=!0));break;case 70:e?a.P&&(a.yb(!0,!0,F.Rp),a.C.notification.notify("Fit Selection",15,80,15,!0)):f?a.Xd.locked||(a.ia=!a.ia,a.Xd.current=a.cA([a.ia],!0,a),a.C.notification.notify("AutoFit "+(a.ia?"On":"Off"),15,40,15,!0)):a.Xf.locked||(a.yb(!0,!0,F.ig),a.C.notification.notify("Fit Pattern",15,80,15,!0),a.Ob||(a.ic=!0));break;case 79:e?f?a.TB(a):a.oB(a):a.je=f?2:1;break;case 37:f?a.gg(a.g.zoom,a.g.zoom):
a.gg(a.g.zoom,0);break;case 38:a.v?a.Wn(a,1):a.da?a.Un(a,1):f?a.gg(-a.g.zoom,a.g.zoom):a.gg(0,a.g.zoom);break;case 39:f?a.gg(-a.g.zoom,-a.g.zoom):a.gg(-a.g.zoom,0);break;case 40:a.v?a.an(a,1):a.da?a.Sn(a,1):f?a.gg(a.g.zoom,-a.g.zoom):a.gg(0,-a.g.zoom);break;case 77:e?(a.yb(!0,!0,F.Eu),a.C.notification.notify("Center Pattern",15,80,15,!0)):f?a.FK(a):!a.ga||a.ga.M||a.ga.locked||(a.ga.current=a.nf([!a.ga.current[0]],!0,a),a.C.m=!0);break;case 67:e?a.wn(a,f,g):0!==a.v?this.ek(a,F.ju):a.Na||!a.vd||a.vd.locked||
(f?(b=a.g.qb-1,0>b&&(b=a.ua||a.Qf?a.g.Mb:a.g.Mb-1)):(b=a.g.qb+1,a.ua||a.Qf?b>=a.g.Mb+1&&(b=0):b>=a.g.Mb&&(b=0)),a.yg(b,a.g.Re,a),a.g.la||a.me||a.C.notification.notify(a.to(a.g.qb)+" Theme",15,40,15,!0));break;case 72:f?(a.Oi.current=a.LB([!a.qd],!0,a),a.C.notification.notify("AutoFit History Mode "+(a.qd?"On":"Off"),15,40,15,!0)):(a.Vb.length?a.v=a.v?0:1:a.v?a.v=0:a.ka||(a.v=1),a.od.current=a.mf([0!==a.v],!0,a),a.C.m=!0);break;case 73:e&&f?d=!1:e?a.jA(a):f?a.Vi.current=a.OB([!a.Ha],!0,a):(a.v?this.ek(a,
F.mr):a.ka||a.xc(F.mr,a),a.od.current=a.mf([0!==a.v],!0,a),a.C.m=!0);break;case 27:a.yd?a.Vb.length?(a.Vb=[],a.da=0):a.na?a.nn(a):a.ae?a.Yc.current=a.oe([!1],!0,a):a.rb?a.Js(a):-1!==a.Ta?a.Ym(a,!0,!1):Wb():a.v?a.v=0:a.Vb.length?(a.Vb=[],a.da=0):a.na?a.nn(a):a.ae?a.Yc.current=a.oe([!1],!0,a):a.rb?a.Js(a):-1!==a.Ta?a.Ym(a,!0,!1):a.Ob&&(a.hc.current=a.Od(F.ue,!0,a));a.od.current=a.mf([0!==a.v],!0,a);a.C.m=!0;break;case 33:a.v?f?a.CE(a):a.Wn(a,a.Ba):a.da?a.Un(a,a.Ba):Ea.wb?(--a.Ua,0>a.Ua&&(a.Ua=U.Ce.length-
1),a.$h(U.Ce[a.Ua].pattern,!1)):a.hA(a);break;case 34:a.v?f?a.qJ(a):a.an(a,a.Ba):a.da?a.Sn(a,a.Ba):Ea.wb?(a.Ua+=1,a.Ua>=U.Ce.length&&(a.Ua=0),a.$h(U.Ce[a.Ua].pattern,!1)):a.fA(a);break;case 36:a.v?a.v=1:a.da?a.da=1:Ea.wb?a.vB(a):a.sG(a);break;case 35:a.v?a.v=a.fj-a.Ba:a.da?a.da=a.Vb.length-a.Ba:Ea.wb||a.lE(a);break;case 112:a.I||(a.hb=!a.hb,a.ra.current=a.ze(a.hb?F.el:F.Yh,!0,a),a.C.notification.notify((a.hb?"Draw":"Pan")+" Mode",15,40,15,!0));break;case 113:f?(a.lk.current=a.eu([!a.ei],!0,a),a.C.notification.notify("Smart Drawing "+
(a.ei?"On":"Off"),15,40,15,!0)):a.ra.current=a.ze(F.el,!0,a);break;case 114:f?a.Yb.current=a.Hl([!a.Yb.current[0],a.Yb.current[1],a.Yb.current[2]],!0,a):a.I||(a.ra.current=a.ze(F.el,!0,a),a.ae||(a.Yc.current=a.oe([!0],!0,a)));break;case 115:f?a.Yb.current=a.Hl([a.Yb.current[0],!a.Yb.current[1],a.Yb.current[2]],!0,a):a.ra.m[F.fl]||(a.ra.current=a.ze(F.fl,!0,a));break;case 116:f?a.Yb.current=a.Hl([a.Yb.current[0],a.Yb.current[1],!a.Yb.current[2]],!0,a):a.ra.current=a.ze(F.Yh,!0,a);break;case 117:a.Pi.locked||
(f?a.Sz(a):a.il(a));break;case 118:a.nh.locked||(a.nh.current=a.JB([!a.g.Db],!0,a),a.C.notification.notify("Fast Lookup "+(a.g.Db?"On":"Off"),15,40,15,!0));break;case 119:f?a.Rj.locked||(a.Rj.current=a.tD([!a.Ae],!0,a),a.C.notification.notify("Y Direction "+(a.Ae?"Up":"Down"),15,40,15,!0)):a.Um.locked||(a.Um.current=a.lD([!a.Ig],!0,a),a.C.notification.notify("State Numbers "+(a.Ig?"On":"Off"),15,40,15,!0));break;case 120:f?a.gk.locked||(a.gk.current=a.$C([!a.cf],!0,a),a.C.notification.notify("Safe Mode "+
(a.cf?"On":"Off"),15,40,15,!0)):U.jg&&(U.jg.F=!U.jg.F,U.jg.u(U.jg));break;case 45:a.jk=!0;break;case 122:d=!1;break;default:if(-1===b||116===b)d=!1}}return d}}}());
